(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Nd={exports:{}},_l={};var L_;function Ob(){if(L_)return _l;L_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return _l.Fragment=e,_l.jsx=i,_l.jsxs=i,_l}var j_;function Mb(){return j_||(j_=1,Nd.exports=Ob()),Nd.exports}var b=Mb(),Dd={exports:{}},Ae={};var P_;function Vb(){if(P_)return Ae;P_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),V=Symbol.iterator;function F(O){return O===null||typeof O!="object"?null:(O=V&&O[V]||O["@@iterator"],typeof O=="function"?O:null)}var ee={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ne=Object.assign,W={};function me(O,K,re){this.props=O,this.context=K,this.refs=W,this.updater=re||ee}me.prototype.isReactComponent={},me.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},me.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Te(){}Te.prototype=me.prototype;function pe(O,K,re){this.props=O,this.context=K,this.refs=W,this.updater=re||ee}var Je=pe.prototype=new Te;Je.constructor=pe,ne(Je,me.prototype),Je.isPureReactComponent=!0;var it=Array.isArray;function Ce(){}var I={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function x(O,K,re){var ae=re.ref;return{$$typeof:r,type:O,key:K,ref:ae!==void 0?ae:null,props:re}}function M(O,K){return x(O.type,K,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function U(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(re){return K[re]})}var R=/\/+/g;function lt(O,K){return typeof O=="object"&&O!==null&&O.key!=null?U(""+O.key):K.toString(36)}function bt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Ce,Ce):(O.status="pending",O.then(function(K){O.status==="pending"&&(O.status="fulfilled",O.value=K)},function(K){O.status==="pending"&&(O.status="rejected",O.reason=K)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function H(O,K,re,ae,X){var J=typeof O;(J==="undefined"||J==="boolean")&&(O=null);var ie=!1;if(O===null)ie=!0;else switch(J){case"bigint":case"string":case"number":ie=!0;break;case"object":switch(O.$$typeof){case r:case e:ie=!0;break;case T:return ie=O._init,H(ie(O._payload),K,re,ae,X)}}if(ie)return X=X(O),ie=ae===""?"."+lt(O,0):ae,it(X)?(re="",ie!=null&&(re=ie.replace(R,"$&/")+"/"),H(X,K,re,"",function(Oe){return Oe})):X!=null&&(N(X)&&(X=M(X,re+(X.key==null||O&&O.key===X.key?"":(""+X.key).replace(R,"$&/")+"/")+ie)),K.push(X)),1;ie=0;var he=ae===""?".":ae+":";if(it(O))for(var Ie=0;Ie<O.length;Ie++)ae=O[Ie],J=he+lt(ae,Ie),ie+=H(ae,K,re,J,X);else if(Ie=F(O),typeof Ie=="function")for(O=Ie.call(O),Ie=0;!(ae=O.next()).done;)ae=ae.value,J=he+lt(ae,Ie++),ie+=H(ae,K,re,J,X);else if(J==="object"){if(typeof O.then=="function")return H(bt(O),K,re,ae,X);throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return ie}function se(O,K,re){if(O==null)return O;var ae=[],X=0;return H(O,ae,"","",function(J){return K.call(re,J,X++)}),ae}function fe(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(re){(O._status===0||O._status===-1)&&(O._status=1,O._result=re)},function(re){(O._status===0||O._status===-1)&&(O._status=2,O._result=re)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var Pe=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ke={map:se,forEach:function(O,K,re){se(O,function(){K.apply(this,arguments)},re)},count:function(O){var K=0;return se(O,function(){K++}),K},toArray:function(O){return se(O,function(K){return K})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Ae.Activity=w,Ae.Children=Ke,Ae.Component=me,Ae.Fragment=i,Ae.Profiler=l,Ae.PureComponent=pe,Ae.StrictMode=a,Ae.Suspense=_,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},Ae.cache=function(O){return function(){return O.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(O,K,re){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ae=ne({},O.props),X=O.key;if(K!=null)for(J in K.key!==void 0&&(X=""+K.key),K)!S.call(K,J)||J==="key"||J==="__self"||J==="__source"||J==="ref"&&K.ref===void 0||(ae[J]=K[J]);var J=arguments.length-2;if(J===1)ae.children=re;else if(1<J){for(var ie=Array(J),he=0;he<J;he++)ie[he]=arguments[he+2];ae.children=ie}return x(O.type,X,ae)},Ae.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Ae.createElement=function(O,K,re){var ae,X={},J=null;if(K!=null)for(ae in K.key!==void 0&&(J=""+K.key),K)S.call(K,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(X[ae]=K[ae]);var ie=arguments.length-2;if(ie===1)X.children=re;else if(1<ie){for(var he=Array(ie),Ie=0;Ie<ie;Ie++)he[Ie]=arguments[Ie+2];X.children=he}if(O&&O.defaultProps)for(ae in ie=O.defaultProps,ie)X[ae]===void 0&&(X[ae]=ie[ae]);return x(O,J,X)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(O){return{$$typeof:g,render:O}},Ae.isValidElement=N,Ae.lazy=function(O){return{$$typeof:T,_payload:{_status:-1,_result:O},_init:fe}},Ae.memo=function(O,K){return{$$typeof:y,type:O,compare:K===void 0?null:K}},Ae.startTransition=function(O){var K=I.T,re={};I.T=re;try{var ae=O(),X=I.S;X!==null&&X(re,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(Ce,Pe)}catch(J){Pe(J)}finally{K!==null&&re.types!==null&&(K.types=re.types),I.T=K}},Ae.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ae.use=function(O){return I.H.use(O)},Ae.useActionState=function(O,K,re){return I.H.useActionState(O,K,re)},Ae.useCallback=function(O,K){return I.H.useCallback(O,K)},Ae.useContext=function(O){return I.H.useContext(O)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(O,K){return I.H.useDeferredValue(O,K)},Ae.useEffect=function(O,K){return I.H.useEffect(O,K)},Ae.useEffectEvent=function(O){return I.H.useEffectEvent(O)},Ae.useId=function(){return I.H.useId()},Ae.useImperativeHandle=function(O,K,re){return I.H.useImperativeHandle(O,K,re)},Ae.useInsertionEffect=function(O,K){return I.H.useInsertionEffect(O,K)},Ae.useLayoutEffect=function(O,K){return I.H.useLayoutEffect(O,K)},Ae.useMemo=function(O,K){return I.H.useMemo(O,K)},Ae.useOptimistic=function(O,K){return I.H.useOptimistic(O,K)},Ae.useReducer=function(O,K,re){return I.H.useReducer(O,K,re)},Ae.useRef=function(O){return I.H.useRef(O)},Ae.useState=function(O){return I.H.useState(O)},Ae.useSyncExternalStore=function(O,K,re){return I.H.useSyncExternalStore(O,K,re)},Ae.useTransition=function(){return I.H.useTransition()},Ae.version="19.2.3",Ae}var z_;function wm(){return z_||(z_=1,Dd.exports=Vb()),Dd.exports}var yt=wm(),Od={exports:{}},vl={},Md={exports:{}},Vd={};var B_;function kb(){return B_||(B_=1,(function(r){function e(H,se){var fe=H.length;H.push(se);e:for(;0<fe;){var Pe=fe-1>>>1,Ke=H[Pe];if(0<l(Ke,se))H[Pe]=se,H[fe]=Ke,fe=Pe;else break e}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var se=H[0],fe=H.pop();if(fe!==se){H[0]=fe;e:for(var Pe=0,Ke=H.length,O=Ke>>>1;Pe<O;){var K=2*(Pe+1)-1,re=H[K],ae=K+1,X=H[ae];if(0>l(re,fe))ae<Ke&&0>l(X,re)?(H[Pe]=X,H[ae]=fe,Pe=ae):(H[Pe]=re,H[K]=fe,Pe=K);else if(ae<Ke&&0>l(X,fe))H[Pe]=X,H[ae]=fe,Pe=ae;else break e}}return se}function l(H,se){var fe=H.sortIndex-se.sortIndex;return fe!==0?fe:H.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var _=[],y=[],T=1,w=null,V=3,F=!1,ee=!1,ne=!1,W=!1,me=typeof setTimeout=="function"?setTimeout:null,Te=typeof clearTimeout=="function"?clearTimeout:null,pe=typeof setImmediate<"u"?setImmediate:null;function Je(H){for(var se=i(y);se!==null;){if(se.callback===null)a(y);else if(se.startTime<=H)a(y),se.sortIndex=se.expirationTime,e(_,se);else break;se=i(y)}}function it(H){if(ne=!1,Je(H),!ee)if(i(_)!==null)ee=!0,Ce||(Ce=!0,U());else{var se=i(y);se!==null&&bt(it,se.startTime-H)}}var Ce=!1,I=-1,S=5,x=-1;function M(){return W?!0:!(r.unstable_now()-x<S)}function N(){if(W=!1,Ce){var H=r.unstable_now();x=H;var se=!0;try{e:{ee=!1,ne&&(ne=!1,Te(I),I=-1),F=!0;var fe=V;try{t:{for(Je(H),w=i(_);w!==null&&!(w.expirationTime>H&&M());){var Pe=w.callback;if(typeof Pe=="function"){w.callback=null,V=w.priorityLevel;var Ke=Pe(w.expirationTime<=H);if(H=r.unstable_now(),typeof Ke=="function"){w.callback=Ke,Je(H),se=!0;break t}w===i(_)&&a(_),Je(H)}else a(_);w=i(_)}if(w!==null)se=!0;else{var O=i(y);O!==null&&bt(it,O.startTime-H),se=!1}}break e}finally{w=null,V=fe,F=!1}se=void 0}}finally{se?U():Ce=!1}}}var U;if(typeof pe=="function")U=function(){pe(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,lt=R.port2;R.port1.onmessage=N,U=function(){lt.postMessage(null)}}else U=function(){me(N,0)};function bt(H,se){I=me(function(){H(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return V},r.unstable_next=function(H){switch(V){case 1:case 2:case 3:var se=3;break;default:se=V}var fe=V;V=se;try{return H()}finally{V=fe}},r.unstable_requestPaint=function(){W=!0},r.unstable_runWithPriority=function(H,se){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var fe=V;V=H;try{return se()}finally{V=fe}},r.unstable_scheduleCallback=function(H,se,fe){var Pe=r.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Pe+fe:Pe):fe=Pe,H){case 1:var Ke=-1;break;case 2:Ke=250;break;case 5:Ke=1073741823;break;case 4:Ke=1e4;break;default:Ke=5e3}return Ke=fe+Ke,H={id:T++,callback:se,priorityLevel:H,startTime:fe,expirationTime:Ke,sortIndex:-1},fe>Pe?(H.sortIndex=fe,e(y,H),i(_)===null&&H===i(y)&&(ne?(Te(I),I=-1):ne=!0,bt(it,fe-Pe))):(H.sortIndex=Ke,e(_,H),ee||F||(ee=!0,Ce||(Ce=!0,U()))),H},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(H){var se=V;return function(){var fe=V;V=se;try{return H.apply(this,arguments)}finally{V=fe}}}})(Vd)),Vd}var q_;function Ub(){return q_||(q_=1,Md.exports=kb()),Md.exports}var kd={exports:{}},sn={};var H_;function Lb(){if(H_)return sn;H_=1;var r=wm();function e(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,T){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:_,containerInfo:y,implementation:T}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,sn.createPortal=function(_,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(_,y,null,T)},sn.flushSync=function(_){var y=d.T,T=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=y,a.p=T,a.d.f()}},sn.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(_,y))},sn.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},sn.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var T=y.as,w=g(T,y.crossOrigin),V=typeof y.integrity=="string"?y.integrity:void 0,F=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?a.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:V,fetchPriority:F}):T==="script"&&a.d.X(_,{crossOrigin:w,integrity:V,fetchPriority:F,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},sn.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=g(y.as,y.crossOrigin);a.d.M(_,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(_)},sn.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,w=g(T,y.crossOrigin);a.d.L(_,T,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},sn.preloadModule=function(_,y){if(typeof _=="string")if(y){var T=g(y.as,y.crossOrigin);a.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(_)},sn.requestFormReset=function(_){a.d.r(_)},sn.unstable_batchedUpdates=function(_,y){return _(y)},sn.useFormState=function(_,y,T){return d.H.useFormState(_,y,T)},sn.useFormStatus=function(){return d.H.useHostTransitionStatus()},sn.version="19.2.3",sn}var G_;function jb(){if(G_)return kd.exports;G_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),kd.exports=Lb(),kd.exports}var F_;function Pb(){if(F_)return vl;F_=1;var r=Ub(),e=wm(),i=jb();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(c(t)!==t)throw Error(a(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return _(h),t;if(f===o)return _(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var p=!1,E=h.child;E;){if(E===s){p=!0,s=h,o=f;break}if(E===o){p=!0,o=h,s=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===s){p=!0,s=f,o=h;break}if(E===o){p=!0,o=f,s=h;break}E=E.sibling}if(!p)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function T(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=T(t),n!==null)return n;t=t.sibling}return null}var w=Object.assign,V=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),ee=Symbol.for("react.portal"),ne=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),me=Symbol.for("react.profiler"),Te=Symbol.for("react.consumer"),pe=Symbol.for("react.context"),Je=Symbol.for("react.forward_ref"),it=Symbol.for("react.suspense"),Ce=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function lt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ne:return"Fragment";case me:return"Profiler";case W:return"StrictMode";case it:return"Suspense";case Ce:return"SuspenseList";case x:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case ee:return"Portal";case pe:return t.displayName||"Context";case Te:return(t._context.displayName||"Context")+".Consumer";case Je:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:lt(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return lt(t(n))}catch{}}return null}var bt=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Pe=[],Ke=-1;function O(t){return{current:t}}function K(t){0>Ke||(t.current=Pe[Ke],Pe[Ke]=null,Ke--)}function re(t,n){Ke++,Pe[Ke]=t.current,t.current=n}var ae=O(null),X=O(null),J=O(null),ie=O(null);function he(t,n){switch(re(J,n),re(X,t),re(ae,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?a_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=a_(n),t=o_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(ae),re(ae,t)}function Ie(){K(ae),K(X),K(J)}function Oe(t){t.memoizedState!==null&&re(ie,t);var n=ae.current,s=o_(n,t.type);n!==s&&(re(X,t),re(ae,s))}function Ge(t){X.current===t&&(K(ae),K(X)),ie.current===t&&(K(ie),ml._currentValue=fe)}var ye,Be;function Ye(t){if(ye===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);ye=n&&n[1]||"",Be=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ye+t+Be}var He=!1;function Xe(t,n){if(!t||He)return"";He=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var z=q}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(q){z=q}t.call(Y.prototype)}}else{try{throw Error()}catch(q){z=q}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var C=p.split(`
`),P=E.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===P.length)for(o=C.length-1,h=P.length-1;1<=o&&0<=h&&C[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==P[h]){var G=`
`+C[o].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=o&&0<=h);break}}}finally{He=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Ye(s):""}function nn(t,n){switch(t.tag){case 26:case 27:case 5:return Ye(t.type);case 16:return Ye("Lazy");case 13:return t.child!==n&&n!==null?Ye("Suspense Fallback"):Ye("Suspense");case 19:return Ye("SuspenseList");case 0:case 15:return Xe(t.type,!1);case 11:return Xe(t.type.render,!1);case 1:return Xe(t.type,!0);case 31:return Ye("Activity");default:return""}}function gr(t){try{var n="",s=null;do n+=nn(t,s),s=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Me=Object.prototype.hasOwnProperty,ut=r.unstable_scheduleCallback,Dn=r.unstable_cancelCallback,yr=r.unstable_shouldYield,na=r.unstable_requestPaint,qt=r.unstable_now,qi=r.unstable_getCurrentPriorityLevel,yo=r.unstable_ImmediatePriority,_o=r.unstable_UserBlockingPriority,_s=r.unstable_NormalPriority,Oh=r.unstable_LowPriority,Jl=r.unstable_IdlePriority,Wl=r.log,eu=r.unstable_setDisableYieldValue,$n=null,Kt=null;function On(t){if(typeof Wl=="function"&&eu(t),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode($n,t)}catch{}}var At=Math.clz32?Math.clz32:nu,tu=Math.log,ia=Math.LN2;function nu(t){return t>>>=0,t===0?32:31-(tu(t)/ia|0)|0}var hi=256,_r=262144,Ct=4194304;function fi(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function di(t,n,s){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=fi(o):(p&=E,p!==0?h=fi(p):s||(s=E&~t,s!==0&&(h=fi(s))))):(E=o&~f,E!==0?h=fi(E):p!==0?h=fi(p):s||(s=o&~t,s!==0&&(h=fi(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Zn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Mh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iu(){var t=Ct;return Ct<<=1,(Ct&62914560)===0&&(Ct=4194304),t}function mi(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function vr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Vh(t,n,s,o,h,f){var p=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var E=t.entanglements,C=t.expirationTimes,P=t.hiddenUpdates;for(s=p&~s;0<s;){var G=31-At(s),Y=1<<G;E[G]=0,C[G]=-1;var z=P[G];if(z!==null)for(P[G]=null,G=0;G<z.length;G++){var q=z[G];q!==null&&(q.lane&=-536870913)}s&=~Y}o!==0&&Er(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function Er(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-At(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|s&261930}function vo(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var o=31-At(s),h=1<<o;h&n|t[o]&n&&(t[o]|=n),s&=~h}}function Eo(t,n){var s=n&-n;return s=(s&42)!==0?1:Tr(s),(s&(t.suspendedLanes|n))!==0?0:s}function Tr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Hi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function su(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:N_(t.type))}function Jn(t,n){var s=se.p;try{return se.p=t,n()}finally{se.p=s}}var Wn=Math.random().toString(36).slice(2),It="__reactFiber$"+Wn,Ht="__reactProps$"+Wn,pi="__reactContainer$"+Wn,sa="__reactEvents$"+Wn,kh="__reactListeners$"+Wn,ru="__reactHandles$"+Wn,au="__reactResources$"+Wn,gi="__reactMarker$"+Wn;function ra(t){delete t[It],delete t[Ht],delete t[sa],delete t[kh],delete t[ru]}function yi(t){var n=t[It];if(n)return n;for(var s=t.parentNode;s;){if(n=s[pi]||s[It]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=m_(t);t!==null;){if(s=t[It])return s;t=m_(t)}return n}t=s,s=t.parentNode}return null}function Mn(t){if(t=t[It]||t[pi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Tn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function _i(t){var n=t[au];return n||(n=t[au]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Nt(t){t[gi]=!0}var To=new Set,bo={};function vi(t,n){Ei(t,n),Ei(t+"Capture",n)}function Ei(t,n){for(bo[t]=n,t=0;t<n.length;t++)To.add(n[t])}var Ao=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),So={},wo={};function ou(t){return Me.call(wo,t)?!0:Me.call(So,t)?!1:Ao.test(t)?wo[t]=!0:(So[t]=!0,!1)}function aa(t,n,s){if(ou(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function bn(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function Dt(t,n,s,o){if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+o)}}function Gt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function vs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ro(t,n,s){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){s=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function et(t){if(!t._valueTracker){var n=vs(t)?"checked":"value";t._valueTracker=Ro(t,n,""+t[n])}}function br(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return t&&(o=vs(t)?t.checked?"true":"false":t.value),t=o,t!==s?(n.setValue(t),!0):!1}function Ti(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ar=/[\n"\\]/g;function fn(t){return t.replace(Ar,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function oa(t,n,s,o,h,f,p,E){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Gt(n)):t.value!==""+Gt(n)&&(t.value=""+Gt(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?xo(t,p,Gt(n)):s!=null?xo(t,p,Gt(s)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Gt(E):t.removeAttribute("name")}function lu(t,n,s,o,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){et(t);return}s=s!=null?""+Gt(s):"",n=n!=null?""+Gt(n):s,E||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),et(t)}function xo(t,n,s){n==="number"&&Ti(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Es(t,n,s,o){if(t=t.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=n.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&o&&(t[s].defaultSelected=!0)}else{for(s=""+Gt(s),n=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function uu(t,n,s){if(n!=null&&(n=""+Gt(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+Gt(s):""}function Ts(t,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(bt(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Gt(n),t.defaultValue=s,o=t.textContent,o===s&&o!==""&&o!==null&&(t.value=o),et(t)}function dn(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var cu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Co(t,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,s):typeof s!="number"||s===0||cu.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function Io(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&Co(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Co(t,f,n[f])}function la(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ua(t){return bs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ei(){}var No=null;function Vn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var As=null,bi=null;function Sr(t){var n=Mn(t);if(n&&(t=n.stateNode)){var s=t[Ht]||null;e:switch(t=n.stateNode,n.type){case"input":if(oa(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+fn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==t&&o.form===t.form){var h=o[Ht]||null;if(!h)throw Error(a(90));oa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===t.form&&br(o)}break e;case"textarea":uu(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&Es(t,!!s.multiple,n,!1)}}}var ca=!1;function Ss(t,n,s){if(ca)return t(n,s);ca=!0;try{var o=t(n);return o}finally{if(ca=!1,(As!==null||bi!==null)&&(sc(),As&&(n=As,t=bi,bi=As=null,Sr(n),t)))for(n=0;n<t.length;n++)Sr(t[n])}}function ti(t,n){var s=t.stateNode;if(s===null)return null;var o=s[Ht]||null;if(o===null)return null;s=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wr=!1;if(kn)try{var st={};Object.defineProperty(st,"passive",{get:function(){wr=!0}}),window.addEventListener("test",st,st),window.removeEventListener("test",st,st)}catch{wr=!1}var Ai=null,Do=null,Rr=null;function Oo(){if(Rr)return Rr;var t,n=Do,s=n.length,o,h="value"in Ai?Ai.value:Ai.textContent,f=h.length;for(t=0;t<s&&n[t]===h[t];t++);var p=s-t;for(o=1;o<=p&&n[s-o]===h[f-o];o++);return Rr=h.slice(t,1<o?1-o:void 0)}function xr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Gi(){return!0}function ni(){return!1}function Yt(t){function n(s,o,h,f,p){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(s=t[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Gi:ni,this.isPropagationStopped=ni,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Gi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Gi)},persist:function(){},isPersistent:Gi}),n}var Fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Si=Yt(Fi),ws=w({},Fi,{view:0,detail:0}),Mo=Yt(ws),Rs,ha,wi,fa=w({},ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wi&&(wi&&t.type==="mousemove"?(Rs=t.screenX-wi.screenX,ha=t.screenY-wi.screenY):ha=Rs=0,wi=t),Rs)},movementY:function(t){return"movementY"in t?t.movementY:ha}}),Vo=Yt(fa),Cr=w({},fa,{dataTransfer:0}),fu=Yt(Cr),du=w({},ws,{relatedTarget:0}),Ir=Yt(du),ko=w({},Fi,{animationName:0,elapsedTime:0,pseudoElement:0}),mu=Yt(ko),da=w({},Fi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),pu=Yt(da),gu=w({},Fi,{data:0}),Ri=Yt(gu),yu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_u={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=vu[t])?!!n[t]:!1}function xs(){return Eu}var un=w({},ws,{key:function(t){if(t.key){var n=yu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=xr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_u[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xs,charCode:function(t){return t.type==="keypress"?xr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Tu=Yt(un),bu=w({},fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qi=Yt(bu),u=w({},ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xs}),m=Yt(u),v=w({},Fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Yt(v),L=w({},fa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Yt(L),te=w({},Fi,{newState:0,oldState:0}),we=Yt(te),St=[9,13,27,32],$e=kn&&"CompositionEvent"in window,pt=null;kn&&"documentMode"in document&&(pt=document.documentMode);var Un=kn&&"TextEvent"in window&&!pt,xi=kn&&(!$e||pt&&8<pt&&11>=pt),ii=" ",si=!1;function Nr(t,n){switch(t){case"keyup":return St.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ma(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var pa=!1;function n1(t,n){switch(t){case"compositionend":return ma(n);case"keypress":return n.which!==32?null:(si=!0,ii);case"textInput":return t=n.data,t===ii&&si?null:t;default:return null}}function i1(t,n){if(pa)return t==="compositionend"||!$e&&Nr(t,n)?(t=Oo(),Rr=Do=Ai=null,pa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return xi&&n.locale!=="ko"?null:n.data;default:return null}}var s1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!s1[t.type]:n==="textarea"}function _p(t,n,s,o){As?bi?bi.push(o):bi=[o]:As=o,n=hc(n,"onChange"),0<n.length&&(s=new Si("onChange","change",null,s,o),t.push({event:s,listeners:n}))}var Uo=null,Lo=null;function r1(t){e_(t,0)}function Au(t){var n=Tn(t);if(br(n))return t}function vp(t,n){if(t==="change")return n}var Ep=!1;if(kn){var Uh;if(kn){var Lh="oninput"in document;if(!Lh){var Tp=document.createElement("div");Tp.setAttribute("oninput","return;"),Lh=typeof Tp.oninput=="function"}Uh=Lh}else Uh=!1;Ep=Uh&&(!document.documentMode||9<document.documentMode)}function bp(){Uo&&(Uo.detachEvent("onpropertychange",Ap),Lo=Uo=null)}function Ap(t){if(t.propertyName==="value"&&Au(Lo)){var n=[];_p(n,Lo,t,Vn(t)),Ss(r1,n)}}function a1(t,n,s){t==="focusin"?(bp(),Uo=n,Lo=s,Uo.attachEvent("onpropertychange",Ap)):t==="focusout"&&bp()}function o1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Au(Lo)}function l1(t,n){if(t==="click")return Au(n)}function u1(t,n){if(t==="input"||t==="change")return Au(n)}function c1(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var An=typeof Object.is=="function"?Object.is:c1;function jo(t,n){if(An(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!Me.call(n,h)||!An(t[h],n[h]))return!1}return!0}function Sp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wp(t,n){var s=Sp(t);t=0;for(var o;s;){if(s.nodeType===3){if(o=t+s.textContent.length,t<=n&&o>=n)return{node:s,offset:n-t};t=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Sp(s)}}function Rp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Rp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function xp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ti(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=Ti(t.document)}return n}function jh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var h1=kn&&"documentMode"in document&&11>=document.documentMode,ga=null,Ph=null,Po=null,zh=!1;function Cp(t,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;zh||ga==null||ga!==Ti(o)||(o=ga,"selectionStart"in o&&jh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Po&&jo(Po,o)||(Po=o,o=hc(Ph,"onSelect"),0<o.length&&(n=new Si("onSelect","select",null,n,s),t.push({event:n,listeners:o}),n.target=ga)))}function Dr(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var ya={animationend:Dr("Animation","AnimationEnd"),animationiteration:Dr("Animation","AnimationIteration"),animationstart:Dr("Animation","AnimationStart"),transitionrun:Dr("Transition","TransitionRun"),transitionstart:Dr("Transition","TransitionStart"),transitioncancel:Dr("Transition","TransitionCancel"),transitionend:Dr("Transition","TransitionEnd")},Bh={},Ip={};kn&&(Ip=document.createElement("div").style,"AnimationEvent"in window||(delete ya.animationend.animation,delete ya.animationiteration.animation,delete ya.animationstart.animation),"TransitionEvent"in window||delete ya.transitionend.transition);function Or(t){if(Bh[t])return Bh[t];if(!ya[t])return t;var n=ya[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in Ip)return Bh[t]=n[s];return t}var Np=Or("animationend"),Dp=Or("animationiteration"),Op=Or("animationstart"),f1=Or("transitionrun"),d1=Or("transitionstart"),m1=Or("transitioncancel"),Mp=Or("transitionend"),Vp=new Map,qh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qh.push("scrollEnd");function ri(t,n){Vp.set(t,n),vi(n,[t])}var Su=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Ln=[],_a=0,Hh=0;function wu(){for(var t=_a,n=Hh=_a=0;n<t;){var s=Ln[n];Ln[n++]=null;var o=Ln[n];Ln[n++]=null;var h=Ln[n];Ln[n++]=null;var f=Ln[n];if(Ln[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&kp(s,h,f)}}function Ru(t,n,s,o){Ln[_a++]=t,Ln[_a++]=n,Ln[_a++]=s,Ln[_a++]=o,Hh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Gh(t,n,s,o){return Ru(t,n,s,o),xu(t)}function Mr(t,n){return Ru(t,null,null,n),xu(t)}function kp(t,n,s){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=t.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-At(s),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function xu(t){if(50<ol)throw ol=0,ed=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var va={};function p1(t,n,s,o){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(t,n,s,o){return new p1(t,n,s,o)}function Fh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ki(t,n){var s=t.alternate;return s===null?(s=Sn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Up(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Cu(t,n,s,o,h,f){var p=0;if(o=t,typeof t=="function")Fh(t)&&(p=1);else if(typeof t=="string")p=Eb(t,s,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case x:return t=Sn(31,s,n,h),t.elementType=x,t.lanes=f,t;case ne:return Vr(s.children,h,f,n);case W:p=8,h|=24;break;case me:return t=Sn(12,s,n,h|2),t.elementType=me,t.lanes=f,t;case it:return t=Sn(13,s,n,h),t.elementType=it,t.lanes=f,t;case Ce:return t=Sn(19,s,n,h),t.elementType=Ce,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case pe:p=10;break e;case Te:p=9;break e;case Je:p=11;break e;case I:p=14;break e;case S:p=16,o=null;break e}p=29,s=Error(a(130,t===null?"null":typeof t,"")),o=null}return n=Sn(p,s,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function Vr(t,n,s,o){return t=Sn(7,t,o,n),t.lanes=s,t}function Qh(t,n,s){return t=Sn(6,t,null,n),t.lanes=s,t}function Lp(t){var n=Sn(18,null,null,0);return n.stateNode=t,n}function Kh(t,n,s){return n=Sn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var jp=new WeakMap;function jn(t,n){if(typeof t=="object"&&t!==null){var s=jp.get(t);return s!==void 0?s:(n={value:t,source:n,stack:gr(n)},jp.set(t,n),n)}return{value:t,source:n,stack:gr(n)}}var Ea=[],Ta=0,Iu=null,zo=0,Pn=[],zn=0,Cs=null,Ci=1,Ii="";function Yi(t,n){Ea[Ta++]=zo,Ea[Ta++]=Iu,Iu=t,zo=n}function Pp(t,n,s){Pn[zn++]=Ci,Pn[zn++]=Ii,Pn[zn++]=Cs,Cs=t;var o=Ci;t=Ii;var h=32-At(o)-1;o&=~(1<<h),s+=1;var f=32-At(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,Ci=1<<32-At(n)+h|s<<h|o,Ii=f+t}else Ci=1<<f|s<<h|o,Ii=t}function Yh(t){t.return!==null&&(Yi(t,1),Pp(t,1,0))}function Xh(t){for(;t===Iu;)Iu=Ea[--Ta],Ea[Ta]=null,zo=Ea[--Ta],Ea[Ta]=null;for(;t===Cs;)Cs=Pn[--zn],Pn[zn]=null,Ii=Pn[--zn],Pn[zn]=null,Ci=Pn[--zn],Pn[zn]=null}function zp(t,n){Pn[zn++]=Ci,Pn[zn++]=Ii,Pn[zn++]=Cs,Ci=n.id,Ii=n.overflow,Cs=t}var Xt=null,ft=null,ze=!1,Is=null,Bn=!1,$h=Error(a(519));function Ns(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bo(jn(n,t)),$h}function Bp(t){var n=t.stateNode,s=t.type,o=t.memoizedProps;switch(n[It]=t,n[Ht]=o,s){case"dialog":De("cancel",n),De("close",n);break;case"iframe":case"object":case"embed":De("load",n);break;case"video":case"audio":for(s=0;s<ul.length;s++)De(ul[s],n);break;case"source":De("error",n);break;case"img":case"image":case"link":De("error",n),De("load",n);break;case"details":De("toggle",n);break;case"input":De("invalid",n),lu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":De("invalid",n);break;case"textarea":De("invalid",n),Ts(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||s_(n.textContent,s)?(o.popover!=null&&(De("beforetoggle",n),De("toggle",n)),o.onScroll!=null&&De("scroll",n),o.onScrollEnd!=null&&De("scrollend",n),o.onClick!=null&&(n.onclick=ei),n=!0):n=!1,n||Ns(t,!0)}function qp(t){for(Xt=t.return;Xt;)switch(Xt.tag){case 5:case 31:case 13:Bn=!1;return;case 27:case 3:Bn=!0;return;default:Xt=Xt.return}}function ba(t){if(t!==Xt)return!1;if(!ze)return qp(t),ze=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||pd(t.type,t.memoizedProps)),s=!s),s&&ft&&Ns(t),qp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ft=d_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ft=d_(t)}else n===27?(n=ft,Gs(t.type)?(t=Ed,Ed=null,ft=t):ft=n):ft=Xt?Hn(t.stateNode.nextSibling):null;return!0}function kr(){ft=Xt=null,ze=!1}function Zh(){var t=Is;return t!==null&&(yn===null?yn=t:yn.push.apply(yn,t),Is=null),t}function Bo(t){Is===null?Is=[t]:Is.push(t)}var Jh=O(null),Ur=null,Xi=null;function Ds(t,n,s){re(Jh,n._currentValue),n._currentValue=s}function $i(t){t._currentValue=Jh.current,K(Jh)}function Wh(t,n,s){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===s)break;t=t.return}}function ef(t,n,s,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Wh(f.return,s,t),o||(p=null);break e}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=s,f=p.alternate,f!==null&&(f.lanes|=s),Wh(p,s,t),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Aa(t,n,s,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=h.type;An(h.pendingProps.value,p.value)||(t!==null?t.push(E):t=[E])}}else if(h===ie.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(ml):t=[ml])}h=h.return}t!==null&&ef(n,t,s,o),n.flags|=262144}function Nu(t){for(t=t.firstContext;t!==null;){if(!An(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Lr(t){Ur=t,Xi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function $t(t){return Hp(Ur,t)}function Du(t,n){return Ur===null&&Lr(t),Hp(t,n)}function Hp(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Xi===null){if(t===null)throw Error(a(308));Xi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Xi=Xi.next=n;return s}var g1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},y1=r.unstable_scheduleCallback,_1=r.unstable_NormalPriority,Ot={$$typeof:pe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tf(){return{controller:new g1,data:new Map,refCount:0}}function qo(t){t.refCount--,t.refCount===0&&y1(_1,function(){t.controller.abort()})}var Ho=null,nf=0,Sa=0,wa=null;function v1(t,n){if(Ho===null){var s=Ho=[];nf=0,Sa=ad(),wa={status:"pending",value:void 0,then:function(o){s.push(o)}}}return nf++,n.then(Gp,Gp),n}function Gp(){if(--nf===0&&Ho!==null){wa!==null&&(wa.status="fulfilled");var t=Ho;Ho=null,Sa=0,wa=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function E1(t,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Fp=H.S;H.S=function(t,n){Cy=qt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&v1(t,n),Fp!==null&&Fp(t,n)};var jr=O(null);function sf(){var t=jr.current;return t!==null?t:ct.pooledCache}function Ou(t,n){n===null?re(jr,jr.current):re(jr,n.pool)}function Qp(){var t=sf();return t===null?null:{parent:Ot._currentValue,pool:t}}var Ra=Error(a(460)),rf=Error(a(474)),Mu=Error(a(542)),Vu={then:function(){}};function Kp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Yp(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(ei,ei),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,$p(t),t;default:if(typeof n.status=="string")n.then(ei,ei);else{if(t=ct,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,$p(t),t}throw zr=n,Ra}}function Pr(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(zr=s,Ra):s}}var zr=null;function Xp(){if(zr===null)throw Error(a(459));var t=zr;return zr=null,t}function $p(t){if(t===Ra||t===Mu)throw Error(a(483))}var xa=null,Go=0;function ku(t){var n=Go;return Go+=1,xa===null&&(xa=[]),Yp(xa,t,n)}function Fo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Uu(t,n){throw n.$$typeof===V?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Zp(t){function n(k,D){if(t){var j=k.deletions;j===null?(k.deletions=[D],k.flags|=16):j.push(D)}}function s(k,D){if(!t)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function o(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=Ki(k,D),k.index=0,k.sibling=null,k}function f(k,D,j){return k.index=j,t?(j=k.alternate,j!==null?(j=j.index,j<D?(k.flags|=67108866,D):j):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function p(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function E(k,D,j,Q){return D===null||D.tag!==6?(D=Qh(j,k.mode,Q),D.return=k,D):(D=h(D,j),D.return=k,D)}function C(k,D,j,Q){var de=j.type;return de===ne?G(k,D,j.props.children,Q,j.key):D!==null&&(D.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===S&&Pr(de)===D.type)?(D=h(D,j.props),Fo(D,j),D.return=k,D):(D=Cu(j.type,j.key,j.props,null,k.mode,Q),Fo(D,j),D.return=k,D)}function P(k,D,j,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==j.containerInfo||D.stateNode.implementation!==j.implementation?(D=Kh(j,k.mode,Q),D.return=k,D):(D=h(D,j.children||[]),D.return=k,D)}function G(k,D,j,Q,de){return D===null||D.tag!==7?(D=Vr(j,k.mode,Q,de),D.return=k,D):(D=h(D,j),D.return=k,D)}function Y(k,D,j){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Qh(""+D,k.mode,j),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case F:return j=Cu(D.type,D.key,D.props,null,k.mode,j),Fo(j,D),j.return=k,j;case ee:return D=Kh(D,k.mode,j),D.return=k,D;case S:return D=Pr(D),Y(k,D,j)}if(bt(D)||U(D))return D=Vr(D,k.mode,j,null),D.return=k,D;if(typeof D.then=="function")return Y(k,ku(D),j);if(D.$$typeof===pe)return Y(k,Du(k,D),j);Uu(k,D)}return null}function z(k,D,j,Q){var de=D!==null?D.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return de!==null?null:E(k,D,""+j,Q);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case F:return j.key===de?C(k,D,j,Q):null;case ee:return j.key===de?P(k,D,j,Q):null;case S:return j=Pr(j),z(k,D,j,Q)}if(bt(j)||U(j))return de!==null?null:G(k,D,j,Q,null);if(typeof j.then=="function")return z(k,D,ku(j),Q);if(j.$$typeof===pe)return z(k,D,Du(k,j),Q);Uu(k,j)}return null}function q(k,D,j,Q,de){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return k=k.get(j)||null,E(D,k,""+Q,de);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case F:return k=k.get(Q.key===null?j:Q.key)||null,C(D,k,Q,de);case ee:return k=k.get(Q.key===null?j:Q.key)||null,P(D,k,Q,de);case S:return Q=Pr(Q),q(k,D,j,Q,de)}if(bt(Q)||U(Q))return k=k.get(j)||null,G(D,k,Q,de,null);if(typeof Q.then=="function")return q(k,D,j,ku(Q),de);if(Q.$$typeof===pe)return q(k,D,j,Du(D,Q),de);Uu(D,Q)}return null}function le(k,D,j,Q){for(var de=null,Fe=null,ue=D,xe=D=0,ke=null;ue!==null&&xe<j.length;xe++){ue.index>xe?(ke=ue,ue=null):ke=ue.sibling;var Qe=z(k,ue,j[xe],Q);if(Qe===null){ue===null&&(ue=ke);break}t&&ue&&Qe.alternate===null&&n(k,ue),D=f(Qe,D,xe),Fe===null?de=Qe:Fe.sibling=Qe,Fe=Qe,ue=ke}if(xe===j.length)return s(k,ue),ze&&Yi(k,xe),de;if(ue===null){for(;xe<j.length;xe++)ue=Y(k,j[xe],Q),ue!==null&&(D=f(ue,D,xe),Fe===null?de=ue:Fe.sibling=ue,Fe=ue);return ze&&Yi(k,xe),de}for(ue=o(ue);xe<j.length;xe++)ke=q(ue,k,xe,j[xe],Q),ke!==null&&(t&&ke.alternate!==null&&ue.delete(ke.key===null?xe:ke.key),D=f(ke,D,xe),Fe===null?de=ke:Fe.sibling=ke,Fe=ke);return t&&ue.forEach(function(Xs){return n(k,Xs)}),ze&&Yi(k,xe),de}function _e(k,D,j,Q){if(j==null)throw Error(a(151));for(var de=null,Fe=null,ue=D,xe=D=0,ke=null,Qe=j.next();ue!==null&&!Qe.done;xe++,Qe=j.next()){ue.index>xe?(ke=ue,ue=null):ke=ue.sibling;var Xs=z(k,ue,Qe.value,Q);if(Xs===null){ue===null&&(ue=ke);break}t&&ue&&Xs.alternate===null&&n(k,ue),D=f(Xs,D,xe),Fe===null?de=Xs:Fe.sibling=Xs,Fe=Xs,ue=ke}if(Qe.done)return s(k,ue),ze&&Yi(k,xe),de;if(ue===null){for(;!Qe.done;xe++,Qe=j.next())Qe=Y(k,Qe.value,Q),Qe!==null&&(D=f(Qe,D,xe),Fe===null?de=Qe:Fe.sibling=Qe,Fe=Qe);return ze&&Yi(k,xe),de}for(ue=o(ue);!Qe.done;xe++,Qe=j.next())Qe=q(ue,k,xe,Qe.value,Q),Qe!==null&&(t&&Qe.alternate!==null&&ue.delete(Qe.key===null?xe:Qe.key),D=f(Qe,D,xe),Fe===null?de=Qe:Fe.sibling=Qe,Fe=Qe);return t&&ue.forEach(function(Db){return n(k,Db)}),ze&&Yi(k,xe),de}function ot(k,D,j,Q){if(typeof j=="object"&&j!==null&&j.type===ne&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case F:e:{for(var de=j.key;D!==null;){if(D.key===de){if(de=j.type,de===ne){if(D.tag===7){s(k,D.sibling),Q=h(D,j.props.children),Q.return=k,k=Q;break e}}else if(D.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===S&&Pr(de)===D.type){s(k,D.sibling),Q=h(D,j.props),Fo(Q,j),Q.return=k,k=Q;break e}s(k,D);break}else n(k,D);D=D.sibling}j.type===ne?(Q=Vr(j.props.children,k.mode,Q,j.key),Q.return=k,k=Q):(Q=Cu(j.type,j.key,j.props,null,k.mode,Q),Fo(Q,j),Q.return=k,k=Q)}return p(k);case ee:e:{for(de=j.key;D!==null;){if(D.key===de)if(D.tag===4&&D.stateNode.containerInfo===j.containerInfo&&D.stateNode.implementation===j.implementation){s(k,D.sibling),Q=h(D,j.children||[]),Q.return=k,k=Q;break e}else{s(k,D);break}else n(k,D);D=D.sibling}Q=Kh(j,k.mode,Q),Q.return=k,k=Q}return p(k);case S:return j=Pr(j),ot(k,D,j,Q)}if(bt(j))return le(k,D,j,Q);if(U(j)){if(de=U(j),typeof de!="function")throw Error(a(150));return j=de.call(j),_e(k,D,j,Q)}if(typeof j.then=="function")return ot(k,D,ku(j),Q);if(j.$$typeof===pe)return ot(k,D,Du(k,j),Q);Uu(k,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,D!==null&&D.tag===6?(s(k,D.sibling),Q=h(D,j),Q.return=k,k=Q):(s(k,D),Q=Qh(j,k.mode,Q),Q.return=k,k=Q),p(k)):s(k,D)}return function(k,D,j,Q){try{Go=0;var de=ot(k,D,j,Q);return xa=null,de}catch(ue){if(ue===Ra||ue===Mu)throw ue;var Fe=Sn(29,ue,null,k.mode);return Fe.lanes=Q,Fe.return=k,Fe}}}var Br=Zp(!0),Jp=Zp(!1),Os=!1;function af(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function of(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ms(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Vs(t,n,s){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Ze&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=xu(t),kp(t,null,s),n}return Ru(t,o,n,s),xu(t)}function Qo(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,vo(t,s)}}function lf(t,n){var s=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var p={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var uf=!1;function Ko(){if(uf){var t=wa;if(t!==null)throw t}}function Yo(t,n,s,o){uf=!1;var h=t.updateQueue;Os=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,P=C.next;C.next=null,p===null?f=P:p.next=P,p=C;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==p&&(E===null?G.firstBaseUpdate=P:E.next=P,G.lastBaseUpdate=C))}if(f!==null){var Y=h.baseState;p=0,G=P=C=null,E=f;do{var z=E.lane&-536870913,q=z!==E.lane;if(q?(Ve&z)===z:(o&z)===z){z!==0&&z===Sa&&(uf=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var le=t,_e=E;z=n;var ot=s;switch(_e.tag){case 1:if(le=_e.payload,typeof le=="function"){Y=le.call(ot,Y,z);break e}Y=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=_e.payload,z=typeof le=="function"?le.call(ot,Y,z):le,z==null)break e;Y=w({},Y,z);break e;case 2:Os=!0}}z=E.callback,z!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(P=G=q,C=Y):G=G.next=q,p|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);G===null&&(C=Y),h.baseState=C,h.firstBaseUpdate=P,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Ps|=p,t.lanes=p,t.memoizedState=Y}}function Wp(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function eg(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Wp(s[t],n)}var Ca=O(null),Lu=O(0);function tg(t,n){t=rs,re(Lu,t),re(Ca,n),rs=t|n.baseLanes}function cf(){re(Lu,rs),re(Ca,Ca.current)}function hf(){rs=Lu.current,K(Ca),K(Lu)}var wn=O(null),qn=null;function ks(t){var n=t.alternate;re(wt,wt.current&1),re(wn,t),qn===null&&(n===null||Ca.current!==null||n.memoizedState!==null)&&(qn=t)}function ff(t){re(wt,wt.current),re(wn,t),qn===null&&(qn=t)}function ng(t){t.tag===22?(re(wt,wt.current),re(wn,t),qn===null&&(qn=t)):Us()}function Us(){re(wt,wt.current),re(wn,wn.current)}function Rn(t){K(wn),qn===t&&(qn=null),K(wt)}var wt=O(0);function ju(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||_d(s)||vd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Zi=0,Re=null,rt=null,Mt=null,Pu=!1,Ia=!1,qr=!1,zu=0,Xo=0,Na=null,T1=0;function Et(){throw Error(a(321))}function df(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!An(t[s],n[s]))return!1;return!0}function mf(t,n,s,o,h,f){return Zi=f,Re=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?Pg:If,qr=!1,f=s(o,h),qr=!1,Ia&&(f=sg(n,s,o,h)),ig(t),f}function ig(t){H.H=Jo;var n=rt!==null&&rt.next!==null;if(Zi=0,Mt=rt=Re=null,Pu=!1,Xo=0,Na=null,n)throw Error(a(300));t===null||Vt||(t=t.dependencies,t!==null&&Nu(t)&&(Vt=!0))}function sg(t,n,s,o){Re=t;var h=0;do{if(Ia&&(Na=null),Xo=0,Ia=!1,25<=h)throw Error(a(301));if(h+=1,Mt=rt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=zg,f=n(s,o)}while(Ia);return f}function b1(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?$o(n):n,t=t.useState()[0],(rt!==null?rt.memoizedState:null)!==t&&(Re.flags|=1024),n}function pf(){var t=zu!==0;return zu=0,t}function gf(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function yf(t){if(Pu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Pu=!1}Zi=0,Mt=rt=Re=null,Ia=!1,Xo=zu=0,Na=null}function cn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?Re.memoizedState=Mt=t:Mt=Mt.next=t,Mt}function Rt(){if(rt===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=rt.next;var n=Mt===null?Re.memoizedState:Mt.next;if(n!==null)Mt=n,rt=t;else{if(t===null)throw Re.alternate===null?Error(a(467)):Error(a(310));rt=t,t={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},Mt===null?Re.memoizedState=Mt=t:Mt=Mt.next=t}return Mt}function Bu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $o(t){var n=Xo;return Xo+=1,Na===null&&(Na=[]),t=Yp(Na,t,n),n=Re,(Mt===null?n.memoizedState:Mt.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Pg:If),t}function qu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return $o(t);if(t.$$typeof===pe)return $t(t)}throw Error(a(438,String(t)))}function _f(t){var n=null,s=Re.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Re.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Bu(),Re.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),o=0;o<t;o++)s[o]=M;return n.index++,s}function Ji(t,n){return typeof n=="function"?n(t):n}function Hu(t){var n=Rt();return vf(n,rt,t)}function vf(t,n,s){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=p=null,C=null,P=n,G=!1;do{var Y=P.lane&-536870913;if(Y!==P.lane?(Ve&Y)===Y:(Zi&Y)===Y){var z=P.revertLane;if(z===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Y===Sa&&(G=!0);else if((Zi&z)===z){P=P.next,z===Sa&&(G=!0);continue}else Y={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(E=C=Y,p=f):C=C.next=Y,Re.lanes|=z,Ps|=z;Y=P.action,qr&&s(f,Y),f=P.hasEagerState?P.eagerState:s(f,Y)}else z={lane:Y,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(E=C=z,p=f):C=C.next=z,Re.lanes|=Y,Ps|=Y;P=P.next}while(P!==null&&P!==n);if(C===null?p=f:C.next=E,!An(f,t.memoizedState)&&(Vt=!0,G&&(s=wa,s!==null)))throw s;t.memoizedState=f,t.baseState=p,t.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Ef(t){var n=Rt(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var p=h=h.next;do f=t(f,p.action),p=p.next;while(p!==h);An(f,n.memoizedState)||(Vt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function rg(t,n,s){var o=Re,h=Rt(),f=ze;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var p=!An((rt||h).memoizedState,s);if(p&&(h.memoizedState=s,Vt=!0),h=h.queue,Af(lg.bind(null,o,h,t),[t]),h.getSnapshot!==n||p||Mt!==null&&Mt.memoizedState.tag&1){if(o.flags|=2048,Da(9,{destroy:void 0},og.bind(null,o,h,s,n),null),ct===null)throw Error(a(349));f||(Zi&127)!==0||ag(o,n,s)}return s}function ag(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Re.updateQueue,n===null?(n=Bu(),Re.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function og(t,n,s,o){n.value=s,n.getSnapshot=o,ug(n)&&cg(t)}function lg(t,n,s){return s(function(){ug(n)&&cg(t)})}function ug(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!An(t,s)}catch{return!0}}function cg(t){var n=Mr(t,2);n!==null&&_n(n,t,2)}function Tf(t){var n=cn();if(typeof t=="function"){var s=t;if(t=s(),qr){On(!0);try{s()}finally{On(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:t},n}function hg(t,n,s,o){return t.baseState=s,vf(t,rt,typeof o=="function"?o:Ji)}function A1(t,n,s,o,h){if(Qu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};H.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,fg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function fg(t,n){var s=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=H.T,p={};H.T=p;try{var E=s(h,o),C=H.S;C!==null&&C(p,E),dg(t,n,E)}catch(P){bf(t,n,P)}finally{f!==null&&p.types!==null&&(f.types=p.types),H.T=f}}else try{f=s(h,o),dg(t,n,f)}catch(P){bf(t,n,P)}}function dg(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){mg(t,n,o)},function(o){return bf(t,n,o)}):mg(t,n,s)}function mg(t,n,s){n.status="fulfilled",n.value=s,pg(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,fg(t,s)))}function bf(t,n,s){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,pg(n),n=n.next;while(n!==o)}t.action=null}function pg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function gg(t,n){return n}function yg(t,n){if(ze){var s=ct.formState;if(s!==null){e:{var o=Re;if(ze){if(ft){t:{for(var h=ft,f=Bn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Hn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ft=Hn(h.nextSibling),o=h.data==="F!";break e}}Ns(o)}o=!1}o&&(n=s[0])}}return s=cn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gg,lastRenderedState:n},s.queue=o,s=Ug.bind(null,Re,o),o.dispatch=s,o=Tf(!1),f=Cf.bind(null,Re,!1,o.queue),o=cn(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,s=A1.bind(null,Re,h,f,s),h.dispatch=s,o.memoizedState=t,[n,s,!1]}function _g(t){var n=Rt();return vg(n,rt,t)}function vg(t,n,s){if(n=vf(t,n,gg)[0],t=Hu(Ji)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=$o(n)}catch(p){throw p===Ra?Mu:p}else o=n;n=Rt();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Re.flags|=2048,Da(9,{destroy:void 0},S1.bind(null,h,s),null)),[o,f,t]}function S1(t,n){t.action=n}function Eg(t){var n=Rt(),s=rt;if(s!==null)return vg(n,s,t);Rt(),n=n.memoizedState,s=Rt();var o=s.queue.dispatch;return s.memoizedState=t,[n,o,!1]}function Da(t,n,s,o){return t={tag:t,create:s,deps:o,inst:n,next:null},n=Re.updateQueue,n===null&&(n=Bu(),Re.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(o=s.next,s.next=t,t.next=o,n.lastEffect=t),t}function Tg(){return Rt().memoizedState}function Gu(t,n,s,o){var h=cn();Re.flags|=t,h.memoizedState=Da(1|n,{destroy:void 0},s,o===void 0?null:o)}function Fu(t,n,s,o){var h=Rt();o=o===void 0?null:o;var f=h.memoizedState.inst;rt!==null&&o!==null&&df(o,rt.memoizedState.deps)?h.memoizedState=Da(n,f,s,o):(Re.flags|=t,h.memoizedState=Da(1|n,f,s,o))}function bg(t,n){Gu(8390656,8,t,n)}function Af(t,n){Fu(2048,8,t,n)}function w1(t){Re.flags|=4;var n=Re.updateQueue;if(n===null)n=Bu(),Re.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function Ag(t){var n=Rt().memoizedState;return w1({ref:n,nextImpl:t}),function(){if((Ze&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Sg(t,n){return Fu(4,2,t,n)}function wg(t,n){return Fu(4,4,t,n)}function Rg(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function xg(t,n,s){s=s!=null?s.concat([t]):null,Fu(4,4,Rg.bind(null,n,t),s)}function Sf(){}function Cg(t,n){var s=Rt();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&df(n,o[1])?o[0]:(s.memoizedState=[t,n],t)}function Ig(t,n){var s=Rt();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&df(n,o[1]))return o[0];if(o=t(),qr){On(!0);try{t()}finally{On(!1)}}return s.memoizedState=[o,n],o}function wf(t,n,s){return s===void 0||(Zi&1073741824)!==0&&(Ve&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=Ny(),Re.lanes|=t,Ps|=t,s)}function Ng(t,n,s,o){return An(s,n)?s:Ca.current!==null?(t=wf(t,s,o),An(t,n)||(Vt=!0),t):(Zi&42)===0||(Zi&1073741824)!==0&&(Ve&261930)===0?(Vt=!0,t.memoizedState=s):(t=Ny(),Re.lanes|=t,Ps|=t,n)}function Dg(t,n,s,o,h){var f=se.p;se.p=f!==0&&8>f?f:8;var p=H.T,E={};H.T=E,Cf(t,!1,n,s);try{var C=h(),P=H.S;if(P!==null&&P(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var G=E1(C,o);Zo(t,n,G,In(t))}else Zo(t,n,o,In(t))}catch(Y){Zo(t,n,{then:function(){},status:"rejected",reason:Y},In())}finally{se.p=f,p!==null&&E.types!==null&&(p.types=E.types),H.T=p}}function R1(){}function Rf(t,n,s,o){if(t.tag!==5)throw Error(a(476));var h=Og(t).queue;Dg(t,h,n,fe,s===null?R1:function(){return Mg(t),s(o)})}function Og(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:fe},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Mg(t){var n=Og(t);n.next===null&&(n=t.alternate.memoizedState),Zo(t,n.next.queue,{},In())}function xf(){return $t(ml)}function Vg(){return Rt().memoizedState}function kg(){return Rt().memoizedState}function x1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=In();t=Ms(s);var o=Vs(n,t,s);o!==null&&(_n(o,n,s),Qo(o,n,s)),n={cache:tf()},t.payload=n;return}n=n.return}}function C1(t,n,s){var o=In();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Qu(t)?Lg(n,s):(s=Gh(t,n,s,o),s!==null&&(_n(s,t,o),jg(s,n,o)))}function Ug(t,n,s){var o=In();Zo(t,n,s,o)}function Zo(t,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Qu(t))Lg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,s);if(h.hasEagerState=!0,h.eagerState=E,An(E,p))return Ru(t,n,h,0),ct===null&&wu(),!1}catch{}if(s=Gh(t,n,h,o),s!==null)return _n(s,t,o),jg(s,n,o),!0}return!1}function Cf(t,n,s,o){if(o={lane:2,revertLane:ad(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Qu(t)){if(n)throw Error(a(479))}else n=Gh(t,s,o,2),n!==null&&_n(n,t,2)}function Qu(t){var n=t.alternate;return t===Re||n!==null&&n===Re}function Lg(t,n){Ia=Pu=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function jg(t,n,s){if((s&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,vo(t,s)}}var Jo={readContext:$t,use:qu,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useLayoutEffect:Et,useInsertionEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useSyncExternalStore:Et,useId:Et,useHostTransitionStatus:Et,useFormState:Et,useActionState:Et,useOptimistic:Et,useMemoCache:Et,useCacheRefresh:Et};Jo.useEffectEvent=Et;var Pg={readContext:$t,use:qu,useCallback:function(t,n){return cn().memoizedState=[t,n===void 0?null:n],t},useContext:$t,useEffect:bg,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,Gu(4194308,4,Rg.bind(null,n,t),s)},useLayoutEffect:function(t,n){return Gu(4194308,4,t,n)},useInsertionEffect:function(t,n){Gu(4,2,t,n)},useMemo:function(t,n){var s=cn();n=n===void 0?null:n;var o=t();if(qr){On(!0);try{t()}finally{On(!1)}}return s.memoizedState=[o,n],o},useReducer:function(t,n,s){var o=cn();if(s!==void 0){var h=s(n);if(qr){On(!0);try{s(n)}finally{On(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=C1.bind(null,Re,t),[o.memoizedState,t]},useRef:function(t){var n=cn();return t={current:t},n.memoizedState=t},useState:function(t){t=Tf(t);var n=t.queue,s=Ug.bind(null,Re,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:Sf,useDeferredValue:function(t,n){var s=cn();return wf(s,t,n)},useTransition:function(){var t=Tf(!1);return t=Dg.bind(null,Re,t.queue,!0,!1),cn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var o=Re,h=cn();if(ze){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),ct===null)throw Error(a(349));(Ve&127)!==0||ag(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,bg(lg.bind(null,o,f,t),[t]),o.flags|=2048,Da(9,{destroy:void 0},og.bind(null,o,f,s,n),null),s},useId:function(){var t=cn(),n=ct.identifierPrefix;if(ze){var s=Ii,o=Ci;s=(o&~(1<<32-At(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=zu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=T1++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:xf,useFormState:yg,useActionState:yg,useOptimistic:function(t){var n=cn();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Cf.bind(null,Re,!0,s),s.dispatch=n,[t,n]},useMemoCache:_f,useCacheRefresh:function(){return cn().memoizedState=x1.bind(null,Re)},useEffectEvent:function(t){var n=cn(),s={impl:t};return n.memoizedState=s,function(){if((Ze&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},If={readContext:$t,use:qu,useCallback:Cg,useContext:$t,useEffect:Af,useImperativeHandle:xg,useInsertionEffect:Sg,useLayoutEffect:wg,useMemo:Ig,useReducer:Hu,useRef:Tg,useState:function(){return Hu(Ji)},useDebugValue:Sf,useDeferredValue:function(t,n){var s=Rt();return Ng(s,rt.memoizedState,t,n)},useTransition:function(){var t=Hu(Ji)[0],n=Rt().memoizedState;return[typeof t=="boolean"?t:$o(t),n]},useSyncExternalStore:rg,useId:Vg,useHostTransitionStatus:xf,useFormState:_g,useActionState:_g,useOptimistic:function(t,n){var s=Rt();return hg(s,rt,t,n)},useMemoCache:_f,useCacheRefresh:kg};If.useEffectEvent=Ag;var zg={readContext:$t,use:qu,useCallback:Cg,useContext:$t,useEffect:Af,useImperativeHandle:xg,useInsertionEffect:Sg,useLayoutEffect:wg,useMemo:Ig,useReducer:Ef,useRef:Tg,useState:function(){return Ef(Ji)},useDebugValue:Sf,useDeferredValue:function(t,n){var s=Rt();return rt===null?wf(s,t,n):Ng(s,rt.memoizedState,t,n)},useTransition:function(){var t=Ef(Ji)[0],n=Rt().memoizedState;return[typeof t=="boolean"?t:$o(t),n]},useSyncExternalStore:rg,useId:Vg,useHostTransitionStatus:xf,useFormState:Eg,useActionState:Eg,useOptimistic:function(t,n){var s=Rt();return rt!==null?hg(s,rt,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:_f,useCacheRefresh:kg};zg.useEffectEvent=Ag;function Nf(t,n,s,o){n=t.memoizedState,s=s(o,n),s=s==null?n:w({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Df={enqueueSetState:function(t,n,s){t=t._reactInternals;var o=In(),h=Ms(o);h.payload=n,s!=null&&(h.callback=s),n=Vs(t,h,o),n!==null&&(_n(n,t,o),Qo(n,t,o))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var o=In(),h=Ms(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Vs(t,h,o),n!==null&&(_n(n,t,o),Qo(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=In(),o=Ms(s);o.tag=2,n!=null&&(o.callback=n),n=Vs(t,o,s),n!==null&&(_n(n,t,s),Qo(n,t,s))}};function Bg(t,n,s,o,h,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!jo(s,o)||!jo(h,f):!0}function qg(t,n,s,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==t&&Df.enqueueReplaceState(n,n.state,null)}function Hr(t,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(t=t.defaultProps){s===n&&(s=w({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}function Hg(t){Su(t)}function Gg(t){console.error(t)}function Fg(t){Su(t)}function Ku(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Qg(t,n,s){try{var o=t.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Of(t,n,s){return s=Ms(s),s.tag=3,s.payload={element:null},s.callback=function(){Ku(t,n)},s}function Kg(t){return t=Ms(t),t.tag=3,t}function Yg(t,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){Qg(n,s,o)}}var p=s.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){Qg(n,s,o),typeof h!="function"&&(zs===null?zs=new Set([this]):zs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function I1(t,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&Aa(n,s,h,!0),s=wn.current,s!==null){switch(s.tag){case 31:case 13:return qn===null?rc():s.alternate===null&&Tt===0&&(Tt=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Vu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),id(t,o,h)),!1;case 22:return s.flags|=65536,o===Vu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),id(t,o,h)),!1}throw Error(a(435,s.tag))}return id(t,o,h),rc(),!1}if(ze)return n=wn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==$h&&(t=Error(a(422),{cause:o}),Bo(jn(t,s)))):(o!==$h&&(n=Error(a(423),{cause:o}),Bo(jn(n,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=jn(o,s),h=Of(t.stateNode,o,h),lf(t,h),Tt!==4&&(Tt=2)),!1;var f=Error(a(520),{cause:o});if(f=jn(f,s),al===null?al=[f]:al.push(f),Tt!==4&&(Tt=2),n===null)return!0;o=jn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=Of(s.stateNode,o,t),lf(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(zs===null||!zs.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Kg(h),Yg(h,t,s,o),lf(s,h),!1}s=s.return}while(s!==null);return!1}var Mf=Error(a(461)),Vt=!1;function Zt(t,n,s,o){n.child=t===null?Jp(n,null,s,o):Br(n,t.child,s,o)}function Xg(t,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var p={};for(var E in o)E!=="ref"&&(p[E]=o[E])}else p=o;return Lr(n),o=mf(t,n,s,p,f,h),E=pf(),t!==null&&!Vt?(gf(t,n,h),Wi(t,n,h)):(ze&&E&&Yh(n),n.flags|=1,Zt(t,n,o,h),n.child)}function $g(t,n,s,o,h){if(t===null){var f=s.type;return typeof f=="function"&&!Fh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Zg(t,n,f,o,h)):(t=Cu(s.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Bf(t,h)){var p=f.memoizedProps;if(s=s.compare,s=s!==null?s:jo,s(p,o)&&t.ref===n.ref)return Wi(t,n,h)}return n.flags|=1,t=Ki(f,o),t.ref=n.ref,t.return=n,n.child=t}function Zg(t,n,s,o,h){if(t!==null){var f=t.memoizedProps;if(jo(f,o)&&t.ref===n.ref)if(Vt=!1,n.pendingProps=o=f,Bf(t,h))(t.flags&131072)!==0&&(Vt=!0);else return n.lanes=t.lanes,Wi(t,n,h)}return Vf(t,n,s,o,h)}function Jg(t,n,s,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Wg(t,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ou(n,f!==null?f.cachePool:null),f!==null?tg(n,f):cf(),ng(n);else return o=n.lanes=536870912,Wg(t,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Ou(n,f.cachePool),tg(n,f),Us(),n.memoizedState=null):(t!==null&&Ou(n,null),cf(),Us());return Zt(t,n,h,s),n.child}function Wo(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Wg(t,n,s,o,h){var f=sf();return f=f===null?null:{parent:Ot._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},t!==null&&Ou(n,null),cf(),ng(n),t!==null&&Aa(t,n,o,!0),n.childLanes=h,null}function Yu(t,n){return n=$u({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function ey(t,n,s){return Br(n,t.child,null,s),t=Yu(n,n.pendingProps),t.flags|=2,Rn(n),n.memoizedState=null,t}function N1(t,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(ze){if(o.mode==="hidden")return t=Yu(n,o),n.lanes=536870912,Wo(null,t);if(ff(n),(t=ft)?(t=f_(t,Bn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Cs!==null?{id:Ci,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},s=Lp(t),s.return=n,n.child=s,Xt=n,ft=null)):t=null,t===null)throw Ns(n);return n.lanes=536870912,null}return Yu(n,o)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(ff(n),h)if(n.flags&256)n.flags&=-257,n=ey(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Vt||Aa(t,n,s,!1),h=(s&t.childLanes)!==0,Vt||h){if(o=ct,o!==null&&(p=Eo(o,s),p!==0&&p!==f.retryLane))throw f.retryLane=p,Mr(t,p),_n(o,t,p),Mf;rc(),n=ey(t,n,s)}else t=f.treeContext,ft=Hn(p.nextSibling),Xt=n,ze=!0,Is=null,Bn=!1,t!==null&&zp(n,t),n=Yu(n,o),n.flags|=4096;return n}return t=Ki(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Xu(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Vf(t,n,s,o,h){return Lr(n),s=mf(t,n,s,o,void 0,h),o=pf(),t!==null&&!Vt?(gf(t,n,h),Wi(t,n,h)):(ze&&o&&Yh(n),n.flags|=1,Zt(t,n,s,h),n.child)}function ty(t,n,s,o,h,f){return Lr(n),n.updateQueue=null,s=sg(n,o,s,h),ig(t),o=pf(),t!==null&&!Vt?(gf(t,n,f),Wi(t,n,f)):(ze&&o&&Yh(n),n.flags|=1,Zt(t,n,s,f),n.child)}function ny(t,n,s,o,h){if(Lr(n),n.stateNode===null){var f=va,p=s.contextType;typeof p=="object"&&p!==null&&(f=$t(p)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Df,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},af(n),p=s.contextType,f.context=typeof p=="object"&&p!==null?$t(p):va,f.state=n.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(Nf(n,s,p,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Df.enqueueReplaceState(f,f.state,null),Yo(n,o,f,h),Ko(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,C=Hr(s,E);f.props=C;var P=f.context,G=s.contextType;p=va,typeof G=="object"&&G!==null&&(p=$t(G));var Y=s.getDerivedStateFromProps;G=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==p)&&qg(n,f,o,p),Os=!1;var z=n.memoizedState;f.state=z,Yo(n,o,f,h),Ko(),P=n.memoizedState,E||z!==P||Os?(typeof Y=="function"&&(Nf(n,s,Y,o),P=n.memoizedState),(C=Os||Bg(n,s,C,o,z,P,p))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=p,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,of(t,n),p=n.memoizedProps,G=Hr(s,p),f.props=G,Y=n.pendingProps,z=f.context,P=s.contextType,C=va,typeof P=="object"&&P!==null&&(C=$t(P)),E=s.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==Y||z!==C)&&qg(n,f,o,C),Os=!1,z=n.memoizedState,f.state=z,Yo(n,o,f,h),Ko();var q=n.memoizedState;p!==Y||z!==q||Os||t!==null&&t.dependencies!==null&&Nu(t.dependencies)?(typeof E=="function"&&(Nf(n,s,E,o),q=n.memoizedState),(G=Os||Bg(n,s,G,o,z,q,C)||t!==null&&t.dependencies!==null&&Nu(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=C,o=G):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,Xu(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=Br(n,t.child,null,h),n.child=Br(n,null,s,h)):Zt(t,n,s,h),n.memoizedState=f.state,t=n.child):t=Wi(t,n,h),t}function iy(t,n,s,o){return kr(),n.flags|=256,Zt(t,n,s,o),n.child}var kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uf(t){return{baseLanes:t,cachePool:Qp()}}function Lf(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=Cn),t}function sy(t,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(wt.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(ze){if(h?ks(n):Us(),(t=ft)?(t=f_(t,Bn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Cs!==null?{id:Ci,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},s=Lp(t),s.return=n,n.child=s,Xt=n,ft=null)):t=null,t===null)throw Ns(n);return vd(t)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Us(),h=n.mode,E=$u({mode:"hidden",children:E},h),o=Vr(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Uf(s),o.childLanes=Lf(t,p,s),n.memoizedState=kf,Wo(null,o)):(ks(n),jf(n,E))}var C=t.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(ks(n),n.flags&=-257,n=Pf(t,n,s)):n.memoizedState!==null?(Us(),n.child=t.child,n.flags|=128,n=null):(Us(),E=o.fallback,h=n.mode,o=$u({mode:"visible",children:o.children},h),E=Vr(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Br(n,t.child,null,s),o=n.child,o.memoizedState=Uf(s),o.childLanes=Lf(t,p,s),n.memoizedState=kf,n=Wo(null,o));else if(ks(n),vd(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var P=p.dgst;p=P,o=Error(a(419)),o.stack="",o.digest=p,Bo({value:o,source:null,stack:null}),n=Pf(t,n,s)}else if(Vt||Aa(t,n,s,!1),p=(s&t.childLanes)!==0,Vt||p){if(p=ct,p!==null&&(o=Eo(p,s),o!==0&&o!==C.retryLane))throw C.retryLane=o,Mr(t,o),_n(p,t,o),Mf;_d(E)||rc(),n=Pf(t,n,s)}else _d(E)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,ft=Hn(E.nextSibling),Xt=n,ze=!0,Is=null,Bn=!1,t!==null&&zp(n,t),n=jf(n,o.children),n.flags|=4096);return n}return h?(Us(),E=o.fallback,h=n.mode,C=t.child,P=C.sibling,o=Ki(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,P!==null?E=Ki(P,E):(E=Vr(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Wo(null,o),o=n.child,E=t.child.memoizedState,E===null?E=Uf(s):(h=E.cachePool,h!==null?(C=Ot._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Qp(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=Lf(t,p,s),n.memoizedState=kf,Wo(t.child,o)):(ks(n),s=t.child,t=s.sibling,s=Ki(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=s,n.memoizedState=null,s)}function jf(t,n){return n=$u({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function $u(t,n){return t=Sn(22,t,null,n),t.lanes=0,t}function Pf(t,n,s){return Br(n,t.child,null,s),t=jf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function ry(t,n,s){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),Wh(t.return,n,s)}function zf(t,n,s,o,h,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=s,p.tailMode=h,p.treeForkCount=f)}function ay(t,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=wt.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,re(wt,p),Zt(t,n,o,s),o=ze?zo:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ry(t,s,n);else if(t.tag===19)ry(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)t=s.alternate,t!==null&&ju(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),zf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&ju(t)===null){n.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}zf(n,!0,s,null,f,o);break;case"together":zf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Wi(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),Ps|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(Aa(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=Ki(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=Ki(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Bf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Nu(t)))}function D1(t,n,s){switch(n.tag){case 3:he(n,n.stateNode.containerInfo),Ds(n,Ot,t.memoizedState.cache),kr();break;case 27:case 5:Oe(n);break;case 4:he(n,n.stateNode.containerInfo);break;case 10:Ds(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,ff(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(ks(n),n.flags|=128,null):(s&n.child.childLanes)!==0?sy(t,n,s):(ks(n),t=Wi(t,n,s),t!==null?t.sibling:null);ks(n);break;case 19:var h=(t.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(Aa(t,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return ay(t,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),re(wt,wt.current),o)break;return null;case 22:return n.lanes=0,Jg(t,n,s,n.pendingProps);case 24:Ds(n,Ot,t.memoizedState.cache)}return Wi(t,n,s)}function oy(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)Vt=!0;else{if(!Bf(t,s)&&(n.flags&128)===0)return Vt=!1,D1(t,n,s);Vt=(t.flags&131072)!==0}else Vt=!1,ze&&(n.flags&1048576)!==0&&Pp(n,zo,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Pr(n.elementType),n.type=t,typeof t=="function")Fh(t)?(o=Hr(t,o),n.tag=1,n=ny(null,n,t,o,s)):(n.tag=0,n=Vf(null,n,t,o,s));else{if(t!=null){var h=t.$$typeof;if(h===Je){n.tag=11,n=Xg(null,n,t,o,s);break e}else if(h===I){n.tag=14,n=$g(null,n,t,o,s);break e}}throw n=lt(t)||t,Error(a(306,n,""))}}return n;case 0:return Vf(t,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Hr(o,n.pendingProps),ny(t,n,o,h,s);case 3:e:{if(he(n,n.stateNode.containerInfo),t===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,of(t,n),Yo(n,o,null,s);var p=n.memoizedState;if(o=p.cache,Ds(n,Ot,o),o!==f.cache&&ef(n,[Ot],s,!0),Ko(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=iy(t,n,o,s);break e}else if(o!==h){h=jn(Error(a(424)),n),Bo(h),n=iy(t,n,o,s);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ft=Hn(t.firstChild),Xt=n,ze=!0,Is=null,Bn=!0,s=Jp(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(kr(),o===h){n=Wi(t,n,s);break e}Zt(t,n,o,s)}n=n.child}return n;case 26:return Xu(t,n),t===null?(s=__(n.type,null,n.pendingProps,null))?n.memoizedState=s:ze||(s=n.type,t=n.pendingProps,o=fc(J.current).createElement(s),o[It]=n,o[Ht]=t,Jt(o,s,t),Nt(o),n.stateNode=o):n.memoizedState=__(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Oe(n),t===null&&ze&&(o=n.stateNode=p_(n.type,n.pendingProps,J.current),Xt=n,Bn=!0,h=ft,Gs(n.type)?(Ed=h,ft=Hn(o.firstChild)):ft=h),Zt(t,n,n.pendingProps.children,s),Xu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&ze&&((h=o=ft)&&(o=ob(o,n.type,n.pendingProps,Bn),o!==null?(n.stateNode=o,Xt=n,ft=Hn(o.firstChild),Bn=!1,h=!0):h=!1),h||Ns(n)),Oe(n),h=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,o=f.children,pd(h,f)?o=null:p!==null&&pd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=mf(t,n,b1,null,null,s),ml._currentValue=h),Xu(t,n),Zt(t,n,o,s),n.child;case 6:return t===null&&ze&&((t=s=ft)&&(s=lb(s,n.pendingProps,Bn),s!==null?(n.stateNode=s,Xt=n,ft=null,t=!0):t=!1),t||Ns(n)),null;case 13:return sy(t,n,s);case 4:return he(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Br(n,null,o,s):Zt(t,n,o,s),n.child;case 11:return Xg(t,n,n.type,n.pendingProps,s);case 7:return Zt(t,n,n.pendingProps,s),n.child;case 8:return Zt(t,n,n.pendingProps.children,s),n.child;case 12:return Zt(t,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Ds(n,n.type,o.value),Zt(t,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Lr(n),h=$t(h),o=o(h),n.flags|=1,Zt(t,n,o,s),n.child;case 14:return $g(t,n,n.type,n.pendingProps,s);case 15:return Zg(t,n,n.type,n.pendingProps,s);case 19:return ay(t,n,s);case 31:return N1(t,n,s);case 22:return Jg(t,n,s,n.pendingProps);case 24:return Lr(n),o=$t(Ot),t===null?(h=sf(),h===null&&(h=ct,f=tf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},af(n),Ds(n,Ot,h)):((t.lanes&s)!==0&&(of(t,n),Yo(n,null,null,s),Ko()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ds(n,Ot,o)):(o=f.cache,Ds(n,Ot,o),o!==h.cache&&ef(n,[Ot],s,!0))),Zt(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function es(t){t.flags|=4}function qf(t,n,s,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Vy())t.flags|=8192;else throw zr=Vu,rf}else t.flags&=-16777217}function ly(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!A_(n))if(Vy())t.flags|=8192;else throw zr=Vu,rf}function Zu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?iu():536870912,t.lanes|=n,ka|=n)}function el(t,n){if(!ze)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function dt(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,o=0;if(n)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=s,n}function O1(t,n,s){var o=n.pendingProps;switch(Xh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(n),null;case 1:return dt(n),null;case 3:return s=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),$i(Ot),Ie(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(ba(n)?es(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Zh())),dt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(es(n),f!==null?(dt(n),ly(n,f)):(dt(n),qf(n,h,null,o,s))):f?f!==t.memoizedState?(es(n),dt(n),ly(n,f)):(dt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&es(n),dt(n),qf(n,h,t,o,s)),null;case 27:if(Ge(n),s=J.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&es(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return dt(n),null}t=ae.current,ba(n)?Bp(n):(t=p_(h,o,s),n.stateNode=t,es(n))}return dt(n),null;case 5:if(Ge(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&es(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return dt(n),null}if(f=ae.current,ba(n))Bp(n);else{var p=fc(J.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[It]=n,f[Ht]=o;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;e:switch(Jt(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&es(n)}}return dt(n),qf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&es(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(t=J.current,ba(n)){if(t=n.stateNode,s=n.memoizedProps,o=null,h=Xt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[It]=n,t=!!(t.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||s_(t.nodeValue,s)),t||Ns(n,!0)}else t=fc(t).createTextNode(o),t[It]=n,n.stateNode=t}return dt(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(o=ba(n),s!==null){if(t===null){if(!o)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[It]=n}else kr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;dt(n),t=!1}else s=Zh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(Rn(n),n):(Rn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return dt(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ba(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[It]=n}else kr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;dt(n),h=!1}else h=Zh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Rn(n),n):(Rn(n),null)}return Rn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,t=t!==null&&t.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),Zu(n,n.updateQueue),dt(n),null);case 4:return Ie(),t===null&&cd(n.stateNode.containerInfo),dt(n),null;case 10:return $i(n.type),dt(n),null;case 19:if(K(wt),o=n.memoizedState,o===null)return dt(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)el(o,!1);else{if(Tt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=ju(t),f!==null){for(n.flags|=128,el(o,!1),t=f.updateQueue,n.updateQueue=t,Zu(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)Up(s,t),s=s.sibling;return re(wt,wt.current&1|2),ze&&Yi(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&qt()>nc&&(n.flags|=128,h=!0,el(o,!1),n.lanes=4194304)}else{if(!h)if(t=ju(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Zu(n,t),el(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!ze)return dt(n),null}else 2*qt()-o.renderingStartTime>nc&&s!==536870912&&(n.flags|=128,h=!0,el(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=qt(),t.sibling=null,s=wt.current,re(wt,h?s&1|2:s&1),ze&&Yi(n,o.treeForkCount),t):(dt(n),null);case 22:case 23:return Rn(n),hf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(dt(n),n.subtreeFlags&6&&(n.flags|=8192)):dt(n),s=n.updateQueue,s!==null&&Zu(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),t!==null&&K(jr),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),$i(Ot),dt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function M1(t,n){switch(Xh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return $i(Ot),Ie(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ge(n),null;case 31:if(n.memoizedState!==null){if(Rn(n),n.alternate===null)throw Error(a(340));kr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Rn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));kr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return K(wt),null;case 4:return Ie(),null;case 10:return $i(n.type),null;case 22:case 23:return Rn(n),hf(),t!==null&&K(jr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return $i(Ot),null;case 25:return null;default:return null}}function uy(t,n){switch(Xh(n),n.tag){case 3:$i(Ot),Ie();break;case 26:case 27:case 5:Ge(n);break;case 4:Ie();break;case 31:n.memoizedState!==null&&Rn(n);break;case 13:Rn(n);break;case 19:K(wt);break;case 10:$i(n.type);break;case 22:case 23:Rn(n),hf(),t!==null&&K(jr);break;case 24:$i(Ot)}}function tl(t,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&t)===t){o=void 0;var f=s.create,p=s.inst;o=f(),p.destroy=o}s=s.next}while(s!==h)}}catch(E){nt(n,n.return,E)}}function Ls(t,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var p=o.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var C=s,P=E;try{P()}catch(G){nt(h,C,G)}}}o=o.next}while(o!==f)}}catch(G){nt(n,n.return,G)}}function cy(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{eg(n,s)}catch(o){nt(t,t.return,o)}}}function hy(t,n,s){s.props=Hr(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(o){nt(t,n,o)}}function nl(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof s=="function"?t.refCleanup=s(o):s.current=o}}catch(h){nt(t,n,h)}}function Ni(t,n){var s=t.ref,o=t.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){nt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){nt(t,n,h)}else s.current=null}function fy(t){var n=t.type,s=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break e;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){nt(t,t.return,h)}}function Hf(t,n,s){try{var o=t.stateNode;tb(o,t.type,s,n),o[Ht]=n}catch(h){nt(t,t.return,h)}}function dy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Gs(t.type)||t.tag===4}function Gf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||dy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Gs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ff(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=ei));else if(o!==4&&(o===27&&Gs(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Ff(t,n,s),t=t.sibling;t!==null;)Ff(t,n,s),t=t.sibling}function Ju(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(o!==4&&(o===27&&Gs(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Ju(t,n,s),t=t.sibling;t!==null;)Ju(t,n,s),t=t.sibling}function my(t){var n=t.stateNode,s=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Jt(n,o,s),n[It]=t,n[Ht]=s}catch(f){nt(t,t.return,f)}}var ts=!1,kt=!1,Qf=!1,py=typeof WeakSet=="function"?WeakSet:Set,Ft=null;function V1(t,n){if(t=t.containerInfo,dd=vc,t=xp(t),jh(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var p=0,E=-1,C=-1,P=0,G=0,Y=t,z=null;t:for(;;){for(var q;Y!==s||h!==0&&Y.nodeType!==3||(E=p+h),Y!==f||o!==0&&Y.nodeType!==3||(C=p+o),Y.nodeType===3&&(p+=Y.nodeValue.length),(q=Y.firstChild)!==null;)z=Y,Y=q;for(;;){if(Y===t)break t;if(z===s&&++P===h&&(E=p),z===f&&++G===o&&(C=p),(q=Y.nextSibling)!==null)break;Y=z,z=Y.parentNode}Y=q}s=E===-1||C===-1?null:{start:E,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(md={focusedElem:t,selectionRange:s},vc=!1,Ft=n;Ft!==null;)if(n=Ft,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ft=t;else for(;Ft!==null;){switch(n=Ft,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)h=t[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var le=Hr(s.type,h);t=o.getSnapshotBeforeUpdate(le,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(_e){nt(s,s.return,_e)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)yd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":yd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Ft=t;break}Ft=n.return}}function gy(t,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:is(t,s),o&4&&tl(5,s);break;case 1:if(is(t,s),o&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(p){nt(s,s.return,p)}else{var h=Hr(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){nt(s,s.return,p)}}o&64&&cy(s),o&512&&nl(s,s.return);break;case 3:if(is(t,s),o&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{eg(t,n)}catch(p){nt(s,s.return,p)}}break;case 27:n===null&&o&4&&my(s);case 26:case 5:is(t,s),n===null&&o&4&&fy(s),o&512&&nl(s,s.return);break;case 12:is(t,s);break;case 31:is(t,s),o&4&&vy(t,s);break;case 13:is(t,s),o&4&&Ey(t,s),o&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=H1.bind(null,s),ub(t,s))));break;case 22:if(o=s.memoizedState!==null||ts,!o){n=n!==null&&n.memoizedState!==null||kt,h=ts;var f=kt;ts=o,(kt=n)&&!f?ss(t,s,(s.subtreeFlags&8772)!==0):is(t,s),ts=h,kt=f}break;case 30:break;default:is(t,s)}}function yy(t){var n=t.alternate;n!==null&&(t.alternate=null,yy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ra(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var gt=null,mn=!1;function ns(t,n,s){for(s=s.child;s!==null;)_y(t,n,s),s=s.sibling}function _y(t,n,s){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount($n,s)}catch{}switch(s.tag){case 26:kt||Ni(s,n),ns(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:kt||Ni(s,n);var o=gt,h=mn;Gs(s.type)&&(gt=s.stateNode,mn=!1),ns(t,n,s),hl(s.stateNode),gt=o,mn=h;break;case 5:kt||Ni(s,n);case 6:if(o=gt,h=mn,gt=null,ns(t,n,s),gt=o,mn=h,gt!==null)if(mn)try{(gt.nodeType===9?gt.body:gt.nodeName==="HTML"?gt.ownerDocument.body:gt).removeChild(s.stateNode)}catch(f){nt(s,n,f)}else try{gt.removeChild(s.stateNode)}catch(f){nt(s,n,f)}break;case 18:gt!==null&&(mn?(t=gt,c_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Ha(t)):c_(gt,s.stateNode));break;case 4:o=gt,h=mn,gt=s.stateNode.containerInfo,mn=!0,ns(t,n,s),gt=o,mn=h;break;case 0:case 11:case 14:case 15:Ls(2,s,n),kt||Ls(4,s,n),ns(t,n,s);break;case 1:kt||(Ni(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&hy(s,n,o)),ns(t,n,s);break;case 21:ns(t,n,s);break;case 22:kt=(o=kt)||s.memoizedState!==null,ns(t,n,s),kt=o;break;default:ns(t,n,s)}}function vy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ha(t)}catch(s){nt(n,n.return,s)}}}function Ey(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ha(t)}catch(s){nt(n,n.return,s)}}function k1(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new py),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new py),n;default:throw Error(a(435,t.tag))}}function Wu(t,n){var s=k1(t);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=G1.bind(null,t,o);o.then(h,h)}})}function pn(t,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=t,p=n,E=p;e:for(;E!==null;){switch(E.tag){case 27:if(Gs(E.type)){gt=E.stateNode,mn=!1;break e}break;case 5:gt=E.stateNode,mn=!1;break e;case 3:case 4:gt=E.stateNode.containerInfo,mn=!0;break e}E=E.return}if(gt===null)throw Error(a(160));_y(f,p,h),gt=null,mn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ty(n,t),n=n.sibling}var ai=null;function Ty(t,n){var s=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:pn(n,t),gn(t),o&4&&(Ls(3,t,t.return),tl(3,t),Ls(5,t,t.return));break;case 1:pn(n,t),gn(t),o&512&&(kt||s===null||Ni(s,s.return)),o&64&&ts&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=ai;if(pn(n,t),gn(t),o&512&&(kt||s===null||Ni(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=t.memoizedState,s===null)if(o===null)if(t.stateNode===null){e:{o=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[gi]||f[It]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Jt(f,o,s),f[It]=t,Nt(f),o=f;break e;case"link":var p=T_("link","href",h).get(o+(s.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){p.splice(E,1);break t}}f=h.createElement(o),Jt(f,o,s),h.head.appendChild(f);break;case"meta":if(p=T_("meta","content",h).get(o+(s.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){p.splice(E,1);break t}}f=h.createElement(o),Jt(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[It]=t,Nt(f),o=f}t.stateNode=o}else b_(h,t.type,t.stateNode);else t.stateNode=E_(h,o,t.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?b_(h,t.type,t.stateNode):E_(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Hf(t,t.memoizedProps,s.memoizedProps)}break;case 27:pn(n,t),gn(t),o&512&&(kt||s===null||Ni(s,s.return)),s!==null&&o&4&&Hf(t,t.memoizedProps,s.memoizedProps);break;case 5:if(pn(n,t),gn(t),o&512&&(kt||s===null||Ni(s,s.return)),t.flags&32){h=t.stateNode;try{dn(h,"")}catch(le){nt(t,t.return,le)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Hf(t,h,s!==null?s.memoizedProps:h)),o&1024&&(Qf=!0);break;case 6:if(pn(n,t),gn(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,s=t.stateNode;try{s.nodeValue=o}catch(le){nt(t,t.return,le)}}break;case 3:if(pc=null,h=ai,ai=dc(n.containerInfo),pn(n,t),ai=h,gn(t),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Ha(n.containerInfo)}catch(le){nt(t,t.return,le)}Qf&&(Qf=!1,by(t));break;case 4:o=ai,ai=dc(t.stateNode.containerInfo),pn(n,t),gn(t),ai=o;break;case 12:pn(n,t),gn(t);break;case 31:pn(n,t),gn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Wu(t,o)));break;case 13:pn(n,t),gn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(tc=qt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Wu(t,o)));break;case 22:h=t.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,P=ts,G=kt;if(ts=P||h,kt=G||C,pn(n,t),kt=G,ts=P,gn(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||C||ts||kt||Gr(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){C=s=n;try{if(f=C.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=C.stateNode;var Y=C.memoizedProps.style,z=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(le){nt(C,C.return,le)}}}else if(n.tag===6){if(s===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(le){nt(C,C.return,le)}}}else if(n.tag===18){if(s===null){C=n;try{var q=C.stateNode;h?h_(q,!0):h_(C.stateNode,!1)}catch(le){nt(C,C.return,le)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Wu(t,s))));break;case 19:pn(n,t),gn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Wu(t,o)));break;case 30:break;case 21:break;default:pn(n,t),gn(t)}}function gn(t){var n=t.flags;if(n&2){try{for(var s,o=t.return;o!==null;){if(dy(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Gf(t);Ju(t,f,h);break;case 5:var p=s.stateNode;s.flags&32&&(dn(p,""),s.flags&=-33);var E=Gf(t);Ju(t,E,p);break;case 3:case 4:var C=s.stateNode.containerInfo,P=Gf(t);Ff(t,P,C);break;default:throw Error(a(161))}}catch(G){nt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function by(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;by(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function is(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)gy(t,n.alternate,n),n=n.sibling}function Gr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ls(4,n,n.return),Gr(n);break;case 1:Ni(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&hy(n,n.return,s),Gr(n);break;case 27:hl(n.stateNode);case 26:case 5:Ni(n,n.return),Gr(n);break;case 22:n.memoizedState===null&&Gr(n);break;case 30:Gr(n);break;default:Gr(n)}t=t.sibling}}function ss(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:ss(h,f,s),tl(4,f);break;case 1:if(ss(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){nt(o,o.return,P)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Wp(C[h],E)}catch(P){nt(o,o.return,P)}}s&&p&64&&cy(f),nl(f,f.return);break;case 27:my(f);case 26:case 5:ss(h,f,s),s&&o===null&&p&4&&fy(f),nl(f,f.return);break;case 12:ss(h,f,s);break;case 31:ss(h,f,s),s&&p&4&&vy(h,f);break;case 13:ss(h,f,s),s&&p&4&&Ey(h,f);break;case 22:f.memoizedState===null&&ss(h,f,s),nl(f,f.return);break;case 30:break;default:ss(h,f,s)}n=n.sibling}}function Kf(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&qo(s))}function Yf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&qo(t))}function oi(t,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ay(t,n,s,o),n=n.sibling}function Ay(t,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:oi(t,n,s,o),h&2048&&tl(9,n);break;case 1:oi(t,n,s,o);break;case 3:oi(t,n,s,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&qo(t)));break;case 12:if(h&2048){oi(t,n,s,o),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){nt(n,n.return,C)}}else oi(t,n,s,o);break;case 31:oi(t,n,s,o);break;case 13:oi(t,n,s,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?oi(t,n,s,o):il(t,n):f._visibility&2?oi(t,n,s,o):(f._visibility|=2,Oa(t,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Kf(p,n);break;case 24:oi(t,n,s,o),h&2048&&Yf(n.alternate,n);break;default:oi(t,n,s,o)}}function Oa(t,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,p=n,E=s,C=o,P=p.flags;switch(p.tag){case 0:case 11:case 15:Oa(f,p,E,C,h),tl(8,p);break;case 23:break;case 22:var G=p.stateNode;p.memoizedState!==null?G._visibility&2?Oa(f,p,E,C,h):il(f,p):(G._visibility|=2,Oa(f,p,E,C,h)),h&&P&2048&&Kf(p.alternate,p);break;case 24:Oa(f,p,E,C,h),h&&P&2048&&Yf(p.alternate,p);break;default:Oa(f,p,E,C,h)}n=n.sibling}}function il(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,o=n,h=o.flags;switch(o.tag){case 22:il(s,o),h&2048&&Kf(o.alternate,o);break;case 24:il(s,o),h&2048&&Yf(o.alternate,o);break;default:il(s,o)}n=n.sibling}}var sl=8192;function Ma(t,n,s){if(t.subtreeFlags&sl)for(t=t.child;t!==null;)Sy(t,n,s),t=t.sibling}function Sy(t,n,s){switch(t.tag){case 26:Ma(t,n,s),t.flags&sl&&t.memoizedState!==null&&Tb(s,ai,t.memoizedState,t.memoizedProps);break;case 5:Ma(t,n,s);break;case 3:case 4:var o=ai;ai=dc(t.stateNode.containerInfo),Ma(t,n,s),ai=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=sl,sl=16777216,Ma(t,n,s),sl=o):Ma(t,n,s));break;default:Ma(t,n,s)}}function wy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function rl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ft=o,xy(o,t)}wy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ry(t),t=t.sibling}function Ry(t){switch(t.tag){case 0:case 11:case 15:rl(t),t.flags&2048&&Ls(9,t,t.return);break;case 3:rl(t);break;case 12:rl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,ec(t)):rl(t);break;default:rl(t)}}function ec(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ft=o,xy(o,t)}wy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ls(8,n,n.return),ec(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,ec(n));break;default:ec(n)}t=t.sibling}}function xy(t,n){for(;Ft!==null;){var s=Ft;switch(s.tag){case 0:case 11:case 15:Ls(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:qo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Ft=o;else e:for(s=t;Ft!==null;){o=Ft;var h=o.sibling,f=o.return;if(yy(o),o===s){Ft=null;break e}if(h!==null){h.return=f,Ft=h;break e}Ft=f}}}var U1={getCacheForType:function(t){var n=$t(Ot),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return $t(Ot).controller.signal}},L1=typeof WeakMap=="function"?WeakMap:Map,Ze=0,ct=null,Ne=null,Ve=0,tt=0,xn=null,js=!1,Va=!1,Xf=!1,rs=0,Tt=0,Ps=0,Fr=0,$f=0,Cn=0,ka=0,al=null,yn=null,Zf=!1,tc=0,Cy=0,nc=1/0,ic=null,zs=null,Pt=0,Bs=null,Ua=null,as=0,Jf=0,Wf=null,Iy=null,ol=0,ed=null;function In(){return(Ze&2)!==0&&Ve!==0?Ve&-Ve:H.T!==null?ad():su()}function Ny(){if(Cn===0)if((Ve&536870912)===0||ze){var t=_r;_r<<=1,(_r&3932160)===0&&(_r=262144),Cn=t}else Cn=536870912;return t=wn.current,t!==null&&(t.flags|=32),Cn}function _n(t,n,s){(t===ct&&(tt===2||tt===9)||t.cancelPendingCommit!==null)&&(La(t,0),qs(t,Ve,Cn,!1)),vr(t,s),((Ze&2)===0||t!==ct)&&(t===ct&&((Ze&2)===0&&(Fr|=s),Tt===4&&qs(t,Ve,Cn,!1)),Di(t))}function Dy(t,n,s){if((Ze&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&t.expiredLanes)===0||Zn(t,n),h=o?z1(t,n):nd(t,n,!0),f=o;do{if(h===0){Va&&!o&&qs(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!j1(s)){h=nd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var E=t;h=al;var C=E.current.memoizedState.isDehydrated;if(C&&(La(E,p).flags|=256),p=nd(E,p,!1),p!==2){if(Xf&&!C){E.errorRecoveryDisabledLanes|=f,Fr|=f,h=4;break e}f=yn,yn=h,f!==null&&(yn===null?yn=f:yn.push.apply(yn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){La(t,0),qs(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:qs(o,n,Cn,!js);break e;case 2:yn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=tc+300-qt(),10<h)){if(qs(o,n,Cn,!js),di(o,0,!0)!==0)break e;as=n,o.timeoutHandle=l_(Oy.bind(null,o,s,yn,ic,Zf,n,Cn,Fr,ka,js,f,"Throttled",-0,0),h);break e}Oy(o,s,yn,ic,Zf,n,Cn,Fr,ka,js,f,null,-0,0)}}break}while(!0);Di(t)}function Oy(t,n,s,o,h,f,p,E,C,P,G,Y,z,q){if(t.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ei},Sy(n,f,Y);var le=(f&62914560)===f?tc-qt():(f&4194048)===f?Cy-qt():0;if(le=bb(Y,le),le!==null){as=f,t.cancelPendingCommit=le(zy.bind(null,t,n,f,s,o,h,p,E,C,G,Y,null,z,q)),qs(t,f,p,!P);return}}zy(t,n,f,s,o,h,p,E,C)}function j1(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!An(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function qs(t,n,s,o){n&=~$f,n&=~Fr,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-At(h),p=1<<f;o[f]=-1,h&=~p}s!==0&&Er(t,s,n)}function sc(){return(Ze&6)===0?(ll(0),!1):!0}function td(){if(Ne!==null){if(tt===0)var t=Ne.return;else t=Ne,Xi=Ur=null,yf(t),xa=null,Go=0,t=Ne;for(;t!==null;)uy(t.alternate,t),t=t.return;Ne=null}}function La(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,sb(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),as=0,td(),ct=t,Ne=s=Ki(t.current,null),Ve=n,tt=0,xn=null,js=!1,Va=Zn(t,n),Xf=!1,ka=Cn=$f=Fr=Ps=Tt=0,yn=al=null,Zf=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-At(o),f=1<<h;n|=t[h],o&=~f}return rs=n,wu(),s}function My(t,n){Re=null,H.H=Jo,n===Ra||n===Mu?(n=Xp(),tt=3):n===rf?(n=Xp(),tt=4):tt=n===Mf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,xn=n,Ne===null&&(Tt=1,Ku(t,jn(n,t.current)))}function Vy(){var t=wn.current;return t===null?!0:(Ve&4194048)===Ve?qn===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?t===qn:!1}function ky(){var t=H.H;return H.H=Jo,t===null?Jo:t}function Uy(){var t=H.A;return H.A=U1,t}function rc(){Tt=4,js||(Ve&4194048)!==Ve&&wn.current!==null||(Va=!0),(Ps&134217727)===0&&(Fr&134217727)===0||ct===null||qs(ct,Ve,Cn,!1)}function nd(t,n,s){var o=Ze;Ze|=2;var h=ky(),f=Uy();(ct!==t||Ve!==n)&&(ic=null,La(t,n)),n=!1;var p=Tt;e:do try{if(tt!==0&&Ne!==null){var E=Ne,C=xn;switch(tt){case 8:td(),p=6;break e;case 3:case 2:case 9:case 6:wn.current===null&&(n=!0);var P=tt;if(tt=0,xn=null,ja(t,E,C,P),s&&Va){p=0;break e}break;default:P=tt,tt=0,xn=null,ja(t,E,C,P)}}P1(),p=Tt;break}catch(G){My(t,G)}while(!0);return n&&t.shellSuspendCounter++,Xi=Ur=null,Ze=o,H.H=h,H.A=f,Ne===null&&(ct=null,Ve=0,wu()),p}function P1(){for(;Ne!==null;)Ly(Ne)}function z1(t,n){var s=Ze;Ze|=2;var o=ky(),h=Uy();ct!==t||Ve!==n?(ic=null,nc=qt()+500,La(t,n)):Va=Zn(t,n);e:do try{if(tt!==0&&Ne!==null){n=Ne;var f=xn;t:switch(tt){case 1:tt=0,xn=null,ja(t,n,f,1);break;case 2:case 9:if(Kp(f)){tt=0,xn=null,jy(n);break}n=function(){tt!==2&&tt!==9||ct!==t||(tt=7),Di(t)},f.then(n,n);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:Kp(f)?(tt=0,xn=null,jy(n)):(tt=0,xn=null,ja(t,n,f,7));break;case 5:var p=null;switch(Ne.tag){case 26:p=Ne.memoizedState;case 5:case 27:var E=Ne;if(p?A_(p):E.stateNode.complete){tt=0,xn=null;var C=E.sibling;if(C!==null)Ne=C;else{var P=E.return;P!==null?(Ne=P,ac(P)):Ne=null}break t}}tt=0,xn=null,ja(t,n,f,5);break;case 6:tt=0,xn=null,ja(t,n,f,6);break;case 8:td(),Tt=6;break e;default:throw Error(a(462))}}B1();break}catch(G){My(t,G)}while(!0);return Xi=Ur=null,H.H=o,H.A=h,Ze=s,Ne!==null?0:(ct=null,Ve=0,wu(),Tt)}function B1(){for(;Ne!==null&&!yr();)Ly(Ne)}function Ly(t){var n=oy(t.alternate,t,rs);t.memoizedProps=t.pendingProps,n===null?ac(t):Ne=n}function jy(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=ty(s,n,n.pendingProps,n.type,void 0,Ve);break;case 11:n=ty(s,n,n.pendingProps,n.type.render,n.ref,Ve);break;case 5:yf(n);default:uy(s,n),n=Ne=Up(n,rs),n=oy(s,n,rs)}t.memoizedProps=t.pendingProps,n===null?ac(t):Ne=n}function ja(t,n,s,o){Xi=Ur=null,yf(n),xa=null,Go=0;var h=n.return;try{if(I1(t,h,n,s,Ve)){Tt=1,Ku(t,jn(s,t.current)),Ne=null;return}}catch(f){if(h!==null)throw Ne=h,f;Tt=1,Ku(t,jn(s,t.current)),Ne=null;return}n.flags&32768?(ze||o===1?t=!0:Va||(Ve&536870912)!==0?t=!1:(js=t=!0,(o===2||o===9||o===3||o===6)&&(o=wn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Py(n,t)):ac(n)}function ac(t){var n=t;do{if((n.flags&32768)!==0){Py(n,js);return}t=n.return;var s=O1(n.alternate,n,rs);if(s!==null){Ne=s;return}if(n=n.sibling,n!==null){Ne=n;return}Ne=n=t}while(n!==null);Tt===0&&(Tt=5)}function Py(t,n){do{var s=M1(t.alternate,t);if(s!==null){s.flags&=32767,Ne=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=s}while(t!==null);Tt=6,Ne=null}function zy(t,n,s,o,h,f,p,E,C){t.cancelPendingCommit=null;do oc();while(Pt!==0);if((Ze&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Hh,Vh(t,s,f,p,E,C),t===ct&&(Ne=ct=null,Ve=0),Ua=n,Bs=t,as=s,Jf=f,Wf=h,Iy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,F1(_s,function(){return Fy(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=se.p,se.p=2,p=Ze,Ze|=4;try{V1(t,n,s)}finally{Ze=p,se.p=h,H.T=o}}Pt=1,By(),qy(),Hy()}}function By(){if(Pt===1){Pt=0;var t=Bs,n=Ua,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=H.T,H.T=null;var o=se.p;se.p=2;var h=Ze;Ze|=4;try{Ty(n,t);var f=md,p=xp(t.containerInfo),E=f.focusedElem,C=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&Rp(E.ownerDocument.documentElement,E)){if(C!==null&&jh(E)){var P=C.start,G=C.end;if(G===void 0&&(G=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(G,E.value.length);else{var Y=E.ownerDocument||document,z=Y&&Y.defaultView||window;if(z.getSelection){var q=z.getSelection(),le=E.textContent.length,_e=Math.min(C.start,le),ot=C.end===void 0?_e:Math.min(C.end,le);!q.extend&&_e>ot&&(p=ot,ot=_e,_e=p);var k=wp(E,_e),D=wp(E,ot);if(k&&D&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var j=Y.createRange();j.setStart(k.node,k.offset),q.removeAllRanges(),_e>ot?(q.addRange(j),q.extend(D.node,D.offset)):(j.setEnd(D.node,D.offset),q.addRange(j))}}}}for(Y=[],q=E;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}vc=!!dd,md=dd=null}finally{Ze=h,se.p=o,H.T=s}}t.current=n,Pt=2}}function qy(){if(Pt===2){Pt=0;var t=Bs,n=Ua,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=H.T,H.T=null;var o=se.p;se.p=2;var h=Ze;Ze|=4;try{gy(t,n.alternate,n)}finally{Ze=h,se.p=o,H.T=s}}Pt=3}}function Hy(){if(Pt===4||Pt===3){Pt=0,na();var t=Bs,n=Ua,s=as,o=Iy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Pt=5:(Pt=0,Ua=Bs=null,Gy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(zs=null),Hi(s),n=n.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot($n,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,h=se.p,se.p=2,H.T=null;try{for(var f=t.onRecoverableError,p=0;p<o.length;p++){var E=o[p];f(E.value,{componentStack:E.stack})}}finally{H.T=n,se.p=h}}(as&3)!==0&&oc(),Di(t),h=t.pendingLanes,(s&261930)!==0&&(h&42)!==0?t===ed?ol++:(ol=0,ed=t):ol=0,ll(0)}}function Gy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,qo(n)))}function oc(){return By(),qy(),Hy(),Fy()}function Fy(){if(Pt!==5)return!1;var t=Bs,n=Jf;Jf=0;var s=Hi(as),o=H.T,h=se.p;try{se.p=32>s?32:s,H.T=null,s=Wf,Wf=null;var f=Bs,p=as;if(Pt=0,Ua=Bs=null,as=0,(Ze&6)!==0)throw Error(a(331));var E=Ze;if(Ze|=4,Ry(f.current),Ay(f,f.current,p,s),Ze=E,ll(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot($n,f)}catch{}return!0}finally{se.p=h,H.T=o,Gy(t,n)}}function Qy(t,n,s){n=jn(s,n),n=Of(t.stateNode,n,2),t=Vs(t,n,2),t!==null&&(vr(t,2),Di(t))}function nt(t,n,s){if(t.tag===3)Qy(t,t,s);else for(;n!==null;){if(n.tag===3){Qy(n,t,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(zs===null||!zs.has(o))){t=jn(s,t),s=Kg(2),o=Vs(n,s,2),o!==null&&(Yg(s,o,n,t),vr(o,2),Di(o));break}}n=n.return}}function id(t,n,s){var o=t.pingCache;if(o===null){o=t.pingCache=new L1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Xf=!0,h.add(s),t=q1.bind(null,t,n,s),n.then(t,t))}function q1(t,n,s){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,ct===t&&(Ve&s)===s&&(Tt===4||Tt===3&&(Ve&62914560)===Ve&&300>qt()-tc?(Ze&2)===0&&La(t,0):$f|=s,ka===Ve&&(ka=0)),Di(t)}function Ky(t,n){n===0&&(n=iu()),t=Mr(t,n),t!==null&&(vr(t,n),Di(t))}function H1(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),Ky(t,s)}function G1(t,n){var s=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Ky(t,s)}function F1(t,n){return ut(t,n)}var lc=null,Pa=null,sd=!1,uc=!1,rd=!1,Hs=0;function Di(t){t!==Pa&&t.next===null&&(Pa===null?lc=Pa=t:Pa=Pa.next=t),uc=!0,sd||(sd=!0,K1())}function ll(t,n){if(!rd&&uc){rd=!0;do for(var s=!1,o=lc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-At(42|t)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Zy(o,f))}else f=Ve,f=di(o,o===ct?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Zn(o,f)||(s=!0,Zy(o,f));o=o.next}while(s);rd=!1}}function Q1(){Yy()}function Yy(){uc=sd=!1;var t=0;Hs!==0&&ib()&&(t=Hs);for(var n=qt(),s=null,o=lc;o!==null;){var h=o.next,f=Xy(o,n);f===0?(o.next=null,s===null?lc=h:s.next=h,h===null&&(Pa=s)):(s=o,(t!==0||(f&3)!==0)&&(uc=!0)),o=h}Pt!==0&&Pt!==5||ll(t),Hs!==0&&(Hs=0)}function Xy(t,n){for(var s=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-At(f),E=1<<p,C=h[p];C===-1?((E&s)===0||(E&o)!==0)&&(h[p]=Mh(E,n)):C<=n&&(t.expiredLanes|=E),f&=~E}if(n=ct,s=Ve,s=di(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,s===0||t===n&&(tt===2||tt===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Dn(o),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Zn(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(o!==null&&Dn(o),Hi(s)){case 2:case 8:s=_o;break;case 32:s=_s;break;case 268435456:s=Jl;break;default:s=_s}return o=$y.bind(null,t),s=ut(s,o),t.callbackPriority=n,t.callbackNode=s,n}return o!==null&&o!==null&&Dn(o),t.callbackPriority=2,t.callbackNode=null,2}function $y(t,n){if(Pt!==0&&Pt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(oc()&&t.callbackNode!==s)return null;var o=Ve;return o=di(t,t===ct?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Dy(t,o,n),Xy(t,qt()),t.callbackNode!=null&&t.callbackNode===s?$y.bind(null,t):null)}function Zy(t,n){if(oc())return null;Dy(t,n,!0)}function K1(){rb(function(){(Ze&6)!==0?ut(yo,Q1):Yy()})}function ad(){if(Hs===0){var t=Sa;t===0&&(t=hi,hi<<=1,(hi&261888)===0&&(hi=256)),Hs=t}return Hs}function Jy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ua(""+t)}function Wy(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function Y1(t,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=Jy((h[Ht]||null).action),p=o.submitter;p&&(n=(n=p[Ht]||null)?Jy(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new Si("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Hs!==0){var C=p?Wy(h,p):new FormData(h);Rf(s,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=p?Wy(h,p):new FormData(h),Rf(s,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var od=0;od<qh.length;od++){var ld=qh[od],X1=ld.toLowerCase(),$1=ld[0].toUpperCase()+ld.slice(1);ri(X1,"on"+$1)}ri(Np,"onAnimationEnd"),ri(Dp,"onAnimationIteration"),ri(Op,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(f1,"onTransitionRun"),ri(d1,"onTransitionStart"),ri(m1,"onTransitionCancel"),ri(Mp,"onTransitionEnd"),Ei("onMouseEnter",["mouseout","mouseover"]),Ei("onMouseLeave",["mouseout","mouseover"]),Ei("onPointerEnter",["pointerout","pointerover"]),Ei("onPointerLeave",["pointerout","pointerover"]),vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Z1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ul));function e_(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var o=t[s],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var E=o[p],C=E.instance,P=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=P;try{f(h)}catch(G){Su(G)}h.currentTarget=null,f=C}else for(p=0;p<o.length;p++){if(E=o[p],C=E.instance,P=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=P;try{f(h)}catch(G){Su(G)}h.currentTarget=null,f=C}}}}function De(t,n){var s=n[sa];s===void 0&&(s=n[sa]=new Set);var o=t+"__bubble";s.has(o)||(t_(n,t,2,!1),s.add(o))}function ud(t,n,s){var o=0;n&&(o|=4),t_(s,t,o,n)}var cc="_reactListening"+Math.random().toString(36).slice(2);function cd(t){if(!t[cc]){t[cc]=!0,To.forEach(function(s){s!=="selectionchange"&&(Z1.has(s)||ud(s,!1,t),ud(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[cc]||(n[cc]=!0,ud("selectionchange",!1,n))}}function t_(t,n,s,o){switch(N_(n)){case 2:var h=wb;break;case 8:h=Rb;break;default:h=wd}s=h.bind(null,n,s,t),h=void 0,!wr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,s,{capture:!0,passive:h}):t.addEventListener(n,s,!0):h!==void 0?t.addEventListener(n,s,{passive:h}):t.addEventListener(n,s,!1)}function hd(t,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var E=o.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=o.return;p!==null;){var C=p.tag;if((C===3||C===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=yi(E),p===null)return;if(C=p.tag,C===5||C===6||C===26||C===27){o=f=p;continue e}E=E.parentNode}}o=o.return}Ss(function(){var P=f,G=Vn(s),Y=[];e:{var z=Vp.get(t);if(z!==void 0){var q=Si,le=t;switch(t){case"keypress":if(xr(s)===0)break e;case"keydown":case"keyup":q=Tu;break;case"focusin":le="focus",q=Ir;break;case"focusout":le="blur",q=Ir;break;case"beforeblur":case"afterblur":q=Ir;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Vo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=fu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Np:case Dp:case Op:q=mu;break;case Mp:q=A;break;case"scroll":case"scrollend":q=Mo;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=pu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Qi;break;case"toggle":case"beforetoggle":q=we}var _e=(n&4)!==0,ot=!_e&&(t==="scroll"||t==="scrollend"),k=_e?z!==null?z+"Capture":null:z;_e=[];for(var D=P,j;D!==null;){var Q=D;if(j=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||j===null||k===null||(Q=ti(D,k),Q!=null&&_e.push(cl(D,Q,j))),ot)break;D=D.return}0<_e.length&&(z=new q(z,le,null,s,G),Y.push({event:z,listeners:_e}))}}if((n&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",z&&s!==No&&(le=s.relatedTarget||s.fromElement)&&(yi(le)||le[pi]))break e;if((q||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,q?(le=s.relatedTarget||s.toElement,q=P,le=le?yi(le):null,le!==null&&(ot=c(le),_e=le.tag,le!==ot||_e!==5&&_e!==27&&_e!==6)&&(le=null)):(q=null,le=P),q!==le)){if(_e=Vo,Q="onMouseLeave",k="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Qi,Q="onPointerLeave",k="onPointerEnter",D="pointer"),ot=q==null?z:Tn(q),j=le==null?z:Tn(le),z=new _e(Q,D+"leave",q,s,G),z.target=ot,z.relatedTarget=j,Q=null,yi(G)===P&&(_e=new _e(k,D+"enter",le,s,G),_e.target=j,_e.relatedTarget=ot,Q=_e),ot=Q,q&&le)t:{for(_e=J1,k=q,D=le,j=0,Q=k;Q;Q=_e(Q))j++;Q=0;for(var de=D;de;de=_e(de))Q++;for(;0<j-Q;)k=_e(k),j--;for(;0<Q-j;)D=_e(D),Q--;for(;j--;){if(k===D||D!==null&&k===D.alternate){_e=k;break t}k=_e(k),D=_e(D)}_e=null}else _e=null;q!==null&&n_(Y,z,q,_e,!1),le!==null&&ot!==null&&n_(Y,ot,le,_e,!0)}}e:{if(z=P?Tn(P):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var Fe=vp;else if(yp(z))if(Ep)Fe=u1;else{Fe=o1;var ue=a1}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&la(P.elementType)&&(Fe=vp):Fe=l1;if(Fe&&(Fe=Fe(t,P))){_p(Y,Fe,s,G);break e}ue&&ue(t,z,P),t==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&xo(z,"number",z.value)}switch(ue=P?Tn(P):window,t){case"focusin":(yp(ue)||ue.contentEditable==="true")&&(ga=ue,Ph=P,Po=null);break;case"focusout":Po=Ph=ga=null;break;case"mousedown":zh=!0;break;case"contextmenu":case"mouseup":case"dragend":zh=!1,Cp(Y,s,G);break;case"selectionchange":if(h1)break;case"keydown":case"keyup":Cp(Y,s,G)}var xe;if($e)e:{switch(t){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else pa?Nr(t,s)&&(ke="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(ke="onCompositionStart");ke&&(xi&&s.locale!=="ko"&&(pa||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&pa&&(xe=Oo()):(Ai=G,Do="value"in Ai?Ai.value:Ai.textContent,pa=!0)),ue=hc(P,ke),0<ue.length&&(ke=new Ri(ke,t,null,s,G),Y.push({event:ke,listeners:ue}),xe?ke.data=xe:(xe=ma(s),xe!==null&&(ke.data=xe)))),(xe=Un?n1(t,s):i1(t,s))&&(ke=hc(P,"onBeforeInput"),0<ke.length&&(ue=new Ri("onBeforeInput","beforeinput",null,s,G),Y.push({event:ue,listeners:ke}),ue.data=xe)),Y1(Y,t,P,s,G)}e_(Y,n)})}function cl(t,n,s){return{instance:t,listener:n,currentTarget:s}}function hc(t,n){for(var s=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ti(t,s),h!=null&&o.unshift(cl(t,h,f)),h=ti(t,n),h!=null&&o.push(cl(t,h,f))),t.tag===3)return o;t=t.return}return[]}function J1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function n_(t,n,s,o,h){for(var f=n._reactName,p=[];s!==null&&s!==o;){var E=s,C=E.alternate,P=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||P===null||(C=P,h?(P=ti(s,f),P!=null&&p.unshift(cl(s,P,C))):h||(P=ti(s,f),P!=null&&p.push(cl(s,P,C)))),s=s.return}p.length!==0&&t.push({event:n,listeners:p})}var W1=/\r\n?/g,eb=/\u0000|\uFFFD/g;function i_(t){return(typeof t=="string"?t:""+t).replace(W1,`
`).replace(eb,"")}function s_(t,n){return n=i_(n),i_(t)===n}function at(t,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||dn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&dn(t,""+o);break;case"className":bn(t,"class",o);break;case"tabIndex":bn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":bn(t,s,o);break;case"style":Io(t,o,f);break;case"data":if(n!=="object"){bn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=ua(""+o),t.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&at(t,n,"name",h.name,h,null),at(t,n,"formEncType",h.formEncType,h,null),at(t,n,"formMethod",h.formMethod,h,null),at(t,n,"formTarget",h.formTarget,h,null)):(at(t,n,"encType",h.encType,h,null),at(t,n,"method",h.method,h,null),at(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=ua(""+o),t.setAttribute(s,o);break;case"onClick":o!=null&&(t.onclick=ei);break;case"onScroll":o!=null&&De("scroll",t);break;case"onScrollEnd":o!=null&&De("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}s=ua(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""+o):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":o===!0?t.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,o):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(s,o):t.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(s):t.setAttribute(s,o);break;case"popover":De("beforetoggle",t),De("toggle",t),aa(t,"popover",o);break;case"xlinkActuate":Dt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Dt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Dt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Dt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Dt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Dt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Dt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Dt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Dt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":aa(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=hu.get(s)||s,aa(t,s,o))}}function fd(t,n,s,o,h,f){switch(s){case"style":Io(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof o=="string"?dn(t,o):(typeof o=="number"||typeof o=="bigint")&&dn(t,""+o);break;case"onScroll":o!=null&&De("scroll",t);break;case"onScrollEnd":o!=null&&De("scrollend",t);break;case"onClick":o!=null&&(t.onclick=ei);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bo.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=t[Ht]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,o,h);break e}s in t?t[s]=o:o===!0?t.setAttribute(s,""):aa(t,s,o)}}}function Jt(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",t),De("load",t);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var p=s[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:at(t,n,f,p,s,null)}}h&&at(t,n,"srcSet",s.srcSet,s,null),o&&at(t,n,"src",s.src,s,null);return;case"input":De("invalid",t);var E=f=p=h=null,C=null,P=null;for(o in s)if(s.hasOwnProperty(o)){var G=s[o];if(G!=null)switch(o){case"name":h=G;break;case"type":p=G;break;case"checked":C=G;break;case"defaultChecked":P=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:at(t,n,o,G,s,null)}}lu(t,f,E,C,P,p,h,!1);return;case"select":De("invalid",t),o=p=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":o=E;default:at(t,n,h,E,s,null)}n=f,s=p,t.multiple=!!o,n!=null?Es(t,!!o,n,!1):s!=null&&Es(t,!!o,s,!0);return;case"textarea":De("invalid",t),f=h=o=null;for(p in s)if(s.hasOwnProperty(p)&&(E=s[p],E!=null))switch(p){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:at(t,n,p,E,s,null)}Ts(t,o,h,f);return;case"option":for(C in s)s.hasOwnProperty(C)&&(o=s[C],o!=null)&&(C==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":at(t,n,C,o,s,null));return;case"dialog":De("beforetoggle",t),De("toggle",t),De("cancel",t),De("close",t);break;case"iframe":case"object":De("load",t);break;case"video":case"audio":for(o=0;o<ul.length;o++)De(ul[o],t);break;case"image":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"embed":case"source":case"link":De("error",t),De("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in s)if(s.hasOwnProperty(P)&&(o=s[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:at(t,n,P,o,s,null)}return;default:if(la(n)){for(G in s)s.hasOwnProperty(G)&&(o=s[G],o!==void 0&&fd(t,n,G,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&at(t,n,E,o,s,null))}function tb(t,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,C=null,P=null,G=null;for(q in s){var Y=s[q];if(s.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":C=Y;default:o.hasOwnProperty(q)||at(t,n,q,null,o,Y)}}for(var z in o){var q=o[z];if(Y=s[z],o.hasOwnProperty(z)&&(q!=null||Y!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":P=q;break;case"defaultChecked":G=q;break;case"value":p=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==Y&&at(t,n,z,q,o,Y)}}oa(t,p,E,C,P,G,f,h);return;case"select":q=p=E=z=null;for(f in s)if(C=s[f],s.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":q=C;default:o.hasOwnProperty(f)||at(t,n,f,null,o,C)}for(h in o)if(f=o[h],C=s[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==C&&at(t,n,h,f,o,C)}n=E,s=p,o=q,z!=null?Es(t,!!s,z,!1):!!o!=!!s&&(n!=null?Es(t,!!s,n,!0):Es(t,!!s,s?[]:"",!1));return;case"textarea":q=z=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:at(t,n,E,null,o,h)}for(p in o)if(h=o[p],f=s[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&at(t,n,p,h,o,f)}uu(t,z,q);return;case"option":for(var le in s)z=s[le],s.hasOwnProperty(le)&&z!=null&&!o.hasOwnProperty(le)&&(le==="selected"?t.selected=!1:at(t,n,le,null,o,z));for(C in o)z=o[C],q=s[C],o.hasOwnProperty(C)&&z!==q&&(z!=null||q!=null)&&(C==="selected"?t.selected=z&&typeof z!="function"&&typeof z!="symbol":at(t,n,C,z,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in s)z=s[_e],s.hasOwnProperty(_e)&&z!=null&&!o.hasOwnProperty(_e)&&at(t,n,_e,null,o,z);for(P in o)if(z=o[P],q=s[P],o.hasOwnProperty(P)&&z!==q&&(z!=null||q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:at(t,n,P,z,o,q)}return;default:if(la(n)){for(var ot in s)z=s[ot],s.hasOwnProperty(ot)&&z!==void 0&&!o.hasOwnProperty(ot)&&fd(t,n,ot,void 0,o,z);for(G in o)z=o[G],q=s[G],!o.hasOwnProperty(G)||z===q||z===void 0&&q===void 0||fd(t,n,G,z,o,q);return}}for(var k in s)z=s[k],s.hasOwnProperty(k)&&z!=null&&!o.hasOwnProperty(k)&&at(t,n,k,null,o,z);for(Y in o)z=o[Y],q=s[Y],!o.hasOwnProperty(Y)||z===q||z==null&&q==null||at(t,n,Y,z,o,q)}function r_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function nb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&r_(p)){for(p=0,E=h.responseEnd,o+=1;o<s.length;o++){var C=s[o],P=C.startTime;if(P>E)break;var G=C.transferSize,Y=C.initiatorType;G&&r_(Y)&&(C=C.responseEnd,p+=G*(C<E?1:(E-P)/(C-P)))}if(--o,n+=8*(f+p)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var dd=null,md=null;function fc(t){return t.nodeType===9?t:t.ownerDocument}function a_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function o_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function pd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var gd=null;function ib(){var t=window.event;return t&&t.type==="popstate"?t===gd?!1:(gd=t,!0):(gd=null,!1)}var l_=typeof setTimeout=="function"?setTimeout:void 0,sb=typeof clearTimeout=="function"?clearTimeout:void 0,u_=typeof Promise=="function"?Promise:void 0,rb=typeof queueMicrotask=="function"?queueMicrotask:typeof u_<"u"?function(t){return u_.resolve(null).then(t).catch(ab)}:l_;function ab(t){setTimeout(function(){throw t})}function Gs(t){return t==="head"}function c_(t,n){var s=n,o=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){t.removeChild(h),Ha(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")hl(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,hl(s);for(var f=s.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[gi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=p}}else s==="body"&&hl(t.ownerDocument.body);s=h}while(s);Ha(n)}function h_(t,n){var s=t;t=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=o}while(s)}function yd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":yd(s),ra(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function ob(t,n,s,o){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[gi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Hn(t.nextSibling),t===null)break}return null}function lb(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Hn(t.nextSibling),t===null))return null;return t}function f_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Hn(t.nextSibling),t===null))return null;return t}function _d(t){return t.data==="$?"||t.data==="$~"}function vd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function ub(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Hn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Ed=null;function d_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return Hn(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function m_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function p_(t,n,s){switch(n=fc(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function hl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ra(t)}var Gn=new Map,g_=new Set;function dc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var os=se.d;se.d={f:cb,r:hb,D:fb,C:db,L:mb,m:pb,X:yb,S:gb,M:_b};function cb(){var t=os.f(),n=sc();return t||n}function hb(t){var n=Mn(t);n!==null&&n.tag===5&&n.type==="form"?Mg(n):os.r(t)}var za=typeof document>"u"?null:document;function y_(t,n,s){var o=za;if(o&&typeof n=="string"&&n){var h=fn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),g_.has(h)||(g_.add(h),t={rel:t,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Jt(n,"link",t),Nt(n),o.head.appendChild(n)))}}function fb(t){os.D(t),y_("dns-prefetch",t,null)}function db(t,n){os.C(t,n),y_("preconnect",t,n)}function mb(t,n,s){os.L(t,n,s);var o=za;if(o&&t&&n){var h='link[rel="preload"][as="'+fn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+fn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+fn(s.imageSizes)+'"]')):h+='[href="'+fn(t)+'"]';var f=h;switch(n){case"style":f=Ba(t);break;case"script":f=qa(t)}Gn.has(f)||(t=w({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),Gn.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(fl(f))||n==="script"&&o.querySelector(dl(f))||(n=o.createElement("link"),Jt(n,"link",t),Nt(n),o.head.appendChild(n)))}}function pb(t,n){os.m(t,n);var s=za;if(s&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+fn(o)+'"][href="'+fn(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=qa(t)}if(!Gn.has(f)&&(t=w({rel:"modulepreload",href:t},n),Gn.set(f,t),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(dl(f)))return}o=s.createElement("link"),Jt(o,"link",t),Nt(o),s.head.appendChild(o)}}}function gb(t,n,s){os.S(t,n,s);var o=za;if(o&&t){var h=_i(o).hoistableStyles,f=Ba(t);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=o.querySelector(fl(f)))E.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":n},s),(s=Gn.get(f))&&Td(t,s);var C=p=o.createElement("link");Nt(C),Jt(C,"link",t),C._p=new Promise(function(P,G){C.onload=P,C.onerror=G}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,mc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function yb(t,n){os.X(t,n);var s=za;if(s&&t){var o=_i(s).hoistableScripts,h=qa(t),f=o.get(h);f||(f=s.querySelector(dl(h)),f||(t=w({src:t,async:!0},n),(n=Gn.get(h))&&bd(t,n),f=s.createElement("script"),Nt(f),Jt(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function _b(t,n){os.M(t,n);var s=za;if(s&&t){var o=_i(s).hoistableScripts,h=qa(t),f=o.get(h);f||(f=s.querySelector(dl(h)),f||(t=w({src:t,async:!0,type:"module"},n),(n=Gn.get(h))&&bd(t,n),f=s.createElement("script"),Nt(f),Jt(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function __(t,n,s,o){var h=(h=J.current)?dc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ba(s.href),s=_i(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Ba(s.href);var f=_i(h).hoistableStyles,p=f.get(t);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=h.querySelector(fl(t)))&&!f._p&&(p.instance=f,p.state.loading=5),Gn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Gn.set(t,s),f||vb(h,t,s,p.state))),n&&o===null)throw Error(a(528,""));return p}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=qa(s),s=_i(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Ba(t){return'href="'+fn(t)+'"'}function fl(t){return'link[rel="stylesheet"]['+t+"]"}function v_(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function vb(t,n,s,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Jt(n,"link",s),Nt(n),t.head.appendChild(n))}function qa(t){return'[src="'+fn(t)+'"]'}function dl(t){return"script[async]"+t}function E_(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+fn(s.href)+'"]');if(o)return n.instance=o,Nt(o),o;var h=w({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Nt(o),Jt(o,"style",h),mc(o,s.precedence,t),n.instance=o;case"stylesheet":h=Ba(s.href);var f=t.querySelector(fl(h));if(f)return n.state.loading|=4,n.instance=f,Nt(f),f;o=v_(s),(h=Gn.get(h))&&Td(o,h),f=(t.ownerDocument||t).createElement("link"),Nt(f);var p=f;return p._p=new Promise(function(E,C){p.onload=E,p.onerror=C}),Jt(f,"link",o),n.state.loading|=4,mc(f,s.precedence,t),n.instance=f;case"script":return f=qa(s.src),(h=t.querySelector(dl(f)))?(n.instance=h,Nt(h),h):(o=s,(h=Gn.get(f))&&(o=w({},s),bd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Nt(h),Jt(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,mc(o,s.precedence,t));return n.instance}function mc(t,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var E=o[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function Td(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function bd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var pc=null;function T_(t,n,s){if(pc===null){var o=new Map,h=pc=new Map;h.set(s,o)}else h=pc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(t))return o;for(o.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var f=s[h];if(!(f[gi]||f[It]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var E=o.get(p);E?E.push(f):o.set(p,[f])}}return o}function b_(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function Eb(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function A_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Tb(t,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Ba(o.href),f=n.querySelector(fl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=gc.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=f,Nt(f);return}f=n.ownerDocument||n,o=v_(o),(h=Gn.get(h))&&Td(o,h),f=f.createElement("link"),Nt(f);var p=f;p._p=new Promise(function(E,C){p.onload=E,p.onerror=C}),Jt(f,"link",o),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=gc.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var Ad=0;function bb(t,n){return t.stylesheets&&t.count===0&&_c(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var o=setTimeout(function(){if(t.stylesheets&&_c(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Ad===0&&(Ad=62500*nb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&_c(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Ad?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function gc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)_c(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var yc=null;function _c(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,yc=new Map,n.forEach(Ab,t),yc=null,gc.call(t))}function Ab(t,n){if(!(n.state.loading&4)){var s=yc.get(t);if(s)var o=s.get(null);else{s=new Map,yc.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(s.set(p.dataset.precedence,p),o=p)}o&&s.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=s.get(p)||o,f===o&&s.set(null,h),s.set(p,h),this.count++,o=gc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var ml={$$typeof:pe,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function Sb(t,n,s,o,h,f,p,E,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mi(0),this.hiddenUpdates=mi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function S_(t,n,s,o,h,f,p,E,C,P,G,Y){return t=new Sb(t,n,s,p,C,P,G,Y,E),n=1,f===!0&&(n|=24),f=Sn(3,null,null,n),t.current=f,f.stateNode=t,n=tf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},af(f),t}function w_(t){return t?(t=va,t):va}function R_(t,n,s,o,h,f){h=w_(h),o.context===null?o.context=h:o.pendingContext=h,o=Ms(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Vs(t,o,n),s!==null&&(_n(s,t,n),Qo(s,t,n))}function x_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Sd(t,n){x_(t,n),(t=t.alternate)&&x_(t,n)}function C_(t){if(t.tag===13||t.tag===31){var n=Mr(t,67108864);n!==null&&_n(n,t,67108864),Sd(t,67108864)}}function I_(t){if(t.tag===13||t.tag===31){var n=In();n=Tr(n);var s=Mr(t,n);s!==null&&_n(s,t,n),Sd(t,n)}}var vc=!0;function wb(t,n,s,o){var h=H.T;H.T=null;var f=se.p;try{se.p=2,wd(t,n,s,o)}finally{se.p=f,H.T=h}}function Rb(t,n,s,o){var h=H.T;H.T=null;var f=se.p;try{se.p=8,wd(t,n,s,o)}finally{se.p=f,H.T=h}}function wd(t,n,s,o){if(vc){var h=Rd(o);if(h===null)hd(t,n,o,Ec,s),D_(t,o);else if(Cb(h,t,n,s,o))o.stopPropagation();else if(D_(t,o),n&4&&-1<xb.indexOf(t)){for(;h!==null;){var f=Mn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=fi(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var C=1<<31-At(p);E.entanglements[1]|=C,p&=~C}Di(f),(Ze&6)===0&&(nc=qt()+500,ll(0))}}break;case 31:case 13:E=Mr(f,2),E!==null&&_n(E,f,2),sc(),Sd(f,2)}if(f=Rd(o),f===null&&hd(t,n,o,Ec,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else hd(t,n,o,null,s)}}function Rd(t){return t=Vn(t),xd(t)}var Ec=null;function xd(t){if(Ec=null,t=yi(t),t!==null){var n=c(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===31){if(t=g(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Ec=t,null}function N_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qi()){case yo:return 2;case _o:return 8;case _s:case Oh:return 32;case Jl:return 268435456;default:return 32}default:return 32}}var Cd=!1,Fs=null,Qs=null,Ks=null,pl=new Map,gl=new Map,Ys=[],xb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function D_(t,n){switch(t){case"focusin":case"focusout":Fs=null;break;case"dragenter":case"dragleave":Qs=null;break;case"mouseover":case"mouseout":Ks=null;break;case"pointerover":case"pointerout":pl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":gl.delete(n.pointerId)}}function yl(t,n,s,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Mn(n),n!==null&&C_(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function Cb(t,n,s,o,h){switch(n){case"focusin":return Fs=yl(Fs,t,n,s,o,h),!0;case"dragenter":return Qs=yl(Qs,t,n,s,o,h),!0;case"mouseover":return Ks=yl(Ks,t,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return pl.set(f,yl(pl.get(f)||null,t,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,gl.set(f,yl(gl.get(f)||null,t,n,s,o,h)),!0}return!1}function O_(t){var n=yi(t.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,Jn(t.priority,function(){I_(s)});return}}else if(n===31){if(n=g(s),n!==null){t.blockedOn=n,Jn(t.priority,function(){I_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Tc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=Rd(t.nativeEvent);if(s===null){s=t.nativeEvent;var o=new s.constructor(s.type,s);No=o,s.target.dispatchEvent(o),No=null}else return n=Mn(s),n!==null&&C_(n),t.blockedOn=s,!1;n.shift()}return!0}function M_(t,n,s){Tc(t)&&s.delete(n)}function Ib(){Cd=!1,Fs!==null&&Tc(Fs)&&(Fs=null),Qs!==null&&Tc(Qs)&&(Qs=null),Ks!==null&&Tc(Ks)&&(Ks=null),pl.forEach(M_),gl.forEach(M_)}function bc(t,n){t.blockedOn===n&&(t.blockedOn=null,Cd||(Cd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ib)))}var Ac=null;function V_(t){Ac!==t&&(Ac=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ac===t&&(Ac=null);for(var n=0;n<t.length;n+=3){var s=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(xd(o||s)===null)continue;break}var f=Mn(s);f!==null&&(t.splice(n,3),n-=3,Rf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function Ha(t){function n(C){return bc(C,t)}Fs!==null&&bc(Fs,t),Qs!==null&&bc(Qs,t),Ks!==null&&bc(Ks,t),pl.forEach(n),gl.forEach(n);for(var s=0;s<Ys.length;s++){var o=Ys[s];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Ys.length&&(s=Ys[0],s.blockedOn===null);)O_(s),s.blockedOn===null&&Ys.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],p=h[Ht]||null;if(typeof f=="function")p||V_(s);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Ht]||null)E=p.formAction;else if(xd(h)!==null)continue}else E=p.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),V_(s)}}}function k_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Id(t){this._internalRoot=t}Sc.prototype.render=Id.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=In();R_(s,o,t,n,null,null)},Sc.prototype.unmount=Id.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;R_(t.current,2,null,t,null,null),sc(),n[pi]=null}};function Sc(t){this._internalRoot=t}Sc.prototype.unstable_scheduleHydration=function(t){if(t){var n=su();t={blockedOn:null,target:t,priority:n};for(var s=0;s<Ys.length&&n!==0&&n<Ys[s].priority;s++);Ys.splice(s,0,t),s===0&&O_(t)}};var U_=e.version;if(U_!=="19.2.3")throw Error(a(527,U_,"19.2.3"));se.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=y(n),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var Nb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wc.isDisabled&&wc.supportsFiber)try{$n=wc.inject(Nb),Kt=wc}catch{}}return vl.createRoot=function(t,n){if(!l(t))throw Error(a(299));var s=!1,o="",h=Hg,f=Gg,p=Fg;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=S_(t,1,!1,null,null,s,o,null,h,f,p,k_),t[pi]=n.current,cd(t),new Id(n)},vl.hydrateRoot=function(t,n,s){if(!l(t))throw Error(a(299));var o=!1,h="",f=Hg,p=Gg,E=Fg,C=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(C=s.formState)),n=S_(t,1,!0,n,s??null,o,h,C,f,p,E,k_),n.context=w_(null),s=n.current,o=In(),o=Tr(o),h=Ms(o),h.callback=null,Vs(s,h,o),s=o,n.current.lanes=s,vr(n,s),Di(n),t[pi]=n.current,cd(t),new Sc(n)},vl.version="19.2.3",vl}var Q_;function zb(){if(Q_)return Od.exports;Q_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Od.exports=Pb(),Od.exports}var Bb=zb();const qb=()=>{};var K_={};const Sv=function(r){const e=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},Hb=function(r){const e=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];e[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],g=r[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const c=r[i++],d=r[i++];e[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},wv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,g=d?r[l+1]:0,_=l+2<r.length,y=_?r[l+2]:0,T=c>>2,w=(c&3)<<4|g>>4;let V=(g&15)<<2|y>>6,F=y&63;_||(F=64,d||(V=64)),a.push(i[T],i[w],i[V],i[F])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Sv(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Hb(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],g=l<r.length?i[r.charAt(l)]:0;++l;const y=l<r.length?i[r.charAt(l)]:64;++l;const w=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||g==null||y==null||w==null)throw new Gb;const V=c<<2|g>>4;if(a.push(V),y!==64){const F=g<<4&240|y>>2;if(a.push(F),w!==64){const ee=y<<6&192|w;a.push(ee)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Gb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Fb=function(r){const e=Sv(r);return wv.encodeByteArray(e,!0)},Hc=function(r){return Fb(r).replace(/\./g,"")},Rv=function(r){try{return wv.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Qb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Kb=()=>Qb().__FIREBASE_DEFAULTS__,Yb=()=>{if(typeof process>"u"||typeof K_>"u")return;const r=K_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Xb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Rv(r[1]);return e&&JSON.parse(e)},hh=()=>{try{return qb()||Kb()||Yb()||Xb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},xv=r=>hh()?.emulatorHosts?.[r],$b=r=>{const e=xv(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Cv=()=>hh()?.config,Iv=r=>hh()?.[`_${r}`];class Zb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function uo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Nv(r){return(await fetch(r,{credentials:"include"})).ok}function Jb(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Hc(JSON.stringify(i)),Hc(JSON.stringify(d)),""].join(".")}const Sl={};function Wb(){const r={prod:[],emulator:[]};for(const e of Object.keys(Sl))Sl[e]?r.emulator.push(e):r.prod.push(e);return r}function eA(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let Y_=!1;function Dv(r,e){if(typeof window>"u"||typeof document>"u"||!uo(window.location.host)||Sl[r]===e||Sl[r]||Y_)return;Sl[r]=e;function i(V){return`__firebase__banner__${V}`}const a="__firebase__banner",c=Wb().prod.length>0;function d(){const V=document.getElementById(a);V&&V.remove()}function g(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function _(V,F){V.setAttribute("width","24"),V.setAttribute("id",F),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function y(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{Y_=!0,d()},V}function T(V,F){V.setAttribute("id",F),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function w(){const V=eA(a),F=i("text"),ee=document.getElementById(F)||document.createElement("span"),ne=i("learnmore"),W=document.getElementById(ne)||document.createElement("a"),me=i("preprendIcon"),Te=document.getElementById(me)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const pe=V.element;g(pe),T(W,ne);const Je=y();_(Te,me),pe.append(Te,ee,W,Je),document.body.appendChild(pe)}c?(ee.innerText="Preview backend disconnected.",Te.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Te.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,ee.innerText="Preview backend running in this workspace."),ee.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function nA(){const r=hh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function rA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aA(){const r=ln();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function oA(){return!nA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lA(){try{return typeof indexedDB=="object"}catch{return!1}}function uA(){return new Promise((r,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const cA="FirebaseError";class ys extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=cA,Object.setPrototypeOf(this,ys.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pl.prototype.create)}}class Pl{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?hA(c,a):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new ys(l,g,a)}}function hA(r,e){return r.replace(fA,(i,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const fA=/\{\$([^}]+)}/g;function dA(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function or(r,e){if(r===e)return!0;const i=Object.keys(r),a=Object.keys(e);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=e[l];if(X_(c)&&X_(d)){if(!or(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function X_(r){return r!==null&&typeof r=="object"}function zl(r){const e=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function mA(r,e){const i=new pA(r,e);return i.subscribe.bind(i)}class pA{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let l;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");gA(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:a},l.next===void 0&&(l.next=Ud),l.error===void 0&&(l.error=Ud),l.complete===void 0&&(l.complete=Ud);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gA(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function Ud(){}function hn(r){return r&&r._delegate?r._delegate:r}class Xr{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Qr="[DEFAULT]";class yA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new Zb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vA(e))try{this.getOrInitializeService({instanceIdentifier:Qr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(e=Qr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qr){return this.instances.has(e)}getOptions(e=Qr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(l)}return l}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:_A(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Qr){return this.component?this.component.multipleInstances?e:Qr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _A(r){return r===Qr?void 0:r}function vA(r){return r.instantiationMode==="EAGER"}class EA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new yA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Ue;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ue||(Ue={}));const TA={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},bA=Ue.INFO,AA={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},SA=(r,e,...i)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),l=AA[e];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rm{constructor(e){this.name=e,this._logLevel=bA,this._logHandler=SA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const wA=(r,e)=>e.some(i=>r instanceof i);let $_,Z_;function RA(){return $_||($_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xA(){return Z_||(Z_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ov=new WeakMap,$d=new WeakMap,Mv=new WeakMap,Ld=new WeakMap,xm=new WeakMap;function CA(r){const e=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(nr(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Ov.set(i,r)}).catch(()=>{}),xm.set(e,r),e}function IA(r){if($d.has(r))return;const e=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});$d.set(r,e)}let Zd={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return $d.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Mv.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return nr(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function NA(r){Zd=r(Zd)}function DA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=r.call(jd(this),e,...i);return Mv.set(a,e.sort?e.sort():[e]),nr(a)}:xA().includes(r)?function(...e){return r.apply(jd(this),e),nr(Ov.get(this))}:function(...e){return nr(r.apply(jd(this),e))}}function OA(r){return typeof r=="function"?DA(r):(r instanceof IDBTransaction&&IA(r),wA(r,RA())?new Proxy(r,Zd):r)}function nr(r){if(r instanceof IDBRequest)return CA(r);if(Ld.has(r))return Ld.get(r);const e=OA(r);return e!==r&&(Ld.set(r,e),xm.set(e,r)),e}const jd=r=>xm.get(r);function MA(r,e,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,e),g=nr(d);return a&&d.addEventListener("upgradeneeded",_=>{a(nr(d.result),_.oldVersion,_.newVersion,nr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const VA=["get","getKey","getAll","getAllKeys","count"],kA=["put","add","delete","clear"],Pd=new Map;function J_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Pd.get(e))return Pd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,l=kA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||VA.includes(i)))return;const c=async function(d,...g){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return a&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),l&&_.done]))[0]};return Pd.set(e,c),c}NA(r=>({...r,get:(e,i,a)=>J_(e,i)||r.get(e,i,a),has:(e,i)=>!!J_(e,i)||r.has(e,i)}));class UA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(LA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function LA(r){return r.getComponent()?.type==="VERSION"}const Jd="@firebase/app",W_="0.14.6";const hs=new Rm("@firebase/app"),jA="@firebase/app-compat",PA="@firebase/analytics-compat",zA="@firebase/analytics",BA="@firebase/app-check-compat",qA="@firebase/app-check",HA="@firebase/auth",GA="@firebase/auth-compat",FA="@firebase/database",QA="@firebase/data-connect",KA="@firebase/database-compat",YA="@firebase/functions",XA="@firebase/functions-compat",$A="@firebase/installations",ZA="@firebase/installations-compat",JA="@firebase/messaging",WA="@firebase/messaging-compat",eS="@firebase/performance",tS="@firebase/performance-compat",nS="@firebase/remote-config",iS="@firebase/remote-config-compat",sS="@firebase/storage",rS="@firebase/storage-compat",aS="@firebase/firestore",oS="@firebase/ai",lS="@firebase/firestore-compat",uS="firebase",cS="12.6.0";const Wd="[DEFAULT]",hS={[Jd]:"fire-core",[jA]:"fire-core-compat",[zA]:"fire-analytics",[PA]:"fire-analytics-compat",[qA]:"fire-app-check",[BA]:"fire-app-check-compat",[HA]:"fire-auth",[GA]:"fire-auth-compat",[FA]:"fire-rtdb",[QA]:"fire-data-connect",[KA]:"fire-rtdb-compat",[YA]:"fire-fn",[XA]:"fire-fn-compat",[$A]:"fire-iid",[ZA]:"fire-iid-compat",[JA]:"fire-fcm",[WA]:"fire-fcm-compat",[eS]:"fire-perf",[tS]:"fire-perf-compat",[nS]:"fire-rc",[iS]:"fire-rc-compat",[sS]:"fire-gcs",[rS]:"fire-gcs-compat",[aS]:"fire-fst",[lS]:"fire-fst-compat",[oS]:"fire-vertex","fire-js":"fire-js",[uS]:"fire-js-all"};const Gc=new Map,fS=new Map,em=new Map;function e0(r,e){try{r.container.addComponent(e)}catch(i){hs.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function to(r){const e=r.name;if(em.has(e))return hs.debug(`There were multiple attempts to register component ${e}.`),!1;em.set(e,r);for(const i of Gc.values())e0(i,r);for(const i of fS.values())e0(i,r);return!0}function Cm(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function Yn(r){return r==null?!1:r.settings!==void 0}const dS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ir=new Pl("app","Firebase",dS);class mS{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Xr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ir.create("app-deleted",{appName:this._name})}}const co=cS;function Vv(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const a={name:Wd,automaticDataCollectionEnabled:!0,...e},l=a.name;if(typeof l!="string"||!l)throw ir.create("bad-app-name",{appName:String(l)});if(i||(i=Cv()),!i)throw ir.create("no-options");const c=Gc.get(l);if(c){if(or(i,c.options)&&or(a,c.config))return c;throw ir.create("duplicate-app",{appName:l})}const d=new EA(l);for(const _ of em.values())d.addComponent(_);const g=new mS(i,a,d);return Gc.set(l,g),g}function kv(r=Wd){const e=Gc.get(r);if(!e&&r===Wd&&Cv())return Vv();if(!e)throw ir.create("no-app",{appName:r});return e}function sr(r,e,i){let a=hS[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hs.warn(d.join(" "));return}to(new Xr(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const pS="firebase-heartbeat-database",gS=1,Dl="firebase-heartbeat-store";let zd=null;function Uv(){return zd||(zd=MA(pS,gS,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Dl)}catch(i){console.warn(i)}}}}).catch(r=>{throw ir.create("idb-open",{originalErrorMessage:r.message})})),zd}async function yS(r){try{const i=(await Uv()).transaction(Dl),a=await i.objectStore(Dl).get(Lv(r));return await i.done,a}catch(e){if(e instanceof ys)hs.warn(e.message);else{const i=ir.create("idb-get",{originalErrorMessage:e?.message});hs.warn(i.message)}}}async function t0(r,e){try{const a=(await Uv()).transaction(Dl,"readwrite");await a.objectStore(Dl).put(e,Lv(r)),await a.done}catch(i){if(i instanceof ys)hs.warn(i.message);else{const a=ir.create("idb-set",{originalErrorMessage:i?.message});hs.warn(a.message)}}}function Lv(r){return`${r.name}!${r.options.appId}`}const _S=1024,vS=30;class ES{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new bS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=n0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>vS){const l=AS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){hs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=n0(),{heartbeatsToSend:i,unsentEntries:a}=TS(this._heartbeatsCache.heartbeats),l=Hc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return hs.warn(e),""}}}function n0(){return new Date().toISOString().substring(0,10)}function TS(r,e=_S){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),i0(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),i0(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class bS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lA()?uA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await yS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return t0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return t0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function i0(r){return Hc(JSON.stringify({version:2,heartbeats:r})).length}function AS(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,e=a);return e}function SS(r){to(new Xr("platform-logger",e=>new UA(e),"PRIVATE")),to(new Xr("heartbeat",e=>new ES(e),"PRIVATE")),sr(Jd,W_,r),sr(Jd,W_,"esm2020"),sr("fire-js","")}SS("");var wS="firebase",RS="12.7.0";sr(wS,RS,"app");function jv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xS=jv,Pv=new Pl("auth","Firebase",jv());const Fc=new Rm("@firebase/auth");function CS(r,...e){Fc.logLevel<=Ue.WARN&&Fc.warn(`Auth (${co}): ${r}`,...e)}function Oc(r,...e){Fc.logLevel<=Ue.ERROR&&Fc.error(`Auth (${co}): ${r}`,...e)}function fs(r,...e){throw Im(r,...e)}function Vi(r,...e){return Im(r,...e)}function zv(r,e,i){const a={...xS(),[e]:i};return new Pl("auth","Firebase",a).create(e,{appName:r.name})}function cs(r){return zv(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Im(r,...e){if(typeof r!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return Pv.create(r,...e)}function Ee(r,e,...i){if(!r)throw Im(e,...i)}function ls(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Oc(e),new Error(e)}function ds(r,e){r||ls(e)}function tm(){return typeof self<"u"&&self.location?.href||""}function IS(){return s0()==="http:"||s0()==="https:"}function s0(){return typeof self<"u"&&self.location?.protocol||null}function NS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(IS()||sA()||"connection"in navigator)?navigator.onLine:!0}function DS(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Bl{constructor(e,i){this.shortDelay=e,this.longDelay=i,ds(i>e,"Short delay should be less than long delay!"),this.isMobile=tA()||rA()}get(){return NS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Nm(r,e){ds(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class Bv{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ls("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ls("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ls("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const OS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const MS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],VS=new Bl(3e4,6e4);function ql(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function ho(r,e,i,a,l={}){return qv(r,l,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const g=zl({key:r.config.apiKey,...d}).slice(1),_=await r._getAdditionalHeaders();_["Content-Type"]="application/json",r.languageCode&&(_["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:_,...c};return iA()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&uo(r.emulatorConfig.host)&&(y.credentials="include"),Bv.fetch()(await Hv(r,r.config.apiHost,i,g),y)})}async function qv(r,e,i){r._canInitEmulator=!1;const a={...OS,...e};try{const l=new kS(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Rc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[_,y]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rc(r,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Rc(r,"email-already-in-use",d);if(_==="USER_DISABLED")throw Rc(r,"user-disabled",d);const T=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw zv(r,T,y);fs(r,T)}}catch(l){if(l instanceof ys)throw l;fs(r,"network-request-failed",{message:String(l)})}}async function Dm(r,e,i,a,l={}){const c=await ho(r,e,i,a,l);return"mfaPendingCredential"in c&&fs(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function Hv(r,e,i,a){const l=`${e}${i}?${a}`,c=r,d=c.config.emulator?Nm(r.config,l):`${r.config.apiScheme}://${l}`;return MS.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class kS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Vi(this.auth,"network-request-failed")),VS.get())})}}function Rc(r,e,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Vi(r,e,a);return l.customData._tokenResponse=i,l}async function US(r,e){return ho(r,"POST","/v1/accounts:delete",e)}async function Qc(r,e){return ho(r,"POST","/v1/accounts:lookup",e)}function wl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function LS(r,e=!1){const i=hn(r),a=await i.getIdToken(e),l=Om(a);Ee(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:wl(Bd(l.auth_time)),issuedAtTime:wl(Bd(l.iat)),expirationTime:wl(Bd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Bd(r){return Number(r)*1e3}function Om(r){const[e,i,a]=r.split(".");if(e===void 0||i===void 0||a===void 0)return Oc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Rv(i);return l?JSON.parse(l):(Oc("Failed to decode base64 JWT payload"),null)}catch(l){return Oc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function r0(r){const e=Om(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ol(r,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof ys&&jS(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function jS({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class PS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class nm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=wl(this.lastLoginAt),this.creationTime=wl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Kc(r){const e=r.auth,i=await r.getIdToken(),a=await Ol(r,Qc(e,{idToken:i}));Ee(a?.users.length,e,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?Gv(l.providerUserInfo):[],d=BS(r.providerData,c),g=r.isAnonymous,_=!(r.email&&l.passwordHash)&&!d?.length,y=g?_:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new nm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(r,T)}async function zS(r){const e=hn(r);await Kc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function BS(r,e){return[...r.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function Gv(r){return r.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function qS(r,e){const i=await qv(r,{},async()=>{const a=zl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await Hv(r,l,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:a};return r.emulatorConfig&&uo(r.emulatorConfig.host)&&(_.credentials="include"),Bv.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function HS(r,e){return ho(r,"POST","/v2/accounts:revokeToken",ql(r,e))}class $a{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):r0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const i=r0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await qS(e,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new $a;return a&&(Ee(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),l&&(Ee(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(Ee(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $a,this.toJSON())}_performRefresh(){return ls("not implemented")}}function $s(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class li{constructor({uid:e,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new PS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new nm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await Ol(this,this.stsTokenManager.getToken(this.auth,e));return Ee(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return LS(this,e)}reload(){return zS(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new li({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await Kc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yn(this.auth.app))return Promise.reject(cs(this.auth));const e=await this.getIdToken();return await Ol(this,US(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,T=i.lastLoginAt??void 0,{uid:w,emailVerified:V,isAnonymous:F,providerData:ee,stsTokenManager:ne}=i;Ee(w&&ne,e,"internal-error");const W=$a.fromJSON(this.name,ne);Ee(typeof w=="string",e,"internal-error"),$s(a,e.name),$s(l,e.name),Ee(typeof V=="boolean",e,"internal-error"),Ee(typeof F=="boolean",e,"internal-error"),$s(c,e.name),$s(d,e.name),$s(g,e.name),$s(_,e.name),$s(y,e.name),$s(T,e.name);const me=new li({uid:w,auth:e,email:l,emailVerified:V,displayName:a,isAnonymous:F,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:W,createdAt:y,lastLoginAt:T});return ee&&Array.isArray(ee)&&(me.providerData=ee.map(Te=>({...Te}))),_&&(me._redirectEventId=_),me}static async _fromIdTokenResponse(e,i,a=!1){const l=new $a;l.updateFromServerResponse(i);const c=new li({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await Kc(c),c}static async _fromGetAccountInfoResponse(e,i,a){const l=i.users[0];Ee(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Gv(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new $a;g.updateFromIdToken(a);const _=new li({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new nm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const a0=new Map;function us(r){ds(r instanceof Function,"Expected a class definition");let e=a0.get(r);return e?(ds(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,a0.set(r,e),e)}class Fv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}Fv.type="NONE";const o0=Fv;function Mc(r,e,i){return`firebase:${r}:${e}:${i}`}class Za{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Mc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Mc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Qc(this.auth,{idToken:e}).catch(()=>{});return i?li._fromGetAccountInfoResponse(this.auth,i,e):null}return li._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new Za(us(o0),e,a);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||us(o0);const d=Mc(a,e.config.apiKey,e.name);let g=null;for(const y of i)try{const T=await y._get(d);if(T){let w;if(typeof T=="string"){const V=await Qc(e,{idToken:T}).catch(()=>{});if(!V)break;w=await li._fromGetAccountInfoResponse(e,V,T)}else w=li._fromJSON(e,T);y!==c&&(g=w),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new Za(c,e,a):(c=_[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Za(c,e,a))}}function l0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Xv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Qv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Zv(e))return"Blackberry";if(Jv(e))return"Webos";if(Kv(e))return"Safari";if((e.includes("chrome/")||Yv(e))&&!e.includes("edge/"))return"Chrome";if($v(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function Qv(r=ln()){return/firefox\//i.test(r)}function Kv(r=ln()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Yv(r=ln()){return/crios\//i.test(r)}function Xv(r=ln()){return/iemobile/i.test(r)}function $v(r=ln()){return/android/i.test(r)}function Zv(r=ln()){return/blackberry/i.test(r)}function Jv(r=ln()){return/webos/i.test(r)}function Mm(r=ln()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function GS(r=ln()){return Mm(r)&&!!window.navigator?.standalone}function FS(){return aA()&&document.documentMode===10}function Wv(r=ln()){return Mm(r)||$v(r)||Jv(r)||Zv(r)||/windows phone/i.test(r)||Xv(r)}function eE(r,e=[]){let i;switch(r){case"Browser":i=l0(ln());break;case"Worker":i=`${l0(ln())}-${r}`;break;default:i=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${co}/${a}`}class QS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,g)=>{try{const _=e(c);d(_)}catch(_){g(_)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function KS(r,e={}){return ho(r,"GET","/v2/passwordPolicy",ql(r,e))}const YS=6;class XS{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??YS,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class $S{constructor(e,i,a,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new u0(this),this.idTokenSubscription=new u0(this),this.beforeStateQueue=new QS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Pv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=us(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Za.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Qc(this,{idToken:e}),a=await li._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Yn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===d)&&g?.user&&(a=g.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Kc(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=DS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Yn(this.app))return Promise.reject(cs(this));const i=e?hn(e):null;return i&&Ee(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Yn(this.app)?Promise.reject(cs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Yn(this.app)?Promise.reject(cs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(us(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await KS(this),i=new XS(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Pl("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await HS(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&us(e)||this._popupRedirectResolver;Ee(i,this,"argument-error"),this.redirectPersistenceManager=await Za.create(this,[us(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=e.addObserver(i,a,l);return()=>{d=!0,_()}}else{const _=e.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=eE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(Yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&CS(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Hl(r){return hn(r)}class u0{constructor(e){this.auth=e,this.observer=null,this.addObserver=mA(i=>this.observer=i)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Vm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZS(r){Vm=r}function JS(r){return Vm.loadJS(r)}function WS(){return Vm.gapiScript}function ew(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function tw(r,e){const i=Cm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(or(c,e??{}))return l;fs(l,"already-initialized")}return i.initialize({options:e})}function nw(r,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(us);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e?.popupRedirectResolver)}function iw(r,e,i){const a=Hl(r);Ee(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,c=tE(e),{host:d,port:g}=sw(e),_=g===null?"":`:${g}`,y={url:`${c}//${d}${_}/`},T=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Ee(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Ee(or(y,a.config.emulator)&&or(T,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=T,a.settings.appVerificationDisabledForTesting=!0,uo(d)?(Nv(`${c}//${d}${_}`),Dv("Auth",!0)):rw()}function tE(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function sw(r){const e=tE(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:c0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:c0(d)}}}function c0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function rw(){function r(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class nE{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return ls("not implemented")}_getIdTokenResponse(e){return ls("not implemented")}_linkToIdToken(e,i){return ls("not implemented")}_getReauthenticationResolver(e){return ls("not implemented")}}async function Ja(r,e){return Dm(r,"POST","/v1/accounts:signInWithIdp",ql(r,e))}const aw="http://localhost";class $r extends nE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new $r(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):fs("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new $r(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return Ja(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,Ja(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Ja(e,i)}buildRequest(){const e={requestUri:aw,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=zl(i)}return e}}class iE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Gl extends iE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Zs extends Gl{constructor(){super("facebook.com")}static credential(e){return $r._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zs.credential(e.oauthAccessToken)}catch{return null}}}Zs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zs.PROVIDER_ID="facebook.com";class Js extends Gl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return $r._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return Js.credential(i,a)}catch{return null}}}Js.GOOGLE_SIGN_IN_METHOD="google.com";Js.PROVIDER_ID="google.com";class Ws extends Gl{constructor(){super("github.com")}static credential(e){return $r._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ws.credentialFromTaggedObject(e)}static credentialFromError(e){return Ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ws.credential(e.oauthAccessToken)}catch{return null}}}Ws.GITHUB_SIGN_IN_METHOD="github.com";Ws.PROVIDER_ID="github.com";class er extends Gl{constructor(){super("twitter.com")}static credential(e,i){return $r._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return er.credentialFromTaggedObject(e)}static credentialFromError(e){return er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return er.credential(i,a)}catch{return null}}}er.TWITTER_SIGN_IN_METHOD="twitter.com";er.PROVIDER_ID="twitter.com";async function ow(r,e){return Dm(r,"POST","/v1/accounts:signUp",ql(r,e))}class ms{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,l=!1){const c=await li._fromIdTokenResponse(e,a,l),d=h0(a);return new ms({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const l=h0(a);return new ms({user:e,providerId:l,_tokenResponse:a,operationType:i})}}function h0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function lw(r){if(Yn(r.app))return Promise.reject(cs(r));const e=Hl(r);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new ms({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await ow(e,{returnSecureToken:!0}),a=await ms._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class Yc extends ys{constructor(e,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Yc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,l){return new Yc(e,i,a,l)}}function sE(r,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Yc._fromErrorAndOperation(r,c,e,a):c})}async function uw(r,e,i=!1){const a=await Ol(r,e._linkToIdToken(r.auth,await r.getIdToken()),i);return ms._forOperation(r,"link",a)}async function cw(r,e,i=!1){const{auth:a}=r;if(Yn(a.app))return Promise.reject(cs(a));const l="reauthenticate";try{const c=await Ol(r,sE(a,l,e,r),i);Ee(c.idToken,a,"internal-error");const d=Om(c.idToken);Ee(d,a,"internal-error");const{sub:g}=d;return Ee(r.uid===g,a,"user-mismatch"),ms._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&fs(a,"user-mismatch"),c}}async function hw(r,e,i=!1){if(Yn(r.app))return Promise.reject(cs(r));const a="signIn",l=await sE(r,a,e),c=await ms._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}async function fw(r,e){return Dm(r,"POST","/v1/accounts:signInWithCustomToken",ql(r,e))}async function dw(r,e){if(Yn(r.app))return Promise.reject(cs(r));const i=Hl(r),a=await fw(i,{token:e,returnSecureToken:!0}),l=await ms._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function mw(r,e,i,a){return hn(r).onIdTokenChanged(e,i,a)}function pw(r,e,i){return hn(r).beforeAuthStateChanged(e,i)}function gw(r,e,i,a){return hn(r).onAuthStateChanged(e,i,a)}const Xc="__sak";class rE{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Xc,"1"),this.storage.removeItem(Xc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const yw=1e3,_w=10;class aE extends rE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Wv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&e(i,l,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,g,_)=>{this.notifyListeners(d,_)});return}const a=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);FS()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,_w):l()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},yw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}aE.type="LOCAL";const vw=aE;class oE extends rE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}oE.type="SESSION";const lE=oE;function Ew(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class fh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const a=new fh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const g=Array.from(d).map(async y=>y(i.origin,c)),_=await Ew(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:_})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fh.receivers=[];function km(r="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return r+i}class Tw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,_)=>{const y=km("",20);l.port1.start();const T=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(w){const V=w;if(V.data.eventId===y)switch(V.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(V.data.response);break;default:clearTimeout(T),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function ki(){return window}function bw(r){ki().location.href=r}function uE(){return typeof ki().WorkerGlobalScope<"u"&&typeof ki().importScripts=="function"}async function Aw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Sw(){return navigator?.serviceWorker?.controller||null}function ww(){return uE()?self:null}const cE="firebaseLocalStorageDb",Rw=1,$c="firebaseLocalStorage",hE="fbase_key";class Fl{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function dh(r,e){return r.transaction([$c],e?"readwrite":"readonly").objectStore($c)}function xw(){const r=indexedDB.deleteDatabase(cE);return new Fl(r).toPromise()}function im(){const r=indexedDB.open(cE,Rw);return new Promise((e,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore($c,{keyPath:hE})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains($c)?e(a):(a.close(),await xw(),e(await im()))})})}async function f0(r,e,i){const a=dh(r,!0).put({[hE]:e,value:i});return new Fl(a).toPromise()}async function Cw(r,e){const i=dh(r,!1).get(e),a=await new Fl(i).toPromise();return a===void 0?null:a.value}function d0(r,e){const i=dh(r,!0).delete(e);return new Fl(i).toPromise()}const Iw=800,Nw=3;class fE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await im(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>Nw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return uE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fh._getInstance(ww()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Aw(),!this.activeServiceWorker)return;this.sender=new Tw(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Sw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await im();return await f0(e,Xc,"1"),await d0(e,Xc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>f0(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>Cw(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>d0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=dh(l,!1).getAll();return new Fl(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Iw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}fE.type="LOCAL";const Dw=fE;new Bl(3e4,6e4);function Ow(r,e){return e?us(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Um extends nE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ja(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Ja(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Ja(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function Mw(r){return hw(r.auth,new Um(r),r.bypassAuthState)}function Vw(r){const{auth:e,user:i}=r;return Ee(i,e,"internal-error"),cw(i,new Um(r),r.bypassAuthState)}async function kw(r){const{auth:e,user:i}=r;return Ee(i,e,"internal-error"),uw(i,new Um(r),r.bypassAuthState)}class dE{constructor(e,i,a,l,c=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:g}=e;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Mw;case"linkViaPopup":case"linkViaRedirect":return kw;case"reauthViaPopup":case"reauthViaRedirect":return Vw;default:fs(this.auth,"internal-error")}}resolve(e){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Uw=new Bl(2e3,1e4);class Xa extends dE{constructor(e,i,a,l,c){super(e,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Xa.currentPopupAction&&Xa.currentPopupAction.cancel(),Xa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){ds(this.filter.length===1,"Popup operations only handle one event");const e=km();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Uw.get())};e()}}Xa.currentPopupAction=null;const Lw="pendingRedirect",Vc=new Map;class jw extends dE{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Vc.get(this.auth._key());if(!e){try{const a=await Pw(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Vc.set(this.auth._key(),e)}return this.bypassAuthState||Vc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Pw(r,e){const i=qw(e),a=Bw(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function zw(r,e){Vc.set(r._key(),e)}function Bw(r){return us(r._redirectPersistence)}function qw(r){return Mc(Lw,r.config.apiKey,r.name)}async function Hw(r,e,i=!1){if(Yn(r.app))return Promise.reject(cs(r));const a=Hl(r),l=Ow(a,e),d=await new jw(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const Gw=600*1e3;class Fw{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Qw(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!mE(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Vi(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Gw&&this.cachedEventUids.clear(),this.cachedEventUids.has(m0(e))}saveEventToCache(e){this.cachedEventUids.add(m0(e)),this.lastProcessedEventTime=Date.now()}}function m0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function mE({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function Qw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mE(r);default:return!1}}async function Kw(r,e={}){return ho(r,"GET","/v1/projects",e)}const Yw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Xw=/^https?/;async function $w(r){if(r.config.emulator)return;const{authorizedDomains:e}=await Kw(r);for(const i of e)try{if(Zw(i))return}catch{}fs(r,"unauthorized-domain")}function Zw(r){const e=tm(),{protocol:i,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Xw.test(i))return!1;if(Yw.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const Jw=new Bl(3e4,6e4);function p0(){const r=ki().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function Ww(r){return new Promise((e,i)=>{function a(){p0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{p0(),i(Vi(r,"network-request-failed"))},timeout:Jw.get()})}if(ki().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ki().gapi?.load)a();else{const l=ew("iframefcb");return ki()[l]=()=>{gapi.load?a():i(Vi(r,"network-request-failed"))},JS(`${WS()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw kc=null,e})}let kc=null;function e2(r){return kc=kc||Ww(r),kc}const t2=new Bl(5e3,15e3),n2="__/auth/iframe",i2="emulator/auth/iframe",s2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},r2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function a2(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const i=e.emulator?Nm(e,i2):`https://${r.config.authDomain}/${n2}`,a={apiKey:e.apiKey,appName:r.name,v:co},l=r2.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${zl(a).slice(1)}`}async function o2(r){const e=await e2(r),i=ki().gapi;return Ee(i,r,"internal-error"),e.open({where:document.body,url:a2(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:s2,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Vi(r,"network-request-failed"),g=ki().setTimeout(()=>{c(d)},t2.get());function _(){ki().clearTimeout(g),l(a)}a.ping(_).then(_,()=>{c(d)})}))}const l2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},u2=500,c2=600,h2="_blank",f2="http://localhost";class g0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function d2(r,e,i,a=u2,l=c2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const _={...l2,width:a.toString(),height:l.toString(),top:c,left:d},y=ln().toLowerCase();i&&(g=Yv(y)?h2:i),Qv(y)&&(e=e||f2,_.scrollbars="yes");const T=Object.entries(_).reduce((V,[F,ee])=>`${V}${F}=${ee},`,"");if(GS(y)&&g!=="_self")return m2(e||"",g),new g0(null);const w=window.open(e||"",g,T);Ee(w,r,"popup-blocked");try{w.focus()}catch{}return new g0(w)}function m2(r,e){const i=document.createElement("a");i.href=r,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const p2="__/auth/handler",g2="emulator/auth/handler",y2=encodeURIComponent("fac");async function y0(r,e,i,a,l,c){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:co,eventId:l};if(e instanceof iE){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",dA(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,w]of Object.entries({}))d[T]=w}if(e instanceof Gl){const T=e.getScopes().filter(w=>w!=="");T.length>0&&(d.scopes=T.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const _=await r._getAppCheckToken(),y=_?`#${y2}=${encodeURIComponent(_)}`:"";return`${_2(r)}?${zl(g).slice(1)}${y}`}function _2({config:r}){return r.emulator?Nm(r,g2):`https://${r.authDomain}/${p2}`}const qd="webStorageSupport";class v2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lE,this._completeRedirectFn=Hw,this._overrideRedirectResult=zw}async _openPopup(e,i,a,l){ds(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await y0(e,i,a,tm(),l);return d2(e,c,km())}async _openRedirect(e,i,a,l){await this._originValidation(e);const c=await y0(e,i,a,tm(),l);return bw(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(ds(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await o2(e),a=new Fw(e);return i.register("authEvent",l=>(Ee(l?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(qd,{type:qd},l=>{const c=l?.[0]?.[qd];c!==void 0&&i(!!c),fs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=$w(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return Wv()||Kv()||Mm()}}const E2=v2;var _0="@firebase/auth",v0="1.12.0";class T2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function b2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function A2(r){to(new Xr("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;Ee(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eE(r)},y=new $S(a,l,c,_);return nw(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),to(new Xr("auth-internal",e=>{const i=Hl(e.getProvider("auth").getImmediate());return(a=>new T2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),sr(_0,v0,b2(r)),sr(_0,v0,"esm2020")}const S2=300,w2=Iv("authIdTokenMaxAge")||S2;let E0=null;const R2=r=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>w2)return;const l=i?.token;E0!==l&&(E0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function x2(r=kv()){const e=Cm(r,"auth");if(e.isInitialized())return e.getImmediate();const i=tw(r,{popupRedirectResolver:E2,persistence:[Dw,vw,lE]}),a=Iv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=R2(c.toString());pw(i,d,()=>d(i.currentUser)),mw(i,g=>d(g))}}const l=xv("auth");return l&&iw(i,`http://${l}`),i}function C2(){return document.getElementsByTagName("head")?.[0]??document}ZS({loadJS(r){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=l=>{const c=Vi("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",C2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});A2("Browser");var T0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var rr,pE;(function(){var r;function e(I,S){function x(){}x.prototype=S.prototype,I.F=S.prototype,I.prototype=new x,I.prototype.constructor=I,I.D=function(M,N,U){for(var R=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)R[lt-2]=arguments[lt];return S.prototype[N].apply(M,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,S,x){x||(x=0);const M=Array(16);if(typeof S=="string")for(var N=0;N<16;++N)M[N]=S.charCodeAt(x++)|S.charCodeAt(x++)<<8|S.charCodeAt(x++)<<16|S.charCodeAt(x++)<<24;else for(N=0;N<16;++N)M[N]=S[x++]|S[x++]<<8|S[x++]<<16|S[x++]<<24;S=I.g[0],x=I.g[1],N=I.g[2];let U=I.g[3],R;R=S+(U^x&(N^U))+M[0]+3614090360&4294967295,S=x+(R<<7&4294967295|R>>>25),R=U+(N^S&(x^N))+M[1]+3905402710&4294967295,U=S+(R<<12&4294967295|R>>>20),R=N+(x^U&(S^x))+M[2]+606105819&4294967295,N=U+(R<<17&4294967295|R>>>15),R=x+(S^N&(U^S))+M[3]+3250441966&4294967295,x=N+(R<<22&4294967295|R>>>10),R=S+(U^x&(N^U))+M[4]+4118548399&4294967295,S=x+(R<<7&4294967295|R>>>25),R=U+(N^S&(x^N))+M[5]+1200080426&4294967295,U=S+(R<<12&4294967295|R>>>20),R=N+(x^U&(S^x))+M[6]+2821735955&4294967295,N=U+(R<<17&4294967295|R>>>15),R=x+(S^N&(U^S))+M[7]+4249261313&4294967295,x=N+(R<<22&4294967295|R>>>10),R=S+(U^x&(N^U))+M[8]+1770035416&4294967295,S=x+(R<<7&4294967295|R>>>25),R=U+(N^S&(x^N))+M[9]+2336552879&4294967295,U=S+(R<<12&4294967295|R>>>20),R=N+(x^U&(S^x))+M[10]+4294925233&4294967295,N=U+(R<<17&4294967295|R>>>15),R=x+(S^N&(U^S))+M[11]+2304563134&4294967295,x=N+(R<<22&4294967295|R>>>10),R=S+(U^x&(N^U))+M[12]+1804603682&4294967295,S=x+(R<<7&4294967295|R>>>25),R=U+(N^S&(x^N))+M[13]+4254626195&4294967295,U=S+(R<<12&4294967295|R>>>20),R=N+(x^U&(S^x))+M[14]+2792965006&4294967295,N=U+(R<<17&4294967295|R>>>15),R=x+(S^N&(U^S))+M[15]+1236535329&4294967295,x=N+(R<<22&4294967295|R>>>10),R=S+(N^U&(x^N))+M[1]+4129170786&4294967295,S=x+(R<<5&4294967295|R>>>27),R=U+(x^N&(S^x))+M[6]+3225465664&4294967295,U=S+(R<<9&4294967295|R>>>23),R=N+(S^x&(U^S))+M[11]+643717713&4294967295,N=U+(R<<14&4294967295|R>>>18),R=x+(U^S&(N^U))+M[0]+3921069994&4294967295,x=N+(R<<20&4294967295|R>>>12),R=S+(N^U&(x^N))+M[5]+3593408605&4294967295,S=x+(R<<5&4294967295|R>>>27),R=U+(x^N&(S^x))+M[10]+38016083&4294967295,U=S+(R<<9&4294967295|R>>>23),R=N+(S^x&(U^S))+M[15]+3634488961&4294967295,N=U+(R<<14&4294967295|R>>>18),R=x+(U^S&(N^U))+M[4]+3889429448&4294967295,x=N+(R<<20&4294967295|R>>>12),R=S+(N^U&(x^N))+M[9]+568446438&4294967295,S=x+(R<<5&4294967295|R>>>27),R=U+(x^N&(S^x))+M[14]+3275163606&4294967295,U=S+(R<<9&4294967295|R>>>23),R=N+(S^x&(U^S))+M[3]+4107603335&4294967295,N=U+(R<<14&4294967295|R>>>18),R=x+(U^S&(N^U))+M[8]+1163531501&4294967295,x=N+(R<<20&4294967295|R>>>12),R=S+(N^U&(x^N))+M[13]+2850285829&4294967295,S=x+(R<<5&4294967295|R>>>27),R=U+(x^N&(S^x))+M[2]+4243563512&4294967295,U=S+(R<<9&4294967295|R>>>23),R=N+(S^x&(U^S))+M[7]+1735328473&4294967295,N=U+(R<<14&4294967295|R>>>18),R=x+(U^S&(N^U))+M[12]+2368359562&4294967295,x=N+(R<<20&4294967295|R>>>12),R=S+(x^N^U)+M[5]+4294588738&4294967295,S=x+(R<<4&4294967295|R>>>28),R=U+(S^x^N)+M[8]+2272392833&4294967295,U=S+(R<<11&4294967295|R>>>21),R=N+(U^S^x)+M[11]+1839030562&4294967295,N=U+(R<<16&4294967295|R>>>16),R=x+(N^U^S)+M[14]+4259657740&4294967295,x=N+(R<<23&4294967295|R>>>9),R=S+(x^N^U)+M[1]+2763975236&4294967295,S=x+(R<<4&4294967295|R>>>28),R=U+(S^x^N)+M[4]+1272893353&4294967295,U=S+(R<<11&4294967295|R>>>21),R=N+(U^S^x)+M[7]+4139469664&4294967295,N=U+(R<<16&4294967295|R>>>16),R=x+(N^U^S)+M[10]+3200236656&4294967295,x=N+(R<<23&4294967295|R>>>9),R=S+(x^N^U)+M[13]+681279174&4294967295,S=x+(R<<4&4294967295|R>>>28),R=U+(S^x^N)+M[0]+3936430074&4294967295,U=S+(R<<11&4294967295|R>>>21),R=N+(U^S^x)+M[3]+3572445317&4294967295,N=U+(R<<16&4294967295|R>>>16),R=x+(N^U^S)+M[6]+76029189&4294967295,x=N+(R<<23&4294967295|R>>>9),R=S+(x^N^U)+M[9]+3654602809&4294967295,S=x+(R<<4&4294967295|R>>>28),R=U+(S^x^N)+M[12]+3873151461&4294967295,U=S+(R<<11&4294967295|R>>>21),R=N+(U^S^x)+M[15]+530742520&4294967295,N=U+(R<<16&4294967295|R>>>16),R=x+(N^U^S)+M[2]+3299628645&4294967295,x=N+(R<<23&4294967295|R>>>9),R=S+(N^(x|~U))+M[0]+4096336452&4294967295,S=x+(R<<6&4294967295|R>>>26),R=U+(x^(S|~N))+M[7]+1126891415&4294967295,U=S+(R<<10&4294967295|R>>>22),R=N+(S^(U|~x))+M[14]+2878612391&4294967295,N=U+(R<<15&4294967295|R>>>17),R=x+(U^(N|~S))+M[5]+4237533241&4294967295,x=N+(R<<21&4294967295|R>>>11),R=S+(N^(x|~U))+M[12]+1700485571&4294967295,S=x+(R<<6&4294967295|R>>>26),R=U+(x^(S|~N))+M[3]+2399980690&4294967295,U=S+(R<<10&4294967295|R>>>22),R=N+(S^(U|~x))+M[10]+4293915773&4294967295,N=U+(R<<15&4294967295|R>>>17),R=x+(U^(N|~S))+M[1]+2240044497&4294967295,x=N+(R<<21&4294967295|R>>>11),R=S+(N^(x|~U))+M[8]+1873313359&4294967295,S=x+(R<<6&4294967295|R>>>26),R=U+(x^(S|~N))+M[15]+4264355552&4294967295,U=S+(R<<10&4294967295|R>>>22),R=N+(S^(U|~x))+M[6]+2734768916&4294967295,N=U+(R<<15&4294967295|R>>>17),R=x+(U^(N|~S))+M[13]+1309151649&4294967295,x=N+(R<<21&4294967295|R>>>11),R=S+(N^(x|~U))+M[4]+4149444226&4294967295,S=x+(R<<6&4294967295|R>>>26),R=U+(x^(S|~N))+M[11]+3174756917&4294967295,U=S+(R<<10&4294967295|R>>>22),R=N+(S^(U|~x))+M[2]+718787259&4294967295,N=U+(R<<15&4294967295|R>>>17),R=x+(U^(N|~S))+M[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+U&4294967295}a.prototype.v=function(I,S){S===void 0&&(S=I.length);const x=S-this.blockSize,M=this.C;let N=this.h,U=0;for(;U<S;){if(N==0)for(;U<=x;)l(this,I,U),U+=this.blockSize;if(typeof I=="string"){for(;U<S;)if(M[N++]=I.charCodeAt(U++),N==this.blockSize){l(this,M),N=0;break}}else for(;U<S;)if(M[N++]=I[U++],N==this.blockSize){l(this,M),N=0;break}}this.h=N,this.o+=S},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;S=this.o*8;for(var x=I.length-8;x<I.length;++x)I[x]=S&255,S/=256;for(this.v(I),I=Array(16),S=0,x=0;x<4;++x)for(let M=0;M<32;M+=8)I[S++]=this.g[x]>>>M&255;return I};function c(I,S){var x=g;return Object.prototype.hasOwnProperty.call(x,I)?x[I]:x[I]=S(I)}function d(I,S){this.h=S;const x=[];let M=!0;for(let N=I.length-1;N>=0;N--){const U=I[N]|0;M&&U==S||(x[N]=U,M=!1)}this.g=x}var g={};function _(I){return-128<=I&&I<128?c(I,function(S){return new d([S|0],S<0?-1:0)}):new d([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return w;if(I<0)return W(y(-I));const S=[];let x=1;for(let M=0;I>=x;M++)S[M]=I/x|0,x*=4294967296;return new d(S,0)}function T(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return W(T(I.substring(1),S));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=y(Math.pow(S,8));let M=w;for(let U=0;U<I.length;U+=8){var N=Math.min(8,I.length-U);const R=parseInt(I.substring(U,U+N),S);N<8?(N=y(Math.pow(S,N)),M=M.j(N).add(y(R))):(M=M.j(x),M=M.add(y(R)))}return M}var w=_(0),V=_(1),F=_(16777216);r=d.prototype,r.m=function(){if(ne(this))return-W(this).m();let I=0,S=1;for(let x=0;x<this.g.length;x++){const M=this.i(x);I+=(M>=0?M:4294967296+M)*S,S*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(ee(this))return"0";if(ne(this))return"-"+W(this).toString(I);const S=y(Math.pow(I,6));var x=this;let M="";for(;;){const N=Je(x,S).g;x=me(x,N.j(S));let U=((x.g.length>0?x.g[0]:x.h)>>>0).toString(I);if(x=N,ee(x))return U+M;for(;U.length<6;)U="0"+U;M=U+M}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function ee(I){if(I.h!=0)return!1;for(let S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function ne(I){return I.h==-1}r.l=function(I){return I=me(this,I),ne(I)?-1:ee(I)?0:1};function W(I){const S=I.g.length,x=[];for(let M=0;M<S;M++)x[M]=~I.g[M];return new d(x,~I.h).add(V)}r.abs=function(){return ne(this)?W(this):this},r.add=function(I){const S=Math.max(this.g.length,I.g.length),x=[];let M=0;for(let N=0;N<=S;N++){let U=M+(this.i(N)&65535)+(I.i(N)&65535),R=(U>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);M=R>>>16,U&=65535,R&=65535,x[N]=R<<16|U}return new d(x,x[x.length-1]&-2147483648?-1:0)};function me(I,S){return I.add(W(S))}r.j=function(I){if(ee(this)||ee(I))return w;if(ne(this))return ne(I)?W(this).j(W(I)):W(W(this).j(I));if(ne(I))return W(this.j(W(I)));if(this.l(F)<0&&I.l(F)<0)return y(this.m()*I.m());const S=this.g.length+I.g.length,x=[];for(var M=0;M<2*S;M++)x[M]=0;for(M=0;M<this.g.length;M++)for(let N=0;N<I.g.length;N++){const U=this.i(M)>>>16,R=this.i(M)&65535,lt=I.i(N)>>>16,bt=I.i(N)&65535;x[2*M+2*N]+=R*bt,Te(x,2*M+2*N),x[2*M+2*N+1]+=U*bt,Te(x,2*M+2*N+1),x[2*M+2*N+1]+=R*lt,Te(x,2*M+2*N+1),x[2*M+2*N+2]+=U*lt,Te(x,2*M+2*N+2)}for(I=0;I<S;I++)x[I]=x[2*I+1]<<16|x[2*I];for(I=S;I<2*S;I++)x[I]=0;return new d(x,0)};function Te(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function pe(I,S){this.g=I,this.h=S}function Je(I,S){if(ee(S))throw Error("division by zero");if(ee(I))return new pe(w,w);if(ne(I))return S=Je(W(I),S),new pe(W(S.g),W(S.h));if(ne(S))return S=Je(I,W(S)),new pe(W(S.g),S.h);if(I.g.length>30){if(ne(I)||ne(S))throw Error("slowDivide_ only works with positive integers.");for(var x=V,M=S;M.l(I)<=0;)x=it(x),M=it(M);var N=Ce(x,1),U=Ce(M,1);for(M=Ce(M,2),x=Ce(x,2);!ee(M);){var R=U.add(M);R.l(I)<=0&&(N=N.add(x),U=R),M=Ce(M,1),x=Ce(x,1)}return S=me(I,N.j(S)),new pe(N,S)}for(N=w;I.l(S)>=0;){for(x=Math.max(1,Math.floor(I.m()/S.m())),M=Math.ceil(Math.log(x)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),U=y(x),R=U.j(S);ne(R)||R.l(I)>0;)x-=M,U=y(x),R=U.j(S);ee(U)&&(U=V),N=N.add(U),I=me(I,R)}return new pe(N,I)}r.B=function(I){return Je(this,I).h},r.and=function(I){const S=Math.max(this.g.length,I.g.length),x=[];for(let M=0;M<S;M++)x[M]=this.i(M)&I.i(M);return new d(x,this.h&I.h)},r.or=function(I){const S=Math.max(this.g.length,I.g.length),x=[];for(let M=0;M<S;M++)x[M]=this.i(M)|I.i(M);return new d(x,this.h|I.h)},r.xor=function(I){const S=Math.max(this.g.length,I.g.length),x=[];for(let M=0;M<S;M++)x[M]=this.i(M)^I.i(M);return new d(x,this.h^I.h)};function it(I){const S=I.g.length+1,x=[];for(let M=0;M<S;M++)x[M]=I.i(M)<<1|I.i(M-1)>>>31;return new d(x,I.h)}function Ce(I,S){const x=S>>5;S%=32;const M=I.g.length-x,N=[];for(let U=0;U<M;U++)N[U]=S>0?I.i(U+x)>>>S|I.i(U+x+1)<<32-S:I.i(U+x);return new d(N,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,pE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=T,rr=d}).apply(typeof T0<"u"?T0:typeof self<"u"?self:typeof window<"u"?window:{});var xc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var gE,El,yE,Uc,sm,_E,vE,EE;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof xc=="object"&&xc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)e:{var v=a;u=u.split(".");for(var A=0;A<u.length-1;A++){var L=u[A];if(!(L in v))break e;v=v[L]}u=u[u.length-1],A=v[u],m=m(A),m!=A&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&v.push([A,m[A]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function T(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function w(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(A,L,B){for(var te=Array(arguments.length-2),we=2;we<arguments.length;we++)te[we-2]=arguments[we];return m.prototype[L].apply(A,te)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const v=Array(m);for(let A=0;A<m;A++)v[A]=u[A];return v}return[]}function ee(u,m){for(let A=1;A<arguments.length;A++){const L=arguments[A];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let te=0;te<B;te++)u[v+te]=L[te]}else u.push(L)}}class ne{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function me(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Te{constructor(){this.h=this.g=null}add(m,v){const A=pe.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var pe=new ne(()=>new Je,u=>u.reset());class Je{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let it,Ce=!1,I=new Te,S=()=>{const u=Promise.resolve(void 0);it=()=>{u.then(x)}};function x(){for(var u;u=me();){try{u.h.call(u.g)}catch(v){W(v)}var m=pe;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ce=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function lt(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(lt,N),lt.prototype.init=function(u,m){const v=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&lt.Z.h.call(this)},lt.prototype.h=function(){lt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var bt="closure_listenable_"+(Math.random()*1e6|0),H=0;function se(u,m,v,A,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=L,this.key=++H,this.da=this.fa=!1}function fe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Pe(u,m,v){for(const A in u)m.call(v,u[A],A,u)}function Ke(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function re(u,m){let v,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(v in A)u[v]=A[v];for(let B=0;B<K.length;B++)v=K[B],Object.prototype.hasOwnProperty.call(A,v)&&(u[v]=A[v])}}function ae(u){this.src=u,this.g={},this.h=0}ae.prototype.add=function(u,m,v,A,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const te=J(u,m,A,L);return te>-1?(m=u[te],v||(m.fa=!1)):(m=new se(m,this.src,B,!!A,L),m.fa=v,u.push(m)),m};function X(u,m){const v=m.type;if(v in u.g){var A=u.g[v],L=Array.prototype.indexOf.call(A,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(A,L,1),B&&(fe(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function J(u,m,v,A){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==A)return L}return-1}var ie="closure_lm_"+(Math.random()*1e6|0),he={};function Ie(u,m,v,A,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)Ie(u,m[B],v,A,L);return null}return v=gr(v),u&&u[bt]?u.J(m,v,g(A)?!!A.capture:!1,L):Oe(u,m,v,!1,A,L)}function Oe(u,m,v,A,L,B){if(!m)throw Error("Invalid event type");const te=g(L)?!!L.capture:!!L;let we=Xe(u);if(we||(u[ie]=we=new ae(u)),v=we.add(m,v,A,te,B),v.proxy)return v;if(A=Ge(),v.proxy=A,A.src=u,A.listener=v,u.addEventListener)U||(L=te),L===void 0&&(L=!1),u.addEventListener(m.toString(),A,L);else if(u.attachEvent)u.attachEvent(Ye(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ge(){function u(v){return m.call(u.src,u.listener,v)}const m=He;return u}function ye(u,m,v,A,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)ye(u,m[B],v,A,L);else A=g(A)?!!A.capture:!!A,v=gr(v),u&&u[bt]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=J(m,v,A,L),v>-1&&(fe(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=Xe(u))&&(m=u.g[m.toString()],u=-1,m&&(u=J(m,v,A,L)),(v=u>-1?m[u]:null)&&Be(v))}function Be(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[bt])X(m.i,u);else{var v=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(v,A,u.capture):m.detachEvent?m.detachEvent(Ye(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=Xe(m))?(X(v,u),v.h==0&&(v.src=null,m[ie]=null)):fe(u)}}}function Ye(u){return u in he?he[u]:he[u]="on"+u}function He(u,m){if(u.da)u=!0;else{m=new lt(m,this);const v=u.listener,A=u.ha||u.src;u.fa&&Be(u),u=v.call(A,m)}return u}function Xe(u){return u=u[ie],u instanceof ae?u:null}var nn="__closure_events_fn_"+(Math.random()*1e9>>>0);function gr(u){return typeof u=="function"?u:(u[nn]||(u[nn]=function(m){return u.handleEvent(m)}),u[nn])}function Me(){M.call(this),this.i=new ae(this),this.M=this,this.G=null}w(Me,M),Me.prototype[bt]=!0,Me.prototype.removeEventListener=function(u,m,v,A){ye(this,u,m,v,A)};function ut(u,m){var v,A=u.G;if(A)for(v=[];A;A=A.G)v.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(A,u),re(m,L)}L=!0;let B,te;if(v)for(te=v.length-1;te>=0;te--)B=m.g=v[te],L=Dn(B,A,!0,m)&&L;if(B=m.g=u,L=Dn(B,A,!0,m)&&L,L=Dn(B,A,!1,m)&&L,v)for(te=0;te<v.length;te++)B=m.g=v[te],L=Dn(B,A,!1,m)&&L}Me.prototype.N=function(){if(Me.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let A=0;A<v.length;A++)fe(v[A]);delete u.g[m],u.h--}}this.G=null},Me.prototype.J=function(u,m,v,A){return this.i.add(String(u),m,!1,v,A)},Me.prototype.K=function(u,m,v,A){return this.i.add(String(u),m,!0,v,A)};function Dn(u,m,v,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const te=m[B];if(te&&!te.da&&te.capture==v){const we=te.listener,St=te.ha||te.src;te.fa&&X(u.i,te),L=we.call(St,A)!==!1&&L}}return L&&!A.defaultPrevented}function yr(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function na(u){u.g=yr(()=>{u.g=null,u.i&&(u.i=!1,na(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class qt extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:na(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qi(u){M.call(this),this.h=u,this.g={}}w(qi,M);var yo=[];function _o(u){Pe(u.g,function(m,v){this.g.hasOwnProperty(v)&&Be(m)},u),u.g={}}qi.prototype.N=function(){qi.Z.N.call(this),_o(this)},qi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _s=d.JSON.stringify,Oh=d.JSON.parse,Jl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Wl(){}function eu(){}var $n={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Kt(){N.call(this,"d")}w(Kt,N);function On(){N.call(this,"c")}w(On,N);var At={},tu=null;function ia(){return tu=tu||new Me}At.Ia="serverreachability";function nu(u){N.call(this,At.Ia,u)}w(nu,N);function hi(u){const m=ia();ut(m,new nu(m))}At.STAT_EVENT="statevent";function _r(u,m){N.call(this,At.STAT_EVENT,u),this.stat=m}w(_r,N);function Ct(u){const m=ia();ut(m,new _r(m,u))}At.Ja="timingevent";function fi(u,m){N.call(this,At.Ja,u),this.size=m}w(fi,N);function di(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Zn(){this.g=!0}Zn.prototype.ua=function(){this.g=!1};function Mh(u,m,v,A,L,B){u.info(function(){if(u.g)if(B){var te="",we=B.split("&");for(let $e=0;$e<we.length;$e++){var St=we[$e].split("=");if(St.length>1){const pt=St[0];St=St[1];const Un=pt.split("_");te=Un.length>=2&&Un[1]=="type"?te+(pt+"="+St+"&"):te+(pt+"=redacted&")}}}else te=null;else te=B;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+m+`
`+v+`
`+te})}function iu(u,m,v,A,L,B,te){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+te})}function mi(u,m,v,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Vh(u,v)+(A?" "+A:"")})}function vr(u,m){u.info(function(){return"TIMEOUT: "+m})}Zn.prototype.info=function(){};function Vh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var L=A[0];if(L!="noop"&&L!="stop"&&L!="close")for(let te=1;te<A.length;te++)A[te]=""}}}}return _s(B)}catch{return m}}var Er={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},vo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Eo;function Tr(){}w(Tr,Wl),Tr.prototype.g=function(){return new XMLHttpRequest},Eo=new Tr;function Hi(u){return encodeURIComponent(String(u))}function su(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Jn(u,m,v,A){this.j=u,this.i=m,this.l=v,this.S=A||1,this.V=new qi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Wn}function Wn(){this.i=null,this.g="",this.h=!1}var It={},Ht={};function pi(u,m,v){u.M=1,u.A=br(Dt(m)),u.u=v,u.R=!0,sa(u,null)}function sa(u,m){u.F=Date.now(),gi(u),u.B=Dt(u.A);var v=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),la(v.i,"t",A),u.C=0,v=u.j.L,u.h=new Wn,u.g=vu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new qt(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,A=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(yo[0]=L.toString()),L=yo);for(let B=0;B<L.length;B++){const te=Ie(v,L[B],A||m.handleEvent,!1,m.h||m);if(!te)break;m.g[te.key]=te}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),hi(),Mh(u.i,u.v,u.B,u.l,u.S,u.u)}Jn.prototype.ba=function(u){u=u.target;const m=this.O;m&&ni(u)==3?m.j():this.Y(u)},Jn.prototype.Y=function(u){try{if(u==this.g)e:{const we=ni(this.g),St=this.g.ya(),$e=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||Yt(this.g)))){this.K||we!=4||St==7||(St==8||$e<=0?hi(3):hi(2)),yi(this);var m=this.g.ca();this.X=m;var v=kh(this);if(this.o=m==200,iu(this.i,this.v,this.B,this.l,this.S,we,m),this.o){if(this.U&&!this.L){t:{if(this.g){var A,L=this.g;if((A=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(A)){var B=A;break t}}B=null}if(u=B)mi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,_i(this,u);else{this.o=!1,this.m=3,Ct(12),Tn(this),Mn(this);break e}}if(this.R){u=!0;let pt;for(;!this.K&&this.C<v.length;)if(pt=au(this,v),pt==Ht){we==4&&(this.m=4,Ct(14),u=!1),mi(this.i,this.l,null,"[Incomplete Response]");break}else if(pt==It){this.m=4,Ct(15),mi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else mi(this.i,this.l,pt,null),_i(this,pt);if(ru(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||v.length!=0||this.h.h||(this.m=1,Ct(16),u=!1),this.o=this.o&&u,!u)mi(this.i,this.l,v,"[Invalid Chunked Response]"),Tn(this),Mn(this);else if(v.length>0&&!this.W){this.W=!0;var te=this.j;te.g==this&&te.aa&&!te.P&&(te.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),ko(te),te.P=!0,Ct(11))}}else mi(this.i,this.l,v,null),_i(this,v);we==4&&Tn(this),this.o&&!this.K&&(we==4?pu(this.j,this):(this.o=!1,gi(this)))}else Fi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ct(12)):(this.m=0,Ct(13)),Tn(this),Mn(this)}}}catch{}};function kh(u){if(!ru(u))return u.g.la();const m=Yt(u.g);if(m==="")return"";let v="";const A=m.length,L=ni(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Tn(u),Mn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<A;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==A-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function ru(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function au(u,m){var v=u.C,A=m.indexOf(`
`,v);return A==-1?Ht:(v=Number(m.substring(v,A)),isNaN(v)?It:(A+=1,A+v>m.length?Ht:(m=m.slice(A,A+v),u.C=A+v,m)))}Jn.prototype.cancel=function(){this.K=!0,Tn(this)};function gi(u){u.T=Date.now()+u.H,ra(u,u.H)}function ra(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=di(y(u.aa,u),m)}function yi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Jn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(vr(this.i,this.B),this.M!=2&&(hi(),Ct(17)),Tn(this),this.m=2,Mn(this)):ra(this,this.T-u)};function Mn(u){u.j.I==0||u.K||pu(u.j,u)}function Tn(u){yi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,_o(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function _i(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Ei(v.h,u))){if(!u.L&&Ei(v.h,u)&&v.I==3){try{var A=v.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)da(v),Rs(v);else break e;Ir(v),Ct(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=di(y(v.Va,v),6e3));vi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ri(v,11)}else if((u.L||v.g==u)&&da(v),!R(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let $e=L[m];const pt=$e[0];if(!(pt<=v.K))if(v.K=pt,$e=$e[1],v.I==2)if($e[0]=="c"){v.M=$e[1],v.ba=$e[2];const Un=$e[3];Un!=null&&(v.ka=Un,v.j.info("VER="+v.ka));const xi=$e[4];xi!=null&&(v.za=xi,v.j.info("SVER="+v.za));const ii=$e[5];ii!=null&&typeof ii=="number"&&ii>0&&(A=1.5*ii,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const si=u.g;if(si){const Nr=si.g?si.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Nr){var B=A.h;B.g||Nr.indexOf("spdy")==-1&&Nr.indexOf("quic")==-1&&Nr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Ao(B,B.h),B.h=null))}if(A.G){const ma=si.g?si.g.getResponseHeader("X-HTTP-Session-Id"):null;ma&&(A.wa=ma,et(A.J,A.G,ma))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var te=u;if(A.na=_u(A,A.L?A.ba:null,A.W),te.L){So(A.h,te);var we=te,St=A.O;St&&(we.H=St),we.D&&(yi(we),gi(we)),A.g=te}else du(A);v.i.length>0&&wi(v)}else $e[0]!="stop"&&$e[0]!="close"||Ri(v,7);else v.I==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?Ri(v,7):Mo(v):$e[0]!="noop"&&v.l&&v.l.qa($e),v.A=0)}}hi(4)}catch{}}var Nt=class{constructor(u,m){this.g=u,this.map=m}};function To(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function bo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function vi(u){return u.h?1:u.g?u.g.size:0}function Ei(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ao(u,m){u.g?u.g.add(m):u.h=m}function So(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}To.prototype.cancel=function(){if(this.i=wo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function wo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return F(u.i)}var ou=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function aa(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const A=u[v].indexOf("=");let L,B=null;A>=0?(L=u[v].substring(0,A),B=u[v].substring(A+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function bn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof bn?(this.l=u.l,Gt(this,u.j),this.o=u.o,this.g=u.g,vs(this,u.u),this.h=u.h,Ro(this,hu(u.i)),this.m=u.m):u&&(m=String(u).match(ou))?(this.l=!1,Gt(this,m[1]||"",!0),this.o=Ti(m[2]||""),this.g=Ti(m[3]||"",!0),vs(this,m[4]),this.h=Ti(m[5]||"",!0),Ro(this,m[6]||"",!0),this.m=Ti(m[7]||"")):(this.l=!1,this.i=new Ts(null,this.l))}bn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Ar(m,oa,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ar(m,oa,!0),"@"),u.push(Hi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Ar(v,v.charAt(0)=="/"?xo:lu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Ar(v,uu)),u.join("")},bn.prototype.resolve=function(u){const m=Dt(this);let v=!!u.j;v?Gt(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var A=u.h;if(v)vs(m,u.u);else if(v=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var L=m.h.lastIndexOf("/");L!=-1&&(A=m.h.slice(0,L+1)+A)}if(L=A,L==".."||L==".")A="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){A=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let te=0;te<L.length;){const we=L[te++];we=="."?A&&te==L.length&&B.push(""):we==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),A&&te==L.length&&B.push("")):(B.push(we),A=!0)}A=B.join("/")}else A=L}return v?m.h=A:v=u.i.toString()!=="",v?Ro(m,hu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Dt(u){return new bn(u)}function Gt(u,m,v){u.j=v?Ti(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function vs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Ro(u,m,v){m instanceof Ts?(u.i=m,ua(u.i,u.l)):(v||(m=Ar(m,Es)),u.i=new Ts(m,u.l))}function et(u,m,v){u.i.set(m,v)}function br(u){return et(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ti(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ar(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,fn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function fn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var oa=/[#\/\?@]/g,lu=/[#\?:]/g,xo=/[#\?]/g,Es=/[#\?@]/g,uu=/#/g;function Ts(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function dn(u){u.g||(u.g=new Map,u.h=0,u.i&&aa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=Ts.prototype,r.add=function(u,m){dn(this),this.i=null,u=bs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function cu(u,m){dn(u),m=bs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Co(u,m){return dn(u),m=bs(u,m),u.g.has(m)}r.forEach=function(u,m){dn(this),this.g.forEach(function(v,A){v.forEach(function(L){u.call(m,L,A,this)},this)},this)};function Io(u,m){dn(u);let v=[];if(typeof m=="string")Co(u,m)&&(v=v.concat(u.g.get(bs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return dn(this),this.i=null,u=bs(this,u),Co(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Io(this,u),u.length>0?String(u[0]):m):m};function la(u,m,v){cu(u,m),v.length>0&&(u.i=null,u.g.set(bs(u,m),F(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var v=m[A];const L=Hi(v);v=Io(this,v);for(let B=0;B<v.length;B++){let te=L;v[B]!==""&&(te+="="+Hi(v[B])),u.push(te)}}return this.i=u.join("&")};function hu(u){const m=new Ts;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function bs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ua(u,m){m&&!u.j&&(dn(u),u.i=null,u.g.forEach(function(v,A){const L=A.toLowerCase();A!=L&&(cu(this,A),la(this,L,v))},u)),u.j=m}function ei(u,m){const v=new Zn;if(d.Image){const A=new Image;A.onload=T(Vn,v,"TestLoadImage: loaded",!0,m,A),A.onerror=T(Vn,v,"TestLoadImage: error",!1,m,A),A.onabort=T(Vn,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=T(Vn,v,"TestLoadImage: timeout",!1,m,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function No(u,m){const v=new Zn,A=new AbortController,L=setTimeout(()=>{A.abort(),Vn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(B=>{clearTimeout(L),B.ok?Vn(v,"TestPingServer: ok",!0,m):Vn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Vn(v,"TestPingServer: error",!1,m)})}function Vn(u,m,v,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(v)}catch{}}function As(){this.g=new Jl}function bi(u){this.i=u.Sb||null,this.h=u.ab||!1}w(bi,Wl),bi.prototype.g=function(){return new Sr(this.i,this.h)};function Sr(u,m){Me.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Sr,Me),r=Sr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ti(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ss(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ti(this)),this.g&&(this.readyState=3,ti(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ca(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ca(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ss(this):ti(this),this.readyState==3&&ca(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Ss(this))},r.Na=function(u){this.g&&(this.response=u,Ss(this))},r.ga=function(){this.g&&Ss(this)};function Ss(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ti(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ti(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Sr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function kn(u){let m="";return Pe(u,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function wr(u,m,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=kn(v),typeof u=="string"?v!=null&&Hi(v):et(u,m,v))}function st(u){Me.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(st,Me);var Ai=/^https?$/i,Do=["POST","PUT"];r=st.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Eo.g(),this.g.onreadystatechange=V(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Rr(this,B);return}if(u=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)v.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const B of A.keys())v.set(B,A.get(B));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Do,m,void 0)>=0)||A||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,te]of v)this.g.setRequestHeader(B,te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Rr(this,B)}};function Rr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Oo(u),Gi(u)}function Oo(u){u.A||(u.A=!0,ut(u,"complete"),ut(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,ut(this,"complete"),ut(this,"abort"),Gi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gi(this,!0)),st.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?xr(this):this.Xa())},r.Xa=function(){xr(this)};function xr(u){if(u.h&&typeof c<"u"){if(u.v&&ni(u)==4)setTimeout(u.Ca.bind(u),0);else if(ut(u,"readystatechange"),ni(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var A;if(A=B===0){let te=String(u.D).match(ou)[1]||null;!te&&d.self&&d.self.location&&(te=d.self.location.protocol.slice(0,-1)),A=!Ai.test(te?te.toLowerCase():"")}v=A}if(v)ut(u,"complete"),ut(u,"success");else{u.o=6;try{var L=ni(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Oo(u)}}finally{Gi(u)}}}}function Gi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||ut(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ni(u){return u.g?u.g.readyState:0}r.ca=function(){try{return ni(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Oh(m)}};function Yt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Fi(u){const m={};u=(u.g&&ni(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(R(u[A]))continue;var v=su(u[A]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}Ke(m,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Si(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function ws(u){this.za=0,this.i=[],this.j=new Zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Si("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Si("baseRetryDelayMs",5e3,u),this.Za=Si("retryDelaySeedMs",1e4,u),this.Ta=Si("forwardChannelMaxRetries",2,u),this.va=Si("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new To(u&&u.concurrentRequestLimit),this.Ba=new As,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ws.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,A){Ct(0),this.W=u,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=_u(this,null,this.W),wi(this)};function Mo(u){if(ha(u),u.I==3){var m=u.V++,v=Dt(u.J);if(et(v,"SID",u.M),et(v,"RID",m),et(v,"TYPE","terminate"),Cr(u,v),m=new Jn(u,u.j,m),m.M=2,m.A=br(Dt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=vu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),gi(m)}yu(u)}function Rs(u){u.g&&(ko(u),u.g.cancel(),u.g=null)}function ha(u){Rs(u),u.v&&(d.clearTimeout(u.v),u.v=null),da(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function wi(u){if(!bo(u.h)&&!u.m){u.m=!0;var m=u.Ea;it||S(),Ce||(it(),Ce=!0),I.add(m,u),u.D=0}}function fa(u,m){return vi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=di(y(u.Ea,u,m),gu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Jn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),re(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=fu(this,L,m),v=Dt(this.J),et(v,"RID",u),et(v,"CVER",22),this.G&&et(v,"X-HTTP-Session-Id",this.G),Cr(this,v),B&&(this.R?m="headers="+Hi(kn(B))+"&"+m:this.u&&wr(v,this.u,B)),Ao(this.h,L),this.Ra&&et(v,"TYPE","init"),this.S?(et(v,"$req",m),et(v,"SID","null"),L.U=!0,pi(L,v,null)):pi(L,v,m),this.I=2}}else this.I==3&&(u?Vo(this,u):this.i.length==0||bo(this.h)||Vo(this))};function Vo(u,m){var v;m?v=m.l:v=u.V++;const A=Dt(u.J);et(A,"SID",u.M),et(A,"RID",v),et(A,"AID",u.K),Cr(u,A),u.u&&u.o&&wr(A,u.u,u.o),v=new Jn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=fu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ao(u.h,v),pi(v,A,m)}function Cr(u,m){u.H&&Pe(u.H,function(v,A){et(m,A,v)}),u.l&&Pe({},function(v,A){et(m,A,v)})}function fu(u,m,v){v=Math.min(u.i.length,v);const A=u.l?y(u.l.Ka,u.l,u):null;e:{var L=u.i;let we=-1;for(;;){const St=["count="+v];we==-1?v>0?(we=L[0].g,St.push("ofs="+we)):we=0:St.push("ofs="+we);let $e=!0;for(let pt=0;pt<v;pt++){var B=L[pt].g;const Un=L[pt].map;if(B-=we,B<0)we=Math.max(0,L[pt].g-100),$e=!1;else try{B="req"+B+"_"||"";try{var te=Un instanceof Map?Un:Object.entries(Un);for(const[xi,ii]of te){let si=ii;g(ii)&&(si=_s(ii)),St.push(B+xi+"="+encodeURIComponent(si))}}catch(xi){throw St.push(B+"type="+encodeURIComponent("_badmap")),xi}}catch{A&&A(Un)}}if($e){te=St.join("&");break e}}te=void 0}return u=u.i.splice(0,v),m.G=u,te}function du(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;it||S(),Ce||(it(),Ce=!0),I.add(m,u),u.A=0}}function Ir(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=di(y(u.Da,u),gu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,mu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=di(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ct(10),Rs(this),mu(this))};function ko(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function mu(u){u.g=new Jn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Dt(u.na);et(m,"RID","rpc"),et(m,"SID",u.M),et(m,"AID",u.K),et(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&et(m,"TO",u.ia),et(m,"TYPE","xmlhttp"),Cr(u,m),u.u&&u.o&&wr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=br(Dt(m)),v.u=null,v.R=!0,sa(v,u)}r.Va=function(){this.C!=null&&(this.C=null,Rs(this),Ir(this),Ct(19))};function da(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function pu(u,m){var v=null;if(u.g==m){da(u),ko(u),u.g=null;var A=2}else if(Ei(u.h,m))v=m.G,So(u.h,m),A=1;else return;if(u.I!=0){if(m.o)if(A==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;A=ia(),ut(A,new fi(A,v)),wi(u)}else du(u);else if(L=m.m,L==3||L==0&&m.X>0||!(A==1&&fa(u,m)||A==2&&Ir(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:Ri(u,5);break;case 4:Ri(u,10);break;case 3:Ri(u,6);break;default:Ri(u,2)}}}function gu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ri(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),A=u.Ua;const L=!A;A=new bn(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Gt(A,"https"),br(A),L?ei(A.toString(),v):No(A.toString(),v)}else Ct(2);u.I=0,u.l&&u.l.pa(m),yu(u),ha(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function yu(u){if(u.I=0,u.ja=[],u.l){const m=wo(u.h);(m.length!=0||u.i.length!=0)&&(ee(u.ja,m),ee(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function _u(u,m,v){var A=v instanceof bn?Dt(v):new bn(v);if(A.g!="")m&&(A.g=m+"."+A.g),vs(A,A.u);else{var L=d.location;A=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new bn(null);A&&Gt(B,A),m&&(B.g=m),L&&vs(B,L),v&&(B.h=v),A=B}return v=u.G,m=u.wa,v&&m&&et(A,v,m),et(A,"VER",u.ka),Cr(u,A),A}function vu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new st(new bi({ab:v})):new st(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eu(){}r=Eu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function xs(){}xs.prototype.g=function(u,m){return new un(u,m)};function un(u,m){Me.call(this),this.g=new ws(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Qi(this)}w(un,Me),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){Mo(this.g)},un.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=_s(u),u=v);m.i.push(new Nt(m.Ya++,u)),m.I==3&&wi(m)},un.prototype.N=function(){this.g.l=null,delete this.j,Mo(this.g),delete this.g,un.Z.N.call(this)};function Tu(u){Kt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(Tu,Kt);function bu(){On.call(this),this.status=1}w(bu,On);function Qi(u){this.g=u}w(Qi,Eu),Qi.prototype.ra=function(){ut(this.g,"a")},Qi.prototype.qa=function(u){ut(this.g,new Tu(u))},Qi.prototype.pa=function(u){ut(this.g,new bu)},Qi.prototype.oa=function(){ut(this.g,"b")},xs.prototype.createWebChannel=xs.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,EE=function(){return new xs},vE=function(){return ia()},_E=At,sm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Er.NO_ERROR=0,Er.TIMEOUT=8,Er.HTTP_ERROR=6,Uc=Er,vo.COMPLETE="complete",yE=vo,eu.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",Me.prototype.listen=Me.prototype.J,El=eu,st.prototype.listenOnce=st.prototype.K,st.prototype.getLastError=st.prototype.Ha,st.prototype.getLastErrorCode=st.prototype.ya,st.prototype.getStatus=st.prototype.ca,st.prototype.getResponseJson=st.prototype.La,st.prototype.getResponseText=st.prototype.la,st.prototype.send=st.prototype.ea,st.prototype.setWithCredentials=st.prototype.Fa,gE=st}).apply(typeof xc<"u"?xc:typeof self<"u"?self:typeof window<"u"?window:{});const b0="@firebase/firestore",A0="4.9.3";let an=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");let fo="12.7.0";const Zr=new Rm("@firebase/firestore");function Ga(){return Zr.logLevel}function oe(r,...e){if(Zr.logLevel<=Ue.DEBUG){const i=e.map(Lm);Zr.debug(`Firestore (${fo}): ${r}`,...i)}}function ps(r,...e){if(Zr.logLevel<=Ue.ERROR){const i=e.map(Lm);Zr.error(`Firestore (${fo}): ${r}`,...i)}}function no(r,...e){if(Zr.logLevel<=Ue.WARN){const i=e.map(Lm);Zr.warn(`Firestore (${fo}): ${r}`,...i)}}function Lm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function ve(r,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,TE(r,a,i)}function TE(r,e,i){let a=`FIRESTORE (${fo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ps(a),new Error(a)}function We(r,e,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||TE(e,l,a)}function Se(r,e){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends ys{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ar{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class bE{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class I2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(an.UNAUTHENTICATED)))}shutdown(){}}class N2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class D2{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){We(this.o===void 0,42304);let a=this.i;const l=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new ar;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ar,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;e.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},g=_=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ar)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(We(typeof a.accessToken=="string",31837,{l:a}),new bE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new an(e)}}class O2{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=an.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class M2{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new O2(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(an.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class S0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class V2{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){We(this.o===void 0,3512);const a=c=>{c.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,oe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const l=c=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new S0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(We(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new S0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function k2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class jm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=k2(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=e.charAt(l[c]%62))}return a}}function Le(r,e){return r<e?-1:r>e?1:0}function rm(r,e){const i=Math.min(r.length,e.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=e.charAt(a);if(l!==c)return Hd(l)===Hd(c)?Le(l,c):Hd(l)?1:-1}return Le(r.length,e.length)}const U2=55296,L2=57343;function Hd(r){const e=r.charCodeAt(0);return e>=U2&&e<=L2}function io(r,e,i){return r.length===e.length&&r.every(((a,l)=>i(a,e[l])))}const w0="__name__";class Mi{constructor(e,i,a){i===void 0?i=0:i>e.length&&ve(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&ve(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Mi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Mi?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let l=0;l<a;l++){const c=Mi.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return Le(e.length,i.length)}static compareSegments(e,i){const a=Mi.isNumericId(e),l=Mi.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Mi.extractNumericId(e).compare(Mi.extractNumericId(i)):rm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return rr.fromString(e.substring(4,e.length-2))}}class _t extends Mi{construct(e,i,a){return new _t(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new ce(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new _t(i)}static emptyPath(){return new _t([])}}const j2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Mi{construct(e,i,a){return new en(e,i,a)}static isValidIdentifier(e){return j2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===w0}static keyField(){return new en([w0])}static fromServerFormat(e){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ce(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new ce(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ce(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(a+=g,l++):(c(),l++)}if(c(),d)throw new ce(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(i)}static emptyPath(){return new en([])}}class ge{constructor(e){this.path=e}static fromPath(e){return new ge(_t.fromString(e))}static fromName(e){return new ge(_t.fromString(e).popFirst(5))}static empty(){return new ge(_t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return _t.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new _t(e.slice()))}}function P2(r,e,i){if(!i)throw new ce(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function z2(r,e,i,a){if(e===!0&&a===!0)throw new ce(Z.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function R0(r){if(!ge.isDocumentKey(r))throw new ce(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function AE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Pm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ve(12329,{type:typeof r})}function ui(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ce(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Pm(r);throw new ce(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function Lt(r,e){const i={typeString:r};return e&&(i.value=e),i}function Ql(r,e){if(!AE(r))throw new ce(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const l=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ce(Z.INVALID_ARGUMENT,i);return!0}const x0=-62135596800,C0=1e6;class mt{static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*C0);return new mt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ce(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ce(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<x0)throw new ce(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/C0}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:mt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ql(e,mt._jsonSchema))return new mt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-x0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}mt._jsonSchemaVersion="firestore/timestamp/1.0",mt._jsonSchema={type:Lt("string",mt._jsonSchemaVersion),seconds:Lt("number"),nanoseconds:Lt("number")};class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new mt(0,0))}static max(){return new be(new mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ml=-1;function B2(r,e){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=be.fromTimestamp(a===1e9?new mt(i+1,0):new mt(i,a));return new lr(l,ge.empty(),e)}function q2(r){return new lr(r.readTime,r.key,Ml)}class lr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new lr(be.min(),ge.empty(),Ml)}static max(){return new lr(be.max(),ge.empty(),Ml)}}function H2(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=ge.comparator(r.documentKey,e.documentKey),i!==0?i:Le(r.largestBatchId,e.largestBatchId))}const G2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class F2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function mo(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==G2)throw r;oe("LocalStore","Unexpectedly lost primary lease")}class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new $(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):$.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):$.reject(i)}static resolve(e){return new $(((i,a)=>{i(e)}))}static reject(e){return new $(((i,a)=>{a(e)}))}static waitFor(e){return new $(((i,a)=>{let l=0,c=0,d=!1;e.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(_=>a(_)))})),d=!0,c===l&&i()}))}static or(e){let i=$.resolve(!1);for(const a of e)i=i.next((l=>l?$.resolve(l):a()));return i}static forEach(e,i){const a=[];return e.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(e,i){return new $(((a,l)=>{const c=e.length,d=new Array(c);let g=0;for(let _=0;_<c;_++){const y=_;i(e[y]).next((T=>{d[y]=T,++g,g===c&&a(d)}),(T=>l(T)))}}))}static doWhile(e,i){return new $(((a,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):a()};c()}))}}function Q2(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function po(r){return r.name==="IndexedDbTransactionError"}class mh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}mh.ce=-1;const zm=-1;function ph(r){return r==null}function Zc(r){return r===0&&1/r==-1/0}function K2(r){return typeof r=="number"&&Number.isInteger(r)&&!Zc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const SE="";function Y2(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=I0(e)),e=X2(r.get(i),e);return I0(e)}function X2(r,e){let i=e;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case SE:i+="";break;default:i+=c}}return i}function I0(r){return r+SE+""}function N0(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function mr(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function wE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class vt{constructor(e,i){this.comparator=e,this.root=i||Wt.EMPTY}insert(e,i){return new vt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cc(this.root,e,this.comparator,!0)}}class Cc{constructor(e,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,i,a,l,c){this.key=e,this.value=i,this.color=a??Wt.RED,this.left=l??Wt.EMPTY,this.right=c??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,l,c){return new Wt(e??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let l=this;const c=a(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return Wt.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,i,a,l,c){return this}insert(e,i,a){return new Wt(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Bt{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new D0(this.data.getIterator())}getIteratorFrom(e){return new D0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Bt(this.comparator);return i.data=e,i}}class D0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Nn{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new Nn([])}unionWith(e){let i=new Bt(en.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Nn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return io(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class RE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new RE("Invalid base64 string: "+c):c}})(e);return new tn(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new tn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const $2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ur(r){if(We(!!r,39018),typeof r=="string"){let e=0;const i=$2.exec(r);if(We(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:xt(r.seconds),nanos:xt(r.nanos)}}function xt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function cr(r){return typeof r=="string"?tn.fromBase64String(r):tn.fromUint8Array(r)}const xE="server_timestamp",CE="__type__",IE="__previous_value__",NE="__local_write_time__";function Bm(r){return(r?.mapValue?.fields||{})[CE]?.stringValue===xE}function gh(r){const e=r.mapValue.fields[IE];return Bm(e)?gh(e):e}function Vl(r){const e=ur(r.mapValue.fields[NE].timestampValue);return new mt(e.seconds,e.nanos)}class Z2{constructor(e,i,a,l,c,d,g,_,y,T){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=T}}const Jc="(default)";class kl{constructor(e,i){this.projectId=e,this.database=i||Jc}static empty(){return new kl("","")}get isDefaultDatabase(){return this.database===Jc}isEqual(e){return e instanceof kl&&e.projectId===this.projectId&&e.database===this.database}}const DE="__type__",J2="__max__",Ic={mapValue:{}},OE="__vector__",Wc="value";function hr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Bm(r)?4:eR(r)?9007199254740991:W2(r)?10:11:ve(28295,{value:r})}function zi(r,e){if(r===e)return!0;const i=hr(r);if(i!==hr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Vl(r).isEqual(Vl(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=ur(l.timestampValue),g=ur(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(l,c){return cr(l.bytesValue).isEqual(cr(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(l,c){return xt(l.geoPointValue.latitude)===xt(c.geoPointValue.latitude)&&xt(l.geoPointValue.longitude)===xt(c.geoPointValue.longitude)})(r,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return xt(l.integerValue)===xt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=xt(l.doubleValue),g=xt(c.doubleValue);return d===g?Zc(d)===Zc(g):isNaN(d)&&isNaN(g)}return!1})(r,e);case 9:return io(r.arrayValue.values||[],e.arrayValue.values||[],zi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(N0(d)!==N0(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!zi(d[_],g[_])))return!1;return!0})(r,e);default:return ve(52216,{left:r})}}function Ul(r,e){return(r.values||[]).find((i=>zi(i,e)))!==void 0}function so(r,e){if(r===e)return 0;const i=hr(r),a=hr(e);if(i!==a)return Le(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Le(r.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=xt(c.integerValue||c.doubleValue),_=xt(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(r,e);case 3:return O0(r.timestampValue,e.timestampValue);case 4:return O0(Vl(r),Vl(e));case 5:return rm(r.stringValue,e.stringValue);case 6:return(function(c,d){const g=cr(c),_=cr(d);return g.compareTo(_)})(r.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),_=d.split("/");for(let y=0;y<g.length&&y<_.length;y++){const T=Le(g[y],_[y]);if(T!==0)return T}return Le(g.length,_.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=Le(xt(c.latitude),xt(d.latitude));return g!==0?g:Le(xt(c.longitude),xt(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return M0(r.arrayValue,e.arrayValue);case 10:return(function(c,d){const g=c.fields||{},_=d.fields||{},y=g[Wc]?.arrayValue,T=_[Wc]?.arrayValue,w=Le(y?.values?.length||0,T?.values?.length||0);return w!==0?w:M0(y,T)})(r.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Ic.mapValue&&d===Ic.mapValue)return 0;if(c===Ic.mapValue)return 1;if(d===Ic.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),y=d.fields||{},T=Object.keys(y);_.sort(),T.sort();for(let w=0;w<_.length&&w<T.length;++w){const V=rm(_[w],T[w]);if(V!==0)return V;const F=so(g[_[w]],y[T[w]]);if(F!==0)return F}return Le(_.length,T.length)})(r.mapValue,e.mapValue);default:throw ve(23264,{he:i})}}function O0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Le(r,e);const i=ur(r),a=ur(e),l=Le(i.seconds,a.seconds);return l!==0?l:Le(i.nanos,a.nanos)}function M0(r,e){const i=r.values||[],a=e.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=so(i[l],a[l]);if(c)return c}return Le(i.length,a.length)}function ro(r){return am(r)}function am(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=ur(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return cr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ge.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=am(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${am(i.fields[d])}`;return l+"}"})(r.mapValue):ve(61005,{value:r})}function Lc(r){switch(hr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gh(r);return e?16+Lc(e):16;case 5:return 2*r.stringValue.length;case 6:return cr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Lc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return mr(a.fields,((c,d)=>{l+=c.length+Lc(d)})),l})(r.mapValue);default:throw ve(13486,{value:r})}}function om(r){return!!r&&"integerValue"in r}function qm(r){return!!r&&"arrayValue"in r}function V0(r){return!!r&&"nullValue"in r}function k0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function jc(r){return!!r&&"mapValue"in r}function W2(r){return(r?.mapValue?.fields||{})[DE]?.stringValue===OE}function Rl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return mr(r.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Rl(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Rl(r.arrayValue.values[i]);return e}return{...r}}function eR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===J2}class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!jc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rl(i)}setAll(e){let i=en.emptyPath(),a={},l=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,a,l),a={},l=[],i=g.popLast()}d?a[g.lastSegment()]=Rl(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(e){const i=this.field(e.popLast());jc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return zi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=i.mapValue.fields[e.get(a)];jc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,a){mr(i,((l,c)=>e[l]=c));for(const l of a)delete e[l]}clone(){return new En(Rl(this.value))}}function ME(r){const e=[];return mr(r.fields,((i,a)=>{const l=new en([i]);if(jc(a)){const c=ME(a.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new Nn(e)}class on{constructor(e,i,a,l,c,d,g){this.key=e,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new on(e,0,be.min(),be.min(),be.min(),En.empty(),0)}static newFoundDocument(e,i,a,l){return new on(e,1,i,be.min(),a,l,0)}static newNoDocument(e,i){return new on(e,2,i,be.min(),be.min(),En.empty(),0)}static newUnknownDocument(e,i){return new on(e,3,i,be.min(),be.min(),En.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof on&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class eh{constructor(e,i){this.position=e,this.inclusive=i}}function U0(r,e,i){let a=0;for(let l=0;l<r.position.length;l++){const c=e[l],d=r.position[l];if(c.field.isKeyField()?a=ge.comparator(ge.fromName(d.referenceValue),i.key):a=so(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function L0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!zi(r.position[i],e.position[i]))return!1;return!0}class th{constructor(e,i="asc"){this.field=e,this.dir=i}}function tR(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class VE{}class zt extends VE{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new iR(e,i,a):i==="array-contains"?new aR(e,a):i==="in"?new oR(e,a):i==="not-in"?new lR(e,a):i==="array-contains-any"?new uR(e,a):new zt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new sR(e,a):new rR(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(so(i,this.value)):i!==null&&hr(this.value)===hr(i)&&this.matchesComparison(so(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bi extends VE{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Bi(e,i)}matches(e){return kE(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function kE(r){return r.op==="and"}function UE(r){return nR(r)&&kE(r)}function nR(r){for(const e of r.filters)if(e instanceof Bi)return!1;return!0}function lm(r){if(r instanceof zt)return r.field.canonicalString()+r.op.toString()+ro(r.value);if(UE(r))return r.filters.map((e=>lm(e))).join(",");{const e=r.filters.map((i=>lm(i))).join(",");return`${r.op}(${e})`}}function LE(r,e){return r instanceof zt?(function(a,l){return l instanceof zt&&a.op===l.op&&a.field.isEqual(l.field)&&zi(a.value,l.value)})(r,e):r instanceof Bi?(function(a,l){return l instanceof Bi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,g)=>c&&LE(d,l.filters[g])),!0):!1})(r,e):void ve(19439)}function jE(r){return r instanceof zt?(function(i){return`${i.field.canonicalString()} ${i.op} ${ro(i.value)}`})(r):r instanceof Bi?(function(i){return i.op.toString()+" {"+i.getFilters().map(jE).join(" ,")+"}"})(r):"Filter"}class iR extends zt{constructor(e,i,a){super(e,i,a),this.key=ge.fromName(a.referenceValue)}matches(e){const i=ge.comparator(e.key,this.key);return this.matchesComparison(i)}}class sR extends zt{constructor(e,i){super(e,"in",i),this.keys=PE("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class rR extends zt{constructor(e,i){super(e,"not-in",i),this.keys=PE("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function PE(r,e){return(e.arrayValue?.values||[]).map((i=>ge.fromName(i.referenceValue)))}class aR extends zt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return qm(i)&&Ul(i.arrayValue,this.value)}}class oR extends zt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Ul(this.value.arrayValue,i)}}class lR extends zt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Ul(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ul(this.value.arrayValue,i)}}class uR extends zt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!qm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Ul(this.value.arrayValue,a)))}}class cR{constructor(e,i=null,a=[],l=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function j0(r,e=null,i=[],a=[],l=null,c=null,d=null){return new cR(r,e,i,a,l,c,d)}function Hm(r){const e=Se(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>lm(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),ph(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>ro(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>ro(a))).join(",")),e.Te=i}return e.Te}function Gm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!tR(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!LE(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!L0(r.startAt,e.startAt)&&L0(r.endAt,e.endAt)}function um(r){return ge.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class yh{constructor(e,i=null,a=[],l=[],c=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function hR(r,e,i,a,l,c,d,g){return new yh(r,e,i,a,l,c,d,g)}function _h(r){return new yh(r)}function P0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function fR(r){return r.collectionGroup!==null}function xl(r){const e=Se(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Bt(en.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new th(c,a))})),i.has(en.keyField().canonicalString())||e.Ie.push(new th(en.keyField(),a))}return e.Ie}function Ui(r){const e=Se(r);return e.Ee||(e.Ee=dR(e,xl(r))),e.Ee}function dR(r,e){if(r.limitType==="F")return j0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new th(l.field,c)}));const i=r.endAt?new eh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new eh(r.startAt.position,r.startAt.inclusive):null;return j0(r.path,r.collectionGroup,e,r.filters,r.limit,i,a)}}function cm(r,e,i){return new yh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function vh(r,e){return Gm(Ui(r),Ui(e))&&r.limitType===e.limitType}function zE(r){return`${Hm(Ui(r))}|lt:${r.limitType}`}function Fa(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>jE(l))).join(", ")}]`),ph(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>ro(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>ro(l))).join(",")),`Target(${a})`})(Ui(r))}; limitType=${r.limitType})`}function Eh(r,e){return e.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ge.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,e)&&(function(a,l){for(const c of xl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,e)&&(function(a,l){return!(a.startAt&&!(function(d,g,_){const y=U0(d,g,_);return d.inclusive?y<=0:y<0})(a.startAt,xl(a),l)||a.endAt&&!(function(d,g,_){const y=U0(d,g,_);return d.inclusive?y>=0:y>0})(a.endAt,xl(a),l))})(r,e)}function mR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function BE(r){return(e,i)=>{let a=!1;for(const l of xl(r)){const c=pR(l,e,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function pR(r,e,i){const a=r.field.isKeyField()?ge.comparator(e.key,i.key):(function(c,d,g){const _=d.data.field(c),y=g.data.field(c);return _!==null&&y!==null?so(_,y):ve(42886)})(r.field,e,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return ve(19790,{direction:r.dir})}}class ea{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){mr(this.inner,((i,a)=>{for(const[l,c]of a)e(l,c)}))}isEmpty(){return wE(this.inner)}size(){return this.innerSize}}const gR=new vt(ge.comparator);function gs(){return gR}const qE=new vt(ge.comparator);function Tl(...r){let e=qE;for(const i of r)e=e.insert(i.key,i);return e}function HE(r){let e=qE;return r.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function Kr(){return Cl()}function GE(){return Cl()}function Cl(){return new ea((r=>r.toString()),((r,e)=>r.isEqual(e)))}const yR=new vt(ge.comparator),_R=new Bt(ge.comparator);function je(...r){let e=_R;for(const i of r)e=e.add(i);return e}const vR=new Bt(Le);function ER(){return vR}function Fm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zc(e)?"-0":e}}function FE(r){return{integerValue:""+r}}function TR(r,e){return K2(e)?FE(e):Fm(r,e)}class Th{constructor(){this._=void 0}}function bR(r,e,i){return r instanceof nh?(function(l,c){const d={fields:{[CE]:{stringValue:xE},[NE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Bm(c)&&(c=gh(c)),c&&(d.fields[IE]=c),{mapValue:d}})(i,e):r instanceof ao?KE(r,e):r instanceof Ll?YE(r,e):(function(l,c){const d=QE(l,c),g=z0(d)+z0(l.Ae);return om(d)&&om(l.Ae)?FE(g):Fm(l.serializer,g)})(r,e)}function AR(r,e,i){return r instanceof ao?KE(r,e):r instanceof Ll?YE(r,e):i}function QE(r,e){return r instanceof ih?(function(a){return om(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class nh extends Th{}class ao extends Th{constructor(e){super(),this.elements=e}}function KE(r,e){const i=XE(e);for(const a of r.elements)i.some((l=>zi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Ll extends Th{constructor(e){super(),this.elements=e}}function YE(r,e){let i=XE(e);for(const a of r.elements)i=i.filter((l=>!zi(l,a)));return{arrayValue:{values:i}}}class ih extends Th{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function z0(r){return xt(r.integerValue||r.doubleValue)}function XE(r){return qm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class SR{constructor(e,i){this.field=e,this.transform=i}}function wR(r,e){return r.field.isEqual(e.field)&&(function(a,l){return a instanceof ao&&l instanceof ao||a instanceof Ll&&l instanceof Ll?io(a.elements,l.elements,zi):a instanceof ih&&l instanceof ih?zi(a.Ae,l.Ae):a instanceof nh&&l instanceof nh})(r.transform,e.transform)}class RR{constructor(e,i){this.version=e,this.transformResults=i}}class ci{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ci}static exists(e){return new ci(void 0,e)}static updateTime(e){return new ci(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class bh{}function $E(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Qm(r.key,ci.none()):new Kl(r.key,r.data,ci.none());{const i=r.data,a=En.empty();let l=new Bt(en.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new pr(r.key,a,new Nn(l.toArray()),ci.none())}}function xR(r,e,i){r instanceof Kl?(function(l,c,d){const g=l.value.clone(),_=q0(l.fieldTransforms,c,d.transformResults);g.setAll(_),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,e,i):r instanceof pr?(function(l,c,d){if(!Pc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=q0(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(ZE(l)),_.setAll(g),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(r,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Il(r,e,i,a){return r instanceof Kl?(function(c,d,g,_){if(!Pc(c.precondition,d))return g;const y=c.value.clone(),T=H0(c.fieldTransforms,_,d);return y.setAll(T),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,e,i,a):r instanceof pr?(function(c,d,g,_){if(!Pc(c.precondition,d))return g;const y=H0(c.fieldTransforms,_,d),T=d.data;return T.setAll(ZE(c)),T.setAll(y),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(r,e,i,a):(function(c,d,g){return Pc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,e,i)}function CR(r,e){let i=null;for(const a of r.fieldTransforms){const l=e.data.field(a.field),c=QE(a.transform,l||null);c!=null&&(i===null&&(i=En.empty()),i.set(a.field,c))}return i||null}function B0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&io(a,l,((c,d)=>wR(c,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Kl extends bh{constructor(e,i,a,l=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class pr extends bh{constructor(e,i,a,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function ZE(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);e.set(i,a)}})),e}function q0(r,e,i){const a=new Map;We(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,g=e.data.field(c.field);a.set(c.field,AR(d,g,i[l]))}return a}function H0(r,e,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,bR(c,d,e))}return a}class Qm extends bh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class IR extends bh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class NR{constructor(e,i,a,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&xR(c,e,a[l])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Il(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Il(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=GE();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const _=$E(d,g);_!==null&&a.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(be.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),je())}isEqual(e){return this.batchId===e.batchId&&io(this.mutations,e.mutations,((i,a)=>B0(i,a)))&&io(this.baseMutations,e.baseMutations,((i,a)=>B0(i,a)))}}class Km{constructor(e,i,a,l){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(e,i,a){We(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let l=(function(){return yR})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Km(e,i,a,l)}}class DR{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class OR{constructor(e,i){this.count=e,this.unchangedNames=i}}var Ut,qe;function MR(r){switch(r){case Z.OK:return ve(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return ve(15467,{code:r})}}function JE(r){if(r===void 0)return ps("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Ut.OK:return Z.OK;case Ut.CANCELLED:return Z.CANCELLED;case Ut.UNKNOWN:return Z.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return Z.INTERNAL;case Ut.UNAVAILABLE:return Z.UNAVAILABLE;case Ut.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Ut.NOT_FOUND:return Z.NOT_FOUND;case Ut.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Ut.ABORTED:return Z.ABORTED;case Ut.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Ut.DATA_LOSS:return Z.DATA_LOSS;default:return ve(39323,{code:r})}}(qe=Ut||(Ut={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";function VR(){return new TextEncoder}const kR=new rr([4294967295,4294967295],0);function G0(r){const e=VR().encode(r),i=new pE;return i.update(e),new Uint8Array(i.digest())}function F0(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new rr([i,a],0),new rr([l,c],0)]}class Ym{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new bl(`Invalid padding: ${i}`);if(a<0)throw new bl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new bl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new bl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=rr.fromNumber(this.ge)}ye(e,i,a){let l=e.add(i.multiply(rr.fromNumber(a)));return l.compare(kR)===1&&(l=new rr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=G0(e),[a,l]=F0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Ym(c,l,i);return a.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=G0(e),[a,l]=F0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ah{constructor(e,i,a,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const l=new Map;return l.set(e,Yl.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Ah(be.min(),l,new vt(Le),gs(),je())}}class Yl{constructor(e,i,a,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new Yl(a,i,je(),je(),je())}}class zc{constructor(e,i,a,l){this.be=e,this.removedTargetIds=i,this.key=a,this.De=l}}class WE{constructor(e,i){this.targetId=e,this.Ce=i}}class eT{constructor(e,i,a=tn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Q0{constructor(){this.ve=0,this.Fe=K0(),this.Me=tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=je(),i=je(),a=je();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:ve(38017,{changeType:c})}})),new Yl(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=K0()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,We(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class UR{constructor(e){this.Ge=e,this.ze=new Map,this.je=gs(),this.Je=Nc(),this.He=Nc(),this.Ye=new vt(Le)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,a=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(um(c))if(a===0){const d=new ge(c.path);this.et(i,d,on.newNoDocument(d,be.min()))}else We(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(e),_=g?this.ct(g,e,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=cr(a).toUint8Array()}catch(_){if(_ instanceof RE)return no("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new Ym(d,l,c)}catch(_){return no(_ instanceof bl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&um(g.target)){const _=new ge(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,on.newNoDocument(_,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=je();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new Ah(e,i,this.Ye,this.je,a);return this.je=gs(),this.Je=Nc(),this.He=Nc(),this.Ye=new vt(Le),l}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new Q0,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Bt(Le),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Bt(Le),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||oe("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Q0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Nc(){return new vt(ge.comparator)}function K0(){return new vt(ge.comparator)}const LR={asc:"ASCENDING",desc:"DESCENDING"},jR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},PR={and:"AND",or:"OR"};class zR{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function hm(r,e){return r.useProto3Json||ph(e)?e:{value:e}}function sh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function BR(r,e){return sh(r,e.toTimestamp())}function Li(r){return We(!!r,49232),be.fromTimestamp((function(i){const a=ur(i);return new mt(a.seconds,a.nanos)})(r))}function Xm(r,e){return fm(r,e).canonicalString()}function fm(r,e){const i=(function(l){return new _t(["projects",l.projectId,"databases",l.database])})(r).child("documents");return e===void 0?i:i.child(e)}function nT(r){const e=_t.fromString(r);return We(oT(e),10190,{key:e.toString()}),e}function dm(r,e){return Xm(r.databaseId,e.path)}function Gd(r,e){const i=nT(e);if(i.get(1)!==r.databaseId.projectId)throw new ce(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ce(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ge(sT(i))}function iT(r,e){return Xm(r.databaseId,e)}function qR(r){const e=nT(r);return e.length===4?_t.emptyPath():sT(e)}function mm(r){return new _t(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function sT(r){return We(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Y0(r,e,i){return{name:dm(r,e),fields:i.value.mapValue.fields}}function HR(r,e){let i;if("targetChange"in e){e.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:ve(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(y,T){return y.useProto3Json?(We(T===void 0||typeof T=="string",58123),tn.fromBase64String(T||"")):(We(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),tn.fromUint8Array(T||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(y){const T=y.code===void 0?Z.UNKNOWN:JE(y.code);return new ce(T,y.message||"")})(d);i=new eT(a,l,c,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=Gd(r,a.document.name),c=Li(a.document.updateTime),d=a.document.createTime?Li(a.document.createTime):be.min(),g=new En({mapValue:{fields:a.document.fields}}),_=on.newFoundDocument(l,c,d,g),y=a.targetIds||[],T=a.removedTargetIds||[];i=new zc(y,T,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=Gd(r,a.document),c=a.readTime?Li(a.readTime):be.min(),d=on.newNoDocument(l,c),g=a.removedTargetIds||[];i=new zc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=Gd(r,a.document),c=a.removedTargetIds||[];i=new zc([],c,l,null)}else{if(!("filter"in e))return ve(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new OR(l,c),g=a.targetId;i=new WE(g,d)}}return i}function GR(r,e){let i;if(e instanceof Kl)i={update:Y0(r,e.key,e.value)};else if(e instanceof Qm)i={delete:dm(r,e.key)};else if(e instanceof pr)i={update:Y0(r,e.key,e.data),updateMask:WR(e.fieldMask)};else{if(!(e instanceof IR))return ve(16599,{Vt:e.type});i={verify:dm(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof nh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof ao)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Ll)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof ih)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw ve(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:BR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ve(27497)})(r,e.precondition)),i}function FR(r,e){return r&&r.length>0?(We(e!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Li(l.updateTime):Li(c);return d.isEqual(be.min())&&(d=Li(c)),new RR(d,l.transformResults||[])})(i,e)))):[]}function QR(r,e){return{documents:[iT(r,e.path)]}}function KR(r,e){const i={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=iT(r,l);const c=(function(y){if(y.length!==0)return aT(Bi.create(y,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((T=>(function(V){return{field:Qa(V.field),direction:$R(V.dir)}})(T)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=hm(r,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:l}}function YR(r){let e=qR(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){We(a===1,65062);const T=i.from[0];T.allDescendants?l=T.collectionId:e=e.child(T.collectionId)}let c=[];i.where&&(c=(function(w){const V=rT(w);return V instanceof Bi&&UE(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((V=>(function(ee){return new th(Ka(ee.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(ee.direction))})(V)))})(i.orderBy));let g=null;i.limit&&(g=(function(w){let V;return V=typeof w=="object"?w.value:w,ph(V)?null:V})(i.limit));let _=null;i.startAt&&(_=(function(w){const V=!!w.before,F=w.values||[];return new eh(F,V)})(i.startAt));let y=null;return i.endAt&&(y=(function(w){const V=!w.before,F=w.values||[];return new eh(F,V)})(i.endAt)),hR(e,l,d,c,g,"F",_,y)}function XR(r,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function rT(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ka(i.unaryFilter.field);return zt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Ka(i.unaryFilter.field);return zt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ka(i.unaryFilter.field);return zt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ka(i.unaryFilter.field);return zt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}})(r):r.fieldFilter!==void 0?(function(i){return zt.create(Ka(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Bi.create(i.compositeFilter.filters.map((a=>rT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return ve(1026)}})(i.compositeFilter.op))})(r):ve(30097,{filter:r})}function $R(r){return LR[r]}function ZR(r){return jR[r]}function JR(r){return PR[r]}function Qa(r){return{fieldPath:r.canonicalString()}}function Ka(r){return en.fromServerFormat(r.fieldPath)}function aT(r){return r instanceof zt?(function(i){if(i.op==="=="){if(k0(i.value))return{unaryFilter:{field:Qa(i.field),op:"IS_NAN"}};if(V0(i.value))return{unaryFilter:{field:Qa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(k0(i.value))return{unaryFilter:{field:Qa(i.field),op:"IS_NOT_NAN"}};if(V0(i.value))return{unaryFilter:{field:Qa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qa(i.field),op:ZR(i.op),value:i.value}}})(r):r instanceof Bi?(function(i){const a=i.getFilters().map((l=>aT(l)));return a.length===1?a[0]:{compositeFilter:{op:JR(i.op),filters:a}}})(r):ve(54877,{filter:r})}function WR(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function oT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class tr{constructor(e,i,a,l,c=be.min(),d=be.min(),g=tn.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new tr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ex{constructor(e){this.yt=e}}function tx(r){const e=YR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?cm(e,e.limit,"L"):e}class nx{constructor(){this.Cn=new ix}addToCollectionParentIndex(e,i){return this.Cn.add(i),$.resolve()}getCollectionParents(e,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return $.resolve()}deleteFieldIndex(e,i){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,i){return $.resolve()}getDocumentsMatchingTarget(e,i){return $.resolve(null)}getIndexType(e,i){return $.resolve(0)}getFieldIndexes(e,i){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,i){return $.resolve(lr.min())}getMinOffsetFromCollectionGroup(e,i){return $.resolve(lr.min())}updateCollectionGroup(e,i,a){return $.resolve()}updateIndexEntries(e,i){return $.resolve()}}class ix{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i]||new Bt(_t.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(e){return(this.index[e]||new Bt(_t.comparator)).toArray()}}const X0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lT=41943040;class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(lT,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);class oo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new oo(0)}static cr(){return new oo(-1)}}const $0="LruGarbageCollector",sx=1048576;function Z0([r,e],[i,a]){const l=Le(r,i);return l===0?Le(e,a):l}class rx{constructor(e){this.Ir=e,this.buffer=new Bt(Z0),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Z0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class ax{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){oe($0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){po(i)?oe($0,"Ignoring IndexedDB error during garbage collection: ",i):await mo(i)}await this.Vr(3e5)}))}}class ox{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return $.resolve(mh.ce);const a=new rx(i);return this.mr.forEachTarget(e,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(X0)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),X0):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,l,c,d,g,_,y;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),l=this.params.maximumSequenceNumbersToCollect):l=w,d=Date.now(),this.nthSequenceNumber(e,l)))).next((w=>(a=w,g=Date.now(),this.removeTargets(e,a,i)))).next((w=>(c=w,_=Date.now(),this.removeOrphanedDocuments(e,a)))).next((w=>(y=Date.now(),Ga()<=Ue.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${w} documents in `+(y-_)+`ms
Total Duration: ${y-T}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:w}))))}}function lx(r,e){return new ox(r,e)}class ux{constructor(){this.changes=new ea((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,on.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class cx{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class hx{constructor(e,i,a,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(a!==null&&Il(a.mutation,l,Nn.empty(),mt.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,je()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=je()){const l=Kr();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,a).next((c=>{let d=Tl();return c.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=Kr();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,je())))}populateOverlays(e,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,a,l){let c=gs();const d=Cl(),g=(function(){return Cl()})();return i.forEach(((_,y)=>{const T=a.get(y.key);l.has(y.key)&&(T===void 0||T.mutation instanceof pr)?c=c.insert(y.key,y):T!==void 0?(d.set(y.key,T.mutation.getFieldMask()),Il(T.mutation,y,T.mutation.getFieldMask(),mt.now())):d.set(y.key,Nn.empty())})),this.recalculateAndSaveOverlays(e,c).next((_=>(_.forEach(((y,T)=>d.set(y,T))),i.forEach(((y,T)=>g.set(y,new cx(T,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(e,i){const a=Cl();let l=new vt(((d,g)=>d-g)),c=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let T=a.get(_)||Nn.empty();T=g.applyToLocalView(y,T),a.set(_,T);const w=(l.get(g.batchId)||je()).add(_);l=l.insert(g.batchId,w)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),y=_.key,T=_.value,w=GE();T.forEach((V=>{if(!c.has(V)){const F=$E(i.get(V),a.get(V));F!==null&&w.set(V,F),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,w))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,l){return(function(d){return ge.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):fR(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,l):this.getDocumentsMatchingCollectionQuery(e,i,a,l)}getNextDocuments(e,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,l-c.size):$.resolve(Kr());let g=Ml,_=c;return d.next((y=>$.forEach(y,((T,w)=>(g<w.largestBatchId&&(g=w.largestBatchId),c.get(T)?$.resolve():this.remoteDocumentCache.getEntry(e,T).next((V=>{_=_.insert(T,V)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,_,y,je()))).next((T=>({batchId:g,changes:HE(T)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ge(i)).next((a=>{let l=Tl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,l){const c=i.collectionGroup;let d=Tl();return this.indexManager.getCollectionParents(e,c).next((g=>$.forEach(g,(_=>{const y=(function(w,V){return new yh(V,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,a,l).next((T=>{T.forEach(((w,V)=>{d=d.insert(w,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,l)))).next((d=>{c.forEach(((_,y)=>{const T=y.getKey();d.get(T)===null&&(d=d.insert(T,on.newInvalidDocument(T)))}));let g=Tl();return d.forEach(((_,y)=>{const T=c.get(_);T!==void 0&&Il(T.mutation,y,Nn.empty(),mt.now()),Eh(i,y)&&(g=g.insert(_,y))})),g}))}}class fx{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Li(l.createTime)}})(i)),$.resolve()}getNamedQuery(e,i){return $.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:tx(l.bundledQuery),readTime:Li(l.readTime)}})(i)),$.resolve()}}class dx{constructor(){this.overlays=new vt(ge.comparator),this.qr=new Map}getOverlay(e,i){return $.resolve(this.overlays.get(i))}getOverlays(e,i){const a=Kr();return $.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((l,c)=>{this.St(e,i,c)})),$.resolve()}removeOverlaysForBatchId(e,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),$.resolve()}getOverlaysForCollection(e,i,a){const l=Kr(),c=i.length+1,d=new ge(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>a&&l.set(_.getKey(),_)}return $.resolve(l)}getOverlaysForCollectionGroup(e,i,a,l){let c=new vt(((y,T)=>y-T));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let T=c.get(y.largestBatchId);T===null&&(T=Kr(),c=c.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const g=Kr(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,T)=>g.set(y,T))),!(g.size()>=l)););return $.resolve(g)}St(e,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new DR(i,a));let c=this.qr.get(i);c===void 0&&(c=je(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class mx{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,$.resolve()}}class $m{constructor(){this.Qr=new Bt(Qt.$r),this.Ur=new Bt(Qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new Qt(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new Qt(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new ge(new _t([])),a=new Qt(i,e),l=new Qt(i,e+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ge(new _t([])),a=new Qt(i,e),l=new Qt(i,e+1);let c=je();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Qt(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Qt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ge.comparator(e.key,i.key)||Le(e.Yr,i.Yr)}static Kr(e,i){return Le(e.Yr,i.Yr)||ge.comparator(e.key,i.key)}}class px{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Bt(Qt.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new NR(c,i,a,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new Qt(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return $.resolve(d)}lookupMutationBatch(e,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?zm:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Qt(i,0),l=new Qt(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const g=this.Xr(d.Yr);c.push(g)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Bt(Le);return i.forEach((l=>{const c=new Qt(l,0),d=new Qt(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{a=a.add(g.Yr)}))})),$.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,l=a.length+1;let c=a;ge.isDocumentKey(c)||(c=c.child(""));const d=new Qt(new ge(c),0);let g=new Bt(Le);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(g=g.add(_.Yr)),!0)}),d),$.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){We(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return $.forEach(i.mutations,(l=>{const c=new Qt(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new Qt(i,0),l=this.Zr.firstAfterOrEqual(a);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class gx{constructor(e){this.ri=e,this.docs=(function(){return new vt(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():on.newInvalidDocument(i))}getEntries(e,i){let a=gs();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():on.newInvalidDocument(l))})),$.resolve(a)}getDocumentsMatchingQuery(e,i,a,l){let c=gs();const d=i.path,g=new ge(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:y,value:{document:T}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||H2(q2(T),a)<=0||(l.has(T.key)||Eh(i,T))&&(c=c.insert(T.key,T.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(e,i,a,l){ve(9500)}ii(e,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new yx(this)}getSize(e){return $.resolve(this.size)}}class yx extends ux{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(a)})),$.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class _x{constructor(e){this.persistence=e,this.si=new ea((i=>Hm(i)),Gm),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.oi=0,this._i=new $m,this.targetCount=0,this.ai=oo.ur()}forEachTarget(e,i){return this.si.forEach(((a,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),$.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new oo(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(e,i){return this.Pr(i),$.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,i,a){let l=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return $.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),$.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return $.resolve(a)}containsKey(e,i){return $.resolve(this._i.containsKey(i))}}class uT{constructor(e,i){this.ui={},this.overlays={},this.ci=new mh(0),this.li=!1,this.li=!0,this.hi=new mx,this.referenceDelegate=e(this),this.Pi=new _x(this),this.indexManager=new nx,this.remoteDocumentCache=(function(l){return new gx(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new ex(i),this.Ii=new fx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new dx,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new px(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){oe("MemoryPersistence","Starting transaction:",e);const l=new vx(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,i){return $.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class vx extends F2{constructor(e){super(),this.currentSequenceNumber=e}}class Zm{constructor(e){this.persistence=e,this.Ri=new $m,this.Vi=null}static mi(e){return new Zm(e)}get fi(){if(this.Vi)return this.Vi;throw ve(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),$.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),$.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(a=>{const l=ge.fromPath(a);return this.gi(e,l).next((c=>{c||i.removeEntry(l,be.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class rh{constructor(e,i){this.persistence=e,this.pi=new ea((a=>Y2(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=lx(this,i)}static mi(e,i){return new rh(e,i)}Ei(){}di(e){return $.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((l=>a+l))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return $.forEach(this.pi,((a,l)=>this.br(e,a,l).next((c=>c?$.resolve():i(l)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,i).next((g=>{g||(a++,c.removeEntry(d,be.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),$.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Lc(e.data.value)),i}br(e,i,a){return $.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return $.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Jm{constructor(e,i,a,l){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=l}static As(e,i){let a=je(),l=je();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Jm(e,i.fromCache,a,l)}}class Ex{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Tx{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return oA()?8:Q2(ln())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,l){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new Ex;return this.Ss(e,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(e,i,d,g.size)}))})).next((()=>c.result))}bs(e,i,a,l){return a.documentReadCount<this.fs?(Ga()<=Ue.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",Fa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(Ga()<=Ue.DEBUG&&oe("QueryEngine","Query:",Fa(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Ga()<=Ue.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",Fa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ui(i))):$.resolve())}ys(e,i){if(P0(i))return $.resolve(null);let a=Ui(i);return this.indexManager.getIndexType(e,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=cm(i,null,"F"),a=Ui(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=je(...c);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,a).next((_=>{const y=this.Ds(i,g);return this.Cs(i,y,d,_.readTime)?this.ys(e,cm(i,null,"F")):this.vs(e,y,i,_)}))))})))))}ws(e,i,a,l){return P0(i)||l.isEqual(be.min())?$.resolve(null):this.ps.getDocuments(e,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?$.resolve(null):(Ga()<=Ue.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Fa(i)),this.vs(e,d,i,B2(l,Ml)).next((g=>g)))}))}Ds(e,i){let a=new Bt(BE(e));return i.forEach(((l,c)=>{Eh(e,c)&&(a=a.add(c))})),a}Cs(e,i,a,l){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,i,a){return Ga()<=Ue.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",Fa(i)),this.ps.getDocumentsMatchingQuery(e,i,lr.min(),a)}vs(e,i,a,l){return this.ps.getDocumentsMatchingQuery(e,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Wm="LocalStore",bx=3e8;class Ax{constructor(e,i,a,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new vt(Le),this.xs=new ea((c=>Hm(c)),Gm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hx(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function Sx(r,e,i,a){return new Ax(r,e,i,a)}async function cT(r,e){const i=Se(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let _=je();for(const y of l){d.push(y.batchId);for(const T of y.mutations)_=_.add(T.key)}for(const y of c){g.push(y.batchId);for(const T of y.mutations)_=_.add(T.key)}return i.localDocuments.getDocuments(a,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function wx(r,e){const i=Se(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,_,y,T){const w=y.batch,V=w.keys();let F=$.resolve();return V.forEach((ee=>{F=F.next((()=>T.getEntry(_,ee))).next((ne=>{const W=y.docVersions.get(ee);We(W!==null,48541),ne.version.compareTo(W)<0&&(w.applyToRemoteDocument(ne,y),ne.isValidDocument()&&(ne.setReadTime(y.commitVersion),T.addEntry(ne)))}))})),F.next((()=>g.mutationQueue.removeMutationBatch(_,w)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let _=je();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(_=_.add(g.batch.mutations[y].key));return _})(e)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function hT(r){const e=Se(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function Rx(r,e){const i=Se(r),a=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];e.targetChanges.forEach(((T,w)=>{const V=l.get(w);if(!V)return;g.push(i.Pi.removeMatchingKeys(c,T.removedDocuments,w).next((()=>i.Pi.addMatchingKeys(c,T.addedDocuments,w))));let F=V.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(w)!==null?F=F.withResumeToken(tn.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):T.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(T.resumeToken,a)),l=l.insert(w,F),(function(ne,W,me){return ne.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-ne.snapshotVersion.toMicroseconds()>=bx?!0:me.addedDocuments.size+me.modifiedDocuments.size+me.removedDocuments.size>0})(V,F,T)&&g.push(i.Pi.updateTargetData(c,F))}));let _=gs(),y=je();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,T))})),g.push(xx(c,d,e.documentUpdates).next((T=>{_=T.ks,y=T.qs}))),!a.isEqual(be.min())){const T=i.Pi.getLastRemoteSnapshotVersion(c).next((w=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(T)}return $.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.Ms=l,c)))}function xx(r,e,i){let a=je(),l=je();return i.forEach((c=>a=a.add(c))),e.getEntries(r,a).next((c=>{let d=gs();return i.forEach(((g,_)=>{const y=c.get(g);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(g)),_.isNoDocument()&&_.version.isEqual(be.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):oe(Wm,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:l}}))}function Cx(r,e){const i=Se(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=zm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function Ix(r,e){const i=Se(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,e).next((c=>c?(l=c,$.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new tr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function pm(r,e,i){const a=Se(r),l=a.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!po(d))throw d;oe(Wm,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(l.target)}function J0(r,e,i){const a=Se(r);let l=be.min(),c=je();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,T){const w=Se(_),V=w.xs.get(T);return V!==void 0?$.resolve(w.Ms.get(V)):w.Pi.getTargetData(y,T)})(a,d,Ui(e)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,g.targetId).next((_=>{c=_}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?l:be.min(),i?c:je()))).next((g=>(Nx(a,mR(e),g),{documents:g,Qs:c})))))}function Nx(r,e,i){let a=r.Os.get(e)||be.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(e,a)}class W0{constructor(){this.activeTargetIds=ER()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Dx{constructor(){this.Mo=new W0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new W0,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ox{Oo(e){}shutdown(){}}const ev="ConnectivityMonitor";class tv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){oe(ev,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){oe(ev,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Dc=null;function gm(){return Dc===null?Dc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Dc++,"0x"+Dc.toString(16)}const Fd="RestConnection",Mx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Vx{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Jc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(e,i,a,l,c){const d=gm(),g=this.zo(e,i.toUriEncodedString());oe(Fd,`Sending RPC '${e}' ${d}:`,g,a);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,c);const{host:y}=new URL(g),T=uo(y);return this.Jo(e,g,_,a,T).then((w=>(oe(Fd,`Received RPC '${e}' ${d}: `,w),w)),(w=>{throw no(Fd,`RPC '${e}' ${d} failed with error: `,w,"url: ",g,"request:",a),w}))}Ho(e,i,a,l,c,d){return this.Go(e,i,a,l,c)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+fo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),a&&a.headers.forEach(((l,c)=>e[c]=l))}zo(e,i){const a=Mx[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class kx{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const rn="WebChannelConnection";class Ux extends Vx{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,l,c){const d=gm();return new Promise(((g,_)=>{const y=new gE;y.setWithCredentials(!0),y.listenOnce(yE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Uc.NO_ERROR:const w=y.getResponseJson();oe(rn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),g(w);break;case Uc.TIMEOUT:oe(rn,`RPC '${e}' ${d} timed out`),_(new ce(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Uc.HTTP_ERROR:const V=y.getStatus();if(oe(rn,`RPC '${e}' ${d} failed with status:`,V,"response text:",y.getResponseText()),V>0){let F=y.getResponseJson();Array.isArray(F)&&(F=F[0]);const ee=F?.error;if(ee&&ee.status&&ee.message){const ne=(function(me){const Te=me.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(Te)>=0?Te:Z.UNKNOWN})(ee.status);_(new ce(ne,ee.message))}else _(new ce(Z.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new ce(Z.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{oe(rn,`RPC '${e}' ${d} completed.`)}}));const T=JSON.stringify(l);oe(rn,`RPC '${e}' ${d} sending request:`,l),y.send(i,"POST",T,a,15)}))}T_(e,i,a){const l=gm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=EE(),g=vE(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const T=c.join("");oe(rn,`Creating RPC '${e}' stream ${l}: ${T}`,_);const w=d.createWebChannel(T,_);this.I_(w);let V=!1,F=!1;const ee=new kx({Yo:W=>{F?oe(rn,`Not sending because RPC '${e}' stream ${l} is closed:`,W):(V||(oe(rn,`Opening RPC '${e}' stream ${l} transport.`),w.open(),V=!0),oe(rn,`RPC '${e}' stream ${l} sending:`,W),w.send(W))},Zo:()=>w.close()}),ne=(W,me,Te)=>{W.listen(me,(pe=>{try{Te(pe)}catch(Je){setTimeout((()=>{throw Je}),0)}}))};return ne(w,El.EventType.OPEN,(()=>{F||(oe(rn,`RPC '${e}' stream ${l} transport opened.`),ee.o_())})),ne(w,El.EventType.CLOSE,(()=>{F||(F=!0,oe(rn,`RPC '${e}' stream ${l} transport closed`),ee.a_(),this.E_(w))})),ne(w,El.EventType.ERROR,(W=>{F||(F=!0,no(rn,`RPC '${e}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),ee.a_(new ce(Z.UNAVAILABLE,"The operation could not be completed")))})),ne(w,El.EventType.MESSAGE,(W=>{if(!F){const me=W.data[0];We(!!me,16349);const Te=me,pe=Te?.error||Te[0]?.error;if(pe){oe(rn,`RPC '${e}' stream ${l} received error:`,pe);const Je=pe.status;let it=(function(S){const x=Ut[S];if(x!==void 0)return JE(x)})(Je),Ce=pe.message;it===void 0&&(it=Z.INTERNAL,Ce="Unknown error status: "+Je+" with message "+pe.message),F=!0,ee.a_(new ce(it,Ce)),w.close()}else oe(rn,`RPC '${e}' stream ${l} received:`,me),ee.u_(me)}})),ne(g,_E.STAT_EVENT,(W=>{W.stat===sm.PROXY?oe(rn,`RPC '${e}' stream ${l} detected buffering proxy`):W.stat===sm.NOPROXY&&oe(rn,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{ee.__()}),0),ee}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Qd(){return typeof document<"u"?document:null}function Sh(r){return new zR(r,!0)}class fT{constructor(e,i,a=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&oe("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const nv="PersistentStream";class dT{constructor(e,i,a,l,c,d,g,_){this.Mi=e,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new fT(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(ps(i.toString()),ps("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{e((()=>{const l=new ce(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return oe(nv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(oe(nv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Lx extends dT{constructor(e,i,a,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=HR(this.serializer,e),a=(function(c){if(!("targetChange"in c))return be.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?be.min():d.readTime?Li(d.readTime):be.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=mm(this.serializer),i.addTarget=(function(c,d){let g;const _=d.target;if(g=um(_)?{documents:QR(c,_)}:{query:KR(c,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=tT(c,d.resumeToken);const y=hm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(be.min())>0){g.readTime=sh(c,d.snapshotVersion.toTimestamp());const y=hm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,e);const a=XR(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=mm(this.serializer),i.removeTarget=e,this.q_(i)}}class jx extends dT{constructor(e,i,a,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=FR(e.writeResults,e.commitTime),a=Li(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=mm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>GR(this.serializer,a)))};this.q_(i)}}class Px{}class zx extends Px{constructor(e,i,a,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ce(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,fm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ce(Z.UNKNOWN,c.toString())}))}Ho(e,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,fm(i,a),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ce(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Bx{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ps(i),this.aa=!1):oe("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Jr="RemoteStore";class qx{constructor(e,i,a,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{ta(this)&&(oe(Jr,"Restarting streams for network reachability change."),await(async function(_){const y=Se(_);y.Ea.add(4),await Xl(y),y.Ra.set("Unknown"),y.Ea.delete(4),await wh(y)})(this))}))})),this.Ra=new Bx(a,l)}}async function wh(r){if(ta(r))for(const e of r.da)await e(!0)}async function Xl(r){for(const e of r.da)await e(!1)}function mT(r,e){const i=Se(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),ip(i)?np(i):go(i).O_()&&tp(i,e))}function ep(r,e){const i=Se(r),a=go(i);i.Ia.delete(e),a.O_()&&pT(i,e),i.Ia.size===0&&(a.O_()?a.L_():ta(i)&&i.Ra.set("Unknown"))}function tp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}go(r).Y_(e)}function pT(r,e){r.Va.Ue(e),go(r).Z_(e)}function np(r){r.Va=new UR({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),go(r).start(),r.Ra.ua()}function ip(r){return ta(r)&&!go(r).x_()&&r.Ia.size>0}function ta(r){return Se(r).Ea.size===0}function gT(r){r.Va=void 0}async function Hx(r){r.Ra.set("Online")}async function Gx(r){r.Ia.forEach(((e,i)=>{tp(r,e)}))}async function Fx(r,e){gT(r),ip(r)?(r.Ra.ha(e),np(r)):r.Ra.set("Unknown")}async function Qx(r,e,i){if(r.Ra.set("Online"),e instanceof eT&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(r,e)}catch(a){oe(Jr,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await ah(r,a)}else if(e instanceof zc?r.Va.Ze(e):e instanceof WE?r.Va.st(e):r.Va.tt(e),!i.isEqual(be.min()))try{const a=await hT(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const T=c.Ia.get(y);T&&c.Ia.set(y,T.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,y)=>{const T=c.Ia.get(_);if(!T)return;c.Ia.set(_,T.withResumeToken(tn.EMPTY_BYTE_STRING,T.snapshotVersion)),pT(c,_);const w=new tr(T.target,_,y,T.sequenceNumber);tp(c,w)})),c.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(a){oe(Jr,"Failed to raise snapshot:",a),await ah(r,a)}}async function ah(r,e,i){if(!po(e))throw e;r.Ea.add(1),await Xl(r),r.Ra.set("Offline"),i||(i=()=>hT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{oe(Jr,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await wh(r)}))}function yT(r,e){return e().catch((i=>ah(r,i,e)))}async function Rh(r){const e=Se(r),i=fr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:zm;for(;Kx(e);)try{const l=await Cx(e.localStore,a);if(l===null){e.Ta.length===0&&i.L_();break}a=l.batchId,Yx(e,l)}catch(l){await ah(e,l)}_T(e)&&vT(e)}function Kx(r){return ta(r)&&r.Ta.length<10}function Yx(r,e){r.Ta.push(e);const i=fr(r);i.O_()&&i.X_&&i.ea(e.mutations)}function _T(r){return ta(r)&&!fr(r).x_()&&r.Ta.length>0}function vT(r){fr(r).start()}async function Xx(r){fr(r).ra()}async function $x(r){const e=fr(r);for(const i of r.Ta)e.ea(i.mutations)}async function Zx(r,e,i){const a=r.Ta.shift(),l=Km.from(a,e,i);await yT(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Rh(r)}async function Jx(r,e){e&&fr(r).X_&&await(async function(a,l){if((function(d){return MR(d)&&d!==Z.ABORTED})(l.code)){const c=a.Ta.shift();fr(a).B_(),await yT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Rh(a)}})(r,e),_T(r)&&vT(r)}async function iv(r,e){const i=Se(r);i.asyncQueue.verifyOperationInProgress(),oe(Jr,"RemoteStore received new credentials");const a=ta(i);i.Ea.add(3),await Xl(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await wh(i)}async function Wx(r,e){const i=Se(r);e?(i.Ea.delete(2),await wh(i)):e||(i.Ea.add(2),await Xl(i),i.Ra.set("Unknown"))}function go(r){return r.ma||(r.ma=(function(i,a,l){const c=Se(i);return c.sa(),new Lx(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:Hx.bind(null,r),t_:Gx.bind(null,r),r_:Fx.bind(null,r),H_:Qx.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),ip(r)?np(r):r.Ra.set("Unknown")):(await r.ma.stop(),gT(r))}))),r.ma}function fr(r){return r.fa||(r.fa=(function(i,a,l){const c=Se(i);return c.sa(),new jx(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:Xx.bind(null,r),r_:Jx.bind(null,r),ta:$x.bind(null,r),na:Zx.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Rh(r)):(await r.fa.stop(),r.Ta.length>0&&(oe(Jr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class sp{constructor(e,i,a,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,l,c){const d=Date.now()+a,g=new sp(e,i,d,l,c);return g.start(a),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rp(r,e){if(ps("AsyncQueue",`${e}: ${r}`),po(r))return new ce(Z.UNAVAILABLE,`${e}: ${r}`);throw r}class Wa{static emptySet(e){return new Wa(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ge.comparator(i.key,a.key):(i,a)=>ge.comparator(i.key,a.key),this.keyedMap=Tl(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Wa)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new Wa;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class sv{constructor(){this.ga=new vt(ge.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):ve(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class lo{constructor(e,i,a,l,c,d,g,_,y){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(e,i,a,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new lo(e,i,Wa.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class eC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class tC{constructor(){this.queries=rv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Se(i),c=l.queries;l.queries=rv(),c.forEach(((d,g)=>{for(const _ of g.Sa)_.onError(a)}))})(this,new ce(Z.ABORTED,"Firestore shutting down"))}}function rv(){return new ea((r=>zE(r)),vh)}async function ET(r,e){const i=Se(r);let a=3;const l=e.query;let c=i.queries.get(l);c?!c.ba()&&e.Da()&&(a=2):(c=new eC,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=rp(d,`Initialization of query '${Fa(e.query)}' failed`);return void e.onError(g)}i.queries.set(l,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&ap(i)}async function TT(r,e){const i=Se(r),a=e.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function nC(r,e){const i=Se(r);let a=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(l)&&(a=!0);d.wa=l}}a&&ap(i)}function iC(r,e,i){const a=Se(r),l=a.queries.get(e);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(e)}function ap(r){r.Ca.forEach((e=>{e.next()}))}var ym,av;(av=ym||(ym={})).Ma="default",av.Cache="cache";class bT{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new lo(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=lo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ym.Cache}}class AT{constructor(e){this.key=e}}class ST{constructor(e){this.key=e}}class sC{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=je(),this.mutatedKeys=je(),this.eu=BE(e),this.tu=new Wa(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new sv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((T,w)=>{const V=l.get(T),F=Eh(this.query,w)?w:null,ee=!!V&&this.mutatedKeys.has(V.key),ne=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let W=!1;V&&F?V.data.isEqual(F.data)?ee!==ne&&(a.track({type:3,doc:F}),W=!0):this.su(V,F)||(a.track({type:2,doc:F}),W=!0,(_&&this.eu(F,_)>0||y&&this.eu(F,y)<0)&&(g=!0)):!V&&F?(a.track({type:0,doc:F}),W=!0):V&&!F&&(a.track({type:1,doc:V}),W=!0,(_||y)&&(g=!0)),W&&(F?(d=d.add(F),c=ne?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),a.track({type:1,doc:T})}return{tu:d,iu:a,Cs:g,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((T,w)=>(function(F,ee){const ne=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Rt:W})}};return ne(F)-ne(ee)})(T.type,w.type)||this.eu(T.doc,w.doc))),this.ou(a),l=l??!1;const g=i&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new lo(this.query,e.tu,c,d,e.mutatedKeys,_===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new sv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=je(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new ST(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new AT(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=je();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return lo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const op="SyncEngine";class rC{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class aC{constructor(e){this.key=e,this.hu=!1}}class oC{constructor(e,i,a,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ea((g=>zE(g)),vh),this.Iu=new Map,this.Eu=new Set,this.du=new vt(ge.comparator),this.Au=new Map,this.Ru=new $m,this.Vu={},this.mu=new Map,this.fu=oo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function lC(r,e,i=!0){const a=NT(r);let l;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await wT(a,e,i,!0),l}async function uC(r,e){const i=NT(r);await wT(i,e,!0,!1)}async function wT(r,e,i,a){const l=await Ix(r.localStore,Ui(e)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await cC(r,e,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&mT(r.remoteStore,l),g}async function cC(r,e,i,a,l){r.pu=(w,V,F)=>(async function(ne,W,me,Te){let pe=W.view.ru(me);pe.Cs&&(pe=await J0(ne.localStore,W.query,!1).then((({documents:I})=>W.view.ru(I,pe))));const Je=Te&&Te.targetChanges.get(W.targetId),it=Te&&Te.targetMismatches.get(W.targetId)!=null,Ce=W.view.applyChanges(pe,ne.isPrimaryClient,Je,it);return lv(ne,W.targetId,Ce.au),Ce.snapshot})(r,w,V,F);const c=await J0(r.localStore,e,!0),d=new sC(e,c.Qs),g=d.ru(c.documents),_=Yl.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),y=d.applyChanges(g,r.isPrimaryClient,_);lv(r,i,y.au);const T=new rC(e,i,d);return r.Tu.set(e,T),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),y.snapshot}async function hC(r,e,i){const a=Se(r),l=a.Tu.get(e),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!vh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await pm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&ep(a.remoteStore,l.targetId),_m(a,l.targetId)})).catch(mo)):(_m(a,l.targetId),await pm(a.localStore,l.targetId,!0))}async function fC(r,e){const i=Se(r),a=i.Tu.get(e),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),ep(i.remoteStore,a.targetId))}async function dC(r,e,i){const a=EC(r);try{const l=await(function(d,g){const _=Se(d),y=mt.now(),T=g.reduce(((F,ee)=>F.add(ee.key)),je());let w,V;return _.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let ee=gs(),ne=je();return _.Ns.getEntries(F,T).next((W=>{ee=W,ee.forEach(((me,Te)=>{Te.isValidDocument()||(ne=ne.add(me))}))})).next((()=>_.localDocuments.getOverlayedDocuments(F,ee))).next((W=>{w=W;const me=[];for(const Te of g){const pe=CR(Te,w.get(Te.key).overlayedDocument);pe!=null&&me.push(new pr(Te.key,pe,ME(pe.value.mapValue),ci.exists(!0)))}return _.mutationQueue.addMutationBatch(F,y,me,g)})).next((W=>{V=W;const me=W.applyToLocalDocumentSet(w,ne);return _.documentOverlayCache.saveOverlays(F,W.batchId,me)}))})).then((()=>({batchId:V.batchId,changes:HE(w)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),(function(d,g,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new vt(Le)),y=y.insert(g,_),d.Vu[d.currentUser.toKey()]=y})(a,l.batchId,i),await $l(a,l.changes),await Rh(a.remoteStore)}catch(l){const c=rp(l,"Failed to persist write");i.reject(c)}}async function RT(r,e){const i=Se(r);try{const a=await Rx(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(We(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?We(d.hu,14607):l.removedDocuments.size>0&&(We(d.hu,42227),d.hu=!1))})),await $l(i,a,e)}catch(a){await mo(a)}}function ov(r,e,i){const a=Se(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const _=Se(d);_.onlineState=g;let y=!1;_.queries.forEach(((T,w)=>{for(const V of w.Sa)V.va(g)&&(y=!0)})),y&&ap(_)})(a.eventManager,e),l.length&&a.Pu.H_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function mC(r,e,i){const a=Se(r);a.sharedClientState.updateQueryState(e,"rejected",i);const l=a.Au.get(e),c=l&&l.key;if(c){let d=new vt(ge.comparator);d=d.insert(c,on.newNoDocument(c,be.min()));const g=je().add(c),_=new Ah(be.min(),new Map,new vt(Le),d,g);await RT(a,_),a.du=a.du.remove(c),a.Au.delete(e),lp(a)}else await pm(a.localStore,e,!1).then((()=>_m(a,e,i))).catch(mo)}async function pC(r,e){const i=Se(r),a=e.batch.batchId;try{const l=await wx(i.localStore,e);CT(i,a,null),xT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await $l(i,l)}catch(l){await mo(l)}}async function gC(r,e,i){const a=Se(r);try{const l=await(function(d,g){const _=Se(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return _.mutationQueue.lookupMutationBatch(y,g).next((w=>(We(w!==null,37113),T=w.keys(),_.mutationQueue.removeMutationBatch(y,w)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,T,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>_.localDocuments.getDocuments(y,T)))}))})(a.localStore,e);CT(a,e,i),xT(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await $l(a,l)}catch(l){await mo(l)}}function xT(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function CT(r,e,i){const a=Se(r);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),a.Vu[a.currentUser.toKey()]=l}}function _m(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((a=>{r.Ru.containsKey(a)||IT(r,a)}))}function IT(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(ep(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),lp(r))}function lv(r,e,i){for(const a of i)a instanceof AT?(r.Ru.addReference(a.key,e),yC(r,a)):a instanceof ST?(oe(op,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||IT(r,a.key)):ve(19791,{wu:a})}function yC(r,e){const i=e.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(oe(op,"New document in limbo: "+i),r.Eu.add(a),lp(r))}function lp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new ge(_t.fromString(e)),a=r.fu.next();r.Au.set(a,new aC(i)),r.du=r.du.insert(i,a),mT(r.remoteStore,new tr(Ui(_h(i.path)),a,"TargetPurposeLimboResolution",mh.ce))}}async function $l(r,e,i){const a=Se(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,_)=>{d.push(a.pu(_,e,i).then((y=>{if((y||i)&&a.isPrimaryClient){const T=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,T?"current":"not-current")}if(y){l.push(y);const T=Jm.As(_.targetId,y);c.push(T)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(_,y){const T=Se(_);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>$.forEach(y,(V=>$.forEach(V.Es,(F=>T.persistence.referenceDelegate.addReference(w,V.targetId,F))).next((()=>$.forEach(V.ds,(F=>T.persistence.referenceDelegate.removeReference(w,V.targetId,F)))))))))}catch(w){if(!po(w))throw w;oe(Wm,"Failed to update sequence numbers: "+w)}for(const w of y){const V=w.targetId;if(!w.fromCache){const F=T.Ms.get(V),ee=F.snapshotVersion,ne=F.withLastLimboFreeSnapshotVersion(ee);T.Ms=T.Ms.insert(V,ne)}}})(a.localStore,c))}async function _C(r,e){const i=Se(r);if(!i.currentUser.isEqual(e)){oe(op,"User change. New user:",e.toKey());const a=await cT(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((g=>{g.forEach((_=>{_.reject(new ce(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await $l(i,a.Ls)}}function vC(r,e){const i=Se(r),a=i.Au.get(e);if(a&&a.hu)return je().add(a.key);{let l=je();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function NT(r){const e=Se(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=RT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mC.bind(null,e),e.Pu.H_=nC.bind(null,e.eventManager),e.Pu.yu=iC.bind(null,e.eventManager),e}function EC(r){const e=Se(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gC.bind(null,e),e}class oh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return Sx(this.persistence,new Tx,e.initialUser,this.serializer)}Cu(e){return new uT(Zm.mi,this.serializer)}Du(e){return new Dx}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}oh.provider={build:()=>new oh};class TC extends oh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){We(this.persistence.referenceDelegate instanceof rh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new ax(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new uT((a=>rh.mi(a,i)),this.serializer)}}class vm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>ov(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=_C.bind(null,this.syncEngine),await Wx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new tC})()}createDatastore(e){const i=Sh(e.databaseInfo.databaseId),a=(function(c){return new Ux(c)})(e.databaseInfo);return(function(c,d,g,_){return new zx(c,d,g,_)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,l,c,d,g){return new qx(a,l,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>ov(this.syncEngine,i,0)),(function(){return tv.v()?new tv:new Ox})())}createSyncEngine(e,i){return(function(l,c,d,g,_,y,T){const w=new oC(l,c,d,g,_,y);return T&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Se(i);oe(Jr,"RemoteStore shutting down."),a.Ea.add(5),await Xl(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}vm.provider={build:()=>new vm};class DT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ps("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const dr="FirestoreClient";class bC{constructor(e,i,a,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=an.UNAUTHENTICATED,this.clientId=jm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{oe(dr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(oe(dr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=rp(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Kd(r,e){r.asyncQueue.verifyOperationInProgress(),oe(dr,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await cT(e.localStore,l),a=l)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function uv(r,e){r.asyncQueue.verifyOperationInProgress();const i=await AC(r);oe(dr,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((a=>iv(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>iv(e.remoteStore,l))),r._onlineComponents=e}async function AC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){oe(dr,"Using user provided OfflineComponentProvider");try{await Kd(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;no("Error using user provided cache. Falling back to memory cache: "+i),await Kd(r,new oh)}}else oe(dr,"Using default OfflineComponentProvider"),await Kd(r,new TC(void 0));return r._offlineComponents}async function OT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(oe(dr,"Using user provided OnlineComponentProvider"),await uv(r,r._uninitializedComponentsProvider._online)):(oe(dr,"Using default OnlineComponentProvider"),await uv(r,new vm))),r._onlineComponents}function SC(r){return OT(r).then((e=>e.syncEngine))}async function Em(r){const e=await OT(r),i=e.eventManager;return i.onListen=lC.bind(null,e.syncEngine),i.onUnlisten=hC.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=uC.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=fC.bind(null,e.syncEngine),i}function wC(r,e,i={}){const a=new ar;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,_,y){const T=new DT({next:V=>{T.Nu(),d.enqueueAndForget((()=>TT(c,w)));const F=V.docs.has(g);!F&&V.fromCache?y.reject(new ce(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&V.fromCache&&_&&_.source==="server"?y.reject(new ce(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(V)},error:V=>y.reject(V)}),w=new bT(_h(g.path),T,{includeMetadataChanges:!0,qa:!0});return ET(c,w)})(await Em(r),r.asyncQueue,e,i,a))),a.promise}function MT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const cv=new Map;const VT="firestore.googleapis.com",hv=!0;class fv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=VT,this.ssl=hv}else this.host=e.host,this.ssl=e.ssl??hv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=lT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<sx)throw new ce(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}z2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=MT(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ce(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ce(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ce(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class up{constructor(e,i,a,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new I2;switch(a.type){case"firstParty":return new M2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ce(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=cv.get(i);a&&(oe("ComponentProvider","Removing Datastore"),cv.delete(i),a.terminate())})(this),Promise.resolve()}}function RC(r,e,i,a={}){r=ui(r,up);const l=uo(e),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},g=`${e}:${i}`;l&&(Nv(`https://${g}`),Dv("Firestore",!0)),c.host!==VT&&c.host!==g&&no("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:g,ssl:l,emulatorOptions:a};if(!or(_,d)&&(r._setSettings(_),a.mockUserToken)){let y,T;if(typeof a.mockUserToken=="string")y=a.mockUserToken,T=an.MOCK_USER;else{y=Jb(a.mockUserToken,r._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new ce(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new an(w)}r._authCredentials=new N2(new bE(y,T))}}class xh{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new xh(this.firestore,e,this._query)}}class jt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jt(this.firestore,e,this._key)}toJSON(){return{type:jt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(Ql(i,jt._jsonSchema))return new jt(e,a||null,new ge(_t.fromString(i.referencePath)))}}jt._jsonSchemaVersion="firestore/documentReference/1.0",jt._jsonSchema={type:Lt("string",jt._jsonSchemaVersion),referencePath:Lt("string")};class jl extends xh{constructor(e,i,a){super(e,i,_h(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jt(this.firestore,null,new ge(e))}withConverter(e){return new jl(this.firestore,e,this._path)}}function Fn(r,e,...i){if(r=hn(r),arguments.length===1&&(e=jm.newId()),P2("doc","path",e),r instanceof up){const a=_t.fromString(e,...i);return R0(a),new jt(r,null,new ge(a))}{if(!(r instanceof jt||r instanceof jl))throw new ce(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(_t.fromString(e,...i));return R0(a),new jt(r.firestore,r instanceof jl?r.converter:null,new ge(a))}}const dv="AsyncQueue";class mv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new fT(this,"async_queue_retry"),this._c=()=>{const a=Qd();a&&oe(dv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Qd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Qd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ar;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!po(e))throw e;oe(dv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,ps("INTERNAL UNHANDLED ERROR: ",pv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=sp.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&ve(47125,{Pc:pv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function pv(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function gv(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class Wr extends up{constructor(e,i,a,l){super(e,i,a,l),this.type="firestore",this._queue=new mv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new mv(e),this._firestoreClient=void 0,await e}}}function xC(r,e){const i=typeof r=="object"?r:kv(),a=typeof r=="string"?r:Jc,l=Cm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=$b("firestore");c&&RC(l,...c)}return l}function cp(r){if(r._terminated)throw new ce(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||CC(r),r._firestoreClient}function CC(r){const e=r._freezeSettings(),i=(function(l,c,d,g){return new Z2(l,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,MT(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new bC(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class Xn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xn(tn.fromBase64String(e))}catch(i){throw new ce(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Xn(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ql(e,Xn._jsonSchema))return Xn.fromBase64String(e.bytes)}}Xn._jsonSchemaVersion="firestore/bytes/1.0",Xn._jsonSchema={type:Lt("string",Xn._jsonSchemaVersion),bytes:Lt("string")};class Ch{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ce(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ih{constructor(e){this._methodName=e}}class ji{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ce(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ce(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ji._jsonSchemaVersion}}static fromJSON(e){if(Ql(e,ji._jsonSchema))return new ji(e.latitude,e.longitude)}}ji._jsonSchemaVersion="firestore/geoPoint/1.0",ji._jsonSchema={type:Lt("string",ji._jsonSchemaVersion),latitude:Lt("number"),longitude:Lt("number")};class Pi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Pi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ql(e,Pi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Pi(e.vectorValues);throw new ce(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Pi._jsonSchemaVersion="firestore/vectorValue/1.0",Pi._jsonSchema={type:Lt("string",Pi._jsonSchemaVersion),vectorValues:Lt("object")};const IC=/^__.*__$/;class NC{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new pr(e,this.data,this.fieldMask,i,this.fieldTransforms):new Kl(e,this.data,i,this.fieldTransforms)}}class kT{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new pr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function UT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{Ac:r})}}class Nh{constructor(e,i,a,l,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Nh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return lh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(UT(this.Ac)&&IC.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class DC{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Sh(e)}Cc(e,i,a,l=!1){return new Nh({Ac:e,methodName:i,Dc:a,path:en.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function LT(r){const e=r._freezeSettings(),i=Sh(r._databaseId);return new DC(r._databaseId,!!e.ignoreUndefinedProperties,i)}function OC(r,e,i,a,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,e,i,l);fp("Data must be an object, but it was:",d,a);const g=jT(a,d);let _,y;if(c.merge)_=new Nn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const w of c.mergeFields){const V=Tm(e,w,i);if(!d.contains(V))throw new ce(Z.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);zT(T,V)||T.push(V)}_=new Nn(T),y=d.fieldTransforms.filter((w=>_.covers(w.field)))}else _=null,y=d.fieldTransforms;return new NC(new En(g),_,y)}class Dh extends Ih{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Dh}}function MC(r,e,i){return new Nh({Ac:3,Dc:e.settings.Dc,methodName:r._methodName,fc:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class hp extends Ih{constructor(e,i){super(e),this.vc=i}_toFieldTransform(e){const i=MC(this,e,!0),a=this.vc.map((c=>Zl(c,i))),l=new ao(a);return new SR(e.path,l)}isEqual(e){return e instanceof hp&&or(this.vc,e.vc)}}function VC(r,e,i,a){const l=r.Cc(1,e,i);fp("Data must be an object, but it was:",l,a);const c=[],d=En.empty();mr(a,((_,y)=>{const T=dp(e,_,i);y=hn(y);const w=l.yc(T);if(y instanceof Dh)c.push(T);else{const V=Zl(y,w);V!=null&&(c.push(T),d.set(T,V))}}));const g=new Nn(c);return new kT(d,g,l.fieldTransforms)}function kC(r,e,i,a,l,c){const d=r.Cc(1,e,i),g=[Tm(e,a,i)],_=[l];if(c.length%2!=0)throw new ce(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<c.length;V+=2)g.push(Tm(e,c[V])),_.push(c[V+1]);const y=[],T=En.empty();for(let V=g.length-1;V>=0;--V)if(!zT(y,g[V])){const F=g[V];let ee=_[V];ee=hn(ee);const ne=d.yc(F);if(ee instanceof Dh)y.push(F);else{const W=Zl(ee,ne);W!=null&&(y.push(F),T.set(F,W))}}const w=new Nn(y);return new kT(T,w,d.fieldTransforms)}function Zl(r,e){if(PT(r=hn(r)))return fp("Unsupported field value:",e,r),jT(r,e);if(r instanceof Ih)return(function(a,l){if(!UT(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const g of a){let _=Zl(g,l.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(r,e)}return(function(a,l){if((a=hn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return TR(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=mt.fromDate(a);return{timestampValue:sh(l.serializer,c)}}if(a instanceof mt){const c=new mt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:sh(l.serializer,c)}}if(a instanceof ji)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Xn)return{bytesValue:tT(l.serializer,a._byteString)};if(a instanceof jt){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Xm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Pi)return(function(d,g){return{mapValue:{fields:{[DE]:{stringValue:OE},[Wc]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw g.Sc("VectorValues must only contain numeric values.");return Fm(g.serializer,y)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${Pm(a)}`)})(r,e)}function jT(r,e){const i={};return wE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):mr(r,((a,l)=>{const c=Zl(l,e.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function PT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof mt||r instanceof ji||r instanceof Xn||r instanceof jt||r instanceof Ih||r instanceof Pi)}function fp(r,e,i){if(!PT(i)||!AE(i)){const a=Pm(i);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function Tm(r,e,i){if((e=hn(e))instanceof Ch)return e._internalPath;if(typeof e=="string")return dp(r,e);throw lh("Field path arguments must be of type string or ",r,!1,void 0,i)}const UC=new RegExp("[~\\*/\\[\\]]");function dp(r,e,i){if(e.search(UC)>=0)throw lh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Ch(...e.split("."))._internalPath}catch{throw lh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function lh(r,e,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${l}`),_+=")"),new ce(Z.INVALID_ARGUMENT,g+r+_)}function zT(r,e){return r.some((i=>i.isEqual(e)))}class BT{constructor(e,i,a,l,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new LC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(qT("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class LC extends BT{data(){return super.data()}}function qT(r,e){return typeof e=="string"?dp(r,e):e instanceof Ch?e._internalPath:e._delegate._internalPath}function jC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ce(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class PC{convertValue(e,i="none"){switch(hr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(cr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return mr(e,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[Wc].arrayValue?.values?.map((a=>xt(a.doubleValue)));return new Pi(i)}convertGeoPoint(e){return new ji(xt(e.latitude),xt(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=gh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Vl(e));default:return null}}convertTimestamp(e){const i=ur(e);return new mt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=_t.fromString(e);We(oT(a),9688,{name:e});const l=new kl(a.get(1),a.get(3)),c=new ge(a.popFirst(5));return l.isEqual(i)||ps(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function zC(r,e,i){let a;return a=r?r.toFirestore(e):e,a}class Al{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Yr extends BT{constructor(e,i,a,l,c,d){super(e,i,a,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(qT("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Yr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Yr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Yr._jsonSchema={type:Lt("string",Yr._jsonSchemaVersion),bundleSource:Lt("string","DocumentSnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class Bc extends Yr{data(e={}){return super.data(e)}}class eo{constructor(e,i,a,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Al(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Bc(this._firestore,this._userDataWriter,a.key,a,new Al(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ce(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const _=new Bc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Al(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const _=new Bc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Al(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,T=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),T=d.indexOf(g.doc.key)),{type:BC(g.type),doc:_,oldIndex:y,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=eo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=jm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function BC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:r})}}function qC(r){r=ui(r,jt);const e=ui(r.firestore,Wr);return wC(cp(e),r._key).then((i=>GT(e,r,i)))}eo._jsonSchemaVersion="firestore/querySnapshot/1.0",eo._jsonSchema={type:Lt("string",eo._jsonSchemaVersion),bundleSource:Lt("string","QuerySnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class HT extends PC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new jt(this.firestore,null,i)}}function HC(r,e,i){r=ui(r,jt);const a=ui(r.firestore,Wr),l=zC(r.converter,e);return mp(a,[OC(LT(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,ci.none())])}function Oi(r,e,i,...a){r=ui(r,jt);const l=ui(r.firestore,Wr),c=LT(l);let d;return d=typeof(e=hn(e))=="string"||e instanceof Ch?kC(c,"updateDoc",r._key,e,i,a):VC(c,"updateDoc",r._key,e),mp(l,[d.toMutation(r._key,ci.exists(!0))])}function GC(r){return mp(ui(r.firestore,Wr),[new Qm(r._key,ci.none())])}function FC(r,...e){r=hn(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||gv(e[a])||(i=e[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(gv(e[a])){const _=e[a];e[a]=_.next?.bind(_),e[a+1]=_.error?.bind(_),e[a+2]=_.complete?.bind(_)}let c,d,g;if(r instanceof jt)d=ui(r.firestore,Wr),g=_h(r._key.path),c={next:_=>{e[a]&&e[a](GT(d,r,_))},error:e[a+1],complete:e[a+2]};else{const _=ui(r,xh);d=ui(_.firestore,Wr),g=_._query;const y=new HT(d);c={next:T=>{e[a]&&e[a](new eo(d,y,_,T))},error:e[a+1],complete:e[a+2]},jC(r._query)}return(function(y,T,w,V){const F=new DT(V),ee=new bT(T,F,w);return y.asyncQueue.enqueueAndForget((async()=>ET(await Em(y),ee))),()=>{F.Nu(),y.asyncQueue.enqueueAndForget((async()=>TT(await Em(y),ee)))}})(cp(d),g,l,c)}function mp(r,e){return(function(a,l){const c=new ar;return a.asyncQueue.enqueueAndForget((async()=>dC(await SC(a),l,c))),c.promise})(cp(r),e)}function GT(r,e,i){const a=i.docs.get(e._key),l=new HT(r);return new Yr(r,l,e._key,a,new Al(i.hasPendingWrites,i.fromCache),e.converter)}function yv(...r){return new hp("arrayUnion",r)}(function(e,i=!0){(function(l){fo=l})(co),to(new Xr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new Wr(new D2(a.getProvider("auth-internal")),new V2(d,a.getProvider("app-check-internal")),(function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ce(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kl(y.options.projectId,T)})(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),sr(b0,A0,e),sr(b0,A0,"esm2020")})();const QC=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),KC=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),_v=r=>{const e=KC(r);return e.charAt(0).toUpperCase()+e.slice(1)},FT=(...r)=>r.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),YC=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var XC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const $C=yt.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...g},_)=>yt.createElement("svg",{ref:_,...XC,width:e,height:e,stroke:r,strokeWidth:a?Number(i)*24/Number(e):i,className:FT("lucide",l),...!c&&!YC(g)&&{"aria-hidden":"true"},...g},[...d.map(([y,T])=>yt.createElement(y,T)),...Array.isArray(c)?c:[c]]));const ht=(r,e)=>{const i=yt.forwardRef(({className:a,...l},c)=>yt.createElement($C,{ref:c,iconNode:e,className:FT(`lucide-${QC(_v(r))}`,`lucide-${r}`,a),...l}));return i.displayName=_v(r),i};const ZC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],bm=ht("arrow-right",ZC);const JC=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Am=ht("book-open",JC);const WC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ya=ht("circle-check-big",WC);const eI=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],tI=ht("clock",eI);const nI=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],QT=ht("cpu",nI);const iI=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],sI=ht("crown",iI);const rI=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],KT=ht("database",rI);const aI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],qc=ht("disc",aI);const oI=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M16 18v-6",key:"15y0np"}]],lI=ht("file-chart-column-increasing",oI);const uI=[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]],Nl=ht("ghost",uI);const cI=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],YT=ht("history",cI);const hI=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],fI=ht("house",hI);const dI=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],uh=ht("layers",dI);const mI=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],XT=ht("loader-circle",mI);const pI=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],$T=ht("lock",pI);const gI=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Sm=ht("log-out",gI);const yI=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],_I=ht("power",yI);const vI=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],pp=ht("repeat",vI);const EI=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],TI=ht("rotate-ccw",EI);const bI=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],gp=ht("server",bI);const AI=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],SI=ht("smartphone",AI);const wI=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],RI=ht("trash-2",wI);const xI=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],vv=ht("trophy",xI);const CI=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ZT=ht("user",CI);const II=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],JT=ht("wifi",II);const NI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],WT=ht("x",NI);const DI=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],e1=ht("zap",DI),OI={apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:97363172311f11c86aa637"},t1=Vv(OI),Yd=x2(t1),Qn=xC(t1),Kn=typeof __app_id<"u"?__app_id:"neon-draft",ch={CACHE_1:{id:"CACHE_1",name:"Data Cache v1",val:1,icon:qc,color:"text-slate-400",border:"border-slate-500",desc:"1 TB."},CACHE_2:{id:"CACHE_2",name:"Data Cache v2",val:2,icon:qc,color:"text-orange-400",border:"border-orange-500",desc:"2 TB."},CACHE_3:{id:"CACHE_3",name:"Data Cache v3",val:3,icon:qc,color:"text-yellow-400",border:"border-yellow-500",desc:"3 TB."},EXPLOIT:{id:"EXPLOIT",name:"Zero-Day Exploit",val:0,icon:e1,color:"text-yellow-200",border:"border-yellow-600",desc:"Next Cache x3."},GPU:{id:"GPU",name:"GPU Cluster",val:0,icon:QT,color:"text-purple-400",border:"border-purple-500",desc:"Pair = 5 TB."},MAINFRAME:{id:"MAINFRAME",name:"Mainframe Core",val:0,icon:gp,color:"text-green-400",border:"border-green-500",desc:"Set of 3 = 10 TB."},KEY:{id:"KEY",name:"Encryption Key",val:0,icon:$T,color:"text-blue-400",border:"border-blue-500",desc:"1/3/6/10/15 TB."},BOTNET:{id:"BOTNET",name:"Botnet Node",val:0,icon:JT,color:"text-red-500",border:"border-red-600",desc:"Most = 6. 2nd = 3."},PROXY:{id:"PROXY",name:"Proxy Server",val:0,icon:pp,color:"text-cyan-200",border:"border-cyan-400",desc:"Swap for 2 cards."},BACKDOOR:{id:"BACKDOOR",name:"Backdoor Access",val:0,icon:Nl,color:"text-pink-400",border:"border-pink-500",desc:"End Game: +6/-6 TB."}},MI=[...Array(14).fill("GPU"),...Array(14).fill("MAINFRAME"),...Array(14).fill("KEY"),...Array(26).fill("BOTNET"),...Array(10).fill("CACHE_2"),...Array(5).fill("CACHE_3"),...Array(5).fill("CACHE_1"),...Array(6).fill("EXPLOIT"),...Array(4).fill("PROXY"),...Array(10).fill("BACKDOOR")],VI=r=>{let e=r.length,i;for(;e!==0;)i=Math.floor(Math.random()*e),e--,[r[e],r[i]]=[r[i],r[e]];return r},Xd=()=>b.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:[b.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-slate-900 via-purple-950 to-black"}),b.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-cyan-500/5 mix-blend-overlay"}),b.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:"linear-gradient(rgba(18, 16, 99, 0.1) 1px, transparent 1px), linear-gradient(90deg, rgba(18, 16, 99, 0.1) 1px, transparent 1px)",backgroundSize:"40px 40px"}})]}),Ev=()=>b.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-60 mt-auto pb-2 pt-2 relative z-10",children:[b.jsx(uh,{size:12,className:"text-cyan-400"}),b.jsx("span",{className:"text-[10px] font-black tracking-widest text-cyan-400 uppercase drop-shadow-[0_0_5px_rgba(34,211,238,0.8)]",children:"NEON DRAFT"})]}),Tv=({onConfirmLeave:r,onConfirmLobby:e,onCancel:i,isHost:a,inGame:l})=>b.jsx("div",{className:"fixed inset-0 bg-black/90 z-[200] flex items-center justify-center p-4 animate-in fade-in",children:b.jsxs("div",{className:"bg-slate-900 rounded-xl border border-slate-700 p-6 max-w-sm w-full text-center shadow-2xl",children:[b.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Disconnect from Grid?"}),b.jsx("p",{className:"text-slate-400 mb-6 text-sm",children:a?"WARNING: As Admin, leaving will shut down the server for all runners.":l?"Leaving now will corrupt the data stream for everyone.":"Closing secure connection."}),b.jsxs("div",{className:"flex flex-col gap-3",children:[b.jsx("button",{onClick:i,className:"bg-slate-700 hover:bg-slate-600 text-white py-3 rounded font-bold transition-colors",children:"Stay Connected"}),l&&a&&b.jsxs("button",{onClick:e,className:"py-3 rounded font-bold transition-colors flex items-center justify-center gap-2 bg-cyan-600 hover:bg-cyan-500 text-white",children:[b.jsx(fI,{size:18})," Reset to Lobby"]}),b.jsxs("button",{onClick:r,className:"bg-pink-600 hover:bg-pink-500 text-white py-3 rounded font-bold transition-colors flex items-center justify-center gap-2",children:[b.jsx(Sm,{size:18})," ",a?"Shut Down Server":"Jack Out"]})]})]})}),kI=({players:r,round:e,onNext:i,isHost:a})=>b.jsx("div",{className:"fixed inset-0 bg-black/95 z-[150] flex items-center justify-center p-4 animate-in fade-in",children:b.jsxs("div",{className:"bg-slate-900 border border-cyan-500/30 rounded-2xl w-full max-w-3xl flex flex-col shadow-2xl overflow-hidden max-h-[90vh]",children:[b.jsxs("div",{className:"p-6 border-b border-slate-800 bg-slate-950/50 flex justify-between items-center",children:[b.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2 tracking-wider",children:[b.jsx(lI,{className:"text-cyan-400"}),"ROUND ",e," SUMMARY"]}),b.jsx("div",{className:"text-sm text-slate-500 font-mono",children:"CALCULATING METRICS..."})]}),b.jsxs("div",{className:"p-6 overflow-y-auto space-y-4",children:[b.jsxs("div",{className:"grid grid-cols-12 gap-4 text-xs font-bold text-slate-500 uppercase tracking-widest border-b border-slate-800 pb-2",children:[b.jsx("div",{className:"col-span-3",children:"Runner"}),b.jsx("div",{className:"col-span-5",children:"Data Acquired (Ordered)"}),b.jsxs("div",{className:"col-span-2 text-right",children:["R",e," TB"]}),b.jsx("div",{className:"col-span-2 text-right",children:"Total TB"})]}),r.sort((l,c)=>c.score-l.score).map(l=>{const c=l.history.find(_=>_.round===e),d=c?c.cards:[],g=c?c.score:0;return b.jsxs("div",{className:"grid grid-cols-12 gap-4 items-center bg-slate-800/30 p-3 rounded-lg border border-slate-700/50",children:[b.jsxs("div",{className:"col-span-3 font-bold text-white truncate flex items-center gap-2",children:[b.jsx(ZT,{size:14,className:"text-slate-400"}),l.name]}),b.jsxs("div",{className:"col-span-5 flex flex-wrap gap-1",children:[d.map((_,y)=>{const T=ch[_],w=T.icon;return b.jsx("div",{className:`w-6 h-6 flex items-center justify-center rounded bg-slate-900 border ${T.border} ${T.color}`,title:T.name,children:b.jsx(w,{size:12})},y)}),d.length===0&&b.jsx("span",{className:"text-slate-600 text-xs italic",children:"No Data"})]}),b.jsxs("div",{className:"col-span-2 text-right font-mono text-cyan-300 font-bold",children:["+",g]}),b.jsx("div",{className:"col-span-2 text-right font-mono text-white font-bold text-lg",children:l.score})]},l.id)})]}),b.jsx("div",{className:"p-6 border-t border-slate-800 bg-slate-950/50 flex justify-end",children:a?b.jsxs("button",{onClick:i,className:"bg-cyan-600 hover:bg-cyan-500 text-white px-8 py-3 rounded-xl font-bold flex items-center gap-2 transition-all shadow-lg shadow-cyan-900/20",children:[e>=3?"Initialize Final Scoring":"Start Next Round"," ",b.jsx(bm,{size:18})]}):b.jsxs("div",{className:"text-slate-400 italic animate-pulse flex items-center gap-2",children:[b.jsx(XT,{size:16,className:"animate-spin"})," Waiting for Host to proceed..."]})})]})}),UI=({logs:r,onClose:e})=>b.jsx("div",{className:"fixed inset-0 bg-black/90 z-[60] flex items-center justify-center p-0 md:p-4",children:b.jsxs("div",{className:"bg-slate-900 w-full md:max-w-md h-full md:h-[70vh] rounded-none md:rounded-xl flex flex-col border-none md:border border-slate-700 shadow-2xl",children:[b.jsxs("div",{className:"p-4 border-b border-slate-700 flex justify-between items-center bg-slate-800",children:[b.jsxs("h3",{className:"text-white font-bold text-lg flex items-center gap-2",children:[b.jsx(YT,{size:18,className:"text-cyan-400"})," System Logs"]}),b.jsx("button",{onClick:e,className:"p-2 bg-slate-700 rounded-full hover:bg-slate-600",children:b.jsx(WT,{className:"text-slate-400"})})]}),b.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[...r].reverse().map((i,a)=>b.jsxs("div",{className:`text-xs md:text-sm p-3 rounded border-l-2 ${i.type==="danger"?"bg-red-900/20 border-red-500 text-red-200":i.type==="success"?"bg-green-900/20 border-green-500 text-green-200":"bg-slate-700/50 border-slate-500 text-slate-300"}`,children:[b.jsxs("span",{className:"opacity-50 mr-2 font-mono",children:["[",new Date(parseInt(i.id)).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}),"]"]}),i.text]},a))})]})}),bv=({onClose:r})=>b.jsx("div",{className:"fixed inset-0 bg-black/95 z-[100] flex items-center justify-center p-2 md:p-6 animate-in fade-in",children:b.jsxs("div",{className:"bg-slate-900 md:rounded-2xl w-full max-w-5xl h-full md:h-auto md:max-h-[90vh] overflow-hidden border-none md:border border-cyan-500/30 flex flex-col shadow-[0_0_50px_rgba(34,211,238,0.15)]",children:[b.jsxs("div",{className:"p-5 border-b border-slate-800 flex justify-between items-center bg-slate-950 sticky top-0 z-10",children:[b.jsxs("div",{className:"flex flex-col",children:[b.jsxs("h2",{className:"text-2xl font-black text-white flex items-center gap-3 tracking-widest uppercase",children:[b.jsx(Am,{className:"text-cyan-400"})," Data Runner's Manual"]}),b.jsx("span",{className:"text-xs text-slate-500 font-mono tracking-[0.2em]",children:"OPERATIONAL PROTOCOLS v2.0"})]}),b.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-800 rounded-full text-slate-400 transition-colors",children:b.jsx(WT,{size:24})})]}),b.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-8 space-y-8 scrollbar-thin scrollbar-thumb-slate-700",children:[b.jsxs("section",{children:[b.jsxs("h3",{className:"text-lg font-bold text-cyan-400 mb-4 flex items-center gap-2 border-b border-cyan-900/50 pb-2",children:[b.jsx(pp,{size:18})," THE DRAFT LOOP"]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[b.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-xl border border-slate-700 flex flex-col items-center gap-2",children:[b.jsx("div",{className:"w-12 h-12 bg-cyan-900/30 rounded-full flex items-center justify-center text-cyan-400 mb-1 border border-cyan-500/30",children:b.jsx(MousePointerClick,{size:24})}),b.jsx("div",{className:"font-bold text-white",children:"1. SELECT"}),b.jsxs("p",{className:"text-xs text-slate-400",children:["Pick 1 card to keep. ",b.jsx("br",{}),"(Pick 2 if using Proxy)."]})]}),b.jsx("div",{className:"hidden md:flex items-center justify-center text-slate-600",children:b.jsx(bm,{size:32})}),b.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-xl border border-slate-700 flex flex-col items-center gap-2",children:[b.jsx("div",{className:"w-12 h-12 bg-purple-900/30 rounded-full flex items-center justify-center text-purple-400 mb-1 border border-purple-500/30",children:b.jsx(uh,{size:24})}),b.jsx("div",{className:"font-bold text-white",children:"2. REVEAL"}),b.jsx("p",{className:"text-xs text-slate-400",children:"Cards are added to your rig simultaneously."})]}),b.jsx("div",{className:"hidden md:flex items-center justify-center text-slate-600",children:b.jsx(bm,{size:32})}),b.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-xl border border-slate-700 flex flex-col items-center gap-2",children:[b.jsx("div",{className:"w-12 h-12 bg-green-900/30 rounded-full flex items-center justify-center text-green-400 mb-1 border border-green-500/30",children:b.jsx(RotateCw,{size:24})}),b.jsx("div",{className:"font-bold text-white",children:"3. PASS"}),b.jsx("p",{className:"text-xs text-slate-400",children:"Hand remaining deck to the left. Repeat until empty."})]})]})]}),b.jsxs("section",{children:[b.jsxs("h3",{className:"text-lg font-bold text-purple-400 mb-4 flex items-center gap-2 border-b border-purple-900/50 pb-2",children:[b.jsx(KT,{size:18})," SCORING DATABASE"]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[b.jsxs("div",{className:"bg-slate-800/40 p-3 rounded-lg border-l-4 border-purple-500 flex flex-col gap-2",children:[b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsx("span",{className:"font-bold text-white text-sm",children:"GPU Cluster"}),b.jsx(QT,{size:16,className:"text-purple-400"})]}),b.jsx("div",{className:"text-xs text-slate-400",children:"Must be collected in pairs."}),b.jsx("div",{className:"bg-black/40 p-2 rounded text-center font-mono text-sm text-purple-300",children:"2 Cards = 5 TB"})]}),b.jsxs("div",{className:"bg-slate-800/40 p-3 rounded-lg border-l-4 border-green-500 flex flex-col gap-2",children:[b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsx("span",{className:"font-bold text-white text-sm",children:"Mainframe"}),b.jsx(gp,{size:16,className:"text-green-400"})]}),b.jsx("div",{className:"text-xs text-slate-400",children:"Huge storage, but requires a full set."}),b.jsx("div",{className:"bg-black/40 p-2 rounded text-center font-mono text-sm text-green-300",children:"3 Cards = 10 TB"})]}),b.jsxs("div",{className:"bg-slate-800/40 p-3 rounded-lg border-l-4 border-yellow-500 flex flex-col gap-2",children:[b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsx("span",{className:"font-bold text-white text-sm",children:"Exploit & Cache"}),b.jsxs("div",{className:"flex gap-1",children:[b.jsx(e1,{size:16,className:"text-yellow-400"}),b.jsx(qc,{size:16,className:"text-orange-400"})]})]}),b.jsxs("div",{className:"text-xs text-slate-400",children:[b.jsx("span",{className:"text-yellow-400 font-bold",children:"Exploit"})," triples the value of your ",b.jsx("span",{className:"underline",children:"next"})," Cache card."]}),b.jsx("div",{className:"bg-black/40 p-2 rounded text-center font-mono text-xs text-yellow-200",children:"[Exploit] + [2 TB Cache] = 6 TB"})]}),b.jsxs("div",{className:"bg-slate-800/40 p-3 rounded-lg border-l-4 border-blue-500 flex flex-col gap-2 md:col-span-2 lg:col-span-1",children:[b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsx("span",{className:"font-bold text-white text-sm",children:"Encryption Keys"}),b.jsx($T,{size:16,className:"text-blue-400"})]}),b.jsx("div",{className:"text-xs text-slate-400",children:"Exponential growth. The more the better."}),b.jsxs("div",{className:"grid grid-cols-5 gap-1 text-center font-mono text-[10px]",children:[b.jsxs("div",{className:"bg-black/40 p-1 rounded",children:[b.jsx("div",{className:"text-blue-500",children:"1"}),"1TB"]}),b.jsxs("div",{className:"bg-black/40 p-1 rounded",children:[b.jsx("div",{className:"text-blue-500",children:"2"}),"3TB"]}),b.jsxs("div",{className:"bg-black/40 p-1 rounded",children:[b.jsx("div",{className:"text-blue-500",children:"3"}),"6TB"]}),b.jsxs("div",{className:"bg-black/40 p-1 rounded",children:[b.jsx("div",{className:"text-blue-500",children:"4"}),"10TB"]}),b.jsxs("div",{className:"bg-black/40 p-1 rounded",children:[b.jsx("div",{className:"text-blue-500",children:"5+"}),"15TB"]})]})]}),b.jsxs("div",{className:"bg-slate-800/40 p-3 rounded-lg border-l-4 border-red-500 flex flex-col gap-2",children:[b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsx("span",{className:"font-bold text-white text-sm",children:"Botnet Node"}),b.jsx(JT,{size:16,className:"text-red-500"})]}),b.jsx("div",{className:"text-xs text-slate-400",children:"Competitive scoring per round."}),b.jsxs("div",{className:"flex gap-2 text-xs text-center font-mono",children:[b.jsxs("div",{className:"bg-black/40 p-2 rounded flex-1",children:[b.jsx("div",{className:"text-red-400 font-bold",children:"Most"}),"6 TB"]}),b.jsxs("div",{className:"bg-black/40 p-2 rounded flex-1",children:[b.jsx("div",{className:"text-red-300 font-bold",children:"2nd"}),"3 TB"]})]})]}),b.jsxs("div",{className:"bg-slate-800/40 p-3 rounded-lg border-l-4 border-pink-500 flex flex-col gap-2",children:[b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsx("span",{className:"font-bold text-white text-sm",children:"Backdoor"}),b.jsx(Nl,{size:16,className:"text-pink-400"})]}),b.jsxs("div",{className:"text-xs text-slate-400",children:["Kept until ",b.jsx("span",{className:"text-pink-400 font-bold",children:"Game End"}),"."]}),b.jsxs("div",{className:"flex gap-2 text-xs text-center font-mono",children:[b.jsxs("div",{className:"bg-black/40 p-2 rounded flex-1",children:[b.jsx("div",{className:"text-green-400 font-bold",children:"Most"}),"+6 TB"]}),b.jsxs("div",{className:"bg-black/40 p-2 rounded flex-1",children:[b.jsx("div",{className:"text-red-400 font-bold",children:"Least"}),"-6 TB"]})]})]})]})]})]})]})}),LI=({type:r,message:e,subtext:i,icon:a})=>b.jsx("div",{className:"fixed inset-0 z-[160] flex items-center justify-center pointer-events-none",children:b.jsxs("div",{className:`
      flex flex-col items-center justify-center p-8 md:p-12 rounded-3xl border-4 shadow-[0_0_50px_rgba(0,0,0,0.8)] 
      transform transition-all animate-in fade-in zoom-in slide-in-from-bottom-10 duration-300 backdrop-blur-md
      ${r==="success"?"bg-cyan-900/90 border-cyan-500 text-cyan-100":""}
      ${r==="info"?"bg-purple-900/90 border-purple-500 text-purple-100":""}
    `,children:[a&&b.jsx("div",{className:"mb-4 p-4 bg-black/30 rounded-full border-2 border-white/20",children:b.jsx(a,{size:64,className:"animate-bounce"})}),b.jsx("h2",{className:"text-3xl md:text-5xl font-black uppercase tracking-widest text-center drop-shadow-lg mb-2",children:e}),i&&b.jsx("p",{className:"text-lg md:text-xl font-bold opacity-90 tracking-wide text-center",children:i})]})}),Av=({typeId:r,onClick:e,selected:i,small:a,disabled:l})=>{const c=ch[r];if(!c)return null;const d=c.icon;return b.jsxs("div",{onClick:l?void 0:e,className:`
        relative bg-slate-900 rounded-lg border-2 transition-all flex flex-col items-center justify-between
        ${c.border}
        ${i?"ring-4 ring-cyan-400 -translate-y-4 shadow-[0_0_20px_rgba(34,211,238,0.5)] z-20":l?"opacity-50 cursor-not-allowed":"hover:-translate-y-1 hover:shadow-lg"}
        ${e&&!l?"cursor-pointer":""}
        ${a?"w-16 h-24 p-1":"w-24 h-36 md:w-32 md:h-48 p-2"}
      `,children:[b.jsxs("div",{className:"w-full flex justify-between items-start",children:[b.jsx("span",{className:`font-black ${a?"text-[10px]":"text-sm"} ${c.color}`,children:c.val>0?c.val:""}),b.jsx("div",{className:`${a?"w-3 h-3":"w-6 h-6"} rounded-full border ${c.border} bg-slate-800 flex items-center justify-center`,children:b.jsx(d,{size:a?8:14,className:c.color})})]}),b.jsxs("div",{className:"flex flex-col items-center gap-1",children:[b.jsx(d,{size:a?20:40,className:`${c.color} drop-shadow-md`}),!a&&b.jsx("span",{className:`text-[10px] uppercase font-bold text-center leading-tight ${c.color}`,children:c.name})]}),!a&&b.jsx("div",{className:"w-full bg-black/40 rounded p-1 text-[8px] text-slate-400 text-center leading-tight",children:c.desc}),i&&b.jsx("div",{className:"absolute inset-0 bg-cyan-500/20 rounded-lg flex items-center justify-center",children:b.jsx(Ya,{className:"text-cyan-400 w-8 h-8 md:w-12 md:h-12 drop-shadow-lg"})})]})};function jI(){const[r,e]=yt.useState(null),[i,a]=yt.useState("menu"),[l,c]=yt.useState(""),[d,g]=yt.useState(""),[_,y]=yt.useState(""),[T,w]=yt.useState(null),[V,F]=yt.useState(!1),[ee,ne]=yt.useState(""),[W,me]=yt.useState(!1),[Te,pe]=yt.useState(!1),[Je,it]=yt.useState(!1),[Ce,I]=yt.useState(null),[S,x]=yt.useState([]),[M,N]=yt.useState(!1);yt.useEffect(()=>{(async()=>typeof __initial_auth_token<"u"&&__initial_auth_token?await dw(Yd,__initial_auth_token):await lw(Yd))();const J=gw(Yd,e);return()=>J()},[]),yt.useEffect(()=>{const X=localStorage.getItem("neondraft_roomId");X&&g(X)},[]),yt.useEffect(()=>{if(!d||!r)return;const X=FC(Fn(Qn,"artifacts",Kn,"public","data","rooms",d),J=>{if(J.exists()){const ie=J.data();if(!ie.players||!Array.isArray(ie.players)||!ie.players.some(he=>he.id===r.uid)){g(""),a("menu"),localStorage.removeItem("neondraft_roomId"),ne("Connection Terminated (Kicked).");return}w(ie),ie.status==="lobby"?a("lobby"):a("game"),ie.feedbackTrigger&&ie.feedbackTrigger.id!==T?.feedbackTrigger?.id&&(I(ie.feedbackTrigger),setTimeout(()=>I(null),3e3))}else g(""),a("menu"),localStorage.removeItem("neondraft_roomId"),ne("Server shut down by Admin.")});return()=>X()},[d,r,T?.feedbackTrigger?.id]);const U=async()=>{if(!l.trim())return ne("Codename required.");F(!0);const X=Math.random().toString(36).substring(2,7).toUpperCase(),J={roomId:X,hostId:r.uid,status:"lobby",players:[{id:r.uid,name:l,hand:[],keptCards:[],score:0,ready:!0,selection:[],history:[],backdoorCount:0}],logs:[],round:1,turnState:"IDLE",feedbackTrigger:null,winner:null};try{await HC(Fn(Qn,"artifacts",Kn,"public","data","rooms",X),J),localStorage.setItem("neondraft_roomId",X),g(X),a("lobby")}catch{ne("Network error.")}F(!1)},R=async()=>{if(!_||!l)return ne("Code and Name required.");F(!0);try{const X=Fn(Qn,"artifacts",Kn,"public","data","rooms",_),J=await qC(X);if(!J.exists())throw new Error("Room not found.");const ie=J.data();if(ie.status!=="lobby")throw new Error("Draft in progress.");if(ie.players.length>=6)throw new Error("Server full.");ie.players.find(he=>he.id===r.uid)||await Oi(X,{players:yv({id:r.uid,name:l,hand:[],keptCards:[],score:0,ready:!0,selection:[],history:[],backdoorCount:0})}),localStorage.setItem("neondraft_roomId",_),g(_)}catch(X){ne(X.message)}F(!1)},lt=async()=>{if(!d)return;const X=Fn(Qn,"artifacts",Kn,"public","data","rooms",d);if(T.hostId===r.uid)await GC(X);else{const J=T.players.filter(ie=>ie.id!==r.uid);await Oi(X,{players:J})}localStorage.removeItem("neondraft_roomId"),g(""),a("menu"),pe(!1)},bt=async X=>{if(T.hostId!==r.uid)return;const J=T.players.filter(ie=>ie.id!==X);await Oi(Fn(Qn,"artifacts",Kn,"public","data","rooms",d),{players:J})},H=async()=>{if(!T)return;const X=T.players.map(J=>J.id===r.uid?{...J,ready:!J.ready}:J);await Oi(Fn(Qn,"artifacts",Kn,"public","data","rooms",d),{players:X})},se=async()=>{if(T.players.length<2)return ne("Need 2+ Runners.");let X=VI([...MI]);const J=T.players.length===2?10:T.players.length===3?9:T.players.length===4?8:7,ie=T.players.map(he=>{const Ie=[];for(let Oe=0;Oe<J;Oe++)Ie.push(X.pop());return{...he,hand:Ie,keptCards:[],score:0,backdoorCount:0,history:[],selection:[],ready:!1}});await Oi(Fn(Qn,"artifacts",Kn,"public","data","rooms",d),{status:"playing",players:ie,deck:X,round:1,turnState:"SELECTING",logs:[{id:Date.now().toString(),text:"Draft Initialized. Round 1.",type:"neutral"}]})},fe=X=>{const J=M?2:1;x(ie=>ie.includes(X)?ie.filter(he=>he!==X):ie.length>=J?J===1?[X]:[...ie.slice(1),X]:[...ie,X])},Pe=async()=>{if(S.length===0||M&&S.length!==2)return;const X=T.players.map(ie=>ie.id===r.uid?{...ie,selection:S,usingProxy:M}:ie);X.every(ie=>ie.selection.length>0)?await O(X):await Oi(Fn(Qn,"artifacts",Kn,"public","data","rooms",d),{players:X}),x([]),N(!1)},Ke=X=>{let J=0,ie=0,he=0,Ie=0,Oe=0,Ge=0;X.forEach(Xe=>{if(Xe==="EXPLOIT")ie++;else if(Xe.startsWith("CACHE")){const nn=ch[Xe].val;ie>0?(J+=nn*3,ie--):J+=nn}Xe==="GPU"&&he++,Xe==="MAINFRAME"&&Ie++,Xe==="KEY"&&Oe++,Xe==="BOTNET"&&Ge++});const ye=Math.floor(he/2)*5,Be=Math.floor(Ie/3)*10,He=[0,1,3,6,10,15][Math.min(Oe,5)];return{total:J+ye+Be+He,botnetCount:Ge}},O=async X=>{const J=[];let ie="SELECTING",he=[...X];he=he.map(Oe=>{const Ge=Oe.selection.map(Ye=>Oe.hand[Ye]);let ye=Oe.hand.filter((Ye,He)=>!Oe.selection.includes(He)),Be=[...Oe.keptCards];if(Oe.usingProxy){const Ye=Be.indexOf("PROXY");Ye>-1?(Be.splice(Ye,1),ye.push("PROXY"),Be.push(...Ge)):(Be.push(Ge[0]),Ge.length>1&&ye.push(Ge[1]))}else Be.push(...Ge);return{...Oe,hand:ye,keptCards:Be,selection:[],usingProxy:!1}}),J.push({id:Date.now().toString(),text:"Data transfer complete. Hands rotating...",type:"neutral"});const Ie=he.map((Oe,Ge)=>he[(Ge+1)%he.length].hand);if(he.forEach((Oe,Ge)=>Oe.hand=Ie[Ge]),he[0].hand.length===0){J.push({id:Date.now()+1,text:`Round ${T.round} Complete. Showing Summary.`,type:"success"});const Oe=he.map(Me=>Ke(Me.keptCards)),Ge=Oe.map(Me=>Me.botnetCount),ye=[...new Set(Ge)].filter(Me=>Me>0).sort((Me,ut)=>ut-Me),Be=ye[0]||0,Ye=ye[1]||0,He=he.filter((Me,ut)=>Oe[ut].botnetCount===Be&&Be>0),Xe=he.filter((Me,ut)=>Oe[ut].botnetCount===Ye&&Ye>0),nn=Math.floor(6/(He.length||1)),gr=Math.floor(3/(Xe.length||1));he.forEach((Me,ut)=>{const Dn=Oe[ut];let yr=0;Dn.botnetCount===Be&&Be>0?yr=nn:Dn.botnetCount===Ye&&Ye>0&&He.length===1&&(yr=gr);const na=Me.keptCards.filter(qi=>qi==="BACKDOOR").length;Me.backdoorCount+=na;const qt=Dn.total+yr;Me.history.push({round:T.round,cards:[...Me.keptCards],score:qt}),Me.score+=qt}),ie="ROUND_SUMMARY"}await Oi(Fn(Qn,"artifacts",Kn,"public","data","rooms",d),{players:he,turnState:ie,logs:yv(...J)})},K=async()=>{if(T.hostId===r.uid)if(T.round>=3){const X=[...T.players],J=X.map(He=>He.backdoorCount),ie=Math.max(...J),he=Math.min(...J),Ie=X.filter(He=>He.backdoorCount===ie),Oe=X.filter(He=>He.backdoorCount===he),Ge=Math.floor(6/Ie.length),ye=X.length>2?Math.floor(-6/Oe.length):0;X.forEach(He=>{let Xe=0;He.backdoorCount===ie?Xe=Ge:He.backdoorCount===he&&(Xe=ye),He.score+=Xe,He.backdoorScore=Xe,He.ready=!1});const Ye=[...X].sort((He,Xe)=>Xe.score-He.score)[0].name;await Oi(Fn(Qn,"artifacts",Kn,"public","data","rooms",d),{players:X,status:"finished",turnState:"GAME_OVER",winner:Ye,feedbackTrigger:{id:Date.now(),type:"success",message:"SYSTEM HACKED",subtext:`${Ye} Dominates the Grid`}})}else{const X=T.round+1;let J=[...T.deck];const ie=T.players.length===2?10:T.players.length===3?9:T.players.length===4?8:7,he=T.players.map(Ie=>{const Oe=[];for(let Ge=0;Ge<ie;Ge++)J.length>0&&Oe.push(J.pop());return{...Ie,hand:Oe,keptCards:[]}});await Oi(Fn(Qn,"artifacts",Kn,"public","data","rooms",d),{players:he,deck:J,round:X,turnState:"SELECTING",feedbackTrigger:{id:Date.now(),type:"info",message:`ROUND ${X}`,subtext:"New Data Available"}})}},re=async()=>{const X=T.players.map(J=>({...J,hand:[],keptCards:[],score:0,backdoorCount:0,selection:[],history:[],ready:!0}));await Oi(Fn(Qn,"artifacts",Kn,"public","data","rooms",d),{status:"lobby",players:X,logs:[],round:1,winner:null,feedbackTrigger:null})},ae=T?.players.find(X=>X.id===r?.uid);if(!r)return b.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center text-cyan-500 animate-pulse",children:"Initializing Interface..."});if(i==="menu")return b.jsxs("div",{className:"min-h-screen bg-slate-950 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden font-sans",children:[b.jsx(Xd,{}),W&&b.jsx(bv,{onClose:()=>me(!1)}),b.jsxs("div",{className:"z-10 text-center mb-10 animate-in fade-in zoom-in duration-700",children:[b.jsx(uh,{size:64,className:"text-cyan-400 mx-auto mb-4 animate-bounce drop-shadow-[0_0_15px_rgba(34,211,238,0.5)]"}),b.jsx("h1",{className:"text-5xl md:text-7xl font-black text-transparent bg-clip-text bg-gradient-to-br from-cyan-400 via-blue-500 to-purple-600 font-serif tracking-widest drop-shadow-md",children:"NEON DRAFT"}),b.jsx("p",{className:"text-white-400/60 tracking-[0.3em] uppercase mt-2",children:"Build Your Rig. Rule the Net."})]}),b.jsxs("div",{className:"bg-slate-900/80 backdrop-blur border border-cyan-500/30 p-8 rounded-2xl w-full max-w-md shadow-2xl z-10 animate-in slide-in-from-bottom-10 duration-700 delay-100",children:[ee&&b.jsx("div",{className:"bg-red-900/50 text-red-200 p-2 mb-4 rounded text-center text-sm border border-red-800",children:ee}),b.jsx("input",{className:"w-full bg-black/50 border border-slate-600 p-3 rounded mb-4 text-white placeholder-slate-500 focus:border-cyan-500 outline-none transition-colors font-mono",placeholder:"Hacker Alias",value:l,onChange:X=>c(X.target.value)}),b.jsxs("button",{onClick:U,disabled:V,className:"w-full bg-gradient-to-r from-cyan-700 to-blue-600 hover:from-cyan-600 hover:to-blue-500 p-4 rounded font-bold mb-4 flex items-center justify-center gap-2 border border-cyan-500/30 shadow-[0_0_15px_rgba(34,211,238,0.2)] transition-all",children:[b.jsx(gp,{size:20})," New Server"]}),b.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-4",children:[b.jsx("input",{className:"w-full sm:flex-1 bg-black/50 border border-slate-600 p-3 rounded text-white placeholder-slate-500 uppercase font-mono tracking-wider focus:border-cyan-500 outline-none",placeholder:"IP ADDR",value:_,onChange:X=>y(X.target.value.toUpperCase())}),b.jsx("button",{onClick:R,disabled:V,className:"w-full sm:w-auto bg-slate-800 hover:bg-slate-700 border border-slate-600 px-6 py-3 rounded font-bold transition-colors",children:"Connect"})]}),b.jsxs("button",{onClick:()=>me(!0),className:"w-full text-sm text-slate-400 hover:text-white flex items-center justify-center gap-2 py-2",children:[b.jsx(Am,{size:16})," Data Manual"]})]}),b.jsxs("div",{className:"absolute bottom-4 text-slate-600 text-xs text-center",children:["Inspired by Sushi Go. A tribute game.",b.jsx("br",{}),"Developed by ",b.jsx("strong",{children:"RAWFID K SHUVO"}),". Visit"," ",b.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-500 underline hover:text-cyan-600",children:"GAMEHUB"})," ","for more games."]})]});if(i==="lobby"&&T){const X=T.hostId===r.uid;return b.jsxs("div",{className:"min-h-screen bg-slate-950 text-white flex flex-col items-center justify-center p-6 relative",children:[b.jsx(Xd,{}),Te&&b.jsx(Tv,{onConfirmLeave:lt,onCancel:()=>pe(!1),isHost:X,inGame:!1}),b.jsxs("div",{className:"z-10 w-full max-w-lg bg-slate-900/90 backdrop-blur p-8 rounded-2xl border border-cyan-900/50 shadow-2xl mb-4",children:[b.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-slate-700 pb-4",children:[b.jsxs("h2",{className:"text-2xl font-serif text-cyan-400",children:["Node: ",b.jsx("span",{className:"text-white font-mono",children:d})]}),b.jsx("button",{onClick:()=>pe(!0),className:"p-2 bg-red-900/30 hover:bg-red-900/50 rounded text-red-300",children:b.jsx(Sm,{size:16})})]}),b.jsxs("div",{className:"bg-black/20 rounded-xl p-4 mb-8 border border-slate-800",children:[b.jsx("h3",{className:"text-slate-500 text-xs uppercase tracking-wider mb-4 flex justify-between",children:b.jsxs("span",{children:["Runners (",T.players.length,")"]})}),b.jsxs("div",{className:"space-y-2",children:[T.players.map(J=>b.jsxs("div",{className:"flex items-center justify-between bg-slate-800/50 p-3 rounded border border-slate-700/50",children:[b.jsxs("span",{className:`font-bold flex items-center gap-2 ${J.id===r.uid?"text-cyan-400":"text-slate-300"}`,children:[b.jsx(ZT,{size:14})," ",J.name," ",J.id===T.hostId&&b.jsx(sI,{size:14,className:"text-yellow-500"})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs("span",{className:"text-green-500 text-xs flex items-center gap-1",children:[b.jsx(Ya,{size:12})," Online"]}),X&&J.id!==r.uid&&b.jsx("button",{onClick:()=>bt(J.id),className:"text-slate-500 hover:text-red-500 hover:bg-red-900/20 p-1 rounded transition-colors",children:b.jsx(RI,{size:14})})]})]},J.id)),T.players.length<2&&b.jsx("div",{className:"text-center text-slate-500 italic text-sm py-2",children:"Waiting for connection..."})]})]}),X?b.jsx("button",{onClick:se,disabled:T.players.length<2,className:`w-full py-4 rounded-xl font-bold text-lg shadow-lg transition-all flex items-center justify-center gap-2 ${T.players.length>=2?"bg-cyan-700 hover:bg-cyan-600 text-white shadow-cyan-900/20":"bg-slate-800 cursor-not-allowed text-slate-500"}`,children:T.players.length<2?"Waiting for Runners...":"Initialize Draft"}):b.jsx("div",{className:"text-center text-cyan-400/60 animate-pulse font-serif italic",children:"Waiting for Admin..."})]}),b.jsx(Ev,{})]})}if(i==="game"&&T){const X=T.turnState==="SELECTING",J=T.turnState==="ROUND_SUMMARY",ie=ae?.selection.length>0,he=X&&ie,Ie=T.players.filter(ye=>ye.id!==r.uid),Oe=ae.keptCards.includes("PROXY"),Ge=T.players.every(ye=>ye.ready);return b.jsxs("div",{className:"min-h-screen bg-slate-950 text-white flex flex-col relative overflow-hidden font-sans",children:[b.jsx(Xd,{}),Ce&&b.jsx(LI,{type:Ce.type,message:Ce.message,subtext:Ce.subtext,icon:Ce.type==="success"?vv:uh}),W&&b.jsx(bv,{onClose:()=>me(!1)}),Je&&b.jsx(UI,{logs:T.logs,onClose:()=>it(!1)}),Te&&b.jsx(Tv,{onConfirmLeave:lt,onCancel:()=>pe(!1),isHost:T.hostId===r.uid,onConfirmLobby:()=>{re(),pe(!1)},inGame:!0}),J&&b.jsx(kI,{players:T.players,round:T.round,isHost:T.hostId===r.uid,onNext:K}),b.jsxs("div",{className:"h-14 bg-slate-900/80 border-b border-slate-800 flex items-center justify-between px-4 z-50 backdrop-blur-md sticky top-0",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"font-serif text-cyan-500 font-bold tracking-wider hidden md:block",children:"NEON DRAFT"}),b.jsxs("span",{className:"text-xs text-slate-500 bg-black/50 px-2 py-1 rounded",children:["R",T.round]})]}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{onClick:()=>me(!0),className:"p-2 hover:bg-slate-800 rounded text-slate-400",children:b.jsx(Am,{size:18})}),b.jsx("button",{onClick:()=>it(!0),className:"p-2 hover:bg-slate-800 rounded text-slate-400",children:b.jsx(YT,{size:18})}),b.jsx("button",{onClick:()=>pe(!0),className:"p-2 hover:bg-red-900/50 rounded text-red-400",children:b.jsx(Sm,{size:18})})]})]}),b.jsxs("div",{className:"flex-1 p-4 flex flex-col items-center relative z-10 max-w-7xl mx-auto w-full gap-4",children:[b.jsx("div",{className:"w-full flex gap-2 overflow-x-auto pb-2 justify-start md:justify-center",children:Ie.map(ye=>b.jsxs("div",{className:"bg-slate-900/80 p-2 rounded-lg border border-slate-700 min-w-[140px] flex flex-col gap-1",children:[b.jsxs("div",{className:"flex justify-between items-center text-xs text-slate-400",children:[b.jsx("span",{className:"font-bold text-slate-300 truncate max-w-[80px]",children:ye.name}),b.jsxs("div",{className:"flex items-center gap-0.5",children:[b.jsx(vv,{size:10,className:"text-yellow-500"})," ",ye.score]})]}),b.jsx("div",{className:"flex gap-0.5 justify-center bg-black/30 p-1 rounded",children:ye.hand.map((Be,Ye)=>b.jsx("div",{className:"w-1.5 h-3 bg-slate-600 rounded-sm"},Ye))}),ye.selection.length>0?b.jsxs("div",{className:"text-[10px] text-green-400 text-center font-bold flex items-center justify-center gap-1",children:[b.jsx(Ya,{size:10})," Ready"]}):b.jsx("div",{className:"text-[10px] text-slate-500 text-center animate-pulse",children:"Thinking..."}),b.jsxs("div",{className:"flex flex-wrap gap-1 mt-1 justify-center",children:[ye.keptCards.map((Be,Ye)=>{const He=ch[Be],Xe=He?.icon||KT;return b.jsx("div",{className:`w-6 h-6 rounded-md border border-slate-600 flex items-center justify-center ${He?.color?He.color.replace("text","bg").replace("400","900"):"bg-slate-800"} bg-opacity-30`,children:b.jsx(Xe,{size:12,className:He?.color})},Ye)}),ye.backdoorCount>0&&b.jsxs("div",{className:"w-6 h-6 rounded-md border border-pink-500 bg-pink-900/30 flex items-center justify-center relative",children:[b.jsx(Nl,{size:12,className:"text-pink-400"}),b.jsx("span",{className:"text-[8px] absolute -top-1 -right-1 bg-black text-white px-0.5 rounded-full border border-pink-500",children:ye.backdoorCount})]})]})]},ye.id))}),b.jsxs("div",{className:"flex-1 w-full bg-slate-900/50 rounded-2xl border-2 border-dashed border-slate-800 p-4 flex flex-col items-center min-h-[200px]",children:[b.jsxs("div",{className:"text-xs text-slate-500 uppercase tracking-widest mb-2 w-full text-center border-b border-slate-800 pb-2 flex justify-between px-4",children:[b.jsx("span",{children:"My Rig"}),b.jsxs("span",{className:"text-yellow-400 font-bold",children:[ae.score," TB"]}),b.jsxs("span",{className:"text-pink-400 flex items-center gap-1",children:[b.jsx(Nl,{size:10})," ",ae.backdoorCount]})]}),b.jsxs("div",{className:"flex flex-wrap gap-2 justify-center content-start h-full overflow-y-auto w-full",children:[ae.keptCards.length===0&&b.jsx("div",{className:"text-slate-600 italic mt-10",children:"System Empty. Acquire Data."}),ae.keptCards.map((ye,Be)=>b.jsx(Av,{typeId:ye,small:!0},Be))]})]}),b.jsx("div",{className:`w-full max-w-4xl bg-slate-900/95 p-4 rounded-t-3xl border-t border-cyan-500/30 backdrop-blur-md mt-auto shadow-[0_-10px_40px_rgba(0,0,0,0.5)] z-20 transition-all ${he?"translate-y-4 opacity-90":""}`,children:T.status==="finished"?b.jsxs("div",{className:"text-center py-6 w-full flex flex-col items-center",children:[b.jsxs("h3",{className:"text-4xl font-black text-cyan-400 mb-2",children:[T.winner," Wins!"]}),b.jsx("p",{className:"text-slate-400 mb-6",children:"Mission Debriefing"}),b.jsx("div",{className:"w-full overflow-x-auto mb-6",children:b.jsxs("table",{className:"w-full text-left border-collapse",children:[b.jsx("thead",{children:b.jsxs("tr",{className:"text-xs text-slate-500 uppercase border-b border-slate-700",children:[b.jsx("th",{className:"p-3",children:"Runner"}),b.jsx("th",{className:"p-3 text-center",children:"R1"}),b.jsx("th",{className:"p-3 text-center",children:"R2"}),b.jsx("th",{className:"p-3 text-center",children:"R3"}),b.jsx("th",{className:"p-3 text-center text-pink-400",children:"Backdoor"}),b.jsx("th",{className:"p-3 text-right text-cyan-400",children:"Total"})]})}),b.jsx("tbody",{className:"text-sm",children:T.players.sort((ye,Be)=>Be.score-ye.score).map(ye=>{const Be=ye.history.find(nn=>nn.round===1)?.score||0,Ye=ye.history.find(nn=>nn.round===2)?.score||0,He=ye.history.find(nn=>nn.round===3)?.score||0,Xe=ye.backdoorScore||0;return b.jsxs("tr",{className:"border-b border-slate-800 hover:bg-slate-800/30",children:[b.jsxs("td",{className:"p-3 font-bold flex items-center gap-2",children:[ye.name,ye.backdoorCount>0&&b.jsxs("span",{className:"text-[10px] text-pink-500 bg-pink-900/20 px-1 rounded flex items-center gap-0.5",children:[b.jsx(Nl,{size:8})," ",ye.backdoorCount]})]}),b.jsx("td",{className:"p-3 text-center text-slate-400",children:Be}),b.jsx("td",{className:"p-3 text-center text-slate-400",children:Ye}),b.jsx("td",{className:"p-3 text-center text-slate-400",children:He}),b.jsxs("td",{className:`p-3 text-center font-bold ${Xe>0?"text-green-400":Xe<0?"text-red-400":"text-slate-600"}`,children:[Xe>0?"+":"",Xe]}),b.jsx("td",{className:"p-3 text-right font-black text-cyan-400 text-lg",children:ye.score})]},ye.id)})})]})}),b.jsxs("div",{className:"w-full max-w-md bg-slate-800/50 rounded-xl p-4 mb-6 border border-slate-700",children:[b.jsx("h4",{className:"text-slate-400 text-xs uppercase tracking-widest mb-3 border-b border-slate-700 pb-2",children:"System Check"}),b.jsx("div",{className:"grid grid-cols-2 gap-2 mb-4",children:T.players.map(ye=>b.jsxs("div",{className:`flex items-center justify-between p-2 rounded text-sm ${ye.ready?"bg-green-900/20 border border-green-500/30 text-green-300":"bg-slate-900 border border-slate-700 text-slate-500"}`,children:[b.jsx("span",{className:"truncate",children:ye.name}),ye.ready?b.jsx(Ya,{size:14}):b.jsx(tI,{size:14,className:"animate-pulse"})]},ye.id))}),ae.ready?b.jsxs("div",{className:"text-center text-green-400 text-sm font-bold flex items-center justify-center gap-2 py-2 bg-green-900/10 rounded",children:[b.jsx(Ya,{size:16})," YOU ARE READY"]}):b.jsx("button",{onClick:H,className:"w-full py-3 bg-cyan-600 hover:bg-cyan-500 rounded font-bold text-white shadow-lg animate-pulse",children:"MARK READY"})]}),T.hostId===r.uid&&b.jsxs("div",{className:"flex gap-4 justify-center w-full",children:[b.jsxs("button",{onClick:se,disabled:!Ge,className:`px-6 py-3 rounded-xl font-bold flex items-center gap-2 transition-all ${Ge?"bg-cyan-600 hover:bg-cyan-500 text-white shadow-cyan-900/50 shadow-lg":"bg-slate-800 text-slate-500 cursor-not-allowed opacity-50"}`,children:[b.jsx(TI,{size:18})," Restart"]}),b.jsxs("button",{onClick:re,disabled:!Ge,className:`px-6 py-3 rounded-xl font-bold flex items-center gap-2 transition-all ${Ge?"bg-slate-700 hover:bg-slate-600 text-white":"bg-slate-800 text-slate-500 cursor-not-allowed opacity-50"}`,children:[b.jsx(_I,{size:18})," Lobby"]})]}),T.hostId===r.uid&&!Ge&&b.jsx("div",{className:"text-xs text-slate-500 mt-2 italic",children:"Waiting for all runners to mark ready..."})]}):b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsxs("h3",{className:"font-bold text-white flex items-center gap-2",children:[b.jsx(SI,{size:18,className:"text-cyan-400"})," Incoming Stream (",ae.hand.length,")"]}),Oe&&!he&&ae.hand.length>=2&&b.jsxs("button",{onClick:()=>{N(!M),x([])},className:`text-xs px-3 py-1 rounded-full border transition-colors flex items-center gap-1 ${M?"bg-cyan-900/50 border-cyan-400 text-cyan-300":"bg-slate-800 border-slate-600 text-slate-400 hover:border-cyan-500"}`,children:[M?b.jsx(Ya,{size:12}):b.jsx(pp,{size:12}),"Use Proxy Protocol ",M?"(Pick 2)":""]}),he&&b.jsxs("div",{className:"flex items-center gap-2 text-cyan-400 text-sm font-bold animate-pulse",children:[b.jsx(XT,{size:16,className:"animate-spin"}),"Synchronizing..."]})]}),b.jsx("div",{className:"flex gap-2 md:gap-4 overflow-x-auto pb-4 pt-4 px-2 justify-start md:justify-center min-h-[160px] md:min-h-[220px]",children:ae.hand.map((ye,Be)=>b.jsx("div",{className:`transition-all duration-300 ${he?"grayscale opacity-50 pointer-events-none scale-90":""}`,children:b.jsx(Av,{typeId:ye,onClick:()=>fe(Be),selected:S.includes(Be)})},Be))}),b.jsx("button",{onClick:Pe,disabled:S.length===0||he,className:`w-full py-4 rounded-xl font-bold text-lg shadow-lg transition-all mt-2
                        ${he?"bg-slate-800 text-cyan-400/50 cursor-wait border border-slate-700":S.length>0?"bg-cyan-600 hover:bg-cyan-500 text-white shadow-cyan-900/50":"bg-slate-800 text-slate-500 cursor-not-allowed"}`,children:he?"Waiting for other runners...":M&&S.length<2?"Select 2nd Fragment...":"ACQUIRE DATA"})]})})]}),b.jsx(Ev,{})]})}return null}Bb.createRoot(document.getElementById("root")).render(b.jsx(yt.StrictMode,{children:b.jsx(jI,{})}));

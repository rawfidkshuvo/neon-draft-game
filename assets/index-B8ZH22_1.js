(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Vd={exports:{}},bl={};var P0;function jb(){if(P0)return bl;P0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var y in l)y!=="key"&&(c[y]=l[y])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return bl.Fragment=e,bl.jsx=i,bl.jsxs=i,bl}var B0;function Ub(){return B0||(B0=1,Vd.exports=jb()),Vd.exports}var E=Ub(),kd={exports:{}},we={};var q0;function Lb(){if(q0)return we;q0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),I=Symbol.iterator;function H(M){return M===null||typeof M!="object"?null:(M=I&&M[I]||M["@@iterator"],typeof M=="function"?M:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,ne={};function ce(M,Y,te){this.props=M,this.context=Y,this.refs=ne,this.updater=te||J}ce.prototype.isReactComponent={},ce.prototype.setState=function(M,Y){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Y,"setState")},ce.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function Ae(){}Ae.prototype=ce.prototype;function ve(M,Y,te){this.props=M,this.context=Y,this.refs=ne,this.updater=te||J}var st=ve.prototype=new Ae;st.constructor=ve,W(st,ce.prototype),st.isPureReactComponent=!0;var rt=Array.isArray;function Ve(){}var N={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(M,Y,te){var se=te.ref;return{$$typeof:s,type:M,key:Y,ref:se!==void 0?se:null,props:te}}function V(M,Y){return C(M.type,Y,M.props)}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function k(M){var Y={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(te){return Y[te]})}var x=/\/+/g;function Ke(M,Y){return typeof M=="object"&&M!==null&&M.key!=null?k(""+M.key):Y.toString(36)}function xt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Ve,Ve):(M.status="pending",M.then(function(Y){M.status==="pending"&&(M.status="fulfilled",M.value=Y)},function(Y){M.status==="pending"&&(M.status="rejected",M.reason=Y)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function G(M,Y,te,se,Ee){var Re=typeof M;(Re==="undefined"||Re==="boolean")&&(M=null);var ke=!1;if(M===null)ke=!0;else switch(Re){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(M.$$typeof){case s:case e:ke=!0;break;case A:return ke=M._init,G(ke(M._payload),Y,te,se,Ee)}}if(ke)return Ee=Ee(M),ke=se===""?"."+Ke(M,0):se,rt(Ee)?(te="",ke!=null&&(te=ke.replace(x,"$&/")+"/"),G(Ee,Y,te,"",function(ie){return ie})):Ee!=null&&(D(Ee)&&(Ee=V(Ee,te+(Ee.key==null||M&&M.key===Ee.key?"":(""+Ee.key).replace(x,"$&/")+"/")+ke)),Y.push(Ee)),1;ke=0;var At=se===""?".":se+":";if(rt(M))for(var qe=0;qe<M.length;qe++)se=M[qe],Re=At+Ke(se,qe),ke+=G(se,Y,te,Re,Ee);else if(qe=H(M),typeof qe=="function")for(M=qe.call(M),qe=0;!(se=M.next()).done;)se=se.value,Re=At+Ke(se,qe++),ke+=G(se,Y,te,Re,Ee);else if(Re==="object"){if(typeof M.then=="function")return G(xt(M),Y,te,se,Ee);throw Y=String(M),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return ke}function ee(M,Y,te){if(M==null)return M;var se=[],Ee=0;return G(M,se,"","",function(Re){return Y.call(te,Re,Ee++)}),se}function he(M){if(M._status===-1){var Y=M._result;Y=Y(),Y.then(function(te){(M._status===0||M._status===-1)&&(M._status=1,M._result=te)},function(te){(M._status===0||M._status===-1)&&(M._status=2,M._result=te)}),M._status===-1&&(M._status=0,M._result=Y)}if(M._status===1)return M._result.default;throw M._result}var Be=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ze={map:ee,forEach:function(M,Y,te){ee(M,function(){Y.apply(this,arguments)},te)},count:function(M){var Y=0;return ee(M,function(){Y++}),Y},toArray:function(M){return ee(M,function(Y){return Y})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return we.Activity=S,we.Children=Ze,we.Component=ce,we.Fragment=i,we.Profiler=l,we.PureComponent=ve,we.StrictMode=a,we.Suspense=g,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,we.__COMPILER_RUNTIME={__proto__:null,c:function(M){return N.H.useMemoCache(M)}},we.cache=function(M){return function(){return M.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(M,Y,te){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var se=W({},M.props),Ee=M.key;if(Y!=null)for(Re in Y.key!==void 0&&(Ee=""+Y.key),Y)!w.call(Y,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&Y.ref===void 0||(se[Re]=Y[Re]);var Re=arguments.length-2;if(Re===1)se.children=te;else if(1<Re){for(var ke=Array(Re),At=0;At<Re;At++)ke[At]=arguments[At+2];se.children=ke}return C(M.type,Ee,se)},we.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},we.createElement=function(M,Y,te){var se,Ee={},Re=null;if(Y!=null)for(se in Y.key!==void 0&&(Re=""+Y.key),Y)w.call(Y,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(Ee[se]=Y[se]);var ke=arguments.length-2;if(ke===1)Ee.children=te;else if(1<ke){for(var At=Array(ke),qe=0;qe<ke;qe++)At[qe]=arguments[qe+2];Ee.children=At}if(M&&M.defaultProps)for(se in ke=M.defaultProps,ke)Ee[se]===void 0&&(Ee[se]=ke[se]);return C(M,Re,Ee)},we.createRef=function(){return{current:null}},we.forwardRef=function(M){return{$$typeof:y,render:M}},we.isValidElement=D,we.lazy=function(M){return{$$typeof:A,_payload:{_status:-1,_result:M},_init:he}},we.memo=function(M,Y){return{$$typeof:_,type:M,compare:Y===void 0?null:Y}},we.startTransition=function(M){var Y=N.T,te={};N.T=te;try{var se=M(),Ee=N.S;Ee!==null&&Ee(te,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(Ve,Be)}catch(Re){Be(Re)}finally{Y!==null&&te.types!==null&&(Y.types=te.types),N.T=Y}},we.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},we.use=function(M){return N.H.use(M)},we.useActionState=function(M,Y,te){return N.H.useActionState(M,Y,te)},we.useCallback=function(M,Y){return N.H.useCallback(M,Y)},we.useContext=function(M){return N.H.useContext(M)},we.useDebugValue=function(){},we.useDeferredValue=function(M,Y){return N.H.useDeferredValue(M,Y)},we.useEffect=function(M,Y){return N.H.useEffect(M,Y)},we.useEffectEvent=function(M){return N.H.useEffectEvent(M)},we.useId=function(){return N.H.useId()},we.useImperativeHandle=function(M,Y,te){return N.H.useImperativeHandle(M,Y,te)},we.useInsertionEffect=function(M,Y){return N.H.useInsertionEffect(M,Y)},we.useLayoutEffect=function(M,Y){return N.H.useLayoutEffect(M,Y)},we.useMemo=function(M,Y){return N.H.useMemo(M,Y)},we.useOptimistic=function(M,Y){return N.H.useOptimistic(M,Y)},we.useReducer=function(M,Y,te){return N.H.useReducer(M,Y,te)},we.useRef=function(M){return N.H.useRef(M)},we.useState=function(M){return N.H.useState(M)},we.useSyncExternalStore=function(M,Y,te){return N.H.useSyncExternalStore(M,Y,te)},we.useTransition=function(){return N.H.useTransition()},we.version="19.2.3",we}var H0;function Cm(){return H0||(H0=1,kd.exports=Lb()),kd.exports}var mt=Cm(),jd={exports:{}},Al={},Ud={exports:{}},Ld={};var G0;function zb(){return G0||(G0=1,(function(s){function e(G,ee){var he=G.length;G.push(ee);e:for(;0<he;){var Be=he-1>>>1,Ze=G[Be];if(0<l(Ze,ee))G[Be]=ee,G[he]=Ze,he=Be;else break e}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var ee=G[0],he=G.pop();if(he!==ee){G[0]=he;e:for(var Be=0,Ze=G.length,M=Ze>>>1;Be<M;){var Y=2*(Be+1)-1,te=G[Y],se=Y+1,Ee=G[se];if(0>l(te,he))se<Ze&&0>l(Ee,te)?(G[Be]=Ee,G[se]=he,Be=se):(G[Be]=te,G[Y]=he,Be=Y);else if(se<Ze&&0>l(Ee,he))G[Be]=Ee,G[se]=he,Be=se;else break e}}return ee}function l(G,ee){var he=G.sortIndex-ee.sortIndex;return he!==0?he:G.id-ee.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,y=d.now();s.unstable_now=function(){return d.now()-y}}var g=[],_=[],A=1,S=null,I=3,H=!1,J=!1,W=!1,ne=!1,ce=typeof setTimeout=="function"?setTimeout:null,Ae=typeof clearTimeout=="function"?clearTimeout:null,ve=typeof setImmediate<"u"?setImmediate:null;function st(G){for(var ee=i(_);ee!==null;){if(ee.callback===null)a(_);else if(ee.startTime<=G)a(_),ee.sortIndex=ee.expirationTime,e(g,ee);else break;ee=i(_)}}function rt(G){if(W=!1,st(G),!J)if(i(g)!==null)J=!0,Ve||(Ve=!0,k());else{var ee=i(_);ee!==null&&xt(rt,ee.startTime-G)}}var Ve=!1,N=-1,w=5,C=-1;function V(){return ne?!0:!(s.unstable_now()-C<w)}function D(){if(ne=!1,Ve){var G=s.unstable_now();C=G;var ee=!0;try{e:{J=!1,W&&(W=!1,Ae(N),N=-1),H=!0;var he=I;try{t:{for(st(G),S=i(g);S!==null&&!(S.expirationTime>G&&V());){var Be=S.callback;if(typeof Be=="function"){S.callback=null,I=S.priorityLevel;var Ze=Be(S.expirationTime<=G);if(G=s.unstable_now(),typeof Ze=="function"){S.callback=Ze,st(G),ee=!0;break t}S===i(g)&&a(g),st(G)}else a(g);S=i(g)}if(S!==null)ee=!0;else{var M=i(_);M!==null&&xt(rt,M.startTime-G),ee=!1}}break e}finally{S=null,I=he,H=!1}ee=void 0}}finally{ee?k():Ve=!1}}}var k;if(typeof ve=="function")k=function(){ve(D)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,Ke=x.port2;x.port1.onmessage=D,k=function(){Ke.postMessage(null)}}else k=function(){ce(D,0)};function xt(G,ee){N=ce(function(){G(s.unstable_now())},ee)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return I},s.unstable_next=function(G){switch(I){case 1:case 2:case 3:var ee=3;break;default:ee=I}var he=I;I=ee;try{return G()}finally{I=he}},s.unstable_requestPaint=function(){ne=!0},s.unstable_runWithPriority=function(G,ee){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var he=I;I=G;try{return ee()}finally{I=he}},s.unstable_scheduleCallback=function(G,ee,he){var Be=s.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Be+he:Be):he=Be,G){case 1:var Ze=-1;break;case 2:Ze=250;break;case 5:Ze=1073741823;break;case 4:Ze=1e4;break;default:Ze=5e3}return Ze=he+Ze,G={id:A++,callback:ee,priorityLevel:G,startTime:he,expirationTime:Ze,sortIndex:-1},he>Be?(G.sortIndex=he,e(_,G),i(g)===null&&G===i(_)&&(W?(Ae(N),N=-1):W=!0,xt(rt,he-Be))):(G.sortIndex=Ze,e(g,G),J||H||(J=!0,Ve||(Ve=!0,k()))),G},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(G){var ee=I;return function(){var he=I;I=ee;try{return G.apply(this,arguments)}finally{I=he}}}})(Ld)),Ld}var F0;function Pb(){return F0||(F0=1,Ud.exports=zb()),Ud.exports}var zd={exports:{}},an={};var K0;function Bb(){if(K0)return an;K0=1;var s=Cm();function e(g){var _="https://react.dev/errors/"+g;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+g+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(g,_,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:g,containerInfo:_,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(g,_){if(g==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,an.createPortal=function(g,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(g,_,null,A)},an.flushSync=function(g){var _=d.T,A=a.p;try{if(d.T=null,a.p=2,g)return g()}finally{d.T=_,a.p=A,a.d.f()}},an.preconnect=function(g,_){typeof g=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(g,_))},an.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},an.preinit=function(g,_){if(typeof g=="string"&&_&&typeof _.as=="string"){var A=_.as,S=y(A,_.crossOrigin),I=typeof _.integrity=="string"?_.integrity:void 0,H=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?a.d.S(g,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:I,fetchPriority:H}):A==="script"&&a.d.X(g,{crossOrigin:S,integrity:I,fetchPriority:H,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},an.preinitModule=function(g,_){if(typeof g=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=y(_.as,_.crossOrigin);a.d.M(g,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(g)},an.preload=function(g,_){if(typeof g=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,S=y(A,_.crossOrigin);a.d.L(g,A,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},an.preloadModule=function(g,_){if(typeof g=="string")if(_){var A=y(_.as,_.crossOrigin);a.d.m(g,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(g)},an.requestFormReset=function(g){a.d.r(g)},an.unstable_batchedUpdates=function(g,_){return g(_)},an.useFormState=function(g,_,A){return d.H.useFormState(g,_,A)},an.useFormStatus=function(){return d.H.useHostTransitionStatus()},an.version="19.2.3",an}var Y0;function qb(){if(Y0)return zd.exports;Y0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),zd.exports=Bb(),zd.exports}var Q0;function Hb(){if(Q0)return Al;Q0=1;var s=Pb(),e=Cm(),i=qb();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return g(h),t;if(f===o)return g(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var p=!1,T=h.child;T;){if(T===r){p=!0,r=h,o=f;break}if(T===o){p=!0,o=h,r=f;break}T=T.sibling}if(!p){for(T=f.child;T;){if(T===r){p=!0,r=f,o=h;break}if(T===o){p=!0,o=f,r=h;break}T=T.sibling}if(!p)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function A(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=A(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,I=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),ne=Symbol.for("react.strict_mode"),ce=Symbol.for("react.profiler"),Ae=Symbol.for("react.consumer"),ve=Symbol.for("react.context"),st=Symbol.for("react.forward_ref"),rt=Symbol.for("react.suspense"),Ve=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function Ke(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case W:return"Fragment";case ce:return"Profiler";case ne:return"StrictMode";case rt:return"Suspense";case Ve:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case J:return"Portal";case ve:return t.displayName||"Context";case Ae:return(t._context.displayName||"Context")+".Consumer";case st:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:Ke(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return Ke(t(n))}catch{}}return null}var xt=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},Be=[],Ze=-1;function M(t){return{current:t}}function Y(t){0>Ze||(t.current=Be[Ze],Be[Ze]=null,Ze--)}function te(t,n){Ze++,Be[Ze]=t.current,t.current=n}var se=M(null),Ee=M(null),Re=M(null),ke=M(null);function At(t,n){switch(te(Re,n),te(Ee,t),te(se,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?u0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=u0(n),t=c0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(se),te(se,t)}function qe(){Y(se),Y(Ee),Y(Re)}function ie(t){t.memoizedState!==null&&te(ke,t);var n=se.current,r=c0(n,t.type);n!==r&&(te(Ee,t),te(se,r))}function ae(t){Ee.current===t&&(Y(se),Y(Ee)),ke.current===t&&(Y(ke),_l._currentValue=he)}var de,me;function _t(t){if(de===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);de=n&&n[1]||"",me=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+de+t+me}var Ge=!1;function Ye(t,n){if(!t||Ge)return"";Ge=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(q){var P=q}Reflect.construct(t,[],Q)}else{try{Q.call()}catch(q){P=q}t.call(Q.prototype)}}else{try{throw Error()}catch(q){P=q}(Q=t())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(q){if(q&&P&&typeof q.stack=="string")return[q.stack,P.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],T=f[1];if(p&&T){var R=p.split(`
`),z=T.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===z.length)for(o=R.length-1,h=z.length-1;1<=o&&0<=h&&R[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==z[h]){var F=`
`+R[o].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=o&&0<=h);break}}}finally{Ge=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?_t(r):""}function ye(t,n){switch(t.tag){case 26:case 27:case 5:return _t(t.type);case 16:return _t("Lazy");case 13:return t.child!==n&&n!==null?_t("Suspense Fallback"):_t("Suspense");case 19:return _t("SuspenseList");case 0:case 15:return Ye(t.type,!1);case 11:return Ye(t.type.render,!1);case 1:return Ye(t.type,!0);case 31:return _t("Activity");default:return""}}function Qe(t){try{var n="",r=null;do n+=ye(t,r),r=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Ie=Object.prototype.hasOwnProperty,Te=s.unstable_scheduleCallback,Xe=s.unstable_cancelCallback,pn=s.unstable_shouldYield,aa=s.unstable_requestPaint,$e=s.unstable_now,hn=s.unstable_getCurrentPriorityLevel,Yi=s.unstable_ImmediatePriority,Qi=s.unstable_UserBlockingPriority,gi=s.unstable_NormalPriority,oa=s.unstable_LowPriority,la=s.unstable_IdlePriority,ru=s.log,au=s.unstable_setDisableYieldValue,Wn=null,$t=null;function Un(t){if(typeof ru=="function"&&au(t),$t&&typeof $t.setStrictMode=="function")try{$t.setStrictMode(Wn,t)}catch{}}var Rt=Math.clz32?Math.clz32:lu,ou=Math.log,ua=Math.LN2;function lu(t){return t>>>=0,t===0?32:31-(ou(t)/ua|0)|0}var yi=256,Tr=262144,Ot=4194304;function _i(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function vi(t,n,r){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var T=o&134217727;return T!==0?(o=T&~f,o!==0?h=_i(o):(p&=T,p!==0?h=_i(p):r||(r=T&~t,r!==0&&(h=_i(r))))):(T=o&~f,T!==0?h=_i(T):p!==0?h=_i(p):r||(r=o&~t,r!==0&&(h=_i(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function ei(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Uh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uu(){var t=Ot;return Ot<<=1,(Ot&62914560)===0&&(Ot=4194304),t}function Ei(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function br(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Lh(t,n,r,o,h,f){var p=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var T=t.entanglements,R=t.expirationTimes,z=t.hiddenUpdates;for(r=p&~r;0<r;){var F=31-Rt(r),Q=1<<F;T[F]=0,R[F]=-1;var P=z[F];if(P!==null)for(z[F]=null,F=0;F<P.length;F++){var q=P[F];q!==null&&(q.lane&=-536870913)}r&=~Q}o!==0&&Ar(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function Ar(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-Rt(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|r&261930}function Ao(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var o=31-Rt(r),h=1<<o;h&n|t[o]&n&&(t[o]|=n),r&=~h}}function So(t,n){var r=n&-n;return r=(r&42)!==0?1:Sr(r),(r&(t.suspendedLanes|n))!==0?0:r}function Sr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Xi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function cu(){var t=ee.p;return t!==0?t:(t=window.event,t===void 0?32:M0(t.type))}function ti(t,n){var r=ee.p;try{return ee.p=t,n()}finally{ee.p=r}}var ni=Math.random().toString(36).slice(2),Mt="__reactFiber$"+ni,Kt="__reactProps$"+ni,Ti="__reactContainer$"+ni,ca="__reactEvents$"+ni,zh="__reactListeners$"+ni,hu="__reactHandles$"+ni,fu="__reactResources$"+ni,bi="__reactMarker$"+ni;function ha(t){delete t[Mt],delete t[Kt],delete t[ca],delete t[zh],delete t[hu]}function Ai(t){var n=t[Mt];if(n)return n;for(var r=t.parentNode;r;){if(n=r[Ti]||r[Mt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=y0(t);t!==null;){if(r=t[Mt])return r;t=y0(t)}return n}t=r,r=t.parentNode}return null}function Ln(t){if(t=t[Mt]||t[Ti]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function wn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Si(t){var n=t[fu];return n||(n=t[fu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Vt(t){t[bi]=!0}var wo=new Set,xo={};function wi(t,n){xi(t,n),xi(t+"Capture",n)}function xi(t,n){for(xo[t]=n,t=0;t<n.length;t++)wo.add(n[t])}var Ro=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Co={},No={};function du(t){return Ie.call(No,t)?!0:Ie.call(Co,t)?!1:Ro.test(t)?No[t]=!0:(Co[t]=!0,!1)}function fa(t,n,r){if(du(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function xn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function kt(t,n,r,o){if(o===null)t.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+o)}}function Yt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ss(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Io(t,n,r){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){r=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function at(t){if(!t._valueTracker){var n=Ss(t)?"checked":"value";t._valueTracker=Io(t,n,""+t[n])}}function wr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return t&&(o=Ss(t)?t.checked?"true":"false":t.value),t=o,t!==r?(n.setValue(t),!0):!1}function Ri(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var xr=/[\n"\\]/g;function gn(t){return t.replace(xr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function da(t,n,r,o,h,f,p,T){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Yt(n)):t.value!==""+Yt(n)&&(t.value=""+Yt(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?Do(t,p,Yt(n)):r!=null?Do(t,p,Yt(r)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Yt(T):t.removeAttribute("name")}function mu(t,n,r,o,h,f,p,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){at(t);return}r=r!=null?""+Yt(r):"",n=n!=null?""+Yt(n):r,T||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=T?t.checked:!!o,t.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),at(t)}function Do(t,n,r){n==="number"&&Ri(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function ws(t,n,r,o){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&o&&(t[r].defaultSelected=!0)}else{for(r=""+Yt(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function pu(t,n,r){if(n!=null&&(n=""+Yt(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Yt(r):""}function xs(t,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(xt(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Yt(n),t.defaultValue=r,o=t.textContent,o===r&&o!==""&&o!==null&&(t.value=o),at(t)}function yn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var gu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Oo(t,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,r):typeof r!="number"||r===0||gu.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Mo(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&Oo(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Oo(t,f,n[f])}function ma(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pa(t){return Rs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ii(){}var Vo=null;function zn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Cs=null,Ci=null;function Rr(t){var n=Ln(t);if(n&&(t=n.stateNode)){var r=t[Kt]||null;e:switch(t=n.stateNode,n.type){case"input":if(da(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+gn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==t&&o.form===t.form){var h=o[Kt]||null;if(!h)throw Error(a(90));da(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===t.form&&wr(o)}break e;case"textarea":pu(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&ws(t,!!r.multiple,n,!1)}}}var ga=!1;function Ns(t,n,r){if(ga)return t(n,r);ga=!0;try{var o=t(n);return o}finally{if(ga=!1,(Cs!==null||Ci!==null)&&(cc(),Cs&&(n=Cs,t=Ci,Ci=Cs=null,Rr(n),t)))for(n=0;n<t.length;n++)Rr(t[n])}}function si(t,n){var r=t.stateNode;if(r===null)return null;var o=r[Kt]||null;if(o===null)return null;r=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cr=!1;if(Pn)try{var ut={};Object.defineProperty(ut,"passive",{get:function(){Cr=!0}}),window.addEventListener("test",ut,ut),window.removeEventListener("test",ut,ut)}catch{Cr=!1}var Ni=null,ko=null,Nr=null;function jo(){if(Nr)return Nr;var t,n=ko,r=n.length,o,h="value"in Ni?Ni.value:Ni.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var p=r-t;for(o=1;o<=p&&n[r-o]===h[f-o];o++);return Nr=h.slice(t,1<o?1-o:void 0)}function Ir(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function $i(){return!0}function ri(){return!1}function Jt(t){function n(r,o,h,f,p){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(r=t[T],this[T]=r?r(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?$i:ri,this.isPropagationStopped=ri,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=$i)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=$i)},persist:function(){},isPersistent:$i}),n}var Ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ii=Jt(Ji),Is=S({},Ji,{view:0,detail:0}),Uo=Jt(Is),Ds,ya,Di,_a=S({},Is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Os,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Di&&(Di&&t.type==="mousemove"?(Ds=t.screenX-Di.screenX,ya=t.screenY-Di.screenY):ya=Ds=0,Di=t),Ds)},movementY:function(t){return"movementY"in t?t.movementY:ya}}),Lo=Jt(_a),Dr=S({},_a,{dataTransfer:0}),_u=Jt(Dr),vu=S({},Is,{relatedTarget:0}),Or=Jt(vu),zo=S({},Ji,{animationName:0,elapsedTime:0,pseudoElement:0}),Eu=Jt(zo),va=S({},Ji,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Tu=Jt(va),bu=S({},Ji,{data:0}),Oi=Jt(bu),Au={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Su={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=wu[t])?!!n[t]:!1}function Os(){return xu}var fn=S({},Is,{key:function(t){if(t.key){var n=Au[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Ir(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Su[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Os,charCode:function(t){return t.type==="keypress"?Ir(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ir(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ru=Jt(fn),Cu=S({},_a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zi=Jt(Cu),u=S({},Is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Os}),m=Jt(u),v=S({},Ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Jt(v),U=S({},_a,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Jt(U),Z=S({},Ji,{newState:0,oldState:0}),Ce=Jt(Z),Ct=[9,13,27,32],tt=Pn&&"CompositionEvent"in window,vt=null;Pn&&"documentMode"in document&&(vt=document.documentMode);var Bn=Pn&&"TextEvent"in window&&!vt,Mi=Pn&&(!tt||vt&&8<vt&&11>=vt),ai=" ",oi=!1;function Mr(t,n){switch(t){case"keyup":return Ct.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ea(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ta=!1;function aT(t,n){switch(t){case"compositionend":return Ea(n);case"keypress":return n.which!==32?null:(oi=!0,ai);case"textInput":return t=n.data,t===ai&&oi?null:t;default:return null}}function oT(t,n){if(Ta)return t==="compositionend"||!tt&&Mr(t,n)?(t=jo(),Nr=ko=Ni=null,Ta=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Mi&&n.locale!=="ko"?null:n.data;default:return null}}var lT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ep(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!lT[t.type]:n==="textarea"}function Tp(t,n,r,o){Cs?Ci?Ci.push(o):Ci=[o]:Cs=o,n=yc(n,"onChange"),0<n.length&&(r=new Ii("onChange","change",null,r,o),t.push({event:r,listeners:n}))}var Po=null,Bo=null;function uT(t){i0(t,0)}function Nu(t){var n=wn(t);if(wr(n))return t}function bp(t,n){if(t==="change")return n}var Ap=!1;if(Pn){var Ph;if(Pn){var Bh="oninput"in document;if(!Bh){var Sp=document.createElement("div");Sp.setAttribute("oninput","return;"),Bh=typeof Sp.oninput=="function"}Ph=Bh}else Ph=!1;Ap=Ph&&(!document.documentMode||9<document.documentMode)}function wp(){Po&&(Po.detachEvent("onpropertychange",xp),Bo=Po=null)}function xp(t){if(t.propertyName==="value"&&Nu(Bo)){var n=[];Tp(n,Bo,t,zn(t)),Ns(uT,n)}}function cT(t,n,r){t==="focusin"?(wp(),Po=n,Bo=r,Po.attachEvent("onpropertychange",xp)):t==="focusout"&&wp()}function hT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Nu(Bo)}function fT(t,n){if(t==="click")return Nu(n)}function dT(t,n){if(t==="input"||t==="change")return Nu(n)}function mT(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Rn=typeof Object.is=="function"?Object.is:mT;function qo(t,n){if(Rn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!Ie.call(n,h)||!Rn(t[h],n[h]))return!1}return!0}function Rp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Cp(t,n){var r=Rp(t);t=0;for(var o;r;){if(r.nodeType===3){if(o=t+r.textContent.length,t<=n&&o>=n)return{node:r,offset:n-t};t=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Rp(r)}}function Np(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Np(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Ip(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ri(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Ri(t.document)}return n}function qh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var pT=Pn&&"documentMode"in document&&11>=document.documentMode,ba=null,Hh=null,Ho=null,Gh=!1;function Dp(t,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Gh||ba==null||ba!==Ri(o)||(o=ba,"selectionStart"in o&&qh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Ho&&qo(Ho,o)||(Ho=o,o=yc(Hh,"onSelect"),0<o.length&&(n=new Ii("onSelect","select",null,n,r),t.push({event:n,listeners:o}),n.target=ba)))}function Vr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Aa={animationend:Vr("Animation","AnimationEnd"),animationiteration:Vr("Animation","AnimationIteration"),animationstart:Vr("Animation","AnimationStart"),transitionrun:Vr("Transition","TransitionRun"),transitionstart:Vr("Transition","TransitionStart"),transitioncancel:Vr("Transition","TransitionCancel"),transitionend:Vr("Transition","TransitionEnd")},Fh={},Op={};Pn&&(Op=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function kr(t){if(Fh[t])return Fh[t];if(!Aa[t])return t;var n=Aa[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Op)return Fh[t]=n[r];return t}var Mp=kr("animationend"),Vp=kr("animationiteration"),kp=kr("animationstart"),gT=kr("transitionrun"),yT=kr("transitionstart"),_T=kr("transitioncancel"),jp=kr("transitionend"),Up=new Map,Kh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kh.push("scrollEnd");function li(t,n){Up.set(t,n),wi(n,[t])}var Iu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},qn=[],Sa=0,Yh=0;function Du(){for(var t=Sa,n=Yh=Sa=0;n<t;){var r=qn[n];qn[n++]=null;var o=qn[n];qn[n++]=null;var h=qn[n];qn[n++]=null;var f=qn[n];if(qn[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&Lp(r,h,f)}}function Ou(t,n,r,o){qn[Sa++]=t,qn[Sa++]=n,qn[Sa++]=r,qn[Sa++]=o,Yh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Qh(t,n,r,o){return Ou(t,n,r,o),Mu(t)}function jr(t,n){return Ou(t,null,null,n),Mu(t)}function Lp(t,n,r){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-Rt(r),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function Mu(t){if(50<hl)throw hl=0,sd=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var wa={};function vT(t,n,r,o){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(t,n,r,o){return new vT(t,n,r,o)}function Xh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Wi(t,n){var r=t.alternate;return r===null?(r=Cn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function zp(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Vu(t,n,r,o,h,f){var p=0;if(o=t,typeof t=="function")Xh(t)&&(p=1);else if(typeof t=="string")p=Sb(t,r,se.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=Cn(31,r,n,h),t.elementType=C,t.lanes=f,t;case W:return Ur(r.children,h,f,n);case ne:p=8,h|=24;break;case ce:return t=Cn(12,r,n,h|2),t.elementType=ce,t.lanes=f,t;case rt:return t=Cn(13,r,n,h),t.elementType=rt,t.lanes=f,t;case Ve:return t=Cn(19,r,n,h),t.elementType=Ve,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ve:p=10;break e;case Ae:p=9;break e;case st:p=11;break e;case N:p=14;break e;case w:p=16,o=null;break e}p=29,r=Error(a(130,t===null?"null":typeof t,"")),o=null}return n=Cn(p,r,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function Ur(t,n,r,o){return t=Cn(7,t,o,n),t.lanes=r,t}function $h(t,n,r){return t=Cn(6,t,null,n),t.lanes=r,t}function Pp(t){var n=Cn(18,null,null,0);return n.stateNode=t,n}function Jh(t,n,r){return n=Cn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Bp=new WeakMap;function Hn(t,n){if(typeof t=="object"&&t!==null){var r=Bp.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Qe(n)},Bp.set(t,n),n)}return{value:t,source:n,stack:Qe(n)}}var xa=[],Ra=0,ku=null,Go=0,Gn=[],Fn=0,Ms=null,Vi=1,ki="";function es(t,n){xa[Ra++]=Go,xa[Ra++]=ku,ku=t,Go=n}function qp(t,n,r){Gn[Fn++]=Vi,Gn[Fn++]=ki,Gn[Fn++]=Ms,Ms=t;var o=Vi;t=ki;var h=32-Rt(o)-1;o&=~(1<<h),r+=1;var f=32-Rt(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,Vi=1<<32-Rt(n)+h|r<<h|o,ki=f+t}else Vi=1<<f|r<<h|o,ki=t}function Zh(t){t.return!==null&&(es(t,1),qp(t,1,0))}function Wh(t){for(;t===ku;)ku=xa[--Ra],xa[Ra]=null,Go=xa[--Ra],xa[Ra]=null;for(;t===Ms;)Ms=Gn[--Fn],Gn[Fn]=null,ki=Gn[--Fn],Gn[Fn]=null,Vi=Gn[--Fn],Gn[Fn]=null}function Hp(t,n){Gn[Fn++]=Vi,Gn[Fn++]=ki,Gn[Fn++]=Ms,Vi=n.id,ki=n.overflow,Ms=t}var Zt=null,pt=null,He=!1,Vs=null,Kn=!1,ef=Error(a(519));function ks(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fo(Hn(n,t)),ef}function Gp(t){var n=t.stateNode,r=t.type,o=t.memoizedProps;switch(n[Mt]=t,n[Kt]=o,r){case"dialog":Me("cancel",n),Me("close",n);break;case"iframe":case"object":case"embed":Me("load",n);break;case"video":case"audio":for(r=0;r<dl.length;r++)Me(dl[r],n);break;case"source":Me("error",n);break;case"img":case"image":case"link":Me("error",n),Me("load",n);break;case"details":Me("toggle",n);break;case"input":Me("invalid",n),mu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Me("invalid",n);break;case"textarea":Me("invalid",n),xs(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||o0(n.textContent,r)?(o.popover!=null&&(Me("beforetoggle",n),Me("toggle",n)),o.onScroll!=null&&Me("scroll",n),o.onScrollEnd!=null&&Me("scrollend",n),o.onClick!=null&&(n.onclick=ii),n=!0):n=!1,n||ks(t,!0)}function Fp(t){for(Zt=t.return;Zt;)switch(Zt.tag){case 5:case 31:case 13:Kn=!1;return;case 27:case 3:Kn=!0;return;default:Zt=Zt.return}}function Ca(t){if(t!==Zt)return!1;if(!He)return Fp(t),He=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||vd(t.type,t.memoizedProps)),r=!r),r&&pt&&ks(t),Fp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));pt=g0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));pt=g0(t)}else n===27?(n=pt,Xs(t.type)?(t=Sd,Sd=null,pt=t):pt=n):pt=Zt?Qn(t.stateNode.nextSibling):null;return!0}function Lr(){pt=Zt=null,He=!1}function tf(){var t=Vs;return t!==null&&(Tn===null?Tn=t:Tn.push.apply(Tn,t),Vs=null),t}function Fo(t){Vs===null?Vs=[t]:Vs.push(t)}var nf=M(null),zr=null,ts=null;function js(t,n,r){te(nf,n._currentValue),n._currentValue=r}function ns(t){t._currentValue=nf.current,Y(nf)}function sf(t,n,r){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===r)break;t=t.return}}function rf(t,n,r,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=h;for(var R=0;R<n.length;R++)if(T.context===n[R]){f.lanes|=r,T=f.alternate,T!==null&&(T.lanes|=r),sf(f.return,r,t),o||(p=null);break e}f=T.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=r,f=p.alternate,f!==null&&(f.lanes|=r),sf(p,r,t),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Na(t,n,r,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var T=h.type;Rn(h.pendingProps.value,p.value)||(t!==null?t.push(T):t=[T])}}else if(h===ke.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(_l):t=[_l])}h=h.return}t!==null&&rf(n,t,r,o),n.flags|=262144}function ju(t){for(t=t.firstContext;t!==null;){if(!Rn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Pr(t){zr=t,ts=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Wt(t){return Kp(zr,t)}function Uu(t,n){return zr===null&&Pr(t),Kp(t,n)}function Kp(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},ts===null){if(t===null)throw Error(a(308));ts=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else ts=ts.next=n;return r}var ET=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},TT=s.unstable_scheduleCallback,bT=s.unstable_NormalPriority,jt={$$typeof:ve,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function af(){return{controller:new ET,data:new Map,refCount:0}}function Ko(t){t.refCount--,t.refCount===0&&TT(bT,function(){t.controller.abort()})}var Yo=null,of=0,Ia=0,Da=null;function AT(t,n){if(Yo===null){var r=Yo=[];of=0,Ia=cd(),Da={status:"pending",value:void 0,then:function(o){r.push(o)}}}return of++,n.then(Yp,Yp),n}function Yp(){if(--of===0&&Yo!==null){Da!==null&&(Da.status="fulfilled");var t=Yo;Yo=null,Ia=0,Da=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function ST(t,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var Qp=G.S;G.S=function(t,n){Dy=$e(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&AT(t,n),Qp!==null&&Qp(t,n)};var Br=M(null);function lf(){var t=Br.current;return t!==null?t:dt.pooledCache}function Lu(t,n){n===null?te(Br,Br.current):te(Br,n.pool)}function Xp(){var t=lf();return t===null?null:{parent:jt._currentValue,pool:t}}var Oa=Error(a(460)),uf=Error(a(474)),zu=Error(a(542)),Pu={then:function(){}};function $p(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Jp(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(ii,ii),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Wp(t),t;default:if(typeof n.status=="string")n.then(ii,ii);else{if(t=dt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Wp(t),t}throw Hr=n,Oa}}function qr(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Hr=r,Oa):r}}var Hr=null;function Zp(){if(Hr===null)throw Error(a(459));var t=Hr;return Hr=null,t}function Wp(t){if(t===Oa||t===zu)throw Error(a(483))}var Ma=null,Qo=0;function Bu(t){var n=Qo;return Qo+=1,Ma===null&&(Ma=[]),Jp(Ma,t,n)}function Xo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function qu(t,n){throw n.$$typeof===I?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function eg(t){function n(j,O){if(t){var L=j.deletions;L===null?(j.deletions=[O],j.flags|=16):L.push(O)}}function r(j,O){if(!t)return null;for(;O!==null;)n(j,O),O=O.sibling;return null}function o(j){for(var O=new Map;j!==null;)j.key!==null?O.set(j.key,j):O.set(j.index,j),j=j.sibling;return O}function h(j,O){return j=Wi(j,O),j.index=0,j.sibling=null,j}function f(j,O,L){return j.index=L,t?(L=j.alternate,L!==null?(L=L.index,L<O?(j.flags|=67108866,O):L):(j.flags|=67108866,O)):(j.flags|=1048576,O)}function p(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function T(j,O,L,K){return O===null||O.tag!==6?(O=$h(L,j.mode,K),O.return=j,O):(O=h(O,L),O.return=j,O)}function R(j,O,L,K){var fe=L.type;return fe===W?F(j,O,L.props.children,K,L.key):O!==null&&(O.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===w&&qr(fe)===O.type)?(O=h(O,L.props),Xo(O,L),O.return=j,O):(O=Vu(L.type,L.key,L.props,null,j.mode,K),Xo(O,L),O.return=j,O)}function z(j,O,L,K){return O===null||O.tag!==4||O.stateNode.containerInfo!==L.containerInfo||O.stateNode.implementation!==L.implementation?(O=Jh(L,j.mode,K),O.return=j,O):(O=h(O,L.children||[]),O.return=j,O)}function F(j,O,L,K,fe){return O===null||O.tag!==7?(O=Ur(L,j.mode,K,fe),O.return=j,O):(O=h(O,L),O.return=j,O)}function Q(j,O,L){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=$h(""+O,j.mode,L),O.return=j,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case H:return L=Vu(O.type,O.key,O.props,null,j.mode,L),Xo(L,O),L.return=j,L;case J:return O=Jh(O,j.mode,L),O.return=j,O;case w:return O=qr(O),Q(j,O,L)}if(xt(O)||k(O))return O=Ur(O,j.mode,L,null),O.return=j,O;if(typeof O.then=="function")return Q(j,Bu(O),L);if(O.$$typeof===ve)return Q(j,Uu(j,O),L);qu(j,O)}return null}function P(j,O,L,K){var fe=O!==null?O.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return fe!==null?null:T(j,O,""+L,K);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case H:return L.key===fe?R(j,O,L,K):null;case J:return L.key===fe?z(j,O,L,K):null;case w:return L=qr(L),P(j,O,L,K)}if(xt(L)||k(L))return fe!==null?null:F(j,O,L,K,null);if(typeof L.then=="function")return P(j,O,Bu(L),K);if(L.$$typeof===ve)return P(j,O,Uu(j,L),K);qu(j,L)}return null}function q(j,O,L,K,fe){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return j=j.get(L)||null,T(O,j,""+K,fe);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case H:return j=j.get(K.key===null?L:K.key)||null,R(O,j,K,fe);case J:return j=j.get(K.key===null?L:K.key)||null,z(O,j,K,fe);case w:return K=qr(K),q(j,O,L,K,fe)}if(xt(K)||k(K))return j=j.get(L)||null,F(O,j,K,fe,null);if(typeof K.then=="function")return q(j,O,L,Bu(K),fe);if(K.$$typeof===ve)return q(j,O,L,Uu(O,K),fe);qu(O,K)}return null}function oe(j,O,L,K){for(var fe=null,We=null,le=O,De=O=0,Ue=null;le!==null&&De<L.length;De++){le.index>De?(Ue=le,le=null):Ue=le.sibling;var et=P(j,le,L[De],K);if(et===null){le===null&&(le=Ue);break}t&&le&&et.alternate===null&&n(j,le),O=f(et,O,De),We===null?fe=et:We.sibling=et,We=et,le=Ue}if(De===L.length)return r(j,le),He&&es(j,De),fe;if(le===null){for(;De<L.length;De++)le=Q(j,L[De],K),le!==null&&(O=f(le,O,De),We===null?fe=le:We.sibling=le,We=le);return He&&es(j,De),fe}for(le=o(le);De<L.length;De++)Ue=q(le,j,De,L[De],K),Ue!==null&&(t&&Ue.alternate!==null&&le.delete(Ue.key===null?De:Ue.key),O=f(Ue,O,De),We===null?fe=Ue:We.sibling=Ue,We=Ue);return t&&le.forEach(function(er){return n(j,er)}),He&&es(j,De),fe}function ge(j,O,L,K){if(L==null)throw Error(a(151));for(var fe=null,We=null,le=O,De=O=0,Ue=null,et=L.next();le!==null&&!et.done;De++,et=L.next()){le.index>De?(Ue=le,le=null):Ue=le.sibling;var er=P(j,le,et.value,K);if(er===null){le===null&&(le=Ue);break}t&&le&&er.alternate===null&&n(j,le),O=f(er,O,De),We===null?fe=er:We.sibling=er,We=er,le=Ue}if(et.done)return r(j,le),He&&es(j,De),fe;if(le===null){for(;!et.done;De++,et=L.next())et=Q(j,et.value,K),et!==null&&(O=f(et,O,De),We===null?fe=et:We.sibling=et,We=et);return He&&es(j,De),fe}for(le=o(le);!et.done;De++,et=L.next())et=q(le,j,De,et.value,K),et!==null&&(t&&et.alternate!==null&&le.delete(et.key===null?De:et.key),O=f(et,O,De),We===null?fe=et:We.sibling=et,We=et);return t&&le.forEach(function(kb){return n(j,kb)}),He&&es(j,De),fe}function ft(j,O,L,K){if(typeof L=="object"&&L!==null&&L.type===W&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case H:e:{for(var fe=L.key;O!==null;){if(O.key===fe){if(fe=L.type,fe===W){if(O.tag===7){r(j,O.sibling),K=h(O,L.props.children),K.return=j,j=K;break e}}else if(O.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===w&&qr(fe)===O.type){r(j,O.sibling),K=h(O,L.props),Xo(K,L),K.return=j,j=K;break e}r(j,O);break}else n(j,O);O=O.sibling}L.type===W?(K=Ur(L.props.children,j.mode,K,L.key),K.return=j,j=K):(K=Vu(L.type,L.key,L.props,null,j.mode,K),Xo(K,L),K.return=j,j=K)}return p(j);case J:e:{for(fe=L.key;O!==null;){if(O.key===fe)if(O.tag===4&&O.stateNode.containerInfo===L.containerInfo&&O.stateNode.implementation===L.implementation){r(j,O.sibling),K=h(O,L.children||[]),K.return=j,j=K;break e}else{r(j,O);break}else n(j,O);O=O.sibling}K=Jh(L,j.mode,K),K.return=j,j=K}return p(j);case w:return L=qr(L),ft(j,O,L,K)}if(xt(L))return oe(j,O,L,K);if(k(L)){if(fe=k(L),typeof fe!="function")throw Error(a(150));return L=fe.call(L),ge(j,O,L,K)}if(typeof L.then=="function")return ft(j,O,Bu(L),K);if(L.$$typeof===ve)return ft(j,O,Uu(j,L),K);qu(j,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,O!==null&&O.tag===6?(r(j,O.sibling),K=h(O,L),K.return=j,j=K):(r(j,O),K=$h(L,j.mode,K),K.return=j,j=K),p(j)):r(j,O)}return function(j,O,L,K){try{Qo=0;var fe=ft(j,O,L,K);return Ma=null,fe}catch(le){if(le===Oa||le===zu)throw le;var We=Cn(29,le,null,j.mode);return We.lanes=K,We.return=j,We}}}var Gr=eg(!0),tg=eg(!1),Us=!1;function cf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ls(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function zs(t,n,r){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(nt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Mu(t),Lp(t,null,r),n}return Ou(t,o,n,r),Mu(t)}function $o(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,Ao(t,r)}}function ff(t,n){var r=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var df=!1;function Jo(){if(df){var t=Da;if(t!==null)throw t}}function Zo(t,n,r,o){df=!1;var h=t.updateQueue;Us=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var R=T,z=R.next;R.next=null,p===null?f=z:p.next=z,p=R;var F=t.alternate;F!==null&&(F=F.updateQueue,T=F.lastBaseUpdate,T!==p&&(T===null?F.firstBaseUpdate=z:T.next=z,F.lastBaseUpdate=R))}if(f!==null){var Q=h.baseState;p=0,F=z=R=null,T=f;do{var P=T.lane&-536870913,q=P!==T.lane;if(q?(je&P)===P:(o&P)===P){P!==0&&P===Ia&&(df=!0),F!==null&&(F=F.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var oe=t,ge=T;P=n;var ft=r;switch(ge.tag){case 1:if(oe=ge.payload,typeof oe=="function"){Q=oe.call(ft,Q,P);break e}Q=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=ge.payload,P=typeof oe=="function"?oe.call(ft,Q,P):oe,P==null)break e;Q=S({},Q,P);break e;case 2:Us=!0}}P=T.callback,P!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[P]:q.push(P))}else q={lane:P,tag:T.tag,payload:T.payload,callback:T.callback,next:null},F===null?(z=F=q,R=Q):F=F.next=q,p|=P;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;q=T,T=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);F===null&&(R=Q),h.baseState=R,h.firstBaseUpdate=z,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Gs|=p,t.lanes=p,t.memoizedState=Q}}function ng(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function ig(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)ng(r[t],n)}var Va=M(null),Hu=M(0);function sg(t,n){t=hs,te(Hu,t),te(Va,n),hs=t|n.baseLanes}function mf(){te(Hu,hs),te(Va,Va.current)}function pf(){hs=Hu.current,Y(Va),Y(Hu)}var Nn=M(null),Yn=null;function Ps(t){var n=t.alternate;te(Nt,Nt.current&1),te(Nn,t),Yn===null&&(n===null||Va.current!==null||n.memoizedState!==null)&&(Yn=t)}function gf(t){te(Nt,Nt.current),te(Nn,t),Yn===null&&(Yn=t)}function rg(t){t.tag===22?(te(Nt,Nt.current),te(Nn,t),Yn===null&&(Yn=t)):Bs()}function Bs(){te(Nt,Nt.current),te(Nn,Nn.current)}function In(t){Y(Nn),Yn===t&&(Yn=null),Y(Nt)}var Nt=M(0);function Gu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||bd(r)||Ad(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var is=0,Ne=null,ct=null,Ut=null,Fu=!1,ka=!1,Fr=!1,Ku=0,Wo=0,ja=null,wT=0;function St(){throw Error(a(321))}function yf(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!Rn(t[r],n[r]))return!1;return!0}function _f(t,n,r,o,h,f){return is=f,Ne=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?qg:Mf,Fr=!1,f=r(o,h),Fr=!1,ka&&(f=og(n,r,o,h)),ag(t),f}function ag(t){G.H=nl;var n=ct!==null&&ct.next!==null;if(is=0,Ut=ct=Ne=null,Fu=!1,Wo=0,ja=null,n)throw Error(a(300));t===null||Lt||(t=t.dependencies,t!==null&&ju(t)&&(Lt=!0))}function og(t,n,r,o){Ne=t;var h=0;do{if(ka&&(ja=null),Wo=0,ka=!1,25<=h)throw Error(a(301));if(h+=1,Ut=ct=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Hg,f=n(r,o)}while(ka);return f}function xT(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?el(n):n,t=t.useState()[0],(ct!==null?ct.memoizedState:null)!==t&&(Ne.flags|=1024),n}function vf(){var t=Ku!==0;return Ku=0,t}function Ef(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Tf(t){if(Fu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Fu=!1}is=0,Ut=ct=Ne=null,ka=!1,Wo=Ku=0,ja=null}function dn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?Ne.memoizedState=Ut=t:Ut=Ut.next=t,Ut}function It(){if(ct===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=ct.next;var n=Ut===null?Ne.memoizedState:Ut.next;if(n!==null)Ut=n,ct=t;else{if(t===null)throw Ne.alternate===null?Error(a(467)):Error(a(310));ct=t,t={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},Ut===null?Ne.memoizedState=Ut=t:Ut=Ut.next=t}return Ut}function Yu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function el(t){var n=Wo;return Wo+=1,ja===null&&(ja=[]),t=Jp(ja,t,n),n=Ne,(Ut===null?n.memoizedState:Ut.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?qg:Mf),t}function Qu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return el(t);if(t.$$typeof===ve)return Wt(t)}throw Error(a(438,String(t)))}function bf(t){var n=null,r=Ne.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=Ne.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Yu(),Ne.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),o=0;o<t;o++)r[o]=V;return n.index++,r}function ss(t,n){return typeof n=="function"?n(t):n}function Xu(t){var n=It();return Af(n,ct,t)}function Af(t,n,r){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=p=null,R=null,z=n,F=!1;do{var Q=z.lane&-536870913;if(Q!==z.lane?(je&Q)===Q:(is&Q)===Q){var P=z.revertLane;if(P===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Q===Ia&&(F=!0);else if((is&P)===P){z=z.next,P===Ia&&(F=!0);continue}else Q={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(T=R=Q,p=f):R=R.next=Q,Ne.lanes|=P,Gs|=P;Q=z.action,Fr&&r(f,Q),f=z.hasEagerState?z.eagerState:r(f,Q)}else P={lane:Q,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(T=R=P,p=f):R=R.next=P,Ne.lanes|=Q,Gs|=Q;z=z.next}while(z!==null&&z!==n);if(R===null?p=f:R.next=T,!Rn(f,t.memoizedState)&&(Lt=!0,F&&(r=Da,r!==null)))throw r;t.memoizedState=f,t.baseState=p,t.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Sf(t){var n=It(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var p=h=h.next;do f=t(f,p.action),p=p.next;while(p!==h);Rn(f,n.memoizedState)||(Lt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function lg(t,n,r){var o=Ne,h=It(),f=He;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var p=!Rn((ct||h).memoizedState,r);if(p&&(h.memoizedState=r,Lt=!0),h=h.queue,Rf(hg.bind(null,o,h,t),[t]),h.getSnapshot!==n||p||Ut!==null&&Ut.memoizedState.tag&1){if(o.flags|=2048,Ua(9,{destroy:void 0},cg.bind(null,o,h,r,n),null),dt===null)throw Error(a(349));f||(is&127)!==0||ug(o,n,r)}return r}function ug(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Ne.updateQueue,n===null?(n=Yu(),Ne.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function cg(t,n,r,o){n.value=r,n.getSnapshot=o,fg(n)&&dg(t)}function hg(t,n,r){return r(function(){fg(n)&&dg(t)})}function fg(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!Rn(t,r)}catch{return!0}}function dg(t){var n=jr(t,2);n!==null&&bn(n,t,2)}function wf(t){var n=dn();if(typeof t=="function"){var r=t;if(t=r(),Fr){Un(!0);try{r()}finally{Un(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:t},n}function mg(t,n,r,o){return t.baseState=r,Af(t,ct,typeof o=="function"?o:ss)}function RT(t,n,r,o,h){if(Zu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};G.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,pg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function pg(t,n){var r=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=G.T,p={};G.T=p;try{var T=r(h,o),R=G.S;R!==null&&R(p,T),gg(t,n,T)}catch(z){xf(t,n,z)}finally{f!==null&&p.types!==null&&(f.types=p.types),G.T=f}}else try{f=r(h,o),gg(t,n,f)}catch(z){xf(t,n,z)}}function gg(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){yg(t,n,o)},function(o){return xf(t,n,o)}):yg(t,n,r)}function yg(t,n,r){n.status="fulfilled",n.value=r,_g(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,pg(t,r)))}function xf(t,n,r){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,_g(n),n=n.next;while(n!==o)}t.action=null}function _g(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function vg(t,n){return n}function Eg(t,n){if(He){var r=dt.formState;if(r!==null){e:{var o=Ne;if(He){if(pt){t:{for(var h=pt,f=Kn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Qn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){pt=Qn(h.nextSibling),o=h.data==="F!";break e}}ks(o)}o=!1}o&&(n=r[0])}}return r=dn(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vg,lastRenderedState:n},r.queue=o,r=zg.bind(null,Ne,o),o.dispatch=r,o=wf(!1),f=Of.bind(null,Ne,!1,o.queue),o=dn(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,r=RT.bind(null,Ne,h,f,r),h.dispatch=r,o.memoizedState=t,[n,r,!1]}function Tg(t){var n=It();return bg(n,ct,t)}function bg(t,n,r){if(n=Af(t,n,vg)[0],t=Xu(ss)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=el(n)}catch(p){throw p===Oa?zu:p}else o=n;n=It();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Ne.flags|=2048,Ua(9,{destroy:void 0},CT.bind(null,h,r),null)),[o,f,t]}function CT(t,n){t.action=n}function Ag(t){var n=It(),r=ct;if(r!==null)return bg(n,r,t);It(),n=n.memoizedState,r=It();var o=r.queue.dispatch;return r.memoizedState=t,[n,o,!1]}function Ua(t,n,r,o){return t={tag:t,create:r,deps:o,inst:n,next:null},n=Ne.updateQueue,n===null&&(n=Yu(),Ne.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(o=r.next,r.next=t,t.next=o,n.lastEffect=t),t}function Sg(){return It().memoizedState}function $u(t,n,r,o){var h=dn();Ne.flags|=t,h.memoizedState=Ua(1|n,{destroy:void 0},r,o===void 0?null:o)}function Ju(t,n,r,o){var h=It();o=o===void 0?null:o;var f=h.memoizedState.inst;ct!==null&&o!==null&&yf(o,ct.memoizedState.deps)?h.memoizedState=Ua(n,f,r,o):(Ne.flags|=t,h.memoizedState=Ua(1|n,f,r,o))}function wg(t,n){$u(8390656,8,t,n)}function Rf(t,n){Ju(2048,8,t,n)}function NT(t){Ne.flags|=4;var n=Ne.updateQueue;if(n===null)n=Yu(),Ne.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function xg(t){var n=It().memoizedState;return NT({ref:n,nextImpl:t}),function(){if((nt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Rg(t,n){return Ju(4,2,t,n)}function Cg(t,n){return Ju(4,4,t,n)}function Ng(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Ig(t,n,r){r=r!=null?r.concat([t]):null,Ju(4,4,Ng.bind(null,n,t),r)}function Cf(){}function Dg(t,n){var r=It();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&yf(n,o[1])?o[0]:(r.memoizedState=[t,n],t)}function Og(t,n){var r=It();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&yf(n,o[1]))return o[0];if(o=t(),Fr){Un(!0);try{t()}finally{Un(!1)}}return r.memoizedState=[o,n],o}function Nf(t,n,r){return r===void 0||(is&1073741824)!==0&&(je&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=My(),Ne.lanes|=t,Gs|=t,r)}function Mg(t,n,r,o){return Rn(r,n)?r:Va.current!==null?(t=Nf(t,r,o),Rn(t,n)||(Lt=!0),t):(is&42)===0||(is&1073741824)!==0&&(je&261930)===0?(Lt=!0,t.memoizedState=r):(t=My(),Ne.lanes|=t,Gs|=t,n)}function Vg(t,n,r,o,h){var f=ee.p;ee.p=f!==0&&8>f?f:8;var p=G.T,T={};G.T=T,Of(t,!1,n,r);try{var R=h(),z=G.S;if(z!==null&&z(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var F=ST(R,o);tl(t,n,F,Mn(t))}else tl(t,n,o,Mn(t))}catch(Q){tl(t,n,{then:function(){},status:"rejected",reason:Q},Mn())}finally{ee.p=f,p!==null&&T.types!==null&&(p.types=T.types),G.T=p}}function IT(){}function If(t,n,r,o){if(t.tag!==5)throw Error(a(476));var h=kg(t).queue;Vg(t,h,n,he,r===null?IT:function(){return jg(t),r(o)})}function kg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:he},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function jg(t){var n=kg(t);n.next===null&&(n=t.alternate.memoizedState),tl(t,n.next.queue,{},Mn())}function Df(){return Wt(_l)}function Ug(){return It().memoizedState}function Lg(){return It().memoizedState}function DT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Mn();t=Ls(r);var o=zs(n,t,r);o!==null&&(bn(o,n,r),$o(o,n,r)),n={cache:af()},t.payload=n;return}n=n.return}}function OT(t,n,r){var o=Mn();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Zu(t)?Pg(n,r):(r=Qh(t,n,r,o),r!==null&&(bn(r,t,o),Bg(r,n,o)))}function zg(t,n,r){var o=Mn();tl(t,n,r,o)}function tl(t,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Zu(t))Pg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,T=f(p,r);if(h.hasEagerState=!0,h.eagerState=T,Rn(T,p))return Ou(t,n,h,0),dt===null&&Du(),!1}catch{}if(r=Qh(t,n,h,o),r!==null)return bn(r,t,o),Bg(r,n,o),!0}return!1}function Of(t,n,r,o){if(o={lane:2,revertLane:cd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Zu(t)){if(n)throw Error(a(479))}else n=Qh(t,r,o,2),n!==null&&bn(n,t,2)}function Zu(t){var n=t.alternate;return t===Ne||n!==null&&n===Ne}function Pg(t,n){ka=Fu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Bg(t,n,r){if((r&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,Ao(t,r)}}var nl={readContext:Wt,use:Qu,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useLayoutEffect:St,useInsertionEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useSyncExternalStore:St,useId:St,useHostTransitionStatus:St,useFormState:St,useActionState:St,useOptimistic:St,useMemoCache:St,useCacheRefresh:St};nl.useEffectEvent=St;var qg={readContext:Wt,use:Qu,useCallback:function(t,n){return dn().memoizedState=[t,n===void 0?null:n],t},useContext:Wt,useEffect:wg,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,$u(4194308,4,Ng.bind(null,n,t),r)},useLayoutEffect:function(t,n){return $u(4194308,4,t,n)},useInsertionEffect:function(t,n){$u(4,2,t,n)},useMemo:function(t,n){var r=dn();n=n===void 0?null:n;var o=t();if(Fr){Un(!0);try{t()}finally{Un(!1)}}return r.memoizedState=[o,n],o},useReducer:function(t,n,r){var o=dn();if(r!==void 0){var h=r(n);if(Fr){Un(!0);try{r(n)}finally{Un(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=OT.bind(null,Ne,t),[o.memoizedState,t]},useRef:function(t){var n=dn();return t={current:t},n.memoizedState=t},useState:function(t){t=wf(t);var n=t.queue,r=zg.bind(null,Ne,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Cf,useDeferredValue:function(t,n){var r=dn();return Nf(r,t,n)},useTransition:function(){var t=wf(!1);return t=Vg.bind(null,Ne,t.queue,!0,!1),dn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var o=Ne,h=dn();if(He){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),dt===null)throw Error(a(349));(je&127)!==0||ug(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,wg(hg.bind(null,o,f,t),[t]),o.flags|=2048,Ua(9,{destroy:void 0},cg.bind(null,o,f,r,n),null),r},useId:function(){var t=dn(),n=dt.identifierPrefix;if(He){var r=ki,o=Vi;r=(o&~(1<<32-Rt(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Ku++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=wT++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Df,useFormState:Eg,useActionState:Eg,useOptimistic:function(t){var n=dn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Of.bind(null,Ne,!0,r),r.dispatch=n,[t,n]},useMemoCache:bf,useCacheRefresh:function(){return dn().memoizedState=DT.bind(null,Ne)},useEffectEvent:function(t){var n=dn(),r={impl:t};return n.memoizedState=r,function(){if((nt&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Mf={readContext:Wt,use:Qu,useCallback:Dg,useContext:Wt,useEffect:Rf,useImperativeHandle:Ig,useInsertionEffect:Rg,useLayoutEffect:Cg,useMemo:Og,useReducer:Xu,useRef:Sg,useState:function(){return Xu(ss)},useDebugValue:Cf,useDeferredValue:function(t,n){var r=It();return Mg(r,ct.memoizedState,t,n)},useTransition:function(){var t=Xu(ss)[0],n=It().memoizedState;return[typeof t=="boolean"?t:el(t),n]},useSyncExternalStore:lg,useId:Ug,useHostTransitionStatus:Df,useFormState:Tg,useActionState:Tg,useOptimistic:function(t,n){var r=It();return mg(r,ct,t,n)},useMemoCache:bf,useCacheRefresh:Lg};Mf.useEffectEvent=xg;var Hg={readContext:Wt,use:Qu,useCallback:Dg,useContext:Wt,useEffect:Rf,useImperativeHandle:Ig,useInsertionEffect:Rg,useLayoutEffect:Cg,useMemo:Og,useReducer:Sf,useRef:Sg,useState:function(){return Sf(ss)},useDebugValue:Cf,useDeferredValue:function(t,n){var r=It();return ct===null?Nf(r,t,n):Mg(r,ct.memoizedState,t,n)},useTransition:function(){var t=Sf(ss)[0],n=It().memoizedState;return[typeof t=="boolean"?t:el(t),n]},useSyncExternalStore:lg,useId:Ug,useHostTransitionStatus:Df,useFormState:Ag,useActionState:Ag,useOptimistic:function(t,n){var r=It();return ct!==null?mg(r,ct,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:bf,useCacheRefresh:Lg};Hg.useEffectEvent=xg;function Vf(t,n,r,o){n=t.memoizedState,r=r(o,n),r=r==null?n:S({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var kf={enqueueSetState:function(t,n,r){t=t._reactInternals;var o=Mn(),h=Ls(o);h.payload=n,r!=null&&(h.callback=r),n=zs(t,h,o),n!==null&&(bn(n,t,o),$o(n,t,o))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var o=Mn(),h=Ls(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=zs(t,h,o),n!==null&&(bn(n,t,o),$o(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Mn(),o=Ls(r);o.tag=2,n!=null&&(o.callback=n),n=zs(t,o,r),n!==null&&(bn(n,t,r),$o(n,t,r))}};function Gg(t,n,r,o,h,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!qo(r,o)||!qo(h,f):!0}function Fg(t,n,r,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==t&&kf.enqueueReplaceState(n,n.state,null)}function Kr(t,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(t=t.defaultProps){r===n&&(r=S({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function Kg(t){Iu(t)}function Yg(t){console.error(t)}function Qg(t){Iu(t)}function Wu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Xg(t,n,r){try{var o=t.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function jf(t,n,r){return r=Ls(r),r.tag=3,r.payload={element:null},r.callback=function(){Wu(t,n)},r}function $g(t){return t=Ls(t),t.tag=3,t}function Jg(t,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){Xg(n,r,o)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){Xg(n,r,o),typeof h!="function"&&(Fs===null?Fs=new Set([this]):Fs.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function MT(t,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&Na(n,r,h,!0),r=Nn.current,r!==null){switch(r.tag){case 31:case 13:return Yn===null?hc():r.alternate===null&&wt===0&&(wt=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===Pu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),od(t,o,h)),!1;case 22:return r.flags|=65536,o===Pu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),od(t,o,h)),!1}throw Error(a(435,r.tag))}return od(t,o,h),hc(),!1}if(He)return n=Nn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==ef&&(t=Error(a(422),{cause:o}),Fo(Hn(t,r)))):(o!==ef&&(n=Error(a(423),{cause:o}),Fo(Hn(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Hn(o,r),h=jf(t.stateNode,o,h),ff(t,h),wt!==4&&(wt=2)),!1;var f=Error(a(520),{cause:o});if(f=Hn(f,r),cl===null?cl=[f]:cl.push(f),wt!==4&&(wt=2),n===null)return!0;o=Hn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=jf(r.stateNode,o,t),ff(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Fs===null||!Fs.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=$g(h),Jg(h,t,r,o),ff(r,h),!1}r=r.return}while(r!==null);return!1}var Uf=Error(a(461)),Lt=!1;function en(t,n,r,o){n.child=t===null?tg(n,null,r,o):Gr(n,t.child,r,o)}function Zg(t,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var p={};for(var T in o)T!=="ref"&&(p[T]=o[T])}else p=o;return Pr(n),o=_f(t,n,r,p,f,h),T=vf(),t!==null&&!Lt?(Ef(t,n,h),rs(t,n,h)):(He&&T&&Zh(n),n.flags|=1,en(t,n,o,h),n.child)}function Wg(t,n,r,o,h){if(t===null){var f=r.type;return typeof f=="function"&&!Xh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,ey(t,n,f,o,h)):(t=Vu(r.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Ff(t,h)){var p=f.memoizedProps;if(r=r.compare,r=r!==null?r:qo,r(p,o)&&t.ref===n.ref)return rs(t,n,h)}return n.flags|=1,t=Wi(f,o),t.ref=n.ref,t.return=n,n.child=t}function ey(t,n,r,o,h){if(t!==null){var f=t.memoizedProps;if(qo(f,o)&&t.ref===n.ref)if(Lt=!1,n.pendingProps=o=f,Ff(t,h))(t.flags&131072)!==0&&(Lt=!0);else return n.lanes=t.lanes,rs(t,n,h)}return Lf(t,n,r,o,h)}function ty(t,n,r,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return ny(t,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Lu(n,f!==null?f.cachePool:null),f!==null?sg(n,f):mf(),rg(n);else return o=n.lanes=536870912,ny(t,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Lu(n,f.cachePool),sg(n,f),Bs(),n.memoizedState=null):(t!==null&&Lu(n,null),mf(),Bs());return en(t,n,h,r),n.child}function il(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ny(t,n,r,o,h){var f=lf();return f=f===null?null:{parent:jt._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&Lu(n,null),mf(),rg(n),t!==null&&Na(t,n,o,!0),n.childLanes=h,null}function ec(t,n){return n=nc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function iy(t,n,r){return Gr(n,t.child,null,r),t=ec(n,n.pendingProps),t.flags|=2,In(n),n.memoizedState=null,t}function VT(t,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(He){if(o.mode==="hidden")return t=ec(n,o),n.lanes=536870912,il(null,t);if(gf(n),(t=pt)?(t=p0(t,Kn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ms!==null?{id:Vi,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},r=Pp(t),r.return=n,n.child=r,Zt=n,pt=null)):t=null,t===null)throw ks(n);return n.lanes=536870912,null}return ec(n,o)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(gf(n),h)if(n.flags&256)n.flags&=-257,n=iy(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Lt||Na(t,n,r,!1),h=(r&t.childLanes)!==0,Lt||h){if(o=dt,o!==null&&(p=So(o,r),p!==0&&p!==f.retryLane))throw f.retryLane=p,jr(t,p),bn(o,t,p),Uf;hc(),n=iy(t,n,r)}else t=f.treeContext,pt=Qn(p.nextSibling),Zt=n,He=!0,Vs=null,Kn=!1,t!==null&&Hp(n,t),n=ec(n,o),n.flags|=4096;return n}return t=Wi(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function tc(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Lf(t,n,r,o,h){return Pr(n),r=_f(t,n,r,o,void 0,h),o=vf(),t!==null&&!Lt?(Ef(t,n,h),rs(t,n,h)):(He&&o&&Zh(n),n.flags|=1,en(t,n,r,h),n.child)}function sy(t,n,r,o,h,f){return Pr(n),n.updateQueue=null,r=og(n,o,r,h),ag(t),o=vf(),t!==null&&!Lt?(Ef(t,n,f),rs(t,n,f)):(He&&o&&Zh(n),n.flags|=1,en(t,n,r,f),n.child)}function ry(t,n,r,o,h){if(Pr(n),n.stateNode===null){var f=wa,p=r.contextType;typeof p=="object"&&p!==null&&(f=Wt(p)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=kf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},cf(n),p=r.contextType,f.context=typeof p=="object"&&p!==null?Wt(p):wa,f.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Vf(n,r,p,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&kf.enqueueReplaceState(f,f.state,null),Zo(n,o,f,h),Jo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,R=Kr(r,T);f.props=R;var z=f.context,F=r.contextType;p=wa,typeof F=="object"&&F!==null&&(p=Wt(F));var Q=r.getDerivedStateFromProps;F=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||z!==p)&&Fg(n,f,o,p),Us=!1;var P=n.memoizedState;f.state=P,Zo(n,o,f,h),Jo(),z=n.memoizedState,T||P!==z||Us?(typeof Q=="function"&&(Vf(n,r,Q,o),z=n.memoizedState),(R=Us||Gg(n,r,R,o,P,z,p))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=p,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,hf(t,n),p=n.memoizedProps,F=Kr(r,p),f.props=F,Q=n.pendingProps,P=f.context,z=r.contextType,R=wa,typeof z=="object"&&z!==null&&(R=Wt(z)),T=r.getDerivedStateFromProps,(z=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==Q||P!==R)&&Fg(n,f,o,R),Us=!1,P=n.memoizedState,f.state=P,Zo(n,o,f,h),Jo();var q=n.memoizedState;p!==Q||P!==q||Us||t!==null&&t.dependencies!==null&&ju(t.dependencies)?(typeof T=="function"&&(Vf(n,r,T,o),q=n.memoizedState),(F=Us||Gg(n,r,F,o,P,q,R)||t!==null&&t.dependencies!==null&&ju(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=R,o=F):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,tc(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=Gr(n,t.child,null,h),n.child=Gr(n,null,r,h)):en(t,n,r,h),n.memoizedState=f.state,t=n.child):t=rs(t,n,h),t}function ay(t,n,r,o){return Lr(),n.flags|=256,en(t,n,r,o),n.child}var zf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pf(t){return{baseLanes:t,cachePool:Xp()}}function Bf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=On),t}function oy(t,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(Nt.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(He){if(h?Ps(n):Bs(),(t=pt)?(t=p0(t,Kn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ms!==null?{id:Vi,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},r=Pp(t),r.return=n,n.child=r,Zt=n,pt=null)):t=null,t===null)throw ks(n);return Ad(t)?n.lanes=32:n.lanes=536870912,null}var T=o.children;return o=o.fallback,h?(Bs(),h=n.mode,T=nc({mode:"hidden",children:T},h),o=Ur(o,h,r,null),T.return=n,o.return=n,T.sibling=o,n.child=T,o=n.child,o.memoizedState=Pf(r),o.childLanes=Bf(t,p,r),n.memoizedState=zf,il(null,o)):(Ps(n),qf(n,T))}var R=t.memoizedState;if(R!==null&&(T=R.dehydrated,T!==null)){if(f)n.flags&256?(Ps(n),n.flags&=-257,n=Hf(t,n,r)):n.memoizedState!==null?(Bs(),n.child=t.child,n.flags|=128,n=null):(Bs(),T=o.fallback,h=n.mode,o=nc({mode:"visible",children:o.children},h),T=Ur(T,h,r,null),T.flags|=2,o.return=n,T.return=n,o.sibling=T,n.child=o,Gr(n,t.child,null,r),o=n.child,o.memoizedState=Pf(r),o.childLanes=Bf(t,p,r),n.memoizedState=zf,n=il(null,o));else if(Ps(n),Ad(T)){if(p=T.nextSibling&&T.nextSibling.dataset,p)var z=p.dgst;p=z,o=Error(a(419)),o.stack="",o.digest=p,Fo({value:o,source:null,stack:null}),n=Hf(t,n,r)}else if(Lt||Na(t,n,r,!1),p=(r&t.childLanes)!==0,Lt||p){if(p=dt,p!==null&&(o=So(p,r),o!==0&&o!==R.retryLane))throw R.retryLane=o,jr(t,o),bn(p,t,o),Uf;bd(T)||hc(),n=Hf(t,n,r)}else bd(T)?(n.flags|=192,n.child=t.child,n=null):(t=R.treeContext,pt=Qn(T.nextSibling),Zt=n,He=!0,Vs=null,Kn=!1,t!==null&&Hp(n,t),n=qf(n,o.children),n.flags|=4096);return n}return h?(Bs(),T=o.fallback,h=n.mode,R=t.child,z=R.sibling,o=Wi(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,z!==null?T=Wi(z,T):(T=Ur(T,h,r,null),T.flags|=2),T.return=n,o.return=n,o.sibling=T,n.child=o,il(null,o),o=n.child,T=t.child.memoizedState,T===null?T=Pf(r):(h=T.cachePool,h!==null?(R=jt._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Xp(),T={baseLanes:T.baseLanes|r,cachePool:h}),o.memoizedState=T,o.childLanes=Bf(t,p,r),n.memoizedState=zf,il(t.child,o)):(Ps(n),r=t.child,t=r.sibling,r=Wi(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=r,n.memoizedState=null,r)}function qf(t,n){return n=nc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function nc(t,n){return t=Cn(22,t,null,n),t.lanes=0,t}function Hf(t,n,r){return Gr(n,t.child,null,r),t=qf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function ly(t,n,r){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),sf(t.return,n,r)}function Gf(t,n,r,o,h,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=r,p.tailMode=h,p.treeForkCount=f)}function uy(t,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=Nt.current,T=(p&2)!==0;if(T?(p=p&1|2,n.flags|=128):p&=1,te(Nt,p),en(t,n,o,r),o=He?Go:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ly(t,r,n);else if(t.tag===19)ly(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&Gu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Gf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Gu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Gf(n,!0,r,null,f,o);break;case"together":Gf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function rs(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Gs|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Na(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=Wi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Wi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Ff(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&ju(t)))}function kT(t,n,r){switch(n.tag){case 3:At(n,n.stateNode.containerInfo),js(n,jt,t.memoizedState.cache),Lr();break;case 27:case 5:ie(n);break;case 4:At(n,n.stateNode.containerInfo);break;case 10:js(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,gf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ps(n),n.flags|=128,null):(r&n.child.childLanes)!==0?oy(t,n,r):(Ps(n),t=rs(t,n,r),t!==null?t.sibling:null);Ps(n);break;case 19:var h=(t.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(Na(t,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return uy(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),te(Nt,Nt.current),o)break;return null;case 22:return n.lanes=0,ty(t,n,r,n.pendingProps);case 24:js(n,jt,t.memoizedState.cache)}return rs(t,n,r)}function cy(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Lt=!0;else{if(!Ff(t,r)&&(n.flags&128)===0)return Lt=!1,kT(t,n,r);Lt=(t.flags&131072)!==0}else Lt=!1,He&&(n.flags&1048576)!==0&&qp(n,Go,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=qr(n.elementType),n.type=t,typeof t=="function")Xh(t)?(o=Kr(t,o),n.tag=1,n=ry(null,n,t,o,r)):(n.tag=0,n=Lf(null,n,t,o,r));else{if(t!=null){var h=t.$$typeof;if(h===st){n.tag=11,n=Zg(null,n,t,o,r);break e}else if(h===N){n.tag=14,n=Wg(null,n,t,o,r);break e}}throw n=Ke(t)||t,Error(a(306,n,""))}}return n;case 0:return Lf(t,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=Kr(o,n.pendingProps),ry(t,n,o,h,r);case 3:e:{if(At(n,n.stateNode.containerInfo),t===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,hf(t,n),Zo(n,o,null,r);var p=n.memoizedState;if(o=p.cache,js(n,jt,o),o!==f.cache&&rf(n,[jt],r,!0),Jo(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ay(t,n,o,r);break e}else if(o!==h){h=Hn(Error(a(424)),n),Fo(h),n=ay(t,n,o,r);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,pt=Qn(t.firstChild),Zt=n,He=!0,Vs=null,Kn=!0,r=tg(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Lr(),o===h){n=rs(t,n,r);break e}en(t,n,o,r)}n=n.child}return n;case 26:return tc(t,n),t===null?(r=T0(n.type,null,n.pendingProps,null))?n.memoizedState=r:He||(r=n.type,t=n.pendingProps,o=_c(Re.current).createElement(r),o[Mt]=n,o[Kt]=t,tn(o,r,t),Vt(o),n.stateNode=o):n.memoizedState=T0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return ie(n),t===null&&He&&(o=n.stateNode=_0(n.type,n.pendingProps,Re.current),Zt=n,Kn=!0,h=pt,Xs(n.type)?(Sd=h,pt=Qn(o.firstChild)):pt=h),en(t,n,n.pendingProps.children,r),tc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&He&&((h=o=pt)&&(o=hb(o,n.type,n.pendingProps,Kn),o!==null?(n.stateNode=o,Zt=n,pt=Qn(o.firstChild),Kn=!1,h=!0):h=!1),h||ks(n)),ie(n),h=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,o=f.children,vd(h,f)?o=null:p!==null&&vd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=_f(t,n,xT,null,null,r),_l._currentValue=h),tc(t,n),en(t,n,o,r),n.child;case 6:return t===null&&He&&((t=r=pt)&&(r=fb(r,n.pendingProps,Kn),r!==null?(n.stateNode=r,Zt=n,pt=null,t=!0):t=!1),t||ks(n)),null;case 13:return oy(t,n,r);case 4:return At(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Gr(n,null,o,r):en(t,n,o,r),n.child;case 11:return Zg(t,n,n.type,n.pendingProps,r);case 7:return en(t,n,n.pendingProps,r),n.child;case 8:return en(t,n,n.pendingProps.children,r),n.child;case 12:return en(t,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,js(n,n.type,o.value),en(t,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Pr(n),h=Wt(h),o=o(h),n.flags|=1,en(t,n,o,r),n.child;case 14:return Wg(t,n,n.type,n.pendingProps,r);case 15:return ey(t,n,n.type,n.pendingProps,r);case 19:return uy(t,n,r);case 31:return VT(t,n,r);case 22:return ty(t,n,r,n.pendingProps);case 24:return Pr(n),o=Wt(jt),t===null?(h=lf(),h===null&&(h=dt,f=af(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},cf(n),js(n,jt,h)):((t.lanes&r)!==0&&(hf(t,n),Zo(n,null,null,r),Jo()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),js(n,jt,o)):(o=f.cache,js(n,jt,o),o!==h.cache&&rf(n,[jt],r,!0))),en(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function as(t){t.flags|=4}function Kf(t,n,r,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Uy())t.flags|=8192;else throw Hr=Pu,uf}else t.flags&=-16777217}function hy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!x0(n))if(Uy())t.flags|=8192;else throw Hr=Pu,uf}function ic(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?uu():536870912,t.lanes|=n,Ba|=n)}function sl(t,n){if(!He)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function gt(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,o=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=r,n}function jT(t,n,r){var o=n.pendingProps;switch(Wh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(n),null;case 1:return gt(n),null;case 3:return r=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ns(jt),qe(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ca(n)?as(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,tf())),gt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(as(n),f!==null?(gt(n),hy(n,f)):(gt(n),Kf(n,h,null,o,r))):f?f!==t.memoizedState?(as(n),gt(n),hy(n,f)):(gt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&as(n),gt(n),Kf(n,h,t,o,r)),null;case 27:if(ae(n),r=Re.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&as(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return gt(n),null}t=se.current,Ca(n)?Gp(n):(t=_0(h,o,r),n.stateNode=t,as(n))}return gt(n),null;case 5:if(ae(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&as(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return gt(n),null}if(f=se.current,Ca(n))Gp(n);else{var p=_c(Re.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[Mt]=n,f[Kt]=o;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;e:switch(tn(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&as(n)}}return gt(n),Kf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&as(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(t=Re.current,Ca(n)){if(t=n.stateNode,r=n.memoizedProps,o=null,h=Zt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Mt]=n,t=!!(t.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||o0(t.nodeValue,r)),t||ks(n,!0)}else t=_c(t).createTextNode(o),t[Mt]=n,n.stateNode=t}return gt(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(o=Ca(n),r!==null){if(t===null){if(!o)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Mt]=n}else Lr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;gt(n),t=!1}else r=tf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(In(n),n):(In(n),null);if((n.flags&128)!==0)throw Error(a(558))}return gt(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ca(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Mt]=n}else Lr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;gt(n),h=!1}else h=tf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(In(n),n):(In(n),null)}return In(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,t=t!==null&&t.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),ic(n,n.updateQueue),gt(n),null);case 4:return qe(),t===null&&md(n.stateNode.containerInfo),gt(n),null;case 10:return ns(n.type),gt(n),null;case 19:if(Y(Nt),o=n.memoizedState,o===null)return gt(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)sl(o,!1);else{if(wt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Gu(t),f!==null){for(n.flags|=128,sl(o,!1),t=f.updateQueue,n.updateQueue=t,ic(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)zp(r,t),r=r.sibling;return te(Nt,Nt.current&1|2),He&&es(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&$e()>lc&&(n.flags|=128,h=!0,sl(o,!1),n.lanes=4194304)}else{if(!h)if(t=Gu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,ic(n,t),sl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!He)return gt(n),null}else 2*$e()-o.renderingStartTime>lc&&r!==536870912&&(n.flags|=128,h=!0,sl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=$e(),t.sibling=null,r=Nt.current,te(Nt,h?r&1|2:r&1),He&&es(n,o.treeForkCount),t):(gt(n),null);case 22:case 23:return In(n),pf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(gt(n),n.subtreeFlags&6&&(n.flags|=8192)):gt(n),r=n.updateQueue,r!==null&&ic(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),t!==null&&Y(Br),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),ns(jt),gt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function UT(t,n){switch(Wh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ns(jt),qe(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ae(n),null;case 31:if(n.memoizedState!==null){if(In(n),n.alternate===null)throw Error(a(340));Lr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(In(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Lr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Y(Nt),null;case 4:return qe(),null;case 10:return ns(n.type),null;case 22:case 23:return In(n),pf(),t!==null&&Y(Br),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ns(jt),null;case 25:return null;default:return null}}function fy(t,n){switch(Wh(n),n.tag){case 3:ns(jt),qe();break;case 26:case 27:case 5:ae(n);break;case 4:qe();break;case 31:n.memoizedState!==null&&In(n);break;case 13:In(n);break;case 19:Y(Nt);break;case 10:ns(n.type);break;case 22:case 23:In(n),pf(),t!==null&&Y(Br);break;case 24:ns(jt)}}function rl(t,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&t)===t){o=void 0;var f=r.create,p=r.inst;o=f(),p.destroy=o}r=r.next}while(r!==h)}}catch(T){lt(n,n.return,T)}}function qs(t,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var p=o.inst,T=p.destroy;if(T!==void 0){p.destroy=void 0,h=n;var R=r,z=T;try{z()}catch(F){lt(h,R,F)}}}o=o.next}while(o!==f)}}catch(F){lt(n,n.return,F)}}function dy(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{ig(n,r)}catch(o){lt(t,t.return,o)}}}function my(t,n,r){r.props=Kr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(o){lt(t,n,o)}}function al(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof r=="function"?t.refCleanup=r(o):r.current=o}}catch(h){lt(t,n,h)}}function ji(t,n){var r=t.ref,o=t.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){lt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){lt(t,n,h)}else r.current=null}function py(t){var n=t.type,r=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){lt(t,t.return,h)}}function Yf(t,n,r){try{var o=t.stateNode;rb(o,t.type,r,n),o[Kt]=n}catch(h){lt(t,t.return,h)}}function gy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Xs(t.type)||t.tag===4}function Qf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||gy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Xs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Xf(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=ii));else if(o!==4&&(o===27&&Xs(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Xf(t,n,r),t=t.sibling;t!==null;)Xf(t,n,r),t=t.sibling}function sc(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(o!==4&&(o===27&&Xs(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(sc(t,n,r),t=t.sibling;t!==null;)sc(t,n,r),t=t.sibling}function yy(t){var n=t.stateNode,r=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);tn(n,o,r),n[Mt]=t,n[Kt]=r}catch(f){lt(t,t.return,f)}}var os=!1,zt=!1,$f=!1,_y=typeof WeakSet=="function"?WeakSet:Set,Qt=null;function LT(t,n){if(t=t.containerInfo,yd=wc,t=Ip(t),qh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var p=0,T=-1,R=-1,z=0,F=0,Q=t,P=null;t:for(;;){for(var q;Q!==r||h!==0&&Q.nodeType!==3||(T=p+h),Q!==f||o!==0&&Q.nodeType!==3||(R=p+o),Q.nodeType===3&&(p+=Q.nodeValue.length),(q=Q.firstChild)!==null;)P=Q,Q=q;for(;;){if(Q===t)break t;if(P===r&&++z===h&&(T=p),P===f&&++F===o&&(R=p),(q=Q.nextSibling)!==null)break;Q=P,P=Q.parentNode}Q=q}r=T===-1||R===-1?null:{start:T,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(_d={focusedElem:t,selectionRange:r},wc=!1,Qt=n;Qt!==null;)if(n=Qt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Qt=t;else for(;Qt!==null;){switch(n=Qt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var oe=Kr(r.type,h);t=o.getSnapshotBeforeUpdate(oe,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(ge){lt(r,r.return,ge)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Td(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Td(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Qt=t;break}Qt=n.return}}function vy(t,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:us(t,r),o&4&&rl(5,r);break;case 1:if(us(t,r),o&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(p){lt(r,r.return,p)}else{var h=Kr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){lt(r,r.return,p)}}o&64&&dy(r),o&512&&al(r,r.return);break;case 3:if(us(t,r),o&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{ig(t,n)}catch(p){lt(r,r.return,p)}}break;case 27:n===null&&o&4&&yy(r);case 26:case 5:us(t,r),n===null&&o&4&&py(r),o&512&&al(r,r.return);break;case 12:us(t,r);break;case 31:us(t,r),o&4&&by(t,r);break;case 13:us(t,r),o&4&&Ay(t,r),o&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=YT.bind(null,r),db(t,r))));break;case 22:if(o=r.memoizedState!==null||os,!o){n=n!==null&&n.memoizedState!==null||zt,h=os;var f=zt;os=o,(zt=n)&&!f?cs(t,r,(r.subtreeFlags&8772)!==0):us(t,r),os=h,zt=f}break;case 30:break;default:us(t,r)}}function Ey(t){var n=t.alternate;n!==null&&(t.alternate=null,Ey(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ha(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Et=null,_n=!1;function ls(t,n,r){for(r=r.child;r!==null;)Ty(t,n,r),r=r.sibling}function Ty(t,n,r){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(Wn,r)}catch{}switch(r.tag){case 26:zt||ji(r,n),ls(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:zt||ji(r,n);var o=Et,h=_n;Xs(r.type)&&(Et=r.stateNode,_n=!1),ls(t,n,r),pl(r.stateNode),Et=o,_n=h;break;case 5:zt||ji(r,n);case 6:if(o=Et,h=_n,Et=null,ls(t,n,r),Et=o,_n=h,Et!==null)if(_n)try{(Et.nodeType===9?Et.body:Et.nodeName==="HTML"?Et.ownerDocument.body:Et).removeChild(r.stateNode)}catch(f){lt(r,n,f)}else try{Et.removeChild(r.stateNode)}catch(f){lt(r,n,f)}break;case 18:Et!==null&&(_n?(t=Et,d0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Xa(t)):d0(Et,r.stateNode));break;case 4:o=Et,h=_n,Et=r.stateNode.containerInfo,_n=!0,ls(t,n,r),Et=o,_n=h;break;case 0:case 11:case 14:case 15:qs(2,r,n),zt||qs(4,r,n),ls(t,n,r);break;case 1:zt||(ji(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&my(r,n,o)),ls(t,n,r);break;case 21:ls(t,n,r);break;case 22:zt=(o=zt)||r.memoizedState!==null,ls(t,n,r),zt=o;break;default:ls(t,n,r)}}function by(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Xa(t)}catch(r){lt(n,n.return,r)}}}function Ay(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Xa(t)}catch(r){lt(n,n.return,r)}}function zT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new _y),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new _y),n;default:throw Error(a(435,t.tag))}}function rc(t,n){var r=zT(t);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=QT.bind(null,t,o);o.then(h,h)}})}function vn(t,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=t,p=n,T=p;e:for(;T!==null;){switch(T.tag){case 27:if(Xs(T.type)){Et=T.stateNode,_n=!1;break e}break;case 5:Et=T.stateNode,_n=!1;break e;case 3:case 4:Et=T.stateNode.containerInfo,_n=!0;break e}T=T.return}if(Et===null)throw Error(a(160));Ty(f,p,h),Et=null,_n=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Sy(n,t),n=n.sibling}var ui=null;function Sy(t,n){var r=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:vn(n,t),En(t),o&4&&(qs(3,t,t.return),rl(3,t),qs(5,t,t.return));break;case 1:vn(n,t),En(t),o&512&&(zt||r===null||ji(r,r.return)),o&64&&os&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=ui;if(vn(n,t),En(t),o&512&&(zt||r===null||ji(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=t.memoizedState,r===null)if(o===null)if(t.stateNode===null){e:{o=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[bi]||f[Mt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),tn(f,o,r),f[Mt]=t,Vt(f),o=f;break e;case"link":var p=S0("link","href",h).get(o+(r.href||""));if(p){for(var T=0;T<p.length;T++)if(f=p[T],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(T,1);break t}}f=h.createElement(o),tn(f,o,r),h.head.appendChild(f);break;case"meta":if(p=S0("meta","content",h).get(o+(r.content||""))){for(T=0;T<p.length;T++)if(f=p[T],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(T,1);break t}}f=h.createElement(o),tn(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Mt]=t,Vt(f),o=f}t.stateNode=o}else w0(h,t.type,t.stateNode);else t.stateNode=A0(h,o,t.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?w0(h,t.type,t.stateNode):A0(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Yf(t,t.memoizedProps,r.memoizedProps)}break;case 27:vn(n,t),En(t),o&512&&(zt||r===null||ji(r,r.return)),r!==null&&o&4&&Yf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(vn(n,t),En(t),o&512&&(zt||r===null||ji(r,r.return)),t.flags&32){h=t.stateNode;try{yn(h,"")}catch(oe){lt(t,t.return,oe)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Yf(t,h,r!==null?r.memoizedProps:h)),o&1024&&($f=!0);break;case 6:if(vn(n,t),En(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,r=t.stateNode;try{r.nodeValue=o}catch(oe){lt(t,t.return,oe)}}break;case 3:if(Tc=null,h=ui,ui=vc(n.containerInfo),vn(n,t),ui=h,En(t),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Xa(n.containerInfo)}catch(oe){lt(t,t.return,oe)}$f&&($f=!1,wy(t));break;case 4:o=ui,ui=vc(t.stateNode.containerInfo),vn(n,t),En(t),ui=o;break;case 12:vn(n,t),En(t);break;case 31:vn(n,t),En(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,rc(t,o)));break;case 13:vn(n,t),En(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(oc=$e()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,rc(t,o)));break;case 22:h=t.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,z=os,F=zt;if(os=z||h,zt=F||R,vn(n,t),zt=F,os=z,En(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||R||os||zt||Yr(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){R=r=n;try{if(f=R.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{T=R.stateNode;var Q=R.memoizedProps.style,P=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;T.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(oe){lt(R,R.return,oe)}}}else if(n.tag===6){if(r===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(oe){lt(R,R.return,oe)}}}else if(n.tag===18){if(r===null){R=n;try{var q=R.stateNode;h?m0(q,!0):m0(R.stateNode,!1)}catch(oe){lt(R,R.return,oe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,rc(t,r))));break;case 19:vn(n,t),En(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,rc(t,o)));break;case 30:break;case 21:break;default:vn(n,t),En(t)}}function En(t){var n=t.flags;if(n&2){try{for(var r,o=t.return;o!==null;){if(gy(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Qf(t);sc(t,f,h);break;case 5:var p=r.stateNode;r.flags&32&&(yn(p,""),r.flags&=-33);var T=Qf(t);sc(t,T,p);break;case 3:case 4:var R=r.stateNode.containerInfo,z=Qf(t);Xf(t,z,R);break;default:throw Error(a(161))}}catch(F){lt(t,t.return,F)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function wy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;wy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function us(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)vy(t,n.alternate,n),n=n.sibling}function Yr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:qs(4,n,n.return),Yr(n);break;case 1:ji(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&my(n,n.return,r),Yr(n);break;case 27:pl(n.stateNode);case 26:case 5:ji(n,n.return),Yr(n);break;case 22:n.memoizedState===null&&Yr(n);break;case 30:Yr(n);break;default:Yr(n)}t=t.sibling}}function cs(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:cs(h,f,r),rl(4,f);break;case 1:if(cs(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){lt(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var T=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)ng(R[h],T)}catch(z){lt(o,o.return,z)}}r&&p&64&&dy(f),al(f,f.return);break;case 27:yy(f);case 26:case 5:cs(h,f,r),r&&o===null&&p&4&&py(f),al(f,f.return);break;case 12:cs(h,f,r);break;case 31:cs(h,f,r),r&&p&4&&by(h,f);break;case 13:cs(h,f,r),r&&p&4&&Ay(h,f);break;case 22:f.memoizedState===null&&cs(h,f,r),al(f,f.return);break;case 30:break;default:cs(h,f,r)}n=n.sibling}}function Jf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Ko(r))}function Zf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ko(t))}function ci(t,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)xy(t,n,r,o),n=n.sibling}function xy(t,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ci(t,n,r,o),h&2048&&rl(9,n);break;case 1:ci(t,n,r,o);break;case 3:ci(t,n,r,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ko(t)));break;case 12:if(h&2048){ci(t,n,r,o),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,T=f.onPostCommit;typeof T=="function"&&T(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){lt(n,n.return,R)}}else ci(t,n,r,o);break;case 31:ci(t,n,r,o);break;case 13:ci(t,n,r,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?ci(t,n,r,o):ol(t,n):f._visibility&2?ci(t,n,r,o):(f._visibility|=2,La(t,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Jf(p,n);break;case 24:ci(t,n,r,o),h&2048&&Zf(n.alternate,n);break;default:ci(t,n,r,o)}}function La(t,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,p=n,T=r,R=o,z=p.flags;switch(p.tag){case 0:case 11:case 15:La(f,p,T,R,h),rl(8,p);break;case 23:break;case 22:var F=p.stateNode;p.memoizedState!==null?F._visibility&2?La(f,p,T,R,h):ol(f,p):(F._visibility|=2,La(f,p,T,R,h)),h&&z&2048&&Jf(p.alternate,p);break;case 24:La(f,p,T,R,h),h&&z&2048&&Zf(p.alternate,p);break;default:La(f,p,T,R,h)}n=n.sibling}}function ol(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,o=n,h=o.flags;switch(o.tag){case 22:ol(r,o),h&2048&&Jf(o.alternate,o);break;case 24:ol(r,o),h&2048&&Zf(o.alternate,o);break;default:ol(r,o)}n=n.sibling}}var ll=8192;function za(t,n,r){if(t.subtreeFlags&ll)for(t=t.child;t!==null;)Ry(t,n,r),t=t.sibling}function Ry(t,n,r){switch(t.tag){case 26:za(t,n,r),t.flags&ll&&t.memoizedState!==null&&wb(r,ui,t.memoizedState,t.memoizedProps);break;case 5:za(t,n,r);break;case 3:case 4:var o=ui;ui=vc(t.stateNode.containerInfo),za(t,n,r),ui=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=ll,ll=16777216,za(t,n,r),ll=o):za(t,n,r));break;default:za(t,n,r)}}function Cy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function ul(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Qt=o,Iy(o,t)}Cy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ny(t),t=t.sibling}function Ny(t){switch(t.tag){case 0:case 11:case 15:ul(t),t.flags&2048&&qs(9,t,t.return);break;case 3:ul(t);break;case 12:ul(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,ac(t)):ul(t);break;default:ul(t)}}function ac(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Qt=o,Iy(o,t)}Cy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:qs(8,n,n.return),ac(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,ac(n));break;default:ac(n)}t=t.sibling}}function Iy(t,n){for(;Qt!==null;){var r=Qt;switch(r.tag){case 0:case 11:case 15:qs(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Ko(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Qt=o;else e:for(r=t;Qt!==null;){o=Qt;var h=o.sibling,f=o.return;if(Ey(o),o===r){Qt=null;break e}if(h!==null){h.return=f,Qt=h;break e}Qt=f}}}var PT={getCacheForType:function(t){var n=Wt(jt),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return Wt(jt).controller.signal}},BT=typeof WeakMap=="function"?WeakMap:Map,nt=0,dt=null,Oe=null,je=0,ot=0,Dn=null,Hs=!1,Pa=!1,Wf=!1,hs=0,wt=0,Gs=0,Qr=0,ed=0,On=0,Ba=0,cl=null,Tn=null,td=!1,oc=0,Dy=0,lc=1/0,uc=null,Fs=null,Ht=0,Ks=null,qa=null,fs=0,nd=0,id=null,Oy=null,hl=0,sd=null;function Mn(){return(nt&2)!==0&&je!==0?je&-je:G.T!==null?cd():cu()}function My(){if(On===0)if((je&536870912)===0||He){var t=Tr;Tr<<=1,(Tr&3932160)===0&&(Tr=262144),On=t}else On=536870912;return t=Nn.current,t!==null&&(t.flags|=32),On}function bn(t,n,r){(t===dt&&(ot===2||ot===9)||t.cancelPendingCommit!==null)&&(Ha(t,0),Ys(t,je,On,!1)),br(t,r),((nt&2)===0||t!==dt)&&(t===dt&&((nt&2)===0&&(Qr|=r),wt===4&&Ys(t,je,On,!1)),Ui(t))}function Vy(t,n,r){if((nt&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&t.expiredLanes)===0||ei(t,n),h=o?GT(t,n):ad(t,n,!0),f=o;do{if(h===0){Pa&&!o&&Ys(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!qT(r)){h=ad(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var T=t;h=cl;var R=T.current.memoizedState.isDehydrated;if(R&&(Ha(T,p).flags|=256),p=ad(T,p,!1),p!==2){if(Wf&&!R){T.errorRecoveryDisabledLanes|=f,Qr|=f,h=4;break e}f=Tn,Tn=h,f!==null&&(Tn===null?Tn=f:Tn.push.apply(Tn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Ha(t,0),Ys(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ys(o,n,On,!Hs);break e;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=oc+300-$e(),10<h)){if(Ys(o,n,On,!Hs),vi(o,0,!0)!==0)break e;fs=n,o.timeoutHandle=h0(ky.bind(null,o,r,Tn,uc,td,n,On,Qr,Ba,Hs,f,"Throttled",-0,0),h);break e}ky(o,r,Tn,uc,td,n,On,Qr,Ba,Hs,f,null,-0,0)}}break}while(!0);Ui(t)}function ky(t,n,r,o,h,f,p,T,R,z,F,Q,P,q){if(t.timeoutHandle=-1,Q=n.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ii},Ry(n,f,Q);var oe=(f&62914560)===f?oc-$e():(f&4194048)===f?Dy-$e():0;if(oe=xb(Q,oe),oe!==null){fs=f,t.cancelPendingCommit=oe(Hy.bind(null,t,n,f,r,o,h,p,T,R,F,Q,null,P,q)),Ys(t,f,p,!z);return}}Hy(t,n,f,r,o,h,p,T,R)}function qT(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!Rn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ys(t,n,r,o){n&=~ed,n&=~Qr,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-Rt(h),p=1<<f;o[f]=-1,h&=~p}r!==0&&Ar(t,r,n)}function cc(){return(nt&6)===0?(fl(0),!1):!0}function rd(){if(Oe!==null){if(ot===0)var t=Oe.return;else t=Oe,ts=zr=null,Tf(t),Ma=null,Qo=0,t=Oe;for(;t!==null;)fy(t.alternate,t),t=t.return;Oe=null}}function Ha(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,lb(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),fs=0,rd(),dt=t,Oe=r=Wi(t.current,null),je=n,ot=0,Dn=null,Hs=!1,Pa=ei(t,n),Wf=!1,Ba=On=ed=Qr=Gs=wt=0,Tn=cl=null,td=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-Rt(o),f=1<<h;n|=t[h],o&=~f}return hs=n,Du(),r}function jy(t,n){Ne=null,G.H=nl,n===Oa||n===zu?(n=Zp(),ot=3):n===uf?(n=Zp(),ot=4):ot=n===Uf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Dn=n,Oe===null&&(wt=1,Wu(t,Hn(n,t.current)))}function Uy(){var t=Nn.current;return t===null?!0:(je&4194048)===je?Yn===null:(je&62914560)===je||(je&536870912)!==0?t===Yn:!1}function Ly(){var t=G.H;return G.H=nl,t===null?nl:t}function zy(){var t=G.A;return G.A=PT,t}function hc(){wt=4,Hs||(je&4194048)!==je&&Nn.current!==null||(Pa=!0),(Gs&134217727)===0&&(Qr&134217727)===0||dt===null||Ys(dt,je,On,!1)}function ad(t,n,r){var o=nt;nt|=2;var h=Ly(),f=zy();(dt!==t||je!==n)&&(uc=null,Ha(t,n)),n=!1;var p=wt;e:do try{if(ot!==0&&Oe!==null){var T=Oe,R=Dn;switch(ot){case 8:rd(),p=6;break e;case 3:case 2:case 9:case 6:Nn.current===null&&(n=!0);var z=ot;if(ot=0,Dn=null,Ga(t,T,R,z),r&&Pa){p=0;break e}break;default:z=ot,ot=0,Dn=null,Ga(t,T,R,z)}}HT(),p=wt;break}catch(F){jy(t,F)}while(!0);return n&&t.shellSuspendCounter++,ts=zr=null,nt=o,G.H=h,G.A=f,Oe===null&&(dt=null,je=0,Du()),p}function HT(){for(;Oe!==null;)Py(Oe)}function GT(t,n){var r=nt;nt|=2;var o=Ly(),h=zy();dt!==t||je!==n?(uc=null,lc=$e()+500,Ha(t,n)):Pa=ei(t,n);e:do try{if(ot!==0&&Oe!==null){n=Oe;var f=Dn;t:switch(ot){case 1:ot=0,Dn=null,Ga(t,n,f,1);break;case 2:case 9:if($p(f)){ot=0,Dn=null,By(n);break}n=function(){ot!==2&&ot!==9||dt!==t||(ot=7),Ui(t)},f.then(n,n);break e;case 3:ot=7;break e;case 4:ot=5;break e;case 7:$p(f)?(ot=0,Dn=null,By(n)):(ot=0,Dn=null,Ga(t,n,f,7));break;case 5:var p=null;switch(Oe.tag){case 26:p=Oe.memoizedState;case 5:case 27:var T=Oe;if(p?x0(p):T.stateNode.complete){ot=0,Dn=null;var R=T.sibling;if(R!==null)Oe=R;else{var z=T.return;z!==null?(Oe=z,fc(z)):Oe=null}break t}}ot=0,Dn=null,Ga(t,n,f,5);break;case 6:ot=0,Dn=null,Ga(t,n,f,6);break;case 8:rd(),wt=6;break e;default:throw Error(a(462))}}FT();break}catch(F){jy(t,F)}while(!0);return ts=zr=null,G.H=o,G.A=h,nt=r,Oe!==null?0:(dt=null,je=0,Du(),wt)}function FT(){for(;Oe!==null&&!pn();)Py(Oe)}function Py(t){var n=cy(t.alternate,t,hs);t.memoizedProps=t.pendingProps,n===null?fc(t):Oe=n}function By(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=sy(r,n,n.pendingProps,n.type,void 0,je);break;case 11:n=sy(r,n,n.pendingProps,n.type.render,n.ref,je);break;case 5:Tf(n);default:fy(r,n),n=Oe=zp(n,hs),n=cy(r,n,hs)}t.memoizedProps=t.pendingProps,n===null?fc(t):Oe=n}function Ga(t,n,r,o){ts=zr=null,Tf(n),Ma=null,Qo=0;var h=n.return;try{if(MT(t,h,n,r,je)){wt=1,Wu(t,Hn(r,t.current)),Oe=null;return}}catch(f){if(h!==null)throw Oe=h,f;wt=1,Wu(t,Hn(r,t.current)),Oe=null;return}n.flags&32768?(He||o===1?t=!0:Pa||(je&536870912)!==0?t=!1:(Hs=t=!0,(o===2||o===9||o===3||o===6)&&(o=Nn.current,o!==null&&o.tag===13&&(o.flags|=16384))),qy(n,t)):fc(n)}function fc(t){var n=t;do{if((n.flags&32768)!==0){qy(n,Hs);return}t=n.return;var r=jT(n.alternate,n,hs);if(r!==null){Oe=r;return}if(n=n.sibling,n!==null){Oe=n;return}Oe=n=t}while(n!==null);wt===0&&(wt=5)}function qy(t,n){do{var r=UT(t.alternate,t);if(r!==null){r.flags&=32767,Oe=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=r}while(t!==null);wt=6,Oe=null}function Hy(t,n,r,o,h,f,p,T,R){t.cancelPendingCommit=null;do dc();while(Ht!==0);if((nt&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Yh,Lh(t,r,f,p,T,R),t===dt&&(Oe=dt=null,je=0),qa=n,Ks=t,fs=r,nd=f,id=h,Oy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,XT(gi,function(){return Qy(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=ee.p,ee.p=2,p=nt,nt|=4;try{LT(t,n,r)}finally{nt=p,ee.p=h,G.T=o}}Ht=1,Gy(),Fy(),Ky()}}function Gy(){if(Ht===1){Ht=0;var t=Ks,n=qa,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=G.T,G.T=null;var o=ee.p;ee.p=2;var h=nt;nt|=4;try{Sy(n,t);var f=_d,p=Ip(t.containerInfo),T=f.focusedElem,R=f.selectionRange;if(p!==T&&T&&T.ownerDocument&&Np(T.ownerDocument.documentElement,T)){if(R!==null&&qh(T)){var z=R.start,F=R.end;if(F===void 0&&(F=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(F,T.value.length);else{var Q=T.ownerDocument||document,P=Q&&Q.defaultView||window;if(P.getSelection){var q=P.getSelection(),oe=T.textContent.length,ge=Math.min(R.start,oe),ft=R.end===void 0?ge:Math.min(R.end,oe);!q.extend&&ge>ft&&(p=ft,ft=ge,ge=p);var j=Cp(T,ge),O=Cp(T,ft);if(j&&O&&(q.rangeCount!==1||q.anchorNode!==j.node||q.anchorOffset!==j.offset||q.focusNode!==O.node||q.focusOffset!==O.offset)){var L=Q.createRange();L.setStart(j.node,j.offset),q.removeAllRanges(),ge>ft?(q.addRange(L),q.extend(O.node,O.offset)):(L.setEnd(O.node,O.offset),q.addRange(L))}}}}for(Q=[],q=T;q=q.parentNode;)q.nodeType===1&&Q.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Q.length;T++){var K=Q[T];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}wc=!!yd,_d=yd=null}finally{nt=h,ee.p=o,G.T=r}}t.current=n,Ht=2}}function Fy(){if(Ht===2){Ht=0;var t=Ks,n=qa,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=G.T,G.T=null;var o=ee.p;ee.p=2;var h=nt;nt|=4;try{vy(t,n.alternate,n)}finally{nt=h,ee.p=o,G.T=r}}Ht=3}}function Ky(){if(Ht===4||Ht===3){Ht=0,aa();var t=Ks,n=qa,r=fs,o=Oy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ht=5:(Ht=0,qa=Ks=null,Yy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Fs=null),Xi(r),n=n.stateNode,$t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(Wn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=ee.p,ee.p=2,G.T=null;try{for(var f=t.onRecoverableError,p=0;p<o.length;p++){var T=o[p];f(T.value,{componentStack:T.stack})}}finally{G.T=n,ee.p=h}}(fs&3)!==0&&dc(),Ui(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===sd?hl++:(hl=0,sd=t):hl=0,fl(0)}}function Yy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Ko(n)))}function dc(){return Gy(),Fy(),Ky(),Qy()}function Qy(){if(Ht!==5)return!1;var t=Ks,n=nd;nd=0;var r=Xi(fs),o=G.T,h=ee.p;try{ee.p=32>r?32:r,G.T=null,r=id,id=null;var f=Ks,p=fs;if(Ht=0,qa=Ks=null,fs=0,(nt&6)!==0)throw Error(a(331));var T=nt;if(nt|=4,Ny(f.current),xy(f,f.current,p,r),nt=T,fl(0,!1),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(Wn,f)}catch{}return!0}finally{ee.p=h,G.T=o,Yy(t,n)}}function Xy(t,n,r){n=Hn(r,n),n=jf(t.stateNode,n,2),t=zs(t,n,2),t!==null&&(br(t,2),Ui(t))}function lt(t,n,r){if(t.tag===3)Xy(t,t,r);else for(;n!==null;){if(n.tag===3){Xy(n,t,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Fs===null||!Fs.has(o))){t=Hn(r,t),r=$g(2),o=zs(n,r,2),o!==null&&(Jg(r,o,n,t),br(o,2),Ui(o));break}}n=n.return}}function od(t,n,r){var o=t.pingCache;if(o===null){o=t.pingCache=new BT;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(Wf=!0,h.add(r),t=KT.bind(null,t,n,r),n.then(t,t))}function KT(t,n,r){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,dt===t&&(je&r)===r&&(wt===4||wt===3&&(je&62914560)===je&&300>$e()-oc?(nt&2)===0&&Ha(t,0):ed|=r,Ba===je&&(Ba=0)),Ui(t)}function $y(t,n){n===0&&(n=uu()),t=jr(t,n),t!==null&&(br(t,n),Ui(t))}function YT(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),$y(t,r)}function QT(t,n){var r=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),$y(t,r)}function XT(t,n){return Te(t,n)}var mc=null,Fa=null,ld=!1,pc=!1,ud=!1,Qs=0;function Ui(t){t!==Fa&&t.next===null&&(Fa===null?mc=Fa=t:Fa=Fa.next=t),pc=!0,ld||(ld=!0,JT())}function fl(t,n){if(!ud&&pc){ud=!0;do for(var r=!1,o=mc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,T=o.pingedLanes;f=(1<<31-Rt(42|t)+1)-1,f&=h&~(p&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,e0(o,f))}else f=je,f=vi(o,o===dt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||ei(o,f)||(r=!0,e0(o,f));o=o.next}while(r);ud=!1}}function $T(){Jy()}function Jy(){pc=ld=!1;var t=0;Qs!==0&&ob()&&(t=Qs);for(var n=$e(),r=null,o=mc;o!==null;){var h=o.next,f=Zy(o,n);f===0?(o.next=null,r===null?mc=h:r.next=h,h===null&&(Fa=r)):(r=o,(t!==0||(f&3)!==0)&&(pc=!0)),o=h}Ht!==0&&Ht!==5||fl(t),Qs!==0&&(Qs=0)}function Zy(t,n){for(var r=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-Rt(f),T=1<<p,R=h[p];R===-1?((T&r)===0||(T&o)!==0)&&(h[p]=Uh(T,n)):R<=n&&(t.expiredLanes|=T),f&=~T}if(n=dt,r=je,r=vi(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,r===0||t===n&&(ot===2||ot===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Xe(o),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||ei(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(o!==null&&Xe(o),Xi(r)){case 2:case 8:r=Qi;break;case 32:r=gi;break;case 268435456:r=la;break;default:r=gi}return o=Wy.bind(null,t),r=Te(r,o),t.callbackPriority=n,t.callbackNode=r,n}return o!==null&&o!==null&&Xe(o),t.callbackPriority=2,t.callbackNode=null,2}function Wy(t,n){if(Ht!==0&&Ht!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(dc()&&t.callbackNode!==r)return null;var o=je;return o=vi(t,t===dt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Vy(t,o,n),Zy(t,$e()),t.callbackNode!=null&&t.callbackNode===r?Wy.bind(null,t):null)}function e0(t,n){if(dc())return null;Vy(t,n,!0)}function JT(){ub(function(){(nt&6)!==0?Te(Yi,$T):Jy()})}function cd(){if(Qs===0){var t=Ia;t===0&&(t=yi,yi<<=1,(yi&261888)===0&&(yi=256)),Qs=t}return Qs}function t0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:pa(""+t)}function n0(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function ZT(t,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=t0((h[Kt]||null).action),p=o.submitter;p&&(n=(n=p[Kt]||null)?t0(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var T=new Ii("action","action",null,o,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Qs!==0){var R=p?n0(h,p):new FormData(h);If(r,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(T.preventDefault(),R=p?n0(h,p):new FormData(h),If(r,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var hd=0;hd<Kh.length;hd++){var fd=Kh[hd],WT=fd.toLowerCase(),eb=fd[0].toUpperCase()+fd.slice(1);li(WT,"on"+eb)}li(Mp,"onAnimationEnd"),li(Vp,"onAnimationIteration"),li(kp,"onAnimationStart"),li("dblclick","onDoubleClick"),li("focusin","onFocus"),li("focusout","onBlur"),li(gT,"onTransitionRun"),li(yT,"onTransitionStart"),li(_T,"onTransitionCancel"),li(jp,"onTransitionEnd"),xi("onMouseEnter",["mouseout","mouseover"]),xi("onMouseLeave",["mouseout","mouseover"]),xi("onPointerEnter",["pointerout","pointerover"]),xi("onPointerLeave",["pointerout","pointerover"]),wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wi("onBeforeInput",["compositionend","keypress","textInput","paste"]),wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dl));function i0(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var o=t[r],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var T=o[p],R=T.instance,z=T.currentTarget;if(T=T.listener,R!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=z;try{f(h)}catch(F){Iu(F)}h.currentTarget=null,f=R}else for(p=0;p<o.length;p++){if(T=o[p],R=T.instance,z=T.currentTarget,T=T.listener,R!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=z;try{f(h)}catch(F){Iu(F)}h.currentTarget=null,f=R}}}}function Me(t,n){var r=n[ca];r===void 0&&(r=n[ca]=new Set);var o=t+"__bubble";r.has(o)||(s0(n,t,2,!1),r.add(o))}function dd(t,n,r){var o=0;n&&(o|=4),s0(r,t,o,n)}var gc="_reactListening"+Math.random().toString(36).slice(2);function md(t){if(!t[gc]){t[gc]=!0,wo.forEach(function(r){r!=="selectionchange"&&(tb.has(r)||dd(r,!1,t),dd(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[gc]||(n[gc]=!0,dd("selectionchange",!1,n))}}function s0(t,n,r,o){switch(M0(n)){case 2:var h=Nb;break;case 8:h=Ib;break;default:h=Nd}r=h.bind(null,n,r,t),h=void 0,!Cr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function pd(t,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var T=o.stateNode.containerInfo;if(T===h)break;if(p===4)for(p=o.return;p!==null;){var R=p.tag;if((R===3||R===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;T!==null;){if(p=Ai(T),p===null)return;if(R=p.tag,R===5||R===6||R===26||R===27){o=f=p;continue e}T=T.parentNode}}o=o.return}Ns(function(){var z=f,F=zn(r),Q=[];e:{var P=Up.get(t);if(P!==void 0){var q=Ii,oe=t;switch(t){case"keypress":if(Ir(r)===0)break e;case"keydown":case"keyup":q=Ru;break;case"focusin":oe="focus",q=Or;break;case"focusout":oe="blur",q=Or;break;case"beforeblur":case"afterblur":q=Or;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Lo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=_u;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Mp:case Vp:case kp:q=Eu;break;case jp:q=b;break;case"scroll":case"scrollend":q=Uo;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=Tu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Zi;break;case"toggle":case"beforetoggle":q=Ce}var ge=(n&4)!==0,ft=!ge&&(t==="scroll"||t==="scrollend"),j=ge?P!==null?P+"Capture":null:P;ge=[];for(var O=z,L;O!==null;){var K=O;if(L=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||L===null||j===null||(K=si(O,j),K!=null&&ge.push(ml(O,K,L))),ft)break;O=O.return}0<ge.length&&(P=new q(P,oe,null,r,F),Q.push({event:P,listeners:ge}))}}if((n&7)===0){e:{if(P=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",P&&r!==Vo&&(oe=r.relatedTarget||r.fromElement)&&(Ai(oe)||oe[Ti]))break e;if((q||P)&&(P=F.window===F?F:(P=F.ownerDocument)?P.defaultView||P.parentWindow:window,q?(oe=r.relatedTarget||r.toElement,q=z,oe=oe?Ai(oe):null,oe!==null&&(ft=c(oe),ge=oe.tag,oe!==ft||ge!==5&&ge!==27&&ge!==6)&&(oe=null)):(q=null,oe=z),q!==oe)){if(ge=Lo,K="onMouseLeave",j="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(ge=Zi,K="onPointerLeave",j="onPointerEnter",O="pointer"),ft=q==null?P:wn(q),L=oe==null?P:wn(oe),P=new ge(K,O+"leave",q,r,F),P.target=ft,P.relatedTarget=L,K=null,Ai(F)===z&&(ge=new ge(j,O+"enter",oe,r,F),ge.target=L,ge.relatedTarget=ft,K=ge),ft=K,q&&oe)t:{for(ge=nb,j=q,O=oe,L=0,K=j;K;K=ge(K))L++;K=0;for(var fe=O;fe;fe=ge(fe))K++;for(;0<L-K;)j=ge(j),L--;for(;0<K-L;)O=ge(O),K--;for(;L--;){if(j===O||O!==null&&j===O.alternate){ge=j;break t}j=ge(j),O=ge(O)}ge=null}else ge=null;q!==null&&r0(Q,P,q,ge,!1),oe!==null&&ft!==null&&r0(Q,ft,oe,ge,!0)}}e:{if(P=z?wn(z):window,q=P.nodeName&&P.nodeName.toLowerCase(),q==="select"||q==="input"&&P.type==="file")var We=bp;else if(Ep(P))if(Ap)We=dT;else{We=hT;var le=cT}else q=P.nodeName,!q||q.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?z&&ma(z.elementType)&&(We=bp):We=fT;if(We&&(We=We(t,z))){Tp(Q,We,r,F);break e}le&&le(t,P,z),t==="focusout"&&z&&P.type==="number"&&z.memoizedProps.value!=null&&Do(P,"number",P.value)}switch(le=z?wn(z):window,t){case"focusin":(Ep(le)||le.contentEditable==="true")&&(ba=le,Hh=z,Ho=null);break;case"focusout":Ho=Hh=ba=null;break;case"mousedown":Gh=!0;break;case"contextmenu":case"mouseup":case"dragend":Gh=!1,Dp(Q,r,F);break;case"selectionchange":if(pT)break;case"keydown":case"keyup":Dp(Q,r,F)}var De;if(tt)e:{switch(t){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else Ta?Mr(t,r)&&(Ue="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Ue="onCompositionStart");Ue&&(Mi&&r.locale!=="ko"&&(Ta||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&Ta&&(De=jo()):(Ni=F,ko="value"in Ni?Ni.value:Ni.textContent,Ta=!0)),le=yc(z,Ue),0<le.length&&(Ue=new Oi(Ue,t,null,r,F),Q.push({event:Ue,listeners:le}),De?Ue.data=De:(De=Ea(r),De!==null&&(Ue.data=De)))),(De=Bn?aT(t,r):oT(t,r))&&(Ue=yc(z,"onBeforeInput"),0<Ue.length&&(le=new Oi("onBeforeInput","beforeinput",null,r,F),Q.push({event:le,listeners:Ue}),le.data=De)),ZT(Q,t,z,r,F)}i0(Q,n)})}function ml(t,n,r){return{instance:t,listener:n,currentTarget:r}}function yc(t,n){for(var r=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=si(t,r),h!=null&&o.unshift(ml(t,h,f)),h=si(t,n),h!=null&&o.push(ml(t,h,f))),t.tag===3)return o;t=t.return}return[]}function nb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function r0(t,n,r,o,h){for(var f=n._reactName,p=[];r!==null&&r!==o;){var T=r,R=T.alternate,z=T.stateNode;if(T=T.tag,R!==null&&R===o)break;T!==5&&T!==26&&T!==27||z===null||(R=z,h?(z=si(r,f),z!=null&&p.unshift(ml(r,z,R))):h||(z=si(r,f),z!=null&&p.push(ml(r,z,R)))),r=r.return}p.length!==0&&t.push({event:n,listeners:p})}var ib=/\r\n?/g,sb=/\u0000|\uFFFD/g;function a0(t){return(typeof t=="string"?t:""+t).replace(ib,`
`).replace(sb,"")}function o0(t,n){return n=a0(n),a0(t)===n}function ht(t,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||yn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&yn(t,""+o);break;case"className":xn(t,"class",o);break;case"tabIndex":xn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":xn(t,r,o);break;case"style":Mo(t,o,f);break;case"data":if(n!=="object"){xn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=pa(""+o),t.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&ht(t,n,"name",h.name,h,null),ht(t,n,"formEncType",h.formEncType,h,null),ht(t,n,"formMethod",h.formMethod,h,null),ht(t,n,"formTarget",h.formTarget,h,null)):(ht(t,n,"encType",h.encType,h,null),ht(t,n,"method",h.method,h,null),ht(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=pa(""+o),t.setAttribute(r,o);break;case"onClick":o!=null&&(t.onclick=ii);break;case"onScroll":o!=null&&Me("scroll",t);break;case"onScrollEnd":o!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}r=pa(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""+o):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":o===!0?t.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,o):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(r,o):t.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(r):t.setAttribute(r,o);break;case"popover":Me("beforetoggle",t),Me("toggle",t),fa(t,"popover",o);break;case"xlinkActuate":kt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":kt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":kt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":kt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":kt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":kt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":kt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":kt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":kt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":fa(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=yu.get(r)||r,fa(t,r,o))}}function gd(t,n,r,o,h,f){switch(r){case"style":Mo(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof o=="string"?yn(t,o):(typeof o=="number"||typeof o=="bigint")&&yn(t,""+o);break;case"onScroll":o!=null&&Me("scroll",t);break;case"onScrollEnd":o!=null&&Me("scrollend",t);break;case"onClick":o!=null&&(t.onclick=ii);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xo.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[Kt]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,o,h);break e}r in t?t[r]=o:o===!0?t.setAttribute(r,""):fa(t,r,o)}}}function tn(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var p=r[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ht(t,n,f,p,r,null)}}h&&ht(t,n,"srcSet",r.srcSet,r,null),o&&ht(t,n,"src",r.src,r,null);return;case"input":Me("invalid",t);var T=f=p=h=null,R=null,z=null;for(o in r)if(r.hasOwnProperty(o)){var F=r[o];if(F!=null)switch(o){case"name":h=F;break;case"type":p=F;break;case"checked":R=F;break;case"defaultChecked":z=F;break;case"value":f=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:ht(t,n,o,F,r,null)}}mu(t,f,T,R,z,p,h,!1);return;case"select":Me("invalid",t),o=p=f=null;for(h in r)if(r.hasOwnProperty(h)&&(T=r[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":p=T;break;case"multiple":o=T;default:ht(t,n,h,T,r,null)}n=f,r=p,t.multiple=!!o,n!=null?ws(t,!!o,n,!1):r!=null&&ws(t,!!o,r,!0);return;case"textarea":Me("invalid",t),f=h=o=null;for(p in r)if(r.hasOwnProperty(p)&&(T=r[p],T!=null))switch(p){case"value":o=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:ht(t,n,p,T,r,null)}xs(t,o,h,f);return;case"option":for(R in r)r.hasOwnProperty(R)&&(o=r[R],o!=null)&&(R==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":ht(t,n,R,o,r,null));return;case"dialog":Me("beforetoggle",t),Me("toggle",t),Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(o=0;o<dl.length;o++)Me(dl[o],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(o=r[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ht(t,n,z,o,r,null)}return;default:if(ma(n)){for(F in r)r.hasOwnProperty(F)&&(o=r[F],o!==void 0&&gd(t,n,F,o,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(o=r[T],o!=null&&ht(t,n,T,o,r,null))}function rb(t,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,T=null,R=null,z=null,F=null;for(q in r){var Q=r[q];if(r.hasOwnProperty(q)&&Q!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=Q;default:o.hasOwnProperty(q)||ht(t,n,q,null,o,Q)}}for(var P in o){var q=o[P];if(Q=r[P],o.hasOwnProperty(P)&&(q!=null||Q!=null))switch(P){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":F=q;break;case"value":p=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==Q&&ht(t,n,P,q,o,Q)}}da(t,p,T,R,z,F,f,h);return;case"select":q=p=T=P=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:o.hasOwnProperty(f)||ht(t,n,f,null,o,R)}for(h in o)if(f=o[h],R=r[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":P=f;break;case"defaultValue":T=f;break;case"multiple":p=f;default:f!==R&&ht(t,n,h,f,o,R)}n=T,r=p,o=q,P!=null?ws(t,!!r,P,!1):!!o!=!!r&&(n!=null?ws(t,!!r,n,!0):ws(t,!!r,r?[]:"",!1));return;case"textarea":q=P=null;for(T in r)if(h=r[T],r.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ht(t,n,T,null,o,h)}for(p in o)if(h=o[p],f=r[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":P=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&ht(t,n,p,h,o,f)}pu(t,P,q);return;case"option":for(var oe in r)P=r[oe],r.hasOwnProperty(oe)&&P!=null&&!o.hasOwnProperty(oe)&&(oe==="selected"?t.selected=!1:ht(t,n,oe,null,o,P));for(R in o)P=o[R],q=r[R],o.hasOwnProperty(R)&&P!==q&&(P!=null||q!=null)&&(R==="selected"?t.selected=P&&typeof P!="function"&&typeof P!="symbol":ht(t,n,R,P,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in r)P=r[ge],r.hasOwnProperty(ge)&&P!=null&&!o.hasOwnProperty(ge)&&ht(t,n,ge,null,o,P);for(z in o)if(P=o[z],q=r[z],o.hasOwnProperty(z)&&P!==q&&(P!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(a(137,n));break;default:ht(t,n,z,P,o,q)}return;default:if(ma(n)){for(var ft in r)P=r[ft],r.hasOwnProperty(ft)&&P!==void 0&&!o.hasOwnProperty(ft)&&gd(t,n,ft,void 0,o,P);for(F in o)P=o[F],q=r[F],!o.hasOwnProperty(F)||P===q||P===void 0&&q===void 0||gd(t,n,F,P,o,q);return}}for(var j in r)P=r[j],r.hasOwnProperty(j)&&P!=null&&!o.hasOwnProperty(j)&&ht(t,n,j,null,o,P);for(Q in o)P=o[Q],q=r[Q],!o.hasOwnProperty(Q)||P===q||P==null&&q==null||ht(t,n,Q,P,o,q)}function l0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ab(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,p=h.initiatorType,T=h.duration;if(f&&T&&l0(p)){for(p=0,T=h.responseEnd,o+=1;o<r.length;o++){var R=r[o],z=R.startTime;if(z>T)break;var F=R.transferSize,Q=R.initiatorType;F&&l0(Q)&&(R=R.responseEnd,p+=F*(R<T?1:(T-z)/(R-z)))}if(--o,n+=8*(f+p)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var yd=null,_d=null;function _c(t){return t.nodeType===9?t:t.ownerDocument}function u0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function c0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function vd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ed=null;function ob(){var t=window.event;return t&&t.type==="popstate"?t===Ed?!1:(Ed=t,!0):(Ed=null,!1)}var h0=typeof setTimeout=="function"?setTimeout:void 0,lb=typeof clearTimeout=="function"?clearTimeout:void 0,f0=typeof Promise=="function"?Promise:void 0,ub=typeof queueMicrotask=="function"?queueMicrotask:typeof f0<"u"?function(t){return f0.resolve(null).then(t).catch(cb)}:h0;function cb(t){setTimeout(function(){throw t})}function Xs(t){return t==="head"}function d0(t,n){var r=n,o=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){t.removeChild(h),Xa(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")pl(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,pl(r);for(var f=r.firstChild;f;){var p=f.nextSibling,T=f.nodeName;f[bi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=p}}else r==="body"&&pl(t.ownerDocument.body);r=h}while(r);Xa(n)}function m0(t,n){var r=t;t=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=o}while(r)}function Td(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Td(r),ha(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function hb(t,n,r,o){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[bi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Qn(t.nextSibling),t===null)break}return null}function fb(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Qn(t.nextSibling),t===null))return null;return t}function p0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Qn(t.nextSibling),t===null))return null;return t}function bd(t){return t.data==="$?"||t.data==="$~"}function Ad(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function db(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Qn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Sd=null;function g0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return Qn(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function y0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function _0(t,n,r){switch(n=_c(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function pl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ha(t)}var Xn=new Map,v0=new Set;function vc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ds=ee.d;ee.d={f:mb,r:pb,D:gb,C:yb,L:_b,m:vb,X:Tb,S:Eb,M:bb};function mb(){var t=ds.f(),n=cc();return t||n}function pb(t){var n=Ln(t);n!==null&&n.tag===5&&n.type==="form"?jg(n):ds.r(t)}var Ka=typeof document>"u"?null:document;function E0(t,n,r){var o=Ka;if(o&&typeof n=="string"&&n){var h=gn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),v0.has(h)||(v0.add(h),t={rel:t,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),tn(n,"link",t),Vt(n),o.head.appendChild(n)))}}function gb(t){ds.D(t),E0("dns-prefetch",t,null)}function yb(t,n){ds.C(t,n),E0("preconnect",t,n)}function _b(t,n,r){ds.L(t,n,r);var o=Ka;if(o&&t&&n){var h='link[rel="preload"][as="'+gn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+gn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+gn(r.imageSizes)+'"]')):h+='[href="'+gn(t)+'"]';var f=h;switch(n){case"style":f=Ya(t);break;case"script":f=Qa(t)}Xn.has(f)||(t=S({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Xn.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(gl(f))||n==="script"&&o.querySelector(yl(f))||(n=o.createElement("link"),tn(n,"link",t),Vt(n),o.head.appendChild(n)))}}function vb(t,n){ds.m(t,n);var r=Ka;if(r&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+gn(o)+'"][href="'+gn(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Qa(t)}if(!Xn.has(f)&&(t=S({rel:"modulepreload",href:t},n),Xn.set(f,t),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(yl(f)))return}o=r.createElement("link"),tn(o,"link",t),Vt(o),r.head.appendChild(o)}}}function Eb(t,n,r){ds.S(t,n,r);var o=Ka;if(o&&t){var h=Si(o).hoistableStyles,f=Ya(t);n=n||"default";var p=h.get(f);if(!p){var T={loading:0,preload:null};if(p=o.querySelector(gl(f)))T.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Xn.get(f))&&wd(t,r);var R=p=o.createElement("link");Vt(R),tn(R,"link",t),R._p=new Promise(function(z,F){R.onload=z,R.onerror=F}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Ec(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:T},h.set(f,p)}}}function Tb(t,n){ds.X(t,n);var r=Ka;if(r&&t){var o=Si(r).hoistableScripts,h=Qa(t),f=o.get(h);f||(f=r.querySelector(yl(h)),f||(t=S({src:t,async:!0},n),(n=Xn.get(h))&&xd(t,n),f=r.createElement("script"),Vt(f),tn(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function bb(t,n){ds.M(t,n);var r=Ka;if(r&&t){var o=Si(r).hoistableScripts,h=Qa(t),f=o.get(h);f||(f=r.querySelector(yl(h)),f||(t=S({src:t,async:!0,type:"module"},n),(n=Xn.get(h))&&xd(t,n),f=r.createElement("script"),Vt(f),tn(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function T0(t,n,r,o){var h=(h=Re.current)?vc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Ya(r.href),r=Si(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Ya(r.href);var f=Si(h).hoistableStyles,p=f.get(t);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=h.querySelector(gl(t)))&&!f._p&&(p.instance=f,p.state.loading=5),Xn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Xn.set(t,r),f||Ab(h,t,r,p.state))),n&&o===null)throw Error(a(528,""));return p}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Qa(r),r=Si(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Ya(t){return'href="'+gn(t)+'"'}function gl(t){return'link[rel="stylesheet"]['+t+"]"}function b0(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function Ab(t,n,r,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),tn(n,"link",r),Vt(n),t.head.appendChild(n))}function Qa(t){return'[src="'+gn(t)+'"]'}function yl(t){return"script[async]"+t}function A0(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+gn(r.href)+'"]');if(o)return n.instance=o,Vt(o),o;var h=S({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Vt(o),tn(o,"style",h),Ec(o,r.precedence,t),n.instance=o;case"stylesheet":h=Ya(r.href);var f=t.querySelector(gl(h));if(f)return n.state.loading|=4,n.instance=f,Vt(f),f;o=b0(r),(h=Xn.get(h))&&wd(o,h),f=(t.ownerDocument||t).createElement("link"),Vt(f);var p=f;return p._p=new Promise(function(T,R){p.onload=T,p.onerror=R}),tn(f,"link",o),n.state.loading|=4,Ec(f,r.precedence,t),n.instance=f;case"script":return f=Qa(r.src),(h=t.querySelector(yl(f)))?(n.instance=h,Vt(h),h):(o=r,(h=Xn.get(f))&&(o=S({},r),xd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Vt(h),tn(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Ec(o,r.precedence,t));return n.instance}function Ec(t,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var T=o[p];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function wd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function xd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Tc=null;function S0(t,n,r){if(Tc===null){var o=new Map,h=Tc=new Map;h.set(r,o)}else h=Tc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(t))return o;for(o.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[bi]||f[Mt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var T=o.get(p);T?T.push(f):o.set(p,[f])}}return o}function w0(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function Sb(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function x0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function wb(t,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ya(o.href),f=n.querySelector(gl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=bc.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,Vt(f);return}f=n.ownerDocument||n,o=b0(o),(h=Xn.get(h))&&wd(o,h),f=f.createElement("link"),Vt(f);var p=f;p._p=new Promise(function(T,R){p.onload=T,p.onerror=R}),tn(f,"link",o),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=bc.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var Rd=0;function xb(t,n){return t.stylesheets&&t.count===0&&Sc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var o=setTimeout(function(){if(t.stylesheets&&Sc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Rd===0&&(Rd=62500*ab());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Sc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Rd?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function bc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Sc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ac=null;function Sc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ac=new Map,n.forEach(Rb,t),Ac=null,bc.call(t))}function Rb(t,n){if(!(n.state.loading&4)){var r=Ac.get(t);if(r)var o=r.get(null);else{r=new Map,Ac.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),o=p)}o&&r.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=r.get(p)||o,f===o&&r.set(null,h),r.set(p,h),this.count++,o=bc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var _l={$$typeof:ve,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function Cb(t,n,r,o,h,f,p,T,R){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ei(0),this.hiddenUpdates=Ei(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function R0(t,n,r,o,h,f,p,T,R,z,F,Q){return t=new Cb(t,n,r,p,R,z,F,Q,T),n=1,f===!0&&(n|=24),f=Cn(3,null,null,n),t.current=f,f.stateNode=t,n=af(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},cf(f),t}function C0(t){return t?(t=wa,t):wa}function N0(t,n,r,o,h,f){h=C0(h),o.context===null?o.context=h:o.pendingContext=h,o=Ls(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=zs(t,o,n),r!==null&&(bn(r,t,n),$o(r,t,n))}function I0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Cd(t,n){I0(t,n),(t=t.alternate)&&I0(t,n)}function D0(t){if(t.tag===13||t.tag===31){var n=jr(t,67108864);n!==null&&bn(n,t,67108864),Cd(t,67108864)}}function O0(t){if(t.tag===13||t.tag===31){var n=Mn();n=Sr(n);var r=jr(t,n);r!==null&&bn(r,t,n),Cd(t,n)}}var wc=!0;function Nb(t,n,r,o){var h=G.T;G.T=null;var f=ee.p;try{ee.p=2,Nd(t,n,r,o)}finally{ee.p=f,G.T=h}}function Ib(t,n,r,o){var h=G.T;G.T=null;var f=ee.p;try{ee.p=8,Nd(t,n,r,o)}finally{ee.p=f,G.T=h}}function Nd(t,n,r,o){if(wc){var h=Id(o);if(h===null)pd(t,n,o,xc,r),V0(t,o);else if(Ob(h,t,n,r,o))o.stopPropagation();else if(V0(t,o),n&4&&-1<Db.indexOf(t)){for(;h!==null;){var f=Ln(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=_i(f.pendingLanes);if(p!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;p;){var R=1<<31-Rt(p);T.entanglements[1]|=R,p&=~R}Ui(f),(nt&6)===0&&(lc=$e()+500,fl(0))}}break;case 31:case 13:T=jr(f,2),T!==null&&bn(T,f,2),cc(),Cd(f,2)}if(f=Id(o),f===null&&pd(t,n,o,xc,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else pd(t,n,o,null,r)}}function Id(t){return t=zn(t),Dd(t)}var xc=null;function Dd(t){if(xc=null,t=Ai(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===31){if(t=y(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return xc=t,null}function M0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hn()){case Yi:return 2;case Qi:return 8;case gi:case oa:return 32;case la:return 268435456;default:return 32}default:return 32}}var Od=!1,$s=null,Js=null,Zs=null,vl=new Map,El=new Map,Ws=[],Db="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function V0(t,n){switch(t){case"focusin":case"focusout":$s=null;break;case"dragenter":case"dragleave":Js=null;break;case"mouseover":case"mouseout":Zs=null;break;case"pointerover":case"pointerout":vl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":El.delete(n.pointerId)}}function Tl(t,n,r,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Ln(n),n!==null&&D0(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function Ob(t,n,r,o,h){switch(n){case"focusin":return $s=Tl($s,t,n,r,o,h),!0;case"dragenter":return Js=Tl(Js,t,n,r,o,h),!0;case"mouseover":return Zs=Tl(Zs,t,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return vl.set(f,Tl(vl.get(f)||null,t,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,El.set(f,Tl(El.get(f)||null,t,n,r,o,h)),!0}return!1}function k0(t){var n=Ai(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,ti(t.priority,function(){O0(r)});return}}else if(n===31){if(n=y(r),n!==null){t.blockedOn=n,ti(t.priority,function(){O0(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Rc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Id(t.nativeEvent);if(r===null){r=t.nativeEvent;var o=new r.constructor(r.type,r);Vo=o,r.target.dispatchEvent(o),Vo=null}else return n=Ln(r),n!==null&&D0(n),t.blockedOn=r,!1;n.shift()}return!0}function j0(t,n,r){Rc(t)&&r.delete(n)}function Mb(){Od=!1,$s!==null&&Rc($s)&&($s=null),Js!==null&&Rc(Js)&&(Js=null),Zs!==null&&Rc(Zs)&&(Zs=null),vl.forEach(j0),El.forEach(j0)}function Cc(t,n){t.blockedOn===n&&(t.blockedOn=null,Od||(Od=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Mb)))}var Nc=null;function U0(t){Nc!==t&&(Nc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Nc===t&&(Nc=null);for(var n=0;n<t.length;n+=3){var r=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(Dd(o||r)===null)continue;break}var f=Ln(r);f!==null&&(t.splice(n,3),n-=3,If(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function Xa(t){function n(R){return Cc(R,t)}$s!==null&&Cc($s,t),Js!==null&&Cc(Js,t),Zs!==null&&Cc(Zs,t),vl.forEach(n),El.forEach(n);for(var r=0;r<Ws.length;r++){var o=Ws[r];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Ws.length&&(r=Ws[0],r.blockedOn===null);)k0(r),r.blockedOn===null&&Ws.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],p=h[Kt]||null;if(typeof f=="function")p||U0(r);else if(p){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Kt]||null)T=p.formAction;else if(Dd(h)!==null)continue}else T=p.action;typeof T=="function"?r[o+1]=T:(r.splice(o,3),o-=3),U0(r)}}}function L0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Md(t){this._internalRoot=t}Ic.prototype.render=Md.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=Mn();N0(r,o,t,n,null,null)},Ic.prototype.unmount=Md.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;N0(t.current,2,null,t,null,null),cc(),n[Ti]=null}};function Ic(t){this._internalRoot=t}Ic.prototype.unstable_scheduleHydration=function(t){if(t){var n=cu();t={blockedOn:null,target:t,priority:n};for(var r=0;r<Ws.length&&n!==0&&n<Ws[r].priority;r++);Ws.splice(r,0,t),r===0&&k0(t)}};var z0=e.version;if(z0!=="19.2.3")throw Error(a(527,z0,"19.2.3"));ee.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var Vb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dc.isDisabled&&Dc.supportsFiber)try{Wn=Dc.inject(Vb),$t=Dc}catch{}}return Al.createRoot=function(t,n){if(!l(t))throw Error(a(299));var r=!1,o="",h=Kg,f=Yg,p=Qg;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=R0(t,1,!1,null,null,r,o,null,h,f,p,L0),t[Ti]=n.current,md(t),new Md(n)},Al.hydrateRoot=function(t,n,r){if(!l(t))throw Error(a(299));var o=!1,h="",f=Kg,p=Yg,T=Qg,R=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.formState!==void 0&&(R=r.formState)),n=R0(t,1,!0,n,r??null,o,h,R,f,p,T,L0),n.context=C0(null),r=n.current,o=Mn(),o=Sr(o),h=Ls(o),h.callback=null,zs(r,h,o),r=o,n.current.lanes=r,br(n,r),Ui(n),t[Ti]=n.current,md(t),new Ic(n)},Al.version="19.2.3",Al}var X0;function Gb(){if(X0)return jd.exports;X0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),jd.exports=Hb(),jd.exports}var Fb=Gb();const Kb=()=>{};var $0={};const Nv=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},Yb=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];e[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],y=s[i++],g=((l&7)<<18|(c&63)<<12|(d&63)<<6|y&63)-65536;e[a++]=String.fromCharCode(55296+(g>>10)),e[a++]=String.fromCharCode(56320+(g&1023))}else{const c=s[i++],d=s[i++];e[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Iv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,y=d?s[l+1]:0,g=l+2<s.length,_=g?s[l+2]:0,A=c>>2,S=(c&3)<<4|y>>4;let I=(y&15)<<2|_>>6,H=_&63;g||(H=64,d||(I=64)),a.push(i[A],i[S],i[I],i[H])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Nv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):Yb(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],y=l<s.length?i[s.charAt(l)]:0;++l;const _=l<s.length?i[s.charAt(l)]:64;++l;const S=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||y==null||_==null||S==null)throw new Qb;const I=c<<2|y>>4;if(a.push(I),_!==64){const H=y<<4&240|_>>2;if(a.push(H),S!==64){const J=_<<6&192|S;a.push(J)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Qb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Xb=function(s){const e=Nv(s);return Iv.encodeByteArray(e,!0)},Jc=function(s){return Xb(s).replace(/\./g,"")},Dv=function(s){try{return Iv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function $b(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Jb=()=>$b().__FIREBASE_DEFAULTS__,Zb=()=>{if(typeof process>"u"||typeof $0>"u")return;const s=$0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Wb=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Dv(s[1]);return e&&JSON.parse(e)},yh=()=>{try{return Kb()||Jb()||Zb()||Wb()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Ov=s=>yh()?.emulatorHosts?.[s],eA=s=>{const e=Ov(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Mv=()=>yh()?.config,Vv=s=>yh()?.[`_${s}`];class tA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function go(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function kv(s){return(await fetch(s,{credentials:"include"})).ok}function nA(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Jc(JSON.stringify(i)),Jc(JSON.stringify(d)),""].join(".")}const Nl={};function iA(){const s={prod:[],emulator:[]};for(const e of Object.keys(Nl))Nl[e]?s.emulator.push(e):s.prod.push(e);return s}function sA(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let J0=!1;function jv(s,e){if(typeof window>"u"||typeof document>"u"||!go(window.location.host)||Nl[s]===e||Nl[s]||J0)return;Nl[s]=e;function i(I){return`__firebase__banner__${I}`}const a="__firebase__banner",c=iA().prod.length>0;function d(){const I=document.getElementById(a);I&&I.remove()}function y(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function g(I,H){I.setAttribute("width","24"),I.setAttribute("id",H),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function _(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{J0=!0,d()},I}function A(I,H){I.setAttribute("id",H),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function S(){const I=sA(a),H=i("text"),J=document.getElementById(H)||document.createElement("span"),W=i("learnmore"),ne=document.getElementById(W)||document.createElement("a"),ce=i("preprendIcon"),Ae=document.getElementById(ce)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const ve=I.element;y(ve),A(ne,W);const st=_();g(Ae,ce),ve.append(Ae,J,ne,st),document.body.appendChild(ve)}c?(J.innerText="Preview backend disconnected.",Ae.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Ae.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function aA(){const s=yh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function uA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cA(){const s=cn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function hA(){return!aA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fA(){try{return typeof indexedDB=="object"}catch{return!1}}function dA(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const mA="FirebaseError";class As extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=mA,Object.setPrototypeOf(this,As.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kl.prototype.create)}}class Kl{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?pA(c,a):"Error",y=`${this.serviceName}: ${d} (${l}).`;return new As(l,y,a)}}function pA(s,e){return s.replace(gA,(i,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const gA=/\{\$([^}]+)}/g;function yA(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function fr(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=e[l];if(Z0(c)&&Z0(d)){if(!fr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function Z0(s){return s!==null&&typeof s=="object"}function Yl(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function _A(s,e){const i=new vA(s,e);return i.subscribe.bind(i)}class vA{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let l;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");EA(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:a},l.next===void 0&&(l.next=Pd),l.error===void 0&&(l.error=Pd),l.complete===void 0&&(l.complete=Pd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function EA(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Pd(){}function mn(s){return s&&s._delegate?s._delegate:s}class Wr{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Xr="[DEFAULT]";class TA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new tA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(AA(e))try{this.getOrInitializeService({instanceIdentifier:Xr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(e=Xr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xr){return this.instances.has(e)}getOptions(e=Xr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(c);a===y&&d.resolve(l)}return l}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:bA(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Xr){return this.component?this.component.multipleInstances?e:Xr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bA(s){return s===Xr?void 0:s}function AA(s){return s.instantiationMode==="EAGER"}class SA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new TA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Le;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Le||(Le={}));const wA={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},xA=Le.INFO,RA={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},CA=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),l=RA[e];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Nm{constructor(e){this.name=e,this._logLevel=xA,this._logHandler=CA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const NA=(s,e)=>e.some(i=>s instanceof i);let W0,e_;function IA(){return W0||(W0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DA(){return e_||(e_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Uv=new WeakMap,em=new WeakMap,Lv=new WeakMap,Bd=new WeakMap,Im=new WeakMap;function OA(s){const e=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(or(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Uv.set(i,s)}).catch(()=>{}),Im.set(e,s),e}function MA(s){if(em.has(s))return;const e=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});em.set(s,e)}let tm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return em.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Lv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return or(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function VA(s){tm=s(tm)}function kA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(qd(this),e,...i);return Lv.set(a,e.sort?e.sort():[e]),or(a)}:DA().includes(s)?function(...e){return s.apply(qd(this),e),or(Uv.get(this))}:function(...e){return or(s.apply(qd(this),e))}}function jA(s){return typeof s=="function"?kA(s):(s instanceof IDBTransaction&&MA(s),NA(s,IA())?new Proxy(s,tm):s)}function or(s){if(s instanceof IDBRequest)return OA(s);if(Bd.has(s))return Bd.get(s);const e=jA(s);return e!==s&&(Bd.set(s,e),Im.set(e,s)),e}const qd=s=>Im.get(s);function UA(s,e,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,e),y=or(d);return a&&d.addEventListener("upgradeneeded",g=>{a(or(d.result),g.oldVersion,g.newVersion,or(d.transaction),g)}),i&&d.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),y.then(g=>{c&&g.addEventListener("close",()=>c()),l&&g.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const LA=["get","getKey","getAll","getAllKeys","count"],zA=["put","add","delete","clear"],Hd=new Map;function t_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Hd.get(e))return Hd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,l=zA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||LA.includes(i)))return;const c=async function(d,...y){const g=this.transaction(d,l?"readwrite":"readonly");let _=g.store;return a&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),l&&g.done]))[0]};return Hd.set(e,c),c}VA(s=>({...s,get:(e,i,a)=>t_(e,i)||s.get(e,i,a),has:(e,i)=>!!t_(e,i)||s.has(e,i)}));class PA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(BA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function BA(s){return s.getComponent()?.type==="VERSION"}const nm="@firebase/app",n_="0.14.7";const ys=new Nm("@firebase/app"),qA="@firebase/app-compat",HA="@firebase/analytics-compat",GA="@firebase/analytics",FA="@firebase/app-check-compat",KA="@firebase/app-check",YA="@firebase/auth",QA="@firebase/auth-compat",XA="@firebase/database",$A="@firebase/data-connect",JA="@firebase/database-compat",ZA="@firebase/functions",WA="@firebase/functions-compat",eS="@firebase/installations",tS="@firebase/installations-compat",nS="@firebase/messaging",iS="@firebase/messaging-compat",sS="@firebase/performance",rS="@firebase/performance-compat",aS="@firebase/remote-config",oS="@firebase/remote-config-compat",lS="@firebase/storage",uS="@firebase/storage-compat",cS="@firebase/firestore",hS="@firebase/ai",fS="@firebase/firestore-compat",dS="firebase",mS="12.8.0";const im="[DEFAULT]",pS={[nm]:"fire-core",[qA]:"fire-core-compat",[GA]:"fire-analytics",[HA]:"fire-analytics-compat",[KA]:"fire-app-check",[FA]:"fire-app-check-compat",[YA]:"fire-auth",[QA]:"fire-auth-compat",[XA]:"fire-rtdb",[$A]:"fire-data-connect",[JA]:"fire-rtdb-compat",[ZA]:"fire-fn",[WA]:"fire-fn-compat",[eS]:"fire-iid",[tS]:"fire-iid-compat",[nS]:"fire-fcm",[iS]:"fire-fcm-compat",[sS]:"fire-perf",[rS]:"fire-perf-compat",[aS]:"fire-rc",[oS]:"fire-rc-compat",[lS]:"fire-gcs",[uS]:"fire-gcs-compat",[cS]:"fire-fst",[fS]:"fire-fst-compat",[hS]:"fire-vertex","fire-js":"fire-js",[dS]:"fire-js-all"};const Zc=new Map,gS=new Map,sm=new Map;function i_(s,e){try{s.container.addComponent(e)}catch(i){ys.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function oo(s){const e=s.name;if(sm.has(e))return ys.debug(`There were multiple attempts to register component ${e}.`),!1;sm.set(e,s);for(const i of Zc.values())i_(i,s);for(const i of gS.values())i_(i,s);return!0}function Dm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function Jn(s){return s==null?!1:s.settings!==void 0}const yS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},lr=new Kl("app","Firebase",yS);class _S{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Wr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw lr.create("app-deleted",{appName:this._name})}}const yo=mS;function zv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:im,automaticDataCollectionEnabled:!0,...e},l=a.name;if(typeof l!="string"||!l)throw lr.create("bad-app-name",{appName:String(l)});if(i||(i=Mv()),!i)throw lr.create("no-options");const c=Zc.get(l);if(c){if(fr(i,c.options)&&fr(a,c.config))return c;throw lr.create("duplicate-app",{appName:l})}const d=new SA(l);for(const g of sm.values())d.addComponent(g);const y=new _S(i,a,d);return Zc.set(l,y),y}function Pv(s=im){const e=Zc.get(s);if(!e&&s===im&&Mv())return zv();if(!e)throw lr.create("no-app",{appName:s});return e}function ur(s,e,i){let a=pS[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ys.warn(d.join(" "));return}oo(new Wr(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const vS="firebase-heartbeat-database",ES=1,jl="firebase-heartbeat-store";let Gd=null;function Bv(){return Gd||(Gd=UA(vS,ES,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(jl)}catch(i){console.warn(i)}}}}).catch(s=>{throw lr.create("idb-open",{originalErrorMessage:s.message})})),Gd}async function TS(s){try{const i=(await Bv()).transaction(jl),a=await i.objectStore(jl).get(qv(s));return await i.done,a}catch(e){if(e instanceof As)ys.warn(e.message);else{const i=lr.create("idb-get",{originalErrorMessage:e?.message});ys.warn(i.message)}}}async function s_(s,e){try{const a=(await Bv()).transaction(jl,"readwrite");await a.objectStore(jl).put(e,qv(s)),await a.done}catch(i){if(i instanceof As)ys.warn(i.message);else{const a=lr.create("idb-set",{originalErrorMessage:i?.message});ys.warn(a.message)}}}function qv(s){return`${s.name}!${s.options.appId}`}const bS=1024,AS=30;class SS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new xS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=r_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>AS){const l=RS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ys.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=r_(),{heartbeatsToSend:i,unsentEntries:a}=wS(this._heartbeatsCache.heartbeats),l=Jc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return ys.warn(e),""}}}function r_(){return new Date().toISOString().substring(0,10)}function wS(s,e=bS){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),a_(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),a_(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class xS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fA()?dA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await TS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return s_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return s_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function a_(s){return Jc(JSON.stringify({version:2,heartbeats:s})).length}function RS(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}function CS(s){oo(new Wr("platform-logger",e=>new PA(e),"PRIVATE")),oo(new Wr("heartbeat",e=>new SS(e),"PRIVATE")),ur(nm,n_,s),ur(nm,n_,"esm2020"),ur("fire-js","")}CS("");var NS="firebase",IS="12.8.0";ur(NS,IS,"app");function Hv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const DS=Hv,Gv=new Kl("auth","Firebase",Hv());const Wc=new Nm("@firebase/auth");function OS(s,...e){Wc.logLevel<=Le.WARN&&Wc.warn(`Auth (${yo}): ${s}`,...e)}function zc(s,...e){Wc.logLevel<=Le.ERROR&&Wc.error(`Auth (${yo}): ${s}`,...e)}function _s(s,...e){throw Om(s,...e)}function Pi(s,...e){return Om(s,...e)}function Fv(s,e,i){const a={...DS(),[e]:i};return new Kl("auth","Firebase",a).create(e,{appName:s.name})}function gs(s){return Fv(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Om(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return Gv.create(s,...e)}function be(s,e,...i){if(!s)throw Om(e,...i)}function ms(s){const e="INTERNAL ASSERTION FAILED: "+s;throw zc(e),new Error(e)}function vs(s,e){s||ms(e)}function rm(){return typeof self<"u"&&self.location?.href||""}function MS(){return o_()==="http:"||o_()==="https:"}function o_(){return typeof self<"u"&&self.location?.protocol||null}function VS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(MS()||lA()||"connection"in navigator)?navigator.onLine:!0}function kS(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Ql{constructor(e,i){this.shortDelay=e,this.longDelay=i,vs(i>e,"Short delay should be less than long delay!"),this.isMobile=rA()||uA()}get(){return VS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Mm(s,e){vs(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class Kv{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ms("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ms("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ms("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const jS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const US=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],LS=new Ql(3e4,6e4);function Xl(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function _o(s,e,i,a,l={}){return Yv(s,l,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const y=Yl({key:s.config.apiKey,...d}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const _={method:e,headers:g,...c};return oA()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&go(s.emulatorConfig.host)&&(_.credentials="include"),Kv.fetch()(await Qv(s,s.config.apiHost,i,y),_)})}async function Yv(s,e,i){s._canInitEmulator=!1;const a={...jS,...e};try{const l=new zS(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Oc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const y=c.ok?d.errorMessage:d.error.message,[g,_]=y.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Oc(s,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw Oc(s,"email-already-in-use",d);if(g==="USER_DISABLED")throw Oc(s,"user-disabled",d);const A=a[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Fv(s,A,_);_s(s,A)}}catch(l){if(l instanceof As)throw l;_s(s,"network-request-failed",{message:String(l)})}}async function Vm(s,e,i,a,l={}){const c=await _o(s,e,i,a,l);return"mfaPendingCredential"in c&&_s(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function Qv(s,e,i,a){const l=`${e}${i}?${a}`,c=s,d=c.config.emulator?Mm(s.config,l):`${s.config.apiScheme}://${l}`;return US.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class zS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Pi(this.auth,"network-request-failed")),LS.get())})}}function Oc(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Pi(s,e,a);return l.customData._tokenResponse=i,l}async function PS(s,e){return _o(s,"POST","/v1/accounts:delete",e)}async function eh(s,e){return _o(s,"POST","/v1/accounts:lookup",e)}function Il(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function BS(s,e=!1){const i=mn(s),a=await i.getIdToken(e),l=km(a);be(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Il(Fd(l.auth_time)),issuedAtTime:Il(Fd(l.iat)),expirationTime:Il(Fd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Fd(s){return Number(s)*1e3}function km(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return zc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Dv(i);return l?JSON.parse(l):(zc("Failed to decode base64 JWT payload"),null)}catch(l){return zc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function l_(s){const e=km(s);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ul(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof As&&qS(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function qS({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class HS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class am{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Il(this.lastLoginAt),this.creationTime=Il(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function th(s){const e=s.auth,i=await s.getIdToken(),a=await Ul(s,eh(e,{idToken:i}));be(a?.users.length,e,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?Xv(l.providerUserInfo):[],d=FS(s.providerData,c),y=s.isAnonymous,g=!(s.email&&l.passwordHash)&&!d?.length,_=y?g:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new am(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,A)}async function GS(s){const e=mn(s);await th(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function FS(s,e){return[...s.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function Xv(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function KS(s,e){const i=await Yv(s,{},async()=>{const a=Yl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await Qv(s,l,"/v1/token",`key=${c}`),y=await s._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:y,body:a};return s.emulatorConfig&&go(s.emulatorConfig.host)&&(g.credentials="include"),Kv.fetch()(d,g)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function YS(s,e){return _o(s,"POST","/v2/accounts:revokeToken",Xl(s,e))}class to{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):l_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){be(e.length!==0,"internal-error");const i=l_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await KS(e,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new to;return a&&(be(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),l&&(be(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(be(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new to,this.toJSON())}_performRefresh(){return ms("not implemented")}}function tr(s,e){be(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class fi{constructor({uid:e,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new HS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new am(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await Ul(this,this.stsTokenManager.getToken(this.auth,e));return be(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return BS(this,e)}reload(){return GS(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new fi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await th(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jn(this.auth.app))return Promise.reject(gs(this.auth));const e=await this.getIdToken();return await Ul(this,PS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,y=i.tenantId??void 0,g=i._redirectEventId??void 0,_=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:S,emailVerified:I,isAnonymous:H,providerData:J,stsTokenManager:W}=i;be(S&&W,e,"internal-error");const ne=to.fromJSON(this.name,W);be(typeof S=="string",e,"internal-error"),tr(a,e.name),tr(l,e.name),be(typeof I=="boolean",e,"internal-error"),be(typeof H=="boolean",e,"internal-error"),tr(c,e.name),tr(d,e.name),tr(y,e.name),tr(g,e.name),tr(_,e.name),tr(A,e.name);const ce=new fi({uid:S,auth:e,email:l,emailVerified:I,displayName:a,isAnonymous:H,photoURL:d,phoneNumber:c,tenantId:y,stsTokenManager:ne,createdAt:_,lastLoginAt:A});return J&&Array.isArray(J)&&(ce.providerData=J.map(Ae=>({...Ae}))),g&&(ce._redirectEventId=g),ce}static async _fromIdTokenResponse(e,i,a=!1){const l=new to;l.updateFromServerResponse(i);const c=new fi({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await th(c),c}static async _fromGetAccountInfoResponse(e,i,a){const l=i.users[0];be(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Xv(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,y=new to;y.updateFromIdToken(a);const g=new fi({uid:l.localId,auth:e,stsTokenManager:y,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new am(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(g,_),g}}const u_=new Map;function ps(s){vs(s instanceof Function,"Expected a class definition");let e=u_.get(s);return e?(vs(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,u_.set(s,e),e)}class $v{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}$v.type="NONE";const c_=$v;function Pc(s,e,i){return`firebase:${s}:${e}:${i}`}class no{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Pc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Pc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await eh(this.auth,{idToken:e}).catch(()=>{});return i?fi._fromGetAccountInfoResponse(this.auth,i,e):null}return fi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new no(ps(c_),e,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||ps(c_);const d=Pc(a,e.config.apiKey,e.name);let y=null;for(const _ of i)try{const A=await _._get(d);if(A){let S;if(typeof A=="string"){const I=await eh(e,{idToken:A}).catch(()=>{});if(!I)break;S=await fi._fromGetAccountInfoResponse(e,I,A)}else S=fi._fromJSON(e,A);_!==c&&(y=S),c=_;break}}catch{}const g=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new no(c,e,a):(c=g[0],y&&await c._set(d,y.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new no(c,e,a))}}function h_(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(e1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Jv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(n1(e))return"Blackberry";if(i1(e))return"Webos";if(Zv(e))return"Safari";if((e.includes("chrome/")||Wv(e))&&!e.includes("edge/"))return"Chrome";if(t1(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function Jv(s=cn()){return/firefox\//i.test(s)}function Zv(s=cn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Wv(s=cn()){return/crios\//i.test(s)}function e1(s=cn()){return/iemobile/i.test(s)}function t1(s=cn()){return/android/i.test(s)}function n1(s=cn()){return/blackberry/i.test(s)}function i1(s=cn()){return/webos/i.test(s)}function jm(s=cn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function QS(s=cn()){return jm(s)&&!!window.navigator?.standalone}function XS(){return cA()&&document.documentMode===10}function s1(s=cn()){return jm(s)||t1(s)||i1(s)||n1(s)||/windows phone/i.test(s)||e1(s)}function r1(s,e=[]){let i;switch(s){case"Browser":i=h_(cn());break;case"Worker":i=`${h_(cn())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${yo}/${a}`}class $S{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,y)=>{try{const g=e(c);d(g)}catch(g){y(g)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function JS(s,e={}){return _o(s,"GET","/v2/passwordPolicy",Xl(s,e))}const ZS=6;class WS{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??ZS,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class e2{constructor(e,i,a,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new f_(this),this.idTokenSubscription=new f_(this),this.beforeStateQueue=new $S(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Gv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=ps(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await no.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await eh(this,{idToken:e}),a=await fi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Jn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,y=await this.tryRedirectSignIn(e);(!c||c===d)&&y?.user&&(a=y.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await th(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=kS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Jn(this.app))return Promise.reject(gs(this));const i=e?mn(e):null;return i&&be(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Jn(this.app)?Promise.reject(gs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Jn(this.app)?Promise.reject(gs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ps(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await JS(this),i=new WS(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Kl("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await YS(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&ps(e)||this._popupRedirectResolver;be(i,this,"argument-error"),this.redirectPersistenceManager=await no.create(this,[ps(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(y,this,"internal-error"),y.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const g=e.addObserver(i,a,l);return()=>{d=!0,g()}}else{const g=e.addObserver(i);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=r1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(Jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&OS(`Error while retrieving App Check token: ${e.error}`),e?.token}}function $l(s){return mn(s)}class f_{constructor(e){this.auth=e,this.observer=null,this.addObserver=_A(i=>this.observer=i)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Um={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function t2(s){Um=s}function n2(s){return Um.loadJS(s)}function i2(){return Um.gapiScript}function s2(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function r2(s,e){const i=Dm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(fr(c,e??{}))return l;_s(l,"already-initialized")}return i.initialize({options:e})}function a2(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(ps);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function o2(s,e,i){const a=$l(s);be(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,c=a1(e),{host:d,port:y}=l2(e),g=y===null?"":`:${y}`,_={url:`${c}//${d}${g}/`},A=Object.freeze({host:d,port:y,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){be(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),be(fr(_,a.config.emulator)&&fr(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,go(d)?(kv(`${c}//${d}${g}`),jv("Auth",!0)):u2()}function a1(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function l2(s){const e=a1(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:d_(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:d_(d)}}}function d_(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function u2(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class o1{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return ms("not implemented")}_getIdTokenResponse(e){return ms("not implemented")}_linkToIdToken(e,i){return ms("not implemented")}_getReauthenticationResolver(e){return ms("not implemented")}}async function io(s,e){return Vm(s,"POST","/v1/accounts:signInWithIdp",Xl(s,e))}const c2="http://localhost";class ea extends o1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new ea(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):_s("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new ea(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return io(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,io(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,io(e,i)}buildRequest(){const e={requestUri:c2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Yl(i)}return e}}class l1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Jl extends l1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class nr extends Jl{constructor(){super("facebook.com")}static credential(e){return ea._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return nr.credentialFromTaggedObject(e)}static credentialFromError(e){return nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return nr.credential(e.oauthAccessToken)}catch{return null}}}nr.FACEBOOK_SIGN_IN_METHOD="facebook.com";nr.PROVIDER_ID="facebook.com";class ir extends Jl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return ea._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return ir.credentialFromTaggedObject(e)}static credentialFromError(e){return ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return ir.credential(i,a)}catch{return null}}}ir.GOOGLE_SIGN_IN_METHOD="google.com";ir.PROVIDER_ID="google.com";class sr extends Jl{constructor(){super("github.com")}static credential(e){return ea._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sr.credentialFromTaggedObject(e)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sr.credential(e.oauthAccessToken)}catch{return null}}}sr.GITHUB_SIGN_IN_METHOD="github.com";sr.PROVIDER_ID="github.com";class rr extends Jl{constructor(){super("twitter.com")}static credential(e,i){return ea._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return rr.credentialFromTaggedObject(e)}static credentialFromError(e){return rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return rr.credential(i,a)}catch{return null}}}rr.TWITTER_SIGN_IN_METHOD="twitter.com";rr.PROVIDER_ID="twitter.com";async function h2(s,e){return Vm(s,"POST","/v1/accounts:signUp",Xl(s,e))}class Es{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,l=!1){const c=await fi._fromIdTokenResponse(e,a,l),d=m_(a);return new Es({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const l=m_(a);return new Es({user:e,providerId:l,_tokenResponse:a,operationType:i})}}function m_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function f2(s){if(Jn(s.app))return Promise.reject(gs(s));const e=$l(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Es({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await h2(e,{returnSecureToken:!0}),a=await Es._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class nh extends As{constructor(e,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,nh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,l){return new nh(e,i,a,l)}}function u1(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?nh._fromErrorAndOperation(s,c,e,a):c})}async function d2(s,e,i=!1){const a=await Ul(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return Es._forOperation(s,"link",a)}async function m2(s,e,i=!1){const{auth:a}=s;if(Jn(a.app))return Promise.reject(gs(a));const l="reauthenticate";try{const c=await Ul(s,u1(a,l,e,s),i);be(c.idToken,a,"internal-error");const d=km(c.idToken);be(d,a,"internal-error");const{sub:y}=d;return be(s.uid===y,a,"user-mismatch"),Es._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&_s(a,"user-mismatch"),c}}async function p2(s,e,i=!1){if(Jn(s.app))return Promise.reject(gs(s));const a="signIn",l=await u1(s,a,e),c=await Es._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}async function g2(s,e){return Vm(s,"POST","/v1/accounts:signInWithCustomToken",Xl(s,e))}async function y2(s,e){if(Jn(s.app))return Promise.reject(gs(s));const i=$l(s),a=await g2(i,{token:e,returnSecureToken:!0}),l=await Es._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function _2(s,e,i,a){return mn(s).onIdTokenChanged(e,i,a)}function v2(s,e,i){return mn(s).beforeAuthStateChanged(e,i)}function E2(s,e,i,a){return mn(s).onAuthStateChanged(e,i,a)}const ih="__sak";class c1{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(ih,"1"),this.storage.removeItem(ih),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const T2=1e3,b2=10;class h1 extends c1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=s1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&e(i,l,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,y,g)=>{this.notifyListeners(d,g)});return}const a=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);XS()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,b2):l()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},T2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}h1.type="LOCAL";const A2=h1;class f1 extends c1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}f1.type="SESSION";const d1=f1;function S2(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class _h{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const a=new _h(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const y=Array.from(d).map(async _=>_(i.origin,c)),g=await S2(y);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:g})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_h.receivers=[];function Lm(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}class w2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((y,g)=>{const _=Lm("",20);l.port1.start();const A=setTimeout(()=>{g(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(S){const I=S;if(I.data.eventId===_)switch(I.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),y(I.data.response);break;default:clearTimeout(A),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Bi(){return window}function x2(s){Bi().location.href=s}function m1(){return typeof Bi().WorkerGlobalScope<"u"&&typeof Bi().importScripts=="function"}async function R2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function C2(){return navigator?.serviceWorker?.controller||null}function N2(){return m1()?self:null}const p1="firebaseLocalStorageDb",I2=1,sh="firebaseLocalStorage",g1="fbase_key";class Zl{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function vh(s,e){return s.transaction([sh],e?"readwrite":"readonly").objectStore(sh)}function D2(){const s=indexedDB.deleteDatabase(p1);return new Zl(s).toPromise()}function om(){const s=indexedDB.open(p1,I2);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(sh,{keyPath:g1})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(sh)?e(a):(a.close(),await D2(),e(await om()))})})}async function p_(s,e,i){const a=vh(s,!0).put({[g1]:e,value:i});return new Zl(a).toPromise()}async function O2(s,e){const i=vh(s,!1).get(e),a=await new Zl(i).toPromise();return a===void 0?null:a.value}function g_(s,e){const i=vh(s,!0).delete(e);return new Zl(i).toPromise()}const M2=800,V2=3;class y1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await om(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>V2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return m1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_h._getInstance(N2()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await R2(),!this.activeServiceWorker)return;this.sender=new w2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||C2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await om();return await p_(e,ih,"1"),await g_(e,ih),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>p_(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>O2(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>g_(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=vh(l,!1).getAll();return new Zl(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),M2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}y1.type="LOCAL";const k2=y1;new Ql(3e4,6e4);function j2(s,e){return e?ps(e):(be(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class zm extends o1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return io(e,this._buildIdpRequest())}_linkToIdToken(e,i){return io(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return io(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function U2(s){return p2(s.auth,new zm(s),s.bypassAuthState)}function L2(s){const{auth:e,user:i}=s;return be(i,e,"internal-error"),m2(i,new zm(s),s.bypassAuthState)}async function z2(s){const{auth:e,user:i}=s;return be(i,e,"internal-error"),d2(i,new zm(s),s.bypassAuthState)}class _1{constructor(e,i,a,l,c=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:y}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(g))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return U2;case"linkViaPopup":case"linkViaRedirect":return z2;case"reauthViaPopup":case"reauthViaRedirect":return L2;default:_s(this.auth,"internal-error")}}resolve(e){vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const P2=new Ql(2e3,1e4);class eo extends _1{constructor(e,i,a,l,c){super(e,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,eo.currentPopupAction&&eo.currentPopupAction.cancel(),eo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){vs(this.filter.length===1,"Popup operations only handle one event");const e=Lm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,eo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,P2.get())};e()}}eo.currentPopupAction=null;const B2="pendingRedirect",Bc=new Map;class q2 extends _1{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Bc.get(this.auth._key());if(!e){try{const a=await H2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Bc.set(this.auth._key(),e)}return this.bypassAuthState||Bc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function H2(s,e){const i=K2(e),a=F2(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function G2(s,e){Bc.set(s._key(),e)}function F2(s){return ps(s._redirectPersistence)}function K2(s){return Pc(B2,s.config.apiKey,s.name)}async function Y2(s,e,i=!1){if(Jn(s.app))return Promise.reject(gs(s));const a=$l(s),l=j2(a,e),d=await new q2(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const Q2=600*1e3;class X2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$2(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!v1(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Pi(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Q2&&this.cachedEventUids.clear(),this.cachedEventUids.has(y_(e))}saveEventToCache(e){this.cachedEventUids.add(y_(e)),this.lastProcessedEventTime=Date.now()}}function y_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function v1({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function $2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return v1(s);default:return!1}}async function J2(s,e={}){return _o(s,"GET","/v1/projects",e)}const Z2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,W2=/^https?/;async function ew(s){if(s.config.emulator)return;const{authorizedDomains:e}=await J2(s);for(const i of e)try{if(tw(i))return}catch{}_s(s,"unauthorized-domain")}function tw(s){const e=rm(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!W2.test(i))return!1;if(Z2.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const nw=new Ql(3e4,6e4);function __(){const s=Bi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function iw(s){return new Promise((e,i)=>{function a(){__(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{__(),i(Pi(s,"network-request-failed"))},timeout:nw.get()})}if(Bi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Bi().gapi?.load)a();else{const l=s2("iframefcb");return Bi()[l]=()=>{gapi.load?a():i(Pi(s,"network-request-failed"))},n2(`${i2()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw qc=null,e})}let qc=null;function sw(s){return qc=qc||iw(s),qc}const rw=new Ql(5e3,15e3),aw="__/auth/iframe",ow="emulator/auth/iframe",lw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cw(s){const e=s.config;be(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Mm(e,ow):`https://${s.config.authDomain}/${aw}`,a={apiKey:e.apiKey,appName:s.name,v:yo},l=uw.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Yl(a).slice(1)}`}async function hw(s){const e=await sw(s),i=Bi().gapi;return be(i,s,"internal-error"),e.open({where:document.body,url:cw(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lw,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Pi(s,"network-request-failed"),y=Bi().setTimeout(()=>{c(d)},rw.get());function g(){Bi().clearTimeout(y),l(a)}a.ping(g).then(g,()=>{c(d)})}))}const fw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dw=500,mw=600,pw="_blank",gw="http://localhost";class v_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function yw(s,e,i,a=dw,l=mw){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let y="";const g={...fw,width:a.toString(),height:l.toString(),top:c,left:d},_=cn().toLowerCase();i&&(y=Wv(_)?pw:i),Jv(_)&&(e=e||gw,g.scrollbars="yes");const A=Object.entries(g).reduce((I,[H,J])=>`${I}${H}=${J},`,"");if(QS(_)&&y!=="_self")return _w(e||"",y),new v_(null);const S=window.open(e||"",y,A);be(S,s,"popup-blocked");try{S.focus()}catch{}return new v_(S)}function _w(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const vw="__/auth/handler",Ew="emulator/auth/handler",Tw=encodeURIComponent("fac");async function E_(s,e,i,a,l,c){be(s.config.authDomain,s,"auth-domain-config-required"),be(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:yo,eventId:l};if(e instanceof l1){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",yA(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[A,S]of Object.entries({}))d[A]=S}if(e instanceof Jl){const A=e.getScopes().filter(S=>S!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const y=d;for(const A of Object.keys(y))y[A]===void 0&&delete y[A];const g=await s._getAppCheckToken(),_=g?`#${Tw}=${encodeURIComponent(g)}`:"";return`${bw(s)}?${Yl(y).slice(1)}${_}`}function bw({config:s}){return s.emulator?Mm(s,Ew):`https://${s.authDomain}/${vw}`}const Kd="webStorageSupport";class Aw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=d1,this._completeRedirectFn=Y2,this._overrideRedirectResult=G2}async _openPopup(e,i,a,l){vs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await E_(e,i,a,rm(),l);return yw(e,c,Lm())}async _openRedirect(e,i,a,l){await this._originValidation(e);const c=await E_(e,i,a,rm(),l);return x2(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(vs(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await hw(e),a=new X2(e);return i.register("authEvent",l=>(be(l?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Kd,{type:Kd},l=>{const c=l?.[0]?.[Kd];c!==void 0&&i(!!c),_s(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=ew(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return s1()||Zv()||jm()}}const Sw=Aw;var T_="@firebase/auth",b_="1.12.0";class ww{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function xw(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Rw(s){oo(new Wr("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:y}=a.options;be(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const g={apiKey:d,authDomain:y,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:r1(s)},_=new e2(a,l,c,g);return a2(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),oo(new Wr("auth-internal",e=>{const i=$l(e.getProvider("auth").getImmediate());return(a=>new ww(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),ur(T_,b_,xw(s)),ur(T_,b_,"esm2020")}const Cw=300,Nw=Vv("authIdTokenMaxAge")||Cw;let A_=null;const Iw=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>Nw)return;const l=i?.token;A_!==l&&(A_=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Dw(s=Pv()){const e=Dm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=r2(s,{popupRedirectResolver:Sw,persistence:[k2,A2,d1]}),a=Vv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=Iw(c.toString());v2(i,d,()=>d(i.currentUser)),_2(i,y=>d(y))}}const l=Ov("auth");return l&&o2(i,`http://${l}`),i}function Ow(){return document.getElementsByTagName("head")?.[0]??document}t2({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=l=>{const c=Pi("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",Ow().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Rw("Browser");var S_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var cr,E1;(function(){var s;function e(N,w){function C(){}C.prototype=w.prototype,N.F=w.prototype,N.prototype=new C,N.prototype.constructor=N,N.D=function(V,D,k){for(var x=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)x[Ke-2]=arguments[Ke];return w.prototype[D].apply(V,x)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,w,C){C||(C=0);const V=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)V[D]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(D=0;D<16;++D)V[D]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=N.g[0],C=N.g[1],D=N.g[2];let k=N.g[3],x;x=w+(k^C&(D^k))+V[0]+3614090360&4294967295,w=C+(x<<7&4294967295|x>>>25),x=k+(D^w&(C^D))+V[1]+3905402710&4294967295,k=w+(x<<12&4294967295|x>>>20),x=D+(C^k&(w^C))+V[2]+606105819&4294967295,D=k+(x<<17&4294967295|x>>>15),x=C+(w^D&(k^w))+V[3]+3250441966&4294967295,C=D+(x<<22&4294967295|x>>>10),x=w+(k^C&(D^k))+V[4]+4118548399&4294967295,w=C+(x<<7&4294967295|x>>>25),x=k+(D^w&(C^D))+V[5]+1200080426&4294967295,k=w+(x<<12&4294967295|x>>>20),x=D+(C^k&(w^C))+V[6]+2821735955&4294967295,D=k+(x<<17&4294967295|x>>>15),x=C+(w^D&(k^w))+V[7]+4249261313&4294967295,C=D+(x<<22&4294967295|x>>>10),x=w+(k^C&(D^k))+V[8]+1770035416&4294967295,w=C+(x<<7&4294967295|x>>>25),x=k+(D^w&(C^D))+V[9]+2336552879&4294967295,k=w+(x<<12&4294967295|x>>>20),x=D+(C^k&(w^C))+V[10]+4294925233&4294967295,D=k+(x<<17&4294967295|x>>>15),x=C+(w^D&(k^w))+V[11]+2304563134&4294967295,C=D+(x<<22&4294967295|x>>>10),x=w+(k^C&(D^k))+V[12]+1804603682&4294967295,w=C+(x<<7&4294967295|x>>>25),x=k+(D^w&(C^D))+V[13]+4254626195&4294967295,k=w+(x<<12&4294967295|x>>>20),x=D+(C^k&(w^C))+V[14]+2792965006&4294967295,D=k+(x<<17&4294967295|x>>>15),x=C+(w^D&(k^w))+V[15]+1236535329&4294967295,C=D+(x<<22&4294967295|x>>>10),x=w+(D^k&(C^D))+V[1]+4129170786&4294967295,w=C+(x<<5&4294967295|x>>>27),x=k+(C^D&(w^C))+V[6]+3225465664&4294967295,k=w+(x<<9&4294967295|x>>>23),x=D+(w^C&(k^w))+V[11]+643717713&4294967295,D=k+(x<<14&4294967295|x>>>18),x=C+(k^w&(D^k))+V[0]+3921069994&4294967295,C=D+(x<<20&4294967295|x>>>12),x=w+(D^k&(C^D))+V[5]+3593408605&4294967295,w=C+(x<<5&4294967295|x>>>27),x=k+(C^D&(w^C))+V[10]+38016083&4294967295,k=w+(x<<9&4294967295|x>>>23),x=D+(w^C&(k^w))+V[15]+3634488961&4294967295,D=k+(x<<14&4294967295|x>>>18),x=C+(k^w&(D^k))+V[4]+3889429448&4294967295,C=D+(x<<20&4294967295|x>>>12),x=w+(D^k&(C^D))+V[9]+568446438&4294967295,w=C+(x<<5&4294967295|x>>>27),x=k+(C^D&(w^C))+V[14]+3275163606&4294967295,k=w+(x<<9&4294967295|x>>>23),x=D+(w^C&(k^w))+V[3]+4107603335&4294967295,D=k+(x<<14&4294967295|x>>>18),x=C+(k^w&(D^k))+V[8]+1163531501&4294967295,C=D+(x<<20&4294967295|x>>>12),x=w+(D^k&(C^D))+V[13]+2850285829&4294967295,w=C+(x<<5&4294967295|x>>>27),x=k+(C^D&(w^C))+V[2]+4243563512&4294967295,k=w+(x<<9&4294967295|x>>>23),x=D+(w^C&(k^w))+V[7]+1735328473&4294967295,D=k+(x<<14&4294967295|x>>>18),x=C+(k^w&(D^k))+V[12]+2368359562&4294967295,C=D+(x<<20&4294967295|x>>>12),x=w+(C^D^k)+V[5]+4294588738&4294967295,w=C+(x<<4&4294967295|x>>>28),x=k+(w^C^D)+V[8]+2272392833&4294967295,k=w+(x<<11&4294967295|x>>>21),x=D+(k^w^C)+V[11]+1839030562&4294967295,D=k+(x<<16&4294967295|x>>>16),x=C+(D^k^w)+V[14]+4259657740&4294967295,C=D+(x<<23&4294967295|x>>>9),x=w+(C^D^k)+V[1]+2763975236&4294967295,w=C+(x<<4&4294967295|x>>>28),x=k+(w^C^D)+V[4]+1272893353&4294967295,k=w+(x<<11&4294967295|x>>>21),x=D+(k^w^C)+V[7]+4139469664&4294967295,D=k+(x<<16&4294967295|x>>>16),x=C+(D^k^w)+V[10]+3200236656&4294967295,C=D+(x<<23&4294967295|x>>>9),x=w+(C^D^k)+V[13]+681279174&4294967295,w=C+(x<<4&4294967295|x>>>28),x=k+(w^C^D)+V[0]+3936430074&4294967295,k=w+(x<<11&4294967295|x>>>21),x=D+(k^w^C)+V[3]+3572445317&4294967295,D=k+(x<<16&4294967295|x>>>16),x=C+(D^k^w)+V[6]+76029189&4294967295,C=D+(x<<23&4294967295|x>>>9),x=w+(C^D^k)+V[9]+3654602809&4294967295,w=C+(x<<4&4294967295|x>>>28),x=k+(w^C^D)+V[12]+3873151461&4294967295,k=w+(x<<11&4294967295|x>>>21),x=D+(k^w^C)+V[15]+530742520&4294967295,D=k+(x<<16&4294967295|x>>>16),x=C+(D^k^w)+V[2]+3299628645&4294967295,C=D+(x<<23&4294967295|x>>>9),x=w+(D^(C|~k))+V[0]+4096336452&4294967295,w=C+(x<<6&4294967295|x>>>26),x=k+(C^(w|~D))+V[7]+1126891415&4294967295,k=w+(x<<10&4294967295|x>>>22),x=D+(w^(k|~C))+V[14]+2878612391&4294967295,D=k+(x<<15&4294967295|x>>>17),x=C+(k^(D|~w))+V[5]+4237533241&4294967295,C=D+(x<<21&4294967295|x>>>11),x=w+(D^(C|~k))+V[12]+1700485571&4294967295,w=C+(x<<6&4294967295|x>>>26),x=k+(C^(w|~D))+V[3]+2399980690&4294967295,k=w+(x<<10&4294967295|x>>>22),x=D+(w^(k|~C))+V[10]+4293915773&4294967295,D=k+(x<<15&4294967295|x>>>17),x=C+(k^(D|~w))+V[1]+2240044497&4294967295,C=D+(x<<21&4294967295|x>>>11),x=w+(D^(C|~k))+V[8]+1873313359&4294967295,w=C+(x<<6&4294967295|x>>>26),x=k+(C^(w|~D))+V[15]+4264355552&4294967295,k=w+(x<<10&4294967295|x>>>22),x=D+(w^(k|~C))+V[6]+2734768916&4294967295,D=k+(x<<15&4294967295|x>>>17),x=C+(k^(D|~w))+V[13]+1309151649&4294967295,C=D+(x<<21&4294967295|x>>>11),x=w+(D^(C|~k))+V[4]+4149444226&4294967295,w=C+(x<<6&4294967295|x>>>26),x=k+(C^(w|~D))+V[11]+3174756917&4294967295,k=w+(x<<10&4294967295|x>>>22),x=D+(w^(k|~C))+V[2]+718787259&4294967295,D=k+(x<<15&4294967295|x>>>17),x=C+(k^(D|~w))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+w&4294967295,N.g[1]=N.g[1]+(D+(x<<21&4294967295|x>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+k&4294967295}a.prototype.v=function(N,w){w===void 0&&(w=N.length);const C=w-this.blockSize,V=this.C;let D=this.h,k=0;for(;k<w;){if(D==0)for(;k<=C;)l(this,N,k),k+=this.blockSize;if(typeof N=="string"){for(;k<w;)if(V[D++]=N.charCodeAt(k++),D==this.blockSize){l(this,V),D=0;break}}else for(;k<w;)if(V[D++]=N[k++],D==this.blockSize){l(this,V),D=0;break}}this.h=D,this.o+=w},a.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var w=1;w<N.length-8;++w)N[w]=0;w=this.o*8;for(var C=N.length-8;C<N.length;++C)N[C]=w&255,w/=256;for(this.v(N),N=Array(16),w=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)N[w++]=this.g[C]>>>V&255;return N};function c(N,w){var C=y;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=w(N)}function d(N,w){this.h=w;const C=[];let V=!0;for(let D=N.length-1;D>=0;D--){const k=N[D]|0;V&&k==w||(C[D]=k,V=!1)}this.g=C}var y={};function g(N){return-128<=N&&N<128?c(N,function(w){return new d([w|0],w<0?-1:0)}):new d([N|0],N<0?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return S;if(N<0)return ne(_(-N));const w=[];let C=1;for(let V=0;N>=C;V++)w[V]=N/C|0,C*=4294967296;return new d(w,0)}function A(N,w){if(N.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(N.charAt(0)=="-")return ne(A(N.substring(1),w));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(w,8));let V=S;for(let k=0;k<N.length;k+=8){var D=Math.min(8,N.length-k);const x=parseInt(N.substring(k,k+D),w);D<8?(D=_(Math.pow(w,D)),V=V.j(D).add(_(x))):(V=V.j(C),V=V.add(_(x)))}return V}var S=g(0),I=g(1),H=g(16777216);s=d.prototype,s.m=function(){if(W(this))return-ne(this).m();let N=0,w=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);N+=(V>=0?V:4294967296+V)*w,w*=4294967296}return N},s.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(J(this))return"0";if(W(this))return"-"+ne(this).toString(N);const w=_(Math.pow(N,6));var C=this;let V="";for(;;){const D=st(C,w).g;C=ce(C,D.j(w));let k=((C.g.length>0?C.g[0]:C.h)>>>0).toString(N);if(C=D,J(C))return k+V;for(;k.length<6;)k="0"+k;V=k+V}},s.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function J(N){if(N.h!=0)return!1;for(let w=0;w<N.g.length;w++)if(N.g[w]!=0)return!1;return!0}function W(N){return N.h==-1}s.l=function(N){return N=ce(this,N),W(N)?-1:J(N)?0:1};function ne(N){const w=N.g.length,C=[];for(let V=0;V<w;V++)C[V]=~N.g[V];return new d(C,~N.h).add(I)}s.abs=function(){return W(this)?ne(this):this},s.add=function(N){const w=Math.max(this.g.length,N.g.length),C=[];let V=0;for(let D=0;D<=w;D++){let k=V+(this.i(D)&65535)+(N.i(D)&65535),x=(k>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);V=x>>>16,k&=65535,x&=65535,C[D]=x<<16|k}return new d(C,C[C.length-1]&-2147483648?-1:0)};function ce(N,w){return N.add(ne(w))}s.j=function(N){if(J(this)||J(N))return S;if(W(this))return W(N)?ne(this).j(ne(N)):ne(ne(this).j(N));if(W(N))return ne(this.j(ne(N)));if(this.l(H)<0&&N.l(H)<0)return _(this.m()*N.m());const w=this.g.length+N.g.length,C=[];for(var V=0;V<2*w;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<N.g.length;D++){const k=this.i(V)>>>16,x=this.i(V)&65535,Ke=N.i(D)>>>16,xt=N.i(D)&65535;C[2*V+2*D]+=x*xt,Ae(C,2*V+2*D),C[2*V+2*D+1]+=k*xt,Ae(C,2*V+2*D+1),C[2*V+2*D+1]+=x*Ke,Ae(C,2*V+2*D+1),C[2*V+2*D+2]+=k*Ke,Ae(C,2*V+2*D+2)}for(N=0;N<w;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=w;N<2*w;N++)C[N]=0;return new d(C,0)};function Ae(N,w){for(;(N[w]&65535)!=N[w];)N[w+1]+=N[w]>>>16,N[w]&=65535,w++}function ve(N,w){this.g=N,this.h=w}function st(N,w){if(J(w))throw Error("division by zero");if(J(N))return new ve(S,S);if(W(N))return w=st(ne(N),w),new ve(ne(w.g),ne(w.h));if(W(w))return w=st(N,ne(w)),new ve(ne(w.g),w.h);if(N.g.length>30){if(W(N)||W(w))throw Error("slowDivide_ only works with positive integers.");for(var C=I,V=w;V.l(N)<=0;)C=rt(C),V=rt(V);var D=Ve(C,1),k=Ve(V,1);for(V=Ve(V,2),C=Ve(C,2);!J(V);){var x=k.add(V);x.l(N)<=0&&(D=D.add(C),k=x),V=Ve(V,1),C=Ve(C,1)}return w=ce(N,D.j(w)),new ve(D,w)}for(D=S;N.l(w)>=0;){for(C=Math.max(1,Math.floor(N.m()/w.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),k=_(C),x=k.j(w);W(x)||x.l(N)>0;)C-=V,k=_(C),x=k.j(w);J(k)&&(k=I),D=D.add(k),N=ce(N,x)}return new ve(D,N)}s.B=function(N){return st(this,N).h},s.and=function(N){const w=Math.max(this.g.length,N.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)&N.i(V);return new d(C,this.h&N.h)},s.or=function(N){const w=Math.max(this.g.length,N.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)|N.i(V);return new d(C,this.h|N.h)},s.xor=function(N){const w=Math.max(this.g.length,N.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)^N.i(V);return new d(C,this.h^N.h)};function rt(N){const w=N.g.length+1,C=[];for(let V=0;V<w;V++)C[V]=N.i(V)<<1|N.i(V-1)>>>31;return new d(C,N.h)}function Ve(N,w){const C=w>>5;w%=32;const V=N.g.length-C,D=[];for(let k=0;k<V;k++)D[k]=w>0?N.i(k+C)>>>w|N.i(k+C+1)<<32-w:N.i(k+C);return new d(D,N.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,E1=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,cr=d}).apply(typeof S_<"u"?S_:typeof self<"u"?self:typeof window<"u"?window:{});var Mc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var T1,wl,b1,Hc,lm,A1,S1,w1;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mc=="object"&&Mc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)e:{var v=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var U=u[b];if(!(U in v))break e;v=v[U]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var c=c||{},d=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function g(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=g,_.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(b,U,B){for(var Z=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)Z[Ce-2]=arguments[Ce];return m.prototype[U].apply(b,Z)}}var I=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function H(u){const m=u.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function J(u,m){for(let b=1;b<arguments.length;b++){const U=arguments[b];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const B=U.length||0;u.length=v+B;for(let Z=0;Z<B;Z++)u[v+Z]=U[Z]}else u.push(U)}}class W{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ne(u){d.setTimeout(()=>{throw u},0)}function ce(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ae{constructor(){this.h=this.g=null}add(m,v){const b=ve.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var ve=new W(()=>new st,u=>u.reset());class st{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let rt,Ve=!1,N=new Ae,w=()=>{const u=Promise.resolve(void 0);rt=()=>{u.then(C)}};function C(){for(var u;u=ce();){try{u.h.call(u.g)}catch(v){ne(v)}var m=ve;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ve=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function x(u){return/^[\s\xa0]*$/.test(u)}function Ke(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(Ke,D),Ke.prototype.init=function(u,m){const v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Ke.Z.h.call(this)},Ke.prototype.h=function(){Ke.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var xt="closure_listenable_"+(Math.random()*1e6|0),G=0;function ee(u,m,v,b,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=U,this.key=++G,this.da=this.fa=!1}function he(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Be(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function Ze(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function M(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function te(u,m){let v,b;for(let U=1;U<arguments.length;U++){b=arguments[U];for(v in b)u[v]=b[v];for(let B=0;B<Y.length;B++)v=Y[B],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function se(u){this.src=u,this.g={},this.h=0}se.prototype.add=function(u,m,v,b,U){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const Z=Re(u,m,b,U);return Z>-1?(m=u[Z],v||(m.fa=!1)):(m=new ee(m,this.src,B,!!b,U),m.fa=v,u.push(m)),m};function Ee(u,m){const v=m.type;if(v in u.g){var b=u.g[v],U=Array.prototype.indexOf.call(b,m,void 0),B;(B=U>=0)&&Array.prototype.splice.call(b,U,1),B&&(he(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Re(u,m,v,b){for(let U=0;U<u.length;++U){const B=u[U];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==b)return U}return-1}var ke="closure_lm_"+(Math.random()*1e6|0),At={};function qe(u,m,v,b,U){if(Array.isArray(m)){for(let B=0;B<m.length;B++)qe(u,m[B],v,b,U);return null}return v=Qe(v),u&&u[xt]?u.J(m,v,y(b)?!!b.capture:!1,U):ie(u,m,v,!1,b,U)}function ie(u,m,v,b,U,B){if(!m)throw Error("Invalid event type");const Z=y(U)?!!U.capture:!!U;let Ce=Ye(u);if(Ce||(u[ke]=Ce=new se(u)),v=Ce.add(m,v,b,Z,B),v.proxy)return v;if(b=ae(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)k||(U=Z),U===void 0&&(U=!1),u.addEventListener(m.toString(),b,U);else if(u.attachEvent)u.attachEvent(_t(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ae(){function u(v){return m.call(u.src,u.listener,v)}const m=Ge;return u}function de(u,m,v,b,U){if(Array.isArray(m))for(var B=0;B<m.length;B++)de(u,m[B],v,b,U);else b=y(b)?!!b.capture:!!b,v=Qe(v),u&&u[xt]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=Re(m,v,b,U),v>-1&&(he(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=Ye(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Re(m,v,b,U)),(v=u>-1?m[u]:null)&&me(v))}function me(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[xt])Ee(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(_t(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=Ye(m))?(Ee(v,u),v.h==0&&(v.src=null,m[ke]=null)):he(u)}}}function _t(u){return u in At?At[u]:At[u]="on"+u}function Ge(u,m){if(u.da)u=!0;else{m=new Ke(m,this);const v=u.listener,b=u.ha||u.src;u.fa&&me(u),u=v.call(b,m)}return u}function Ye(u){return u=u[ke],u instanceof se?u:null}var ye="__closure_events_fn_"+(Math.random()*1e9>>>0);function Qe(u){return typeof u=="function"?u:(u[ye]||(u[ye]=function(m){return u.handleEvent(m)}),u[ye])}function Ie(){V.call(this),this.i=new se(this),this.M=this,this.G=null}S(Ie,V),Ie.prototype[xt]=!0,Ie.prototype.removeEventListener=function(u,m,v,b){de(this,u,m,v,b)};function Te(u,m){var v,b=u.G;if(b)for(v=[];b;b=b.G)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var U=m;m=new D(b,u),te(m,U)}U=!0;let B,Z;if(v)for(Z=v.length-1;Z>=0;Z--)B=m.g=v[Z],U=Xe(B,b,!0,m)&&U;if(B=m.g=u,U=Xe(B,b,!0,m)&&U,U=Xe(B,b,!1,m)&&U,v)for(Z=0;Z<v.length;Z++)B=m.g=v[Z],U=Xe(B,b,!1,m)&&U}Ie.prototype.N=function(){if(Ie.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let b=0;b<v.length;b++)he(v[b]);delete u.g[m],u.h--}}this.G=null},Ie.prototype.J=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},Ie.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function Xe(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let B=0;B<m.length;++B){const Z=m[B];if(Z&&!Z.da&&Z.capture==v){const Ce=Z.listener,Ct=Z.ha||Z.src;Z.fa&&Ee(u.i,Z),U=Ce.call(Ct,b)!==!1&&U}}return U&&!b.defaultPrevented}function pn(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function aa(u){u.g=pn(()=>{u.g=null,u.i&&(u.i=!1,aa(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class $e extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:aa(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hn(u){V.call(this),this.h=u,this.g={}}S(hn,V);var Yi=[];function Qi(u){Be(u.g,function(m,v){this.g.hasOwnProperty(v)&&me(m)},u),u.g={}}hn.prototype.N=function(){hn.Z.N.call(this),Qi(this)},hn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gi=d.JSON.stringify,oa=d.JSON.parse,la=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function ru(){}function au(){}var Wn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function $t(){D.call(this,"d")}S($t,D);function Un(){D.call(this,"c")}S(Un,D);var Rt={},ou=null;function ua(){return ou=ou||new Ie}Rt.Ia="serverreachability";function lu(u){D.call(this,Rt.Ia,u)}S(lu,D);function yi(u){const m=ua();Te(m,new lu(m))}Rt.STAT_EVENT="statevent";function Tr(u,m){D.call(this,Rt.STAT_EVENT,u),this.stat=m}S(Tr,D);function Ot(u){const m=ua();Te(m,new Tr(m,u))}Rt.Ja="timingevent";function _i(u,m){D.call(this,Rt.Ja,u),this.size=m}S(_i,D);function vi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function ei(){this.g=!0}ei.prototype.ua=function(){this.g=!1};function Uh(u,m,v,b,U,B){u.info(function(){if(u.g)if(B){var Z="",Ce=B.split("&");for(let tt=0;tt<Ce.length;tt++){var Ct=Ce[tt].split("=");if(Ct.length>1){const vt=Ct[0];Ct=Ct[1];const Bn=vt.split("_");Z=Bn.length>=2&&Bn[1]=="type"?Z+(vt+"="+Ct+"&"):Z+(vt+"=redacted&")}}}else Z=null;else Z=B;return"XMLHTTP REQ ("+b+") [attempt "+U+"]: "+m+`
`+v+`
`+Z})}function uu(u,m,v,b,U,B,Z){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+U+"]: "+m+`
`+v+`
`+B+" "+Z})}function Ei(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Lh(u,v)+(b?" "+b:"")})}function br(u,m){u.info(function(){return"TIMEOUT: "+m})}ei.prototype.info=function(){};function Lh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var U=b[0];if(U!="noop"&&U!="stop"&&U!="close")for(let Z=1;Z<b.length;Z++)b[Z]=""}}}}return gi(B)}catch{return m}}var Ar={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ao={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},So;function Sr(){}S(Sr,ru),Sr.prototype.g=function(){return new XMLHttpRequest},So=new Sr;function Xi(u){return encodeURIComponent(String(u))}function cu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function ti(u,m,v,b){this.j=u,this.i=m,this.l=v,this.S=b||1,this.V=new hn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ni}function ni(){this.i=null,this.g="",this.h=!1}var Mt={},Kt={};function Ti(u,m,v){u.M=1,u.A=wr(kt(m)),u.u=v,u.R=!0,ca(u,null)}function ca(u,m){u.F=Date.now(),bi(u),u.B=kt(u.A);var v=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),ma(v.i,"t",b),u.C=0,v=u.j.L,u.h=new ni,u.g=wu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new $e(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,b=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(Yi[0]=U.toString()),U=Yi);for(let B=0;B<U.length;B++){const Z=qe(v,U[B],b||m.handleEvent,!1,m.h||m);if(!Z)break;m.g[Z.key]=Z}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),yi(),Uh(u.i,u.v,u.B,u.l,u.S,u.u)}ti.prototype.ba=function(u){u=u.target;const m=this.O;m&&ri(u)==3?m.j():this.Y(u)},ti.prototype.Y=function(u){try{if(u==this.g)e:{const Ce=ri(this.g),Ct=this.g.ya(),tt=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||Jt(this.g)))){this.K||Ce!=4||Ct==7||(Ct==8||tt<=0?yi(3):yi(2)),Ai(this);var m=this.g.ca();this.X=m;var v=zh(this);if(this.o=m==200,uu(this.i,this.v,this.B,this.l,this.S,Ce,m),this.o){if(this.U&&!this.L){t:{if(this.g){var b,U=this.g;if((b=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(b)){var B=b;break t}}B=null}if(u=B)Ei(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Si(this,u);else{this.o=!1,this.m=3,Ot(12),wn(this),Ln(this);break e}}if(this.R){u=!0;let vt;for(;!this.K&&this.C<v.length;)if(vt=fu(this,v),vt==Kt){Ce==4&&(this.m=4,Ot(14),u=!1),Ei(this.i,this.l,null,"[Incomplete Response]");break}else if(vt==Mt){this.m=4,Ot(15),Ei(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else Ei(this.i,this.l,vt,null),Si(this,vt);if(hu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||v.length!=0||this.h.h||(this.m=1,Ot(16),u=!1),this.o=this.o&&u,!u)Ei(this.i,this.l,v,"[Invalid Chunked Response]"),wn(this),Ln(this);else if(v.length>0&&!this.W){this.W=!0;var Z=this.j;Z.g==this&&Z.aa&&!Z.P&&(Z.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),zo(Z),Z.P=!0,Ot(11))}}else Ei(this.i,this.l,v,null),Si(this,v);Ce==4&&wn(this),this.o&&!this.K&&(Ce==4?Tu(this.j,this):(this.o=!1,bi(this)))}else Ji(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ot(12)):(this.m=0,Ot(13)),wn(this),Ln(this)}}}catch{}};function zh(u){if(!hu(u))return u.g.la();const m=Jt(u.g);if(m==="")return"";let v="";const b=m.length,U=ri(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return wn(u),Ln(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<b;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(U&&B==b-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function hu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function fu(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?Kt:(v=Number(m.substring(v,b)),isNaN(v)?Mt:(b+=1,b+v>m.length?Kt:(m=m.slice(b,b+v),u.C=b+v,m)))}ti.prototype.cancel=function(){this.K=!0,wn(this)};function bi(u){u.T=Date.now()+u.H,ha(u,u.H)}function ha(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=vi(_(u.aa,u),m)}function Ai(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ti.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(br(this.i,this.B),this.M!=2&&(yi(),Ot(17)),wn(this),this.m=2,Ln(this)):ha(this,this.T-u)};function Ln(u){u.j.I==0||u.K||Tu(u.j,u)}function wn(u){Ai(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Qi(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Si(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||xi(v.h,u))){if(!u.L&&xi(v.h,u)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var U=b;if(U[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)va(v),Ds(v);else break e;Or(v),Ot(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=vi(_(v.Va,v),6e3));wi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Oi(v,11)}else if((u.L||v.g==u)&&va(v),!x(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let tt=U[m];const vt=tt[0];if(!(vt<=v.K))if(v.K=vt,tt=tt[1],v.I==2)if(tt[0]=="c"){v.M=tt[1],v.ba=tt[2];const Bn=tt[3];Bn!=null&&(v.ka=Bn,v.j.info("VER="+v.ka));const Mi=tt[4];Mi!=null&&(v.za=Mi,v.j.info("SVER="+v.za));const ai=tt[5];ai!=null&&typeof ai=="number"&&ai>0&&(b=1.5*ai,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const oi=u.g;if(oi){const Mr=oi.g?oi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mr){var B=b.h;B.g||Mr.indexOf("spdy")==-1&&Mr.indexOf("quic")==-1&&Mr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Ro(B,B.h),B.h=null))}if(b.G){const Ea=oi.g?oi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ea&&(b.wa=Ea,at(b.J,b.G,Ea))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var Z=u;if(b.na=Su(b,b.L?b.ba:null,b.W),Z.L){Co(b.h,Z);var Ce=Z,Ct=b.O;Ct&&(Ce.H=Ct),Ce.D&&(Ai(Ce),bi(Ce)),b.g=Z}else vu(b);v.i.length>0&&Di(v)}else tt[0]!="stop"&&tt[0]!="close"||Oi(v,7);else v.I==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?Oi(v,7):Uo(v):tt[0]!="noop"&&v.l&&v.l.qa(tt),v.A=0)}}yi(4)}catch{}}var Vt=class{constructor(u,m){this.g=u,this.map=m}};function wo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function xo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function wi(u){return u.h?1:u.g?u.g.size:0}function xi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ro(u,m){u.g?u.g.add(m):u.h=m}function Co(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}wo.prototype.cancel=function(){if(this.i=No(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function No(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return H(u.i)}var du=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fa(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const b=u[v].indexOf("=");let U,B=null;b>=0?(U=u[v].substring(0,b),B=u[v].substring(b+1)):U=u[v],m(U,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function xn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof xn?(this.l=u.l,Yt(this,u.j),this.o=u.o,this.g=u.g,Ss(this,u.u),this.h=u.h,Io(this,yu(u.i)),this.m=u.m):u&&(m=String(u).match(du))?(this.l=!1,Yt(this,m[1]||"",!0),this.o=Ri(m[2]||""),this.g=Ri(m[3]||"",!0),Ss(this,m[4]),this.h=Ri(m[5]||"",!0),Io(this,m[6]||"",!0),this.m=Ri(m[7]||"")):(this.l=!1,this.i=new xs(null,this.l))}xn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(xr(m,da,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(xr(m,da,!0),"@"),u.push(Xi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(xr(v,v.charAt(0)=="/"?Do:mu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",xr(v,pu)),u.join("")},xn.prototype.resolve=function(u){const m=kt(this);let v=!!u.j;v?Yt(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var b=u.h;if(v)Ss(m,u.u);else if(v=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var U=m.h.lastIndexOf("/");U!=-1&&(b=m.h.slice(0,U+1)+b)}if(U=b,U==".."||U==".")b="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){b=U.lastIndexOf("/",0)==0,U=U.split("/");const B=[];for(let Z=0;Z<U.length;){const Ce=U[Z++];Ce=="."?b&&Z==U.length&&B.push(""):Ce==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),b&&Z==U.length&&B.push("")):(B.push(Ce),b=!0)}b=B.join("/")}else b=U}return v?m.h=b:v=u.i.toString()!=="",v?Io(m,yu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function kt(u){return new xn(u)}function Yt(u,m,v){u.j=v?Ri(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ss(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Io(u,m,v){m instanceof xs?(u.i=m,pa(u.i,u.l)):(v||(m=xr(m,ws)),u.i=new xs(m,u.l))}function at(u,m,v){u.i.set(m,v)}function wr(u){return at(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ri(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function xr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,gn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function gn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var da=/[#\/\?@]/g,mu=/[#\?:]/g,Do=/[#\?]/g,ws=/[#\?@]/g,pu=/#/g;function xs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function yn(u){u.g||(u.g=new Map,u.h=0,u.i&&fa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=xs.prototype,s.add=function(u,m){yn(this),this.i=null,u=Rs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function gu(u,m){yn(u),m=Rs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Oo(u,m){return yn(u),m=Rs(u,m),u.g.has(m)}s.forEach=function(u,m){yn(this),this.g.forEach(function(v,b){v.forEach(function(U){u.call(m,U,b,this)},this)},this)};function Mo(u,m){yn(u);let v=[];if(typeof m=="string")Oo(u,m)&&(v=v.concat(u.g.get(Rs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return yn(this),this.i=null,u=Rs(this,u),Oo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Mo(this,u),u.length>0?String(u[0]):m):m};function ma(u,m,v){gu(u,m),v.length>0&&(u.i=null,u.g.set(Rs(u,m),H(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const U=Xi(v);v=Mo(this,v);for(let B=0;B<v.length;B++){let Z=U;v[B]!==""&&(Z+="="+Xi(v[B])),u.push(Z)}}return this.i=u.join("&")};function yu(u){const m=new xs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Rs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function pa(u,m){m&&!u.j&&(yn(u),u.i=null,u.g.forEach(function(v,b){const U=b.toLowerCase();b!=U&&(gu(this,b),ma(this,U,v))},u)),u.j=m}function ii(u,m){const v=new ei;if(d.Image){const b=new Image;b.onload=A(zn,v,"TestLoadImage: loaded",!0,m,b),b.onerror=A(zn,v,"TestLoadImage: error",!1,m,b),b.onabort=A(zn,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=A(zn,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function Vo(u,m){const v=new ei,b=new AbortController,U=setTimeout(()=>{b.abort(),zn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(B=>{clearTimeout(U),B.ok?zn(v,"TestPingServer: ok",!0,m):zn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),zn(v,"TestPingServer: error",!1,m)})}function zn(u,m,v,b,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),b(v)}catch{}}function Cs(){this.g=new la}function Ci(u){this.i=u.Sb||null,this.h=u.ab||!1}S(Ci,ru),Ci.prototype.g=function(){return new Rr(this.i,this.h)};function Rr(u,m){Ie.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Rr,Ie),s=Rr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,si(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ns(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,si(this)),this.g&&(this.readyState=3,si(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ga(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ga(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ns(this):si(this),this.readyState==3&&ga(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Ns(this))},s.Na=function(u){this.g&&(this.response=u,Ns(this))},s.ga=function(){this.g&&Ns(this)};function Ns(u){u.readyState=4,u.l=null,u.j=null,u.B=null,si(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function si(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Rr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Pn(u){let m="";return Be(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function Cr(u,m,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=Pn(v),typeof u=="string"?v!=null&&Xi(v):at(u,m,v))}function ut(u){Ie.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(ut,Ie);var Ni=/^https?$/i,ko=["POST","PUT"];s=ut.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():So.g(),this.g.onreadystatechange=I(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Nr(this,B);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var U in b)v.set(U,b[U]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const B of b.keys())v.set(B,b.get(B));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(ko,m,void 0)>=0)||b||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,Z]of v)this.g.setRequestHeader(B,Z);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Nr(this,B)}};function Nr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,jo(u),$i(u)}function jo(u){u.A||(u.A=!0,Te(u,"complete"),Te(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Te(this,"complete"),Te(this,"abort"),$i(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$i(this,!0)),ut.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Ir(this):this.Xa())},s.Xa=function(){Ir(this)};function Ir(u){if(u.h&&typeof c<"u"){if(u.v&&ri(u)==4)setTimeout(u.Ca.bind(u),0);else if(Te(u,"readystatechange"),ri(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var b;if(b=B===0){let Z=String(u.D).match(du)[1]||null;!Z&&d.self&&d.self.location&&(Z=d.self.location.protocol.slice(0,-1)),b=!Ni.test(Z?Z.toLowerCase():"")}v=b}if(v)Te(u,"complete"),Te(u,"success");else{u.o=6;try{var U=ri(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",jo(u)}}finally{$i(u)}}}}function $i(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Te(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ri(u){return u.g?u.g.readyState:0}s.ca=function(){try{return ri(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),oa(m)}};function Jt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ji(u){const m={};u=(u.g&&ri(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(x(u[b]))continue;var v=cu(u[b]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[U]||[];m[U]=B,B.push(v)}Ze(m,function(b){return b.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ii(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Is(u){this.za=0,this.i=[],this.j=new ei,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ii("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ii("baseRetryDelayMs",5e3,u),this.Za=Ii("retryDelaySeedMs",1e4,u),this.Ta=Ii("forwardChannelMaxRetries",2,u),this.va=Ii("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new wo(u&&u.concurrentRequestLimit),this.Ba=new Cs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Is.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,b){Ot(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=Su(this,null,this.W),Di(this)};function Uo(u){if(ya(u),u.I==3){var m=u.V++,v=kt(u.J);if(at(v,"SID",u.M),at(v,"RID",m),at(v,"TYPE","terminate"),Dr(u,v),m=new ti(u,u.j,m),m.M=2,m.A=wr(kt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=wu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),bi(m)}Au(u)}function Ds(u){u.g&&(zo(u),u.g.cancel(),u.g=null)}function ya(u){Ds(u),u.v&&(d.clearTimeout(u.v),u.v=null),va(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Di(u){if(!xo(u.h)&&!u.m){u.m=!0;var m=u.Ea;rt||w(),Ve||(rt(),Ve=!0),N.add(m,u),u.D=0}}function _a(u,m){return wi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=vi(_(u.Ea,u,m),bu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new ti(this,this.j,u);let B=this.o;if(this.U&&(B?(B=M(B),te(B,this.U)):B=this.U),this.u!==null||this.R||(U.J=B,B=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=_u(this,U,m),v=kt(this.J),at(v,"RID",u),at(v,"CVER",22),this.G&&at(v,"X-HTTP-Session-Id",this.G),Dr(this,v),B&&(this.R?m="headers="+Xi(Pn(B))+"&"+m:this.u&&Cr(v,this.u,B)),Ro(this.h,U),this.Ra&&at(v,"TYPE","init"),this.S?(at(v,"$req",m),at(v,"SID","null"),U.U=!0,Ti(U,v,null)):Ti(U,v,m),this.I=2}}else this.I==3&&(u?Lo(this,u):this.i.length==0||xo(this.h)||Lo(this))};function Lo(u,m){var v;m?v=m.l:v=u.V++;const b=kt(u.J);at(b,"SID",u.M),at(b,"RID",v),at(b,"AID",u.K),Dr(u,b),u.u&&u.o&&Cr(b,u.u,u.o),v=new ti(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=_u(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ro(u.h,v),Ti(v,b,m)}function Dr(u,m){u.H&&Be(u.H,function(v,b){at(m,b,v)}),u.l&&Be({},function(v,b){at(m,b,v)})}function _u(u,m,v){v=Math.min(u.i.length,v);const b=u.l?_(u.l.Ka,u.l,u):null;e:{var U=u.i;let Ce=-1;for(;;){const Ct=["count="+v];Ce==-1?v>0?(Ce=U[0].g,Ct.push("ofs="+Ce)):Ce=0:Ct.push("ofs="+Ce);let tt=!0;for(let vt=0;vt<v;vt++){var B=U[vt].g;const Bn=U[vt].map;if(B-=Ce,B<0)Ce=Math.max(0,U[vt].g-100),tt=!1;else try{B="req"+B+"_"||"";try{var Z=Bn instanceof Map?Bn:Object.entries(Bn);for(const[Mi,ai]of Z){let oi=ai;y(ai)&&(oi=gi(ai)),Ct.push(B+Mi+"="+encodeURIComponent(oi))}}catch(Mi){throw Ct.push(B+"type="+encodeURIComponent("_badmap")),Mi}}catch{b&&b(Bn)}}if(tt){Z=Ct.join("&");break e}}Z=void 0}return u=u.i.splice(0,v),m.G=u,Z}function vu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;rt||w(),Ve||(rt(),Ve=!0),N.add(m,u),u.A=0}}function Or(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=vi(_(u.Da,u),bu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Eu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=vi(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ot(10),Ds(this),Eu(this))};function zo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Eu(u){u.g=new ti(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=kt(u.na);at(m,"RID","rpc"),at(m,"SID",u.M),at(m,"AID",u.K),at(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&at(m,"TO",u.ia),at(m,"TYPE","xmlhttp"),Dr(u,m),u.u&&u.o&&Cr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=wr(kt(m)),v.u=null,v.R=!0,ca(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Ds(this),Or(this),Ot(19))};function va(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Tu(u,m){var v=null;if(u.g==m){va(u),zo(u),u.g=null;var b=2}else if(xi(u.h,m))v=m.G,Co(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;b=ua(),Te(b,new _i(b,v)),Di(u)}else vu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(b==1&&_a(u,m)||b==2&&Or(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:Oi(u,5);break;case 4:Oi(u,10);break;case 3:Oi(u,6);break;default:Oi(u,2)}}}function bu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Oi(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),b=u.Ua;const U=!b;b=new xn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Yt(b,"https"),wr(b),U?ii(b.toString(),v):Vo(b.toString(),v)}else Ot(2);u.I=0,u.l&&u.l.pa(m),Au(u),ya(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ot(2)):(this.j.info("Failed to ping google.com"),Ot(1))};function Au(u){if(u.I=0,u.ja=[],u.l){const m=No(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.oa()}}function Su(u,m,v){var b=v instanceof xn?kt(v):new xn(v);if(b.g!="")m&&(b.g=m+"."+b.g),Ss(b,b.u);else{var U=d.location;b=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const B=new xn(null);b&&Yt(B,b),m&&(B.g=m),U&&Ss(B,U),v&&(B.h=v),b=B}return v=u.G,m=u.wa,v&&m&&at(b,v,m),at(b,"VER",u.ka),Dr(u,b),b}function wu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ut(new Ci({ab:v})):new ut(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function xu(){}s=xu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Os(){}Os.prototype.g=function(u,m){return new fn(u,m)};function fn(u,m){Ie.call(this),this.g=new Is(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!x(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Zi(this)}S(fn,Ie),fn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){Uo(this.g)},fn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=gi(u),u=v);m.i.push(new Vt(m.Ya++,u)),m.I==3&&Di(m)},fn.prototype.N=function(){this.g.l=null,delete this.j,Uo(this.g),delete this.g,fn.Z.N.call(this)};function Ru(u){$t.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Ru,$t);function Cu(){Un.call(this),this.status=1}S(Cu,Un);function Zi(u){this.g=u}S(Zi,xu),Zi.prototype.ra=function(){Te(this.g,"a")},Zi.prototype.qa=function(u){Te(this.g,new Ru(u))},Zi.prototype.pa=function(u){Te(this.g,new Cu)},Zi.prototype.oa=function(){Te(this.g,"b")},Os.prototype.createWebChannel=Os.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,w1=function(){return new Os},S1=function(){return ua()},A1=Rt,lm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ar.NO_ERROR=0,Ar.TIMEOUT=8,Ar.HTTP_ERROR=6,Hc=Ar,Ao.COMPLETE="complete",b1=Ao,au.EventType=Wn,Wn.OPEN="a",Wn.CLOSE="b",Wn.ERROR="c",Wn.MESSAGE="d",Ie.prototype.listen=Ie.prototype.J,wl=au,ut.prototype.listenOnce=ut.prototype.K,ut.prototype.getLastError=ut.prototype.Ha,ut.prototype.getLastErrorCode=ut.prototype.ya,ut.prototype.getStatus=ut.prototype.ca,ut.prototype.getResponseJson=ut.prototype.La,ut.prototype.getResponseText=ut.prototype.la,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Fa,T1=ut}).apply(typeof Mc<"u"?Mc:typeof self<"u"?self:typeof window<"u"?window:{});let ln=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");let vo="12.8.0";function Mw(s){vo=s}const ta=new Nm("@firebase/firestore");function $a(){return ta.logLevel}function re(s,...e){if(ta.logLevel<=Le.DEBUG){const i=e.map(Pm);ta.debug(`Firestore (${vo}): ${s}`,...i)}}function Ts(s,...e){if(ta.logLevel<=Le.ERROR){const i=e.map(Pm);ta.error(`Firestore (${vo}): ${s}`,...i)}}function lo(s,...e){if(ta.logLevel<=Le.WARN){const i=e.map(Pm);ta.warn(`Firestore (${vo}): ${s}`,...i)}}function Pm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function _e(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,x1(s,a,i)}function x1(s,e,i){let a=`FIRESTORE (${vo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Ts(a),new Error(a)}function it(s,e,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||x1(e,l,a)}function xe(s,e){return s}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends As{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class hr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class R1{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Vw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(ln.UNAUTHENTICATED)))}shutdown(){}}class kw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class jw{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){it(this.o===void 0,42304);let a=this.i;const l=g=>this.i!==a?(a=this.i,i(g)):Promise.resolve();let c=new hr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new hr,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},y=g=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>y(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?y(g):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new hr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(it(typeof a.accessToken=="string",31837,{l:a}),new R1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return it(e===null||typeof e=="string",2055,{h:e}),new ln(e)}}class Uw{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class Lw{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new Uw(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(ln.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class w_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zw{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Jn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){it(this.o===void 0,3512);const a=c=>{c.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,re("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const l=c=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new w_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(it(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new w_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Pw(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Bm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=Pw(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=e.charAt(l[c]%62))}return a}}function ze(s,e){return s<e?-1:s>e?1:0}function um(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=e.charAt(a);if(l!==c)return Yd(l)===Yd(c)?ze(l,c):Yd(l)?1:-1}return ze(s.length,e.length)}const Bw=55296,qw=57343;function Yd(s){const e=s.charCodeAt(0);return e>=Bw&&e<=qw}function uo(s,e,i){return s.length===e.length&&s.every(((a,l)=>i(a,e[l])))}const x_="__name__";class zi{constructor(e,i,a){i===void 0?i=0:i>e.length&&_e(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&_e(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return zi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof zi?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let l=0;l<a;l++){const c=zi.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return ze(e.length,i.length)}static compareSegments(e,i){const a=zi.isNumericId(e),l=zi.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?zi.extractNumericId(e).compare(zi.extractNumericId(i)):um(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return cr.fromString(e.substring(4,e.length-2))}}class Tt extends zi{construct(e,i,a){return new Tt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new ue($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new Tt(i)}static emptyPath(){return new Tt([])}}const Hw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends zi{construct(e,i,a){return new sn(e,i,a)}static isValidIdentifier(e){return Hw.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===x_}static keyField(){return new sn([x_])}static fromServerFormat(e){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ue($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<e.length;){const y=e[l];if(y==="\\"){if(l+1===e.length)throw new ue($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ue($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=g,l+=2}else y==="`"?(d=!d,l++):y!=="."||d?(a+=y,l++):(c(),l++)}if(c(),d)throw new ue($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sn(i)}static emptyPath(){return new sn([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(Tt.fromString(e))}static fromName(e){return new pe(Tt.fromString(e).popFirst(5))}static empty(){return new pe(Tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Tt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new Tt(e.slice()))}}function Gw(s,e,i){if(!i)throw new ue($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function Fw(s,e,i,a){if(e===!0&&a===!0)throw new ue($.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function R_(s){if(!pe.isDocumentKey(s))throw new ue($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function C1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function qm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":_e(12329,{type:typeof s})}function di(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ue($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=qm(s);throw new ue($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Bt(s,e){const i={typeString:s};return e&&(i.value=e),i}function Wl(s,e){if(!C1(s))throw new ue($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const l=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ue($.INVALID_ARGUMENT,i);return!0}const C_=-62135596800,N_=1e6;class yt{static now(){return yt.fromMillis(Date.now())}static fromDate(e){return yt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*N_);return new yt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ue($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ue($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<C_)throw new ue($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/N_}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:yt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Wl(e,yt._jsonSchema))return new yt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-C_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}yt._jsonSchemaVersion="firestore/timestamp/1.0",yt._jsonSchema={type:Bt("string",yt._jsonSchemaVersion),seconds:Bt("number"),nanoseconds:Bt("number")};class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new yt(0,0))}static max(){return new Se(new yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ll=-1;function Kw(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=Se.fromTimestamp(a===1e9?new yt(i+1,0):new yt(i,a));return new dr(l,pe.empty(),e)}function Yw(s){return new dr(s.readTime,s.key,Ll)}class dr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new dr(Se.min(),pe.empty(),Ll)}static max(){return new dr(Se.max(),pe.empty(),Ll)}}function Qw(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=pe.comparator(s.documentKey,e.documentKey),i!==0?i:ze(s.largestBatchId,e.largestBatchId))}const Xw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $w{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Eo(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==Xw)throw s;re("LocalStore","Unexpectedly lost primary lease")}class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):X.reject(i)}static resolve(e){return new X(((i,a)=>{i(e)}))}static reject(e){return new X(((i,a)=>{a(e)}))}static waitFor(e){return new X(((i,a)=>{let l=0,c=0,d=!1;e.forEach((y=>{++l,y.next((()=>{++c,d&&c===l&&i()}),(g=>a(g)))})),d=!0,c===l&&i()}))}static or(e){let i=X.resolve(!1);for(const a of e)i=i.next((l=>l?X.resolve(l):a()));return i}static forEach(e,i){const a=[];return e.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(e,i){return new X(((a,l)=>{const c=e.length,d=new Array(c);let y=0;for(let g=0;g<c;g++){const _=g;i(e[_]).next((A=>{d[_]=A,++y,y===c&&a(d)}),(A=>l(A)))}}))}static doWhile(e,i){return new X(((a,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):a()};c()}))}}function Jw(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function To(s){return s.name==="IndexedDbTransactionError"}class Eh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Eh.ce=-1;const Hm=-1;function Th(s){return s==null}function rh(s){return s===0&&1/s==-1/0}function Zw(s){return typeof s=="number"&&Number.isInteger(s)&&!rh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const N1="";function Ww(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=I_(e)),e=ex(s.get(i),e);return I_(e)}function ex(s,e){let i=e;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case N1:i+="";break;default:i+=c}}return i}function I_(s){return s+N1+""}function D_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function vr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function I1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class bt{constructor(e,i){this.comparator=e,this.root=i||nn.EMPTY}insert(e,i){return new bt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vc(this.root,e,this.comparator,!0)}}class Vc{constructor(e,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,i,a,l,c){this.key=e,this.value=i,this.color=a??nn.RED,this.left=l??nn.EMPTY,this.right=c??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,l,c){return new nn(e??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let l=this;const c=a(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return nn.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,i,a,l,c){return this}insert(e,i,a){return new nn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ft{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new O_(this.data.getIterator())}getIteratorFrom(e){return new O_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ft(this.comparator);return i.data=e,i}}class O_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class jn{constructor(e){this.fields=e,e.sort(sn.comparator)}static empty(){return new jn([])}unionWith(e){let i=new Ft(sn.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new jn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return uo(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class D1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new D1("Invalid base64 string: "+c):c}})(e);return new rn(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new rn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const tx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mr(s){if(it(!!s,39018),typeof s=="string"){let e=0;const i=tx.exec(s);if(it(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Dt(s.seconds),nanos:Dt(s.nanos)}}function Dt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function pr(s){return typeof s=="string"?rn.fromBase64String(s):rn.fromUint8Array(s)}const O1="server_timestamp",M1="__type__",V1="__previous_value__",k1="__local_write_time__";function Gm(s){return(s?.mapValue?.fields||{})[M1]?.stringValue===O1}function bh(s){const e=s.mapValue.fields[V1];return Gm(e)?bh(e):e}function zl(s){const e=mr(s.mapValue.fields[k1].timestampValue);return new yt(e.seconds,e.nanos)}class nx{constructor(e,i,a,l,c,d,y,g,_,A,S){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=g,this.useFetchStreams=_,this.isUsingEmulator=A,this.apiKey=S}}const ah="(default)";class Pl{constructor(e,i){this.projectId=e,this.database=i||ah}static empty(){return new Pl("","")}get isDefaultDatabase(){return this.database===ah}isEqual(e){return e instanceof Pl&&e.projectId===this.projectId&&e.database===this.database}}function ix(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new ue($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pl(s.options.projectId,e)}const j1="__type__",sx="__max__",kc={mapValue:{}},U1="__vector__",oh="value";function gr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Gm(s)?4:ax(s)?9007199254740991:rx(s)?10:11:_e(28295,{value:s})}function Fi(s,e){if(s===e)return!0;const i=gr(s);if(i!==gr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return zl(s).isEqual(zl(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=mr(l.timestampValue),y=mr(c.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,c){return pr(l.bytesValue).isEqual(pr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,c){return Dt(l.geoPointValue.latitude)===Dt(c.geoPointValue.latitude)&&Dt(l.geoPointValue.longitude)===Dt(c.geoPointValue.longitude)})(s,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Dt(l.integerValue)===Dt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Dt(l.doubleValue),y=Dt(c.doubleValue);return d===y?rh(d)===rh(y):isNaN(d)&&isNaN(y)}return!1})(s,e);case 9:return uo(s.arrayValue.values||[],e.arrayValue.values||[],Fi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},y=c.mapValue.fields||{};if(D_(d)!==D_(y))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(y[g]===void 0||!Fi(d[g],y[g])))return!1;return!0})(s,e);default:return _e(52216,{left:s})}}function Bl(s,e){return(s.values||[]).find((i=>Fi(i,e)))!==void 0}function co(s,e){if(s===e)return 0;const i=gr(s),a=gr(e);if(i!==a)return ze(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return ze(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const y=Dt(c.integerValue||c.doubleValue),g=Dt(d.integerValue||d.doubleValue);return y<g?-1:y>g?1:y===g?0:isNaN(y)?isNaN(g)?0:-1:1})(s,e);case 3:return M_(s.timestampValue,e.timestampValue);case 4:return M_(zl(s),zl(e));case 5:return um(s.stringValue,e.stringValue);case 6:return(function(c,d){const y=pr(c),g=pr(d);return y.compareTo(g)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const y=c.split("/"),g=d.split("/");for(let _=0;_<y.length&&_<g.length;_++){const A=ze(y[_],g[_]);if(A!==0)return A}return ze(y.length,g.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const y=ze(Dt(c.latitude),Dt(d.latitude));return y!==0?y:ze(Dt(c.longitude),Dt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return V_(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const y=c.fields||{},g=d.fields||{},_=y[oh]?.arrayValue,A=g[oh]?.arrayValue,S=ze(_?.values?.length||0,A?.values?.length||0);return S!==0?S:V_(_,A)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===kc.mapValue&&d===kc.mapValue)return 0;if(c===kc.mapValue)return 1;if(d===kc.mapValue)return-1;const y=c.fields||{},g=Object.keys(y),_=d.fields||{},A=Object.keys(_);g.sort(),A.sort();for(let S=0;S<g.length&&S<A.length;++S){const I=um(g[S],A[S]);if(I!==0)return I;const H=co(y[g[S]],_[A[S]]);if(H!==0)return H}return ze(g.length,A.length)})(s.mapValue,e.mapValue);default:throw _e(23264,{he:i})}}function M_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return ze(s,e);const i=mr(s),a=mr(e),l=ze(i.seconds,a.seconds);return l!==0?l:ze(i.nanos,a.nanos)}function V_(s,e){const i=s.values||[],a=e.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=co(i[l],a[l]);if(c)return c}return ze(i.length,a.length)}function ho(s){return cm(s)}function cm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=mr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return pr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return pe.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=cm(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${cm(i.fields[d])}`;return l+"}"})(s.mapValue):_e(61005,{value:s})}function Gc(s){switch(gr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bh(s);return e?16+Gc(e):16;case 5:return 2*s.stringValue.length;case 6:return pr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Gc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return vr(a.fields,((c,d)=>{l+=c.length+Gc(d)})),l})(s.mapValue);default:throw _e(13486,{value:s})}}function hm(s){return!!s&&"integerValue"in s}function Fm(s){return!!s&&"arrayValue"in s}function k_(s){return!!s&&"nullValue"in s}function j_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Fc(s){return!!s&&"mapValue"in s}function rx(s){return(s?.mapValue?.fields||{})[j1]?.stringValue===U1}function Dl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return vr(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Dl(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Dl(s.arrayValue.values[i]);return e}return{...s}}function ax(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===sx}class Sn{constructor(e){this.value=e}static empty(){return new Sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Fc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Dl(i)}setAll(e){let i=sn.emptyPath(),a={},l=[];e.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const g=this.getFieldsMap(i);this.applyChanges(g,a,l),a={},l=[],i=y.popLast()}d?a[y.lastSegment()]=Dl(d):l.push(y.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(e){const i=this.field(e.popLast());Fc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Fi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=i.mapValue.fields[e.get(a)];Fc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,a){vr(i,((l,c)=>e[l]=c));for(const l of a)delete e[l]}clone(){return new Sn(Dl(this.value))}}function L1(s){const e=[];return vr(s.fields,((i,a)=>{const l=new sn([i]);if(Fc(a)){const c=L1(a.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new jn(e)}class un{constructor(e,i,a,l,c,d,y){this.key=e,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=y}static newInvalidDocument(e){return new un(e,0,Se.min(),Se.min(),Se.min(),Sn.empty(),0)}static newFoundDocument(e,i,a,l){return new un(e,1,i,Se.min(),a,l,0)}static newNoDocument(e,i){return new un(e,2,i,Se.min(),Se.min(),Sn.empty(),0)}static newUnknownDocument(e,i){return new un(e,3,i,Se.min(),Se.min(),Sn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class lh{constructor(e,i){this.position=e,this.inclusive=i}}function U_(s,e,i){let a=0;for(let l=0;l<s.position.length;l++){const c=e[l],d=s.position[l];if(c.field.isKeyField()?a=pe.comparator(pe.fromName(d.referenceValue),i.key):a=co(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function L_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Fi(s.position[i],e.position[i]))return!1;return!0}class uh{constructor(e,i="asc"){this.field=e,this.dir=i}}function ox(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class z1{}class Gt extends z1{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new ux(e,i,a):i==="array-contains"?new fx(e,a):i==="in"?new dx(e,a):i==="not-in"?new mx(e,a):i==="array-contains-any"?new px(e,a):new Gt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new cx(e,a):new hx(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(co(i,this.value)):i!==null&&gr(this.value)===gr(i)&&this.matchesComparison(co(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ki extends z1{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Ki(e,i)}matches(e){return P1(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function P1(s){return s.op==="and"}function B1(s){return lx(s)&&P1(s)}function lx(s){for(const e of s.filters)if(e instanceof Ki)return!1;return!0}function fm(s){if(s instanceof Gt)return s.field.canonicalString()+s.op.toString()+ho(s.value);if(B1(s))return s.filters.map((e=>fm(e))).join(",");{const e=s.filters.map((i=>fm(i))).join(",");return`${s.op}(${e})`}}function q1(s,e){return s instanceof Gt?(function(a,l){return l instanceof Gt&&a.op===l.op&&a.field.isEqual(l.field)&&Fi(a.value,l.value)})(s,e):s instanceof Ki?(function(a,l){return l instanceof Ki&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,y)=>c&&q1(d,l.filters[y])),!0):!1})(s,e):void _e(19439)}function H1(s){return s instanceof Gt?(function(i){return`${i.field.canonicalString()} ${i.op} ${ho(i.value)}`})(s):s instanceof Ki?(function(i){return i.op.toString()+" {"+i.getFilters().map(H1).join(" ,")+"}"})(s):"Filter"}class ux extends Gt{constructor(e,i,a){super(e,i,a),this.key=pe.fromName(a.referenceValue)}matches(e){const i=pe.comparator(e.key,this.key);return this.matchesComparison(i)}}class cx extends Gt{constructor(e,i){super(e,"in",i),this.keys=G1("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class hx extends Gt{constructor(e,i){super(e,"not-in",i),this.keys=G1("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function G1(s,e){return(e.arrayValue?.values||[]).map((i=>pe.fromName(i.referenceValue)))}class fx extends Gt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Fm(i)&&Bl(i.arrayValue,this.value)}}class dx extends Gt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Bl(this.value.arrayValue,i)}}class mx extends Gt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Bl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Bl(this.value.arrayValue,i)}}class px extends Gt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Fm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Bl(this.value.arrayValue,a)))}}class gx{constructor(e,i=null,a=[],l=[],c=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=y,this.Te=null}}function z_(s,e=null,i=[],a=[],l=null,c=null,d=null){return new gx(s,e,i,a,l,c,d)}function Km(s){const e=xe(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>fm(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),Th(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>ho(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>ho(a))).join(",")),e.Te=i}return e.Te}function Ym(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!ox(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!q1(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!L_(s.startAt,e.startAt)&&L_(s.endAt,e.endAt)}function dm(s){return pe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Ah{constructor(e,i=null,a=[],l=[],c=null,d="F",y=null,g=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=y,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function yx(s,e,i,a,l,c,d,y){return new Ah(s,e,i,a,l,c,d,y)}function Sh(s){return new Ah(s)}function P_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function _x(s){return pe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function vx(s){return s.collectionGroup!==null}function Ol(s){const e=xe(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Ft(sn.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new uh(c,a))})),i.has(sn.keyField().canonicalString())||e.Ie.push(new uh(sn.keyField(),a))}return e.Ie}function qi(s){const e=xe(s);return e.Ee||(e.Ee=Ex(e,Ol(s))),e.Ee}function Ex(s,e){if(s.limitType==="F")return z_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new uh(l.field,c)}));const i=s.endAt?new lh(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new lh(s.startAt.position,s.startAt.inclusive):null;return z_(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function mm(s,e,i){return new Ah(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function wh(s,e){return Ym(qi(s),qi(e))&&s.limitType===e.limitType}function F1(s){return`${Km(qi(s))}|lt:${s.limitType}`}function Ja(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>H1(l))).join(", ")}]`),Th(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>ho(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>ho(l))).join(",")),`Target(${a})`})(qi(s))}; limitType=${s.limitType})`}function xh(s,e){return e.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):pe.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,l){for(const c of Ol(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,e)&&(function(a,l){return!(a.startAt&&!(function(d,y,g){const _=U_(d,y,g);return d.inclusive?_<=0:_<0})(a.startAt,Ol(a),l)||a.endAt&&!(function(d,y,g){const _=U_(d,y,g);return d.inclusive?_>=0:_>0})(a.endAt,Ol(a),l))})(s,e)}function Tx(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function K1(s){return(e,i)=>{let a=!1;for(const l of Ol(s)){const c=bx(l,e,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function bx(s,e,i){const a=s.field.isKeyField()?pe.comparator(e.key,i.key):(function(c,d,y){const g=d.data.field(c),_=y.data.field(c);return g!==null&&_!==null?co(g,_):_e(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return _e(19790,{direction:s.dir})}}class sa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){vr(this.inner,((i,a)=>{for(const[l,c]of a)e(l,c)}))}isEmpty(){return I1(this.inner)}size(){return this.innerSize}}const Ax=new bt(pe.comparator);function bs(){return Ax}const Y1=new bt(pe.comparator);function xl(...s){let e=Y1;for(const i of s)e=e.insert(i.key,i);return e}function Q1(s){let e=Y1;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function $r(){return Ml()}function X1(){return Ml()}function Ml(){return new sa((s=>s.toString()),((s,e)=>s.isEqual(e)))}const Sx=new bt(pe.comparator),wx=new Ft(pe.comparator);function Pe(...s){let e=wx;for(const i of s)e=e.add(i);return e}const xx=new Ft(ze);function Rx(){return xx}function Qm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rh(e)?"-0":e}}function $1(s){return{integerValue:""+s}}function Cx(s,e){return Zw(e)?$1(e):Qm(s,e)}class Rh{constructor(){this._=void 0}}function Nx(s,e,i){return s instanceof ch?(function(l,c){const d={fields:{[M1]:{stringValue:O1},[k1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Gm(c)&&(c=bh(c)),c&&(d.fields[V1]=c),{mapValue:d}})(i,e):s instanceof fo?Z1(s,e):s instanceof ql?W1(s,e):(function(l,c){const d=J1(l,c),y=B_(d)+B_(l.Ae);return hm(d)&&hm(l.Ae)?$1(y):Qm(l.serializer,y)})(s,e)}function Ix(s,e,i){return s instanceof fo?Z1(s,e):s instanceof ql?W1(s,e):i}function J1(s,e){return s instanceof hh?(function(a){return hm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class ch extends Rh{}class fo extends Rh{constructor(e){super(),this.elements=e}}function Z1(s,e){const i=eE(e);for(const a of s.elements)i.some((l=>Fi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class ql extends Rh{constructor(e){super(),this.elements=e}}function W1(s,e){let i=eE(e);for(const a of s.elements)i=i.filter((l=>!Fi(l,a)));return{arrayValue:{values:i}}}class hh extends Rh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function B_(s){return Dt(s.integerValue||s.doubleValue)}function eE(s){return Fm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class Dx{constructor(e,i){this.field=e,this.transform=i}}function Ox(s,e){return s.field.isEqual(e.field)&&(function(a,l){return a instanceof fo&&l instanceof fo||a instanceof ql&&l instanceof ql?uo(a.elements,l.elements,Fi):a instanceof hh&&l instanceof hh?Fi(a.Ae,l.Ae):a instanceof ch&&l instanceof ch})(s.transform,e.transform)}class Mx{constructor(e,i){this.version=e,this.transformResults=i}}class mi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new mi}static exists(e){return new mi(void 0,e)}static updateTime(e){return new mi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Kc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Ch{}function tE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Xm(s.key,mi.none()):new eu(s.key,s.data,mi.none());{const i=s.data,a=Sn.empty();let l=new Ft(sn.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new Er(s.key,a,new jn(l.toArray()),mi.none())}}function Vx(s,e,i){s instanceof eu?(function(l,c,d){const y=l.value.clone(),g=H_(l.fieldTransforms,c,d.transformResults);y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,i):s instanceof Er?(function(l,c,d){if(!Kc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const y=H_(l.fieldTransforms,c,d.transformResults),g=c.data;g.setAll(nE(l)),g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Vl(s,e,i,a){return s instanceof eu?(function(c,d,y,g){if(!Kc(c.precondition,d))return y;const _=c.value.clone(),A=G_(c.fieldTransforms,g,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,a):s instanceof Er?(function(c,d,y,g){if(!Kc(c.precondition,d))return y;const _=G_(c.fieldTransforms,g,d),A=d.data;return A.setAll(nE(c)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),y===null?null:y.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(s,e,i,a):(function(c,d,y){return Kc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(s,e,i)}function kx(s,e){let i=null;for(const a of s.fieldTransforms){const l=e.data.field(a.field),c=J1(a.transform,l||null);c!=null&&(i===null&&(i=Sn.empty()),i.set(a.field,c))}return i||null}function q_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&uo(a,l,((c,d)=>Ox(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class eu extends Ch{constructor(e,i,a,l=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Er extends Ch{constructor(e,i,a,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function nE(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function H_(s,e,i){const a=new Map;it(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,y=e.data.field(c.field);a.set(c.field,Ix(d,y,i[l]))}return a}function G_(s,e,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,Nx(c,d,e))}return a}class Xm extends Ch{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jx extends Ch{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ux{constructor(e,i,a,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&Vx(c,e,a[l])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Vl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Vl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=X1();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let y=this.applyToLocalView(d,c.mutatedFields);y=i.has(l.key)?null:y;const g=tE(d,y);g!==null&&a.set(l.key,g),d.isValidDocument()||d.convertToNoDocument(Se.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Pe())}isEqual(e){return this.batchId===e.batchId&&uo(this.mutations,e.mutations,((i,a)=>q_(i,a)))&&uo(this.baseMutations,e.baseMutations,((i,a)=>q_(i,a)))}}class $m{constructor(e,i,a,l){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(e,i,a){it(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let l=(function(){return Sx})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new $m(e,i,a,l)}}class Lx{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class zx{constructor(e,i){this.count=e,this.unchangedNames=i}}var Pt,Fe;function Px(s){switch(s){case $.OK:return _e(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return _e(15467,{code:s})}}function iE(s){if(s===void 0)return Ts("GRPC error has no .code"),$.UNKNOWN;switch(s){case Pt.OK:return $.OK;case Pt.CANCELLED:return $.CANCELLED;case Pt.UNKNOWN:return $.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return $.INTERNAL;case Pt.UNAVAILABLE:return $.UNAVAILABLE;case Pt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Pt.NOT_FOUND:return $.NOT_FOUND;case Pt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Pt.ABORTED:return $.ABORTED;case Pt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Pt.DATA_LOSS:return $.DATA_LOSS;default:return _e(39323,{code:s})}}(Fe=Pt||(Pt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";function Bx(){return new TextEncoder}const qx=new cr([4294967295,4294967295],0);function F_(s){const e=Bx().encode(s),i=new E1;return i.update(e),new Uint8Array(i.digest())}function K_(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new cr([i,a],0),new cr([l,c],0)]}class Jm{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Rl(`Invalid padding: ${i}`);if(a<0)throw new Rl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Rl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Rl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=cr.fromNumber(this.ge)}ye(e,i,a){let l=e.add(i.multiply(cr.fromNumber(a)));return l.compare(qx)===1&&(l=new cr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=F_(e),[a,l]=K_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Jm(c,l,i);return a.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const i=F_(e),[a,l]=K_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.be(d)}}be(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Rl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Nh{constructor(e,i,a,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const l=new Map;return l.set(e,tu.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Nh(Se.min(),l,new bt(ze),bs(),Pe())}}class tu{constructor(e,i,a,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new tu(a,i,Pe(),Pe(),Pe())}}class Yc{constructor(e,i,a,l){this.Se=e,this.removedTargetIds=i,this.key=a,this.De=l}}class sE{constructor(e,i){this.targetId=e,this.Ce=i}}class rE{constructor(e,i,a=rn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Y_{constructor(){this.ve=0,this.Fe=Q_(),this.Me=rn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),i=Pe(),a=Pe();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:_e(38017,{changeType:c})}})),new tu(this.Me,this.xe,e,i,a)}Ke(){this.Oe=!1,this.Fe=Q_()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,it(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Hx{constructor(e){this.Ge=e,this.ze=new Map,this.je=bs(),this.He=jc(),this.Je=jc(),this.Ze=new bt(ze)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(e.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,a=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(dm(c))if(a===0){const d=new pe(c.path);this.et(i,d,un.newNoDocument(d,Se.min()))}else it(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const y=this.ut(e),g=y?this.ct(y,e,d):1;if(g!==0){this.it(i);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,y;try{d=pr(a).toUint8Array()}catch(g){if(g instanceof D1)return lo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{y=new Jm(d,l,c)}catch(g){return lo(g instanceof Rl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return y.ge===0?null:y}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(y)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const y=this.ot(d);if(y){if(c.current&&dm(y.target)){const g=new pe(y.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,un.newNoDocument(g,e))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=Pe();this.Je.forEach(((c,d)=>{let y=!0;d.forEachWhile((g=>{const _=this.ot(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new Nh(e,i,this.Ze,this.je,a);return this.je=bs(),this.He=jc(),this.Je=jc(),this.Ze=new bt(ze),l}Ye(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new Y_,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new Ft(ze),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new Ft(ze),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||re("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Y_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function jc(){return new bt(pe.comparator)}function Q_(){return new bt(pe.comparator)}const Gx={asc:"ASCENDING",desc:"DESCENDING"},Fx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Kx={and:"AND",or:"OR"};class Yx{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function pm(s,e){return s.useProto3Json||Th(e)?e:{value:e}}function fh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function aE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function Qx(s,e){return fh(s,e.toTimestamp())}function Hi(s){return it(!!s,49232),Se.fromTimestamp((function(i){const a=mr(i);return new yt(a.seconds,a.nanos)})(s))}function Zm(s,e){return gm(s,e).canonicalString()}function gm(s,e){const i=(function(l){return new Tt(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?i:i.child(e)}function oE(s){const e=Tt.fromString(s);return it(fE(e),10190,{key:e.toString()}),e}function ym(s,e){return Zm(s.databaseId,e.path)}function Qd(s,e){const i=oE(e);if(i.get(1)!==s.databaseId.projectId)throw new ue($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ue($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new pe(uE(i))}function lE(s,e){return Zm(s.databaseId,e)}function Xx(s){const e=oE(s);return e.length===4?Tt.emptyPath():uE(e)}function _m(s){return new Tt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function uE(s){return it(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function X_(s,e,i){return{name:ym(s,e),fields:i.value.mapValue.fields}}function $x(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:_e(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(_,A){return _.useProto3Json?(it(A===void 0||typeof A=="string",58123),rn.fromBase64String(A||"")):(it(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),rn.fromUint8Array(A||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(_){const A=_.code===void 0?$.UNKNOWN:iE(_.code);return new ue(A,_.message||"")})(d);i=new rE(a,l,c,y||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=Qd(s,a.document.name),c=Hi(a.document.updateTime),d=a.document.createTime?Hi(a.document.createTime):Se.min(),y=new Sn({mapValue:{fields:a.document.fields}}),g=un.newFoundDocument(l,c,d,y),_=a.targetIds||[],A=a.removedTargetIds||[];i=new Yc(_,A,g.key,g)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=Qd(s,a.document),c=a.readTime?Hi(a.readTime):Se.min(),d=un.newNoDocument(l,c),y=a.removedTargetIds||[];i=new Yc([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=Qd(s,a.document),c=a.removedTargetIds||[];i=new Yc([],c,l,null)}else{if(!("filter"in e))return _e(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new zx(l,c),y=a.targetId;i=new sE(y,d)}}return i}function Jx(s,e){let i;if(e instanceof eu)i={update:X_(s,e.key,e.value)};else if(e instanceof Xm)i={delete:ym(s,e.key)};else if(e instanceof Er)i={update:X_(s,e.key,e.data),updateMask:aR(e.fieldMask)};else{if(!(e instanceof jx))return _e(16599,{dt:e.type});i={verify:ym(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const y=d.transform;if(y instanceof ch)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof fo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof ql)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof hh)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw _e(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:Qx(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_e(27497)})(s,e.precondition)),i}function Zx(s,e){return s&&s.length>0?(it(e!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Hi(l.updateTime):Hi(c);return d.isEqual(Se.min())&&(d=Hi(c)),new Mx(d,l.transformResults||[])})(i,e)))):[]}function Wx(s,e){return{documents:[lE(s,e.path)]}}function eR(s,e){const i={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=lE(s,l);const c=(function(_){if(_.length!==0)return hE(Ki.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((A=>(function(I){return{field:Za(I.field),direction:iR(I.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=pm(s,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:l}}function tR(s){let e=Xx(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){it(a===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:e=e.child(A.collectionId)}let c=[];i.where&&(c=(function(S){const I=cE(S);return I instanceof Ki&&B1(I)?I.getFilters():[I]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((I=>(function(J){return new uh(Wa(J.field),(function(ne){switch(ne){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(I)))})(i.orderBy));let y=null;i.limit&&(y=(function(S){let I;return I=typeof S=="object"?S.value:S,Th(I)?null:I})(i.limit));let g=null;i.startAt&&(g=(function(S){const I=!!S.before,H=S.values||[];return new lh(H,I)})(i.startAt));let _=null;return i.endAt&&(_=(function(S){const I=!S.before,H=S.values||[];return new lh(H,I)})(i.endAt)),yx(e,l,d,c,y,"F",g,_)}function nR(s,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function cE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Wa(i.unaryFilter.field);return Gt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Wa(i.unaryFilter.field);return Gt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Wa(i.unaryFilter.field);return Gt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Wa(i.unaryFilter.field);return Gt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Gt.create(Wa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Ki.create(i.compositeFilter.filters.map((a=>cE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return _e(1026)}})(i.compositeFilter.op))})(s):_e(30097,{filter:s})}function iR(s){return Gx[s]}function sR(s){return Fx[s]}function rR(s){return Kx[s]}function Za(s){return{fieldPath:s.canonicalString()}}function Wa(s){return sn.fromServerFormat(s.fieldPath)}function hE(s){return s instanceof Gt?(function(i){if(i.op==="=="){if(j_(i.value))return{unaryFilter:{field:Za(i.field),op:"IS_NAN"}};if(k_(i.value))return{unaryFilter:{field:Za(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(j_(i.value))return{unaryFilter:{field:Za(i.field),op:"IS_NOT_NAN"}};if(k_(i.value))return{unaryFilter:{field:Za(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Za(i.field),op:sR(i.op),value:i.value}}})(s):s instanceof Ki?(function(i){const a=i.getFilters().map((l=>hE(l)));return a.length===1?a[0]:{compositeFilter:{op:rR(i.op),filters:a}}})(s):_e(54877,{filter:s})}function aR(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function fE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function dE(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class ar{constructor(e,i,a,l,c=Se.min(),d=Se.min(),y=rn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=g}withSequenceNumber(e){return new ar(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class oR{constructor(e){this.yt=e}}function lR(s){const e=tR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?mm(e,e.limit,"L"):e}class uR{constructor(){this.Sn=new cR}addToCollectionParentIndex(e,i){return this.Sn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(dr.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(dr.min())}updateCollectionGroup(e,i,a){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class cR{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i]||new Ft(Tt.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(e){return(this.index[e]||new Ft(Tt.comparator)).toArray()}}const $_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mE=41943040;class An{static withCacheSize(e){return new An(e,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(mE,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);class mo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new mo(0)}static ar(){return new mo(-1)}}const J_="LruGarbageCollector",hR=1048576;function Z_([s,e],[i,a]){const l=ze(s,i);return l===0?ze(e,a):l}class fR{constructor(e){this.Pr=e,this.buffer=new Ft(Z_),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Z_(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class dR{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){re(J_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){To(i)?re(J_,"Ignoring IndexedDB error during garbage collection: ",i):await Eo(i)}await this.Ar(3e5)}))}}class mR{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return X.resolve(Eh.ce);const a=new fR(i);return this.Vr.forEachTarget(e,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(e,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.Vr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(re("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve($_)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$_):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let a,l,c,d,y,g,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(e,l)))).next((S=>(a=S,y=Date.now(),this.removeTargets(e,a,i)))).next((S=>(c=S,g=Date.now(),this.removeOrphanedDocuments(e,a)))).next((S=>(_=Date.now(),$a()<=Le.DEBUG&&re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(y-d)+`ms
	Removed ${c} targets in `+(g-y)+`ms
	Removed ${S} documents in `+(_-g)+`ms
Total Duration: ${_-A}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function pR(s,e){return new mR(s,e)}class gR{constructor(){this.changes=new sa((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class yR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class _R{constructor(e,i,a,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(a!==null&&Vl(a.mutation,l,jn.empty(),yt.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Pe()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Pe()){const l=$r();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,a).next((c=>{let d=xl();return c.forEach(((y,g)=>{d=d.insert(y,g.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=$r();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Pe())))}populateOverlays(e,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(e,i,a,l){let c=bs();const d=Ml(),y=(function(){return Ml()})();return i.forEach(((g,_)=>{const A=a.get(_.key);l.has(_.key)&&(A===void 0||A.mutation instanceof Er)?c=c.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Vl(A.mutation,_,A.mutation.getFieldMask(),yt.now())):d.set(_.key,jn.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>y.set(_,new yR(A,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(e,i){const a=Ml();let l=new bt(((d,y)=>d-y)),c=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const y of d)y.keys().forEach((g=>{const _=i.get(g);if(_===null)return;let A=a.get(g)||jn.empty();A=y.applyToLocalView(_,A),a.set(g,A);const S=(l.get(y.batchId)||Pe()).add(g);l=l.insert(y.batchId,S)}))})).next((()=>{const d=[],y=l.getReverseIterator();for(;y.hasNext();){const g=y.getNext(),_=g.key,A=g.value,S=X1();A.forEach((I=>{if(!c.has(I)){const H=tE(i.get(I),a.get(I));H!==null&&S.set(I,H),c=c.add(I)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,S))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,l){return _x(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):vx(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,l):this.getDocumentsMatchingCollectionQuery(e,i,a,l)}getNextDocuments(e,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,l-c.size):X.resolve($r());let y=Ll,g=c;return d.next((_=>X.forEach(_,((A,S)=>(y<S.largestBatchId&&(y=S.largestBatchId),c.get(A)?X.resolve():this.remoteDocumentCache.getEntry(e,A).next((I=>{g=g.insert(A,I)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,g,_,Pe()))).next((A=>({batchId:y,changes:Q1(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new pe(i)).next((a=>{let l=xl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,l){const c=i.collectionGroup;let d=xl();return this.indexManager.getCollectionParents(e,c).next((y=>X.forEach(y,(g=>{const _=(function(S,I){return new Ah(I,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,a,l).next((A=>{A.forEach(((S,I)=>{d=d.insert(S,I)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,l)))).next((d=>{c.forEach(((g,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,un.newInvalidDocument(A)))}));let y=xl();return d.forEach(((g,_)=>{const A=c.get(g);A!==void 0&&Vl(A.mutation,_,jn.empty(),yt.now()),xh(i,_)&&(y=y.insert(g,_))})),y}))}}class vR{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return X.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Hi(l.createTime)}})(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:lR(l.bundledQuery),readTime:Hi(l.readTime)}})(i)),X.resolve()}}class ER{constructor(){this.overlays=new bt(pe.comparator),this.Lr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const a=$r();return X.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((l,c)=>{this.bt(e,i,c)})),X.resolve()}removeOverlaysForBatchId(e,i,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),X.resolve()}getOverlaysForCollection(e,i,a){const l=$r(),c=i.length+1,d=new pe(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const g=y.getNext().value,_=g.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&g.largestBatchId>a&&l.set(g.getKey(),g)}return X.resolve(l)}getOverlaysForCollectionGroup(e,i,a,l){let c=new bt(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let A=c.get(_.largestBatchId);A===null&&(A=$r(),c=c.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const y=$r(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((_,A)=>y.set(_,A))),!(y.size()>=l)););return X.resolve(y)}bt(e,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new Lx(i,a));let c=this.Lr.get(i);c===void 0&&(c=Pe(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class TR{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}class Wm{constructor(){this.kr=new Ft(Xt.Kr),this.qr=new Ft(Xt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const a=new Xt(e,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Wr(new Xt(e,i))}Qr(e,i){e.forEach((a=>this.removeReference(a,i)))}Gr(e){const i=new pe(new Tt([])),a=new Xt(i,e),l=new Xt(i,e+1),c=[];return this.qr.forEachInRange([a,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new pe(new Tt([])),a=new Xt(i,e),l=new Xt(i,e+1);let c=Pe();return this.qr.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Xt(e,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Xt{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return pe.comparator(e.key,i.key)||ze(e.Hr,i.Hr)}static Ur(e,i){return ze(e.Hr,i.Hr)||pe.comparator(e.key,i.key)}}class bR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Ft(Xt.Kr)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Ux(c,i,a,l);this.mutationQueue.push(d);for(const y of l)this.Jr=this.Jr.add(new Xt(y.key,c)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,l=this.Xr(a),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Hm:this.Yn-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Xt(i,0),l=new Xt(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,l],(d=>{const y=this.Zr(d.Hr);c.push(y)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Ft(ze);return i.forEach((l=>{const c=new Xt(l,0),d=new Xt(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(y=>{a=a.add(y.Hr)}))})),X.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,l=a.length+1;let c=a;pe.isDocumentKey(c)||(c=c.child(""));const d=new Xt(new pe(c),0);let y=new Ft(ze);return this.Jr.forEachWhile((g=>{const _=g.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(y=y.add(g.Hr)),!0)}),d),X.resolve(this.Yr(y))}Yr(e){const i=[];return e.forEach((a=>{const l=this.Zr(a);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){it(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return X.forEach(i.mutations,(l=>{const c=new Xt(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Jr=a}))}nr(e){}containsKey(e,i){const a=new Xt(i,0),l=this.Jr.firstAfterOrEqual(a);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class AR{constructor(e){this.ti=e,this.docs=(function(){return new bt(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():un.newInvalidDocument(i))}getEntries(e,i){let a=bs();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():un.newInvalidDocument(l))})),X.resolve(a)}getDocumentsMatchingQuery(e,i,a,l){let c=bs();const d=i.path,y=new pe(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(y);for(;g.hasNext();){const{key:_,value:{document:A}}=g.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||Qw(Yw(A),a)<=0||(l.has(A.key)||xh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(e,i,a,l){_e(9500)}ni(e,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new SR(this)}getSize(e){return X.resolve(this.size)}}class SR extends gR{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(e,l)):this.Mr.removeEntry(a)})),X.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class wR{constructor(e){this.persistence=e,this.ri=new sa((i=>Km(i)),Ym),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.ii=0,this.si=new Wm,this.targetCount=0,this.oi=mo._r()}forEachTarget(e,i){return this.ri.forEach(((a,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),X.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new mo(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.lr(i),X.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,a){let l=0;const c=[];return this.ri.forEach(((d,y)=>{y.sequenceNumber<=i&&a.get(y.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(e,y.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const a=this.ri.get(i)||null;return X.resolve(a)}addMatchingKeys(e,i,a){return this.si.$r(i,a),X.resolve()}removeMatchingKeys(e,i,a){this.si.Qr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),X.resolve()}getMatchingKeysForTargetId(e,i){const a=this.si.jr(i);return X.resolve(a)}containsKey(e,i){return X.resolve(this.si.containsKey(i))}}class pE{constructor(e,i){this._i={},this.overlays={},this.ai=new Eh(0),this.ui=!1,this.ui=!0,this.ci=new TR,this.referenceDelegate=e(this),this.li=new wR(this),this.indexManager=new uR,this.remoteDocumentCache=(function(l){return new AR(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new oR(i),this.Pi=new vR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new ER,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this._i[e.toKey()];return a||(a=new bR(i,this.referenceDelegate),this._i[e.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,a){re("MemoryPersistence","Starting transaction:",e);const l=new xR(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(e,i){return X.or(Object.values(this._i).map((a=>()=>a.containsKey(e,i))))}}class xR extends $w{constructor(e){super(),this.currentSequenceNumber=e}}class ep{constructor(e){this.persistence=e,this.Ri=new Wm,this.Ai=null}static Vi(e){return new ep(e)}get di(){if(this.Ai)return this.Ai;throw _e(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),X.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),X.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.di,(a=>{const l=pe.fromPath(a);return this.mi(e,l).next((c=>{c||i.removeEntry(l,Se.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class dh{constructor(e,i){this.persistence=e,this.fi=new sa((a=>Ww(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=pR(this,i)}static Vi(e,i){return new dh(e,i)}Ti(){}Ii(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((l=>a+l))))}pr(e){let i=0;return this.mr(e,(a=>{i++})).next((()=>i))}mr(e,i){return X.forEach(this.fi,((a,l)=>this.wr(e,a,l).next((c=>c?X.resolve():i(l)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(e,(d=>this.wr(e,d,i).next((y=>{y||(a++,c.removeEntry(d,Se.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),X.resolve()}removeReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),X.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Gc(e.data.value)),i}wr(e,i,a){return X.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.fi.get(i);return X.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class tp{constructor(e,i,a,l){this.targetId=e,this.fromCache=i,this.Ts=a,this.Is=l}static Es(e,i){let a=Pe(),l=Pe();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new tp(e,i.fromCache,a,l)}}class RR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class CR{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return hA()?8:Jw(cn())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,l){const c={result:null};return this.gs(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(e,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new RR;return this.ys(e,i,d).next((y=>{if(c.result=y,this.As)return this.ws(e,i,d,y.size)}))})).next((()=>c.result))}ws(e,i,a,l){return a.documentReadCount<this.Vs?($a()<=Le.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",Ja(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),X.resolve()):($a()<=Le.DEBUG&&re("QueryEngine","Query:",Ja(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?($a()<=Le.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",Ja(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qi(i))):X.resolve())}gs(e,i){if(P_(i))return X.resolve(null);let a=qi(i);return this.indexManager.getIndexType(e,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=mm(i,null,"F"),a=qi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=Pe(...c);return this.fs.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,a).next((g=>{const _=this.bs(i,y);return this.Ss(i,_,d,g.readTime)?this.gs(e,mm(i,null,"F")):this.Ds(e,_,i,g)}))))})))))}ps(e,i,a,l){return P_(i)||l.isEqual(Se.min())?X.resolve(null):this.fs.getDocuments(e,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,l)?X.resolve(null):($a()<=Le.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ja(i)),this.Ds(e,d,i,Kw(l,Ll)).next((y=>y)))}))}bs(e,i){let a=new Ft(K1(e));return i.forEach(((l,c)=>{xh(e,c)&&(a=a.add(c))})),a}Ss(e,i,a,l){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(e,i,a){return $a()<=Le.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",Ja(i)),this.fs.getDocumentsMatchingQuery(e,i,dr.min(),a)}Ds(e,i,a,l){return this.fs.getDocumentsMatchingQuery(e,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const np="LocalStore",NR=3e8;class IR{constructor(e,i,a,l){this.persistence=e,this.Cs=i,this.serializer=l,this.vs=new bt(ze),this.Fs=new sa((c=>Km(c)),Ym),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(a)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _R(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function DR(s,e,i,a){return new IR(s,e,i,a)}async function gE(s,e){const i=xe(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Os(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],y=[];let g=Pe();for(const _ of l){d.push(_.batchId);for(const A of _.mutations)g=g.add(A.key)}for(const _ of c){y.push(_.batchId);for(const A of _.mutations)g=g.add(A.key)}return i.localDocuments.getDocuments(a,g).next((_=>({Ns:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function OR(s,e){const i=xe(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=e.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(y,g,_,A){const S=_.batch,I=S.keys();let H=X.resolve();return I.forEach((J=>{H=H.next((()=>A.getEntry(g,J))).next((W=>{const ne=_.docVersions.get(J);it(ne!==null,48541),W.version.compareTo(ne)<0&&(S.applyToRemoteDocument(W,_),W.isValidDocument()&&(W.setReadTime(_.commitVersion),A.addEntry(W)))}))})),H.next((()=>y.mutationQueue.removeMutationBatch(g,S)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(y){let g=Pe();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(g=g.add(y.batch.mutations[_].key));return g})(e)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function yE(s){const e=xe(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function MR(s,e){const i=xe(s),a=e.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const y=[];e.targetChanges.forEach(((A,S)=>{const I=l.get(S);if(!I)return;y.push(i.li.removeMatchingKeys(c,A.removedDocuments,S).next((()=>i.li.addMatchingKeys(c,A.addedDocuments,S))));let H=I.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?H=H.withResumeToken(rn.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):A.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(A.resumeToken,a)),l=l.insert(S,H),(function(W,ne,ce){return W.resumeToken.approximateByteSize()===0||ne.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=NR?!0:ce.addedDocuments.size+ce.modifiedDocuments.size+ce.removedDocuments.size>0})(I,H,A)&&y.push(i.li.updateTargetData(c,H))}));let g=bs(),_=Pe();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),y.push(VR(c,d,e.documentUpdates).next((A=>{g=A.Bs,_=A.Ls}))),!a.isEqual(Se.min())){const A=i.li.getLastRemoteSnapshotVersion(c).next((S=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));y.push(A)}return X.waitFor(y).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,g,_))).next((()=>g))})).then((c=>(i.vs=l,c)))}function VR(s,e,i){let a=Pe(),l=Pe();return i.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let d=bs();return i.forEach(((y,g)=>{const _=c.get(y);g.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(y)),g.isNoDocument()&&g.version.isEqual(Se.min())?(e.removeEntry(y,g.readTime),d=d.insert(y,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(g),d=d.insert(y,g)):re(np,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",g.version)})),{Bs:d,Ls:l}}))}function kR(s,e){const i=xe(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Hm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function jR(s,e){const i=xe(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.li.getTargetData(a,e).next((c=>c?(l=c,X.resolve(l)):i.li.allocateTargetId(a).next((d=>(l=new ar(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(e,a.targetId)),a}))}async function vm(s,e,i){const a=xe(s),l=a.vs.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!To(d))throw d;re(np,`Failed to update sequence numbers for target ${e}: ${d}`)}a.vs=a.vs.remove(e),a.Fs.delete(l.target)}function W_(s,e,i){const a=xe(s);let l=Se.min(),c=Pe();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,_,A){const S=xe(g),I=S.Fs.get(A);return I!==void 0?X.resolve(S.vs.get(I)):S.li.getTargetData(_,A)})(a,d,qi(e)).next((y=>{if(y)return l=y.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,y.targetId).next((g=>{c=g}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,e,i?l:Se.min(),i?c:Pe()))).next((y=>(UR(a,Tx(e),y),{documents:y,ks:c})))))}function UR(s,e,i){let a=s.Ms.get(e)||Se.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Ms.set(e,a)}class ev{constructor(){this.activeTargetIds=Rx()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class LR{constructor(){this.vo=new ev,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,a){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new ev,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class zR{Mo(e){}shutdown(){}}const tv="ConnectivityMonitor";class nv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){re(tv,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){re(tv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Uc=null;function Em(){return Uc===null?Uc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Uc++,"0x"+Uc.toString(16)}const Xd="RestConnection",PR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class BR{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===ah?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(e,i,a,l,c){const d=Em(),y=this.Qo(e,i.toUriEncodedString());re(Xd,`Sending RPC '${e}' ${d}:`,y,a);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,l,c);const{host:_}=new URL(y),A=go(_);return this.zo(e,y,g,a,A).then((S=>(re(Xd,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw lo(Xd,`RPC '${e}' ${d} failed with error: `,S,"url: ",y,"request:",a),S}))}jo(e,i,a,l,c,d){return this.Wo(e,i,a,l,c)}Go(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+vo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),a&&a.headers.forEach(((l,c)=>e[c]=l))}Qo(e,i){const a=PR[e];let l=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class qR{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const on="WebChannelConnection",Sl=(s,e,i)=>{s.listen(e,(a=>{try{i(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class so extends BR{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!so.c_){const e=S1();Sl(e,A1.STAT_EVENT,(i=>{i.stat===lm.PROXY?re(on,"STAT_EVENT: detected buffering proxy"):i.stat===lm.NOPROXY&&re(on,"STAT_EVENT: detected no buffering proxy")})),so.c_=!0}}zo(e,i,a,l,c){const d=Em();return new Promise(((y,g)=>{const _=new T1;_.setWithCredentials(!0),_.listenOnce(b1.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Hc.NO_ERROR:const S=_.getResponseJson();re(on,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),y(S);break;case Hc.TIMEOUT:re(on,`RPC '${e}' ${d} timed out`),g(new ue($.DEADLINE_EXCEEDED,"Request time out"));break;case Hc.HTTP_ERROR:const I=_.getStatus();if(re(on,`RPC '${e}' ${d} failed with status:`,I,"response text:",_.getResponseText()),I>0){let H=_.getResponseJson();Array.isArray(H)&&(H=H[0]);const J=H?.error;if(J&&J.status&&J.message){const W=(function(ce){const Ae=ce.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(Ae)>=0?Ae:$.UNKNOWN})(J.status);g(new ue(W,J.message))}else g(new ue($.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new ue($.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{re(on,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(l);re(on,`RPC '${e}' ${d} sending request:`,l),_.send(i,"POST",A,a,15)}))}T_(e,i,a){const l=Em(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(y.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Go(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const _=c.join("");re(on,`Creating RPC '${e}' stream ${l}: ${_}`,y);const A=d.createWebChannel(_,y);this.I_(A);let S=!1,I=!1;const H=new qR({Ho:J=>{I?re(on,`Not sending because RPC '${e}' stream ${l} is closed:`,J):(S||(re(on,`Opening RPC '${e}' stream ${l} transport.`),A.open(),S=!0),re(on,`RPC '${e}' stream ${l} sending:`,J),A.send(J))},Jo:()=>A.close()});return Sl(A,wl.EventType.OPEN,(()=>{I||(re(on,`RPC '${e}' stream ${l} transport opened.`),H.i_())})),Sl(A,wl.EventType.CLOSE,(()=>{I||(I=!0,re(on,`RPC '${e}' stream ${l} transport closed`),H.o_(),this.E_(A))})),Sl(A,wl.EventType.ERROR,(J=>{I||(I=!0,lo(on,`RPC '${e}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),H.o_(new ue($.UNAVAILABLE,"The operation could not be completed")))})),Sl(A,wl.EventType.MESSAGE,(J=>{if(!I){const W=J.data[0];it(!!W,16349);const ne=W,ce=ne?.error||ne[0]?.error;if(ce){re(on,`RPC '${e}' stream ${l} received error:`,ce);const Ae=ce.status;let ve=(function(Ve){const N=Pt[Ve];if(N!==void 0)return iE(N)})(Ae),st=ce.message;ve===void 0&&(ve=$.INTERNAL,st="Unknown error status: "+Ae+" with message "+ce.message),I=!0,H.o_(new ue(ve,st)),A.close()}else re(on,`RPC '${e}' stream ${l} received:`,W),H.__(W)}})),so.u_(),setTimeout((()=>{H.s_()}),0),H}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,a){super.Go(e,i,a),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return w1()}}function HR(s){return new so(s)}function $d(){return typeof document<"u"?document:null}function Ih(s){return new Yx(s,!0)}so.c_=!1;class _E{constructor(e,i,a=1e3,l=1.5,c=6e4){this.Ci=e,this.timerId=i,this.R_=a,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&re("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const iv="PersistentStream";class vE{constructor(e,i,a,l,c,d,y,g){this.Ci=e,this.b_=a,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new _E(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(Ts(i.toString()),Ts("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{e((()=>{const l=new ue($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(e,i){const a=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return re(iv,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(re(iv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class GR extends vE{constructor(e,i,a,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=$x(this.serializer,e),a=(function(c){if(!("targetChange"in c))return Se.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Se.min():d.readTime?Hi(d.readTime):Se.min()})(e);return this.listener.J_(i,a)}Z_(e){const i={};i.database=_m(this.serializer),i.addTarget=(function(c,d){let y;const g=d.target;if(y=dm(g)?{documents:Wx(c,g)}:{query:eR(c,g).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=aE(c,d.resumeToken);const _=pm(c,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(Se.min())>0){y.readTime=fh(c,d.snapshotVersion.toTimestamp());const _=pm(c,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,e);const a=nR(this.serializer,e);a&&(i.labels=a),this.K_(i)}X_(e){const i={};i.database=_m(this.serializer),i.removeTarget=e,this.K_(i)}}class FR extends vE{constructor(e,i,a,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return it(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,it(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){it(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=Zx(e.writeResults,e.commitTime),a=Hi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=_m(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>Jx(this.serializer,a)))};this.K_(i)}}class KR{}class YR extends KR{constructor(e,i,a,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ue($.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(e,gm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ue($.UNKNOWN,c.toString())}))}jo(e,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.jo(e,gm(i,a),l,d,y,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ue($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function QR(s,e,i,a){return new YR(s,e,i,a)}class XR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ts(i),this.aa=!1):re("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const na="RemoteStore";class $R{constructor(e,i,a,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{ra(this)&&(re(na,"Restarting streams for network reachability change."),await(async function(g){const _=xe(g);_.Ea.add(4),await nu(_),_.Va.set("Unknown"),_.Ea.delete(4),await Dh(_)})(this))}))})),this.Va=new XR(a,l)}}async function Dh(s){if(ra(s))for(const e of s.Ra)await e(!0)}async function nu(s){for(const e of s.Ra)await e(!1)}function EE(s,e){const i=xe(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),ap(i)?rp(i):bo(i).O_()&&sp(i,e))}function ip(s,e){const i=xe(s),a=bo(i);i.Ia.delete(e),a.O_()&&TE(i,e),i.Ia.size===0&&(a.O_()?a.L_():ra(i)&&i.Va.set("Unknown"))}function sp(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}bo(s).Z_(e)}function TE(s,e){s.da.$e(e),bo(s).X_(e)}function rp(s){s.da=new Hx({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),bo(s).start(),s.Va.ua()}function ap(s){return ra(s)&&!bo(s).x_()&&s.Ia.size>0}function ra(s){return xe(s).Ea.size===0}function bE(s){s.da=void 0}async function JR(s){s.Va.set("Online")}async function ZR(s){s.Ia.forEach(((e,i)=>{sp(s,e)}))}async function WR(s,e){bE(s),ap(s)?(s.Va.ha(e),rp(s)):s.Va.set("Unknown")}async function eC(s,e,i){if(s.Va.set("Online"),e instanceof rE&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const y of c.targetIds)l.Ia.has(y)&&(await l.remoteSyncer.rejectListen(y,d),l.Ia.delete(y),l.da.removeTarget(y))})(s,e)}catch(a){re(na,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await mh(s,a)}else if(e instanceof Yc?s.da.Xe(e):e instanceof sE?s.da.st(e):s.da.tt(e),!i.isEqual(Se.min()))try{const a=await yE(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const y=c.da.Tt(d);return y.targetChanges.forEach(((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const A=c.Ia.get(_);A&&c.Ia.set(_,A.withResumeToken(g.resumeToken,d))}})),y.targetMismatches.forEach(((g,_)=>{const A=c.Ia.get(g);if(!A)return;c.Ia.set(g,A.withResumeToken(rn.EMPTY_BYTE_STRING,A.snapshotVersion)),TE(c,g);const S=new ar(A.target,g,_,A.sequenceNumber);sp(c,S)})),c.remoteSyncer.applyRemoteEvent(y)})(s,i)}catch(a){re(na,"Failed to raise snapshot:",a),await mh(s,a)}}async function mh(s,e,i){if(!To(e))throw e;s.Ea.add(1),await nu(s),s.Va.set("Offline"),i||(i=()=>yE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{re(na,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Dh(s)}))}function AE(s,e){return e().catch((i=>mh(s,i,e)))}async function Oh(s){const e=xe(s),i=yr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Hm;for(;tC(e);)try{const l=await kR(e.localStore,a);if(l===null){e.Ta.length===0&&i.L_();break}a=l.batchId,nC(e,l)}catch(l){await mh(e,l)}SE(e)&&wE(e)}function tC(s){return ra(s)&&s.Ta.length<10}function nC(s,e){s.Ta.push(e);const i=yr(s);i.O_()&&i.Y_&&i.ea(e.mutations)}function SE(s){return ra(s)&&!yr(s).x_()&&s.Ta.length>0}function wE(s){yr(s).start()}async function iC(s){yr(s).ra()}async function sC(s){const e=yr(s);for(const i of s.Ta)e.ea(i.mutations)}async function rC(s,e,i){const a=s.Ta.shift(),l=$m.from(a,e,i);await AE(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Oh(s)}async function aC(s,e){e&&yr(s).Y_&&await(async function(a,l){if((function(d){return Px(d)&&d!==$.ABORTED})(l.code)){const c=a.Ta.shift();yr(a).B_(),await AE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Oh(a)}})(s,e),SE(s)&&wE(s)}async function sv(s,e){const i=xe(s);i.asyncQueue.verifyOperationInProgress(),re(na,"RemoteStore received new credentials");const a=ra(i);i.Ea.add(3),await nu(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Dh(i)}async function oC(s,e){const i=xe(s);e?(i.Ea.delete(2),await Dh(i)):e||(i.Ea.add(2),await nu(i),i.Va.set("Unknown"))}function bo(s){return s.ma||(s.ma=(function(i,a,l){const c=xe(i);return c.sa(),new GR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:JR.bind(null,s),Yo:ZR.bind(null,s),t_:WR.bind(null,s),J_:eC.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),ap(s)?rp(s):s.Va.set("Unknown")):(await s.ma.stop(),bE(s))}))),s.ma}function yr(s){return s.fa||(s.fa=(function(i,a,l){const c=xe(i);return c.sa(),new FR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:iC.bind(null,s),t_:aC.bind(null,s),ta:sC.bind(null,s),na:rC.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await Oh(s)):(await s.fa.stop(),s.Ta.length>0&&(re(na,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class op{constructor(e,i,a,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,l,c){const d=Date.now()+a,y=new op(e,i,d,l,c);return y.start(a),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lp(s,e){if(Ts("AsyncQueue",`${e}: ${s}`),To(s))return new ue($.UNAVAILABLE,`${e}: ${s}`);throw s}class ro{static emptySet(e){return new ro(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||pe.comparator(i.key,a.key):(i,a)=>pe.comparator(i.key,a.key),this.keyedMap=xl(),this.sortedSet=new bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ro)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new ro;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class rv{constructor(){this.ga=new bt(pe.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):_e(63341,{Vt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class po{constructor(e,i,a,l,c,d,y,g,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,l,c){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new po(e,i,ro.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class lC{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class uC{constructor(){this.queries=av(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=xe(i),c=l.queries;l.queries=av(),c.forEach(((d,y)=>{for(const g of y.ba)g.onError(a)}))})(this,new ue($.ABORTED,"Firestore shutting down"))}}function av(){return new sa((s=>F1(s)),wh)}async function xE(s,e){const i=xe(s);let a=3;const l=e.query;let c=i.queries.get(l);c?!c.Sa()&&e.Da()&&(a=2):(c=new lC,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const y=lp(d,`Initialization of query '${Ja(e.query)}' failed`);return void e.onError(y)}i.queries.set(l,c),c.ba.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&up(i)}async function RE(s,e){const i=xe(s),a=e.query;let l=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(e);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=e.Da()?0:1:!c.Sa()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function cC(s,e){const i=xe(s);let a=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const y of d.ba)y.Fa(l)&&(a=!0);d.wa=l}}a&&up(i)}function hC(s,e,i){const a=xe(s),l=a.queries.get(e);if(l)for(const c of l.ba)c.onError(i);a.queries.delete(e)}function up(s){s.Ca.forEach((e=>{e.next()}))}var Tm,ov;(ov=Tm||(Tm={})).Ma="default",ov.Cache="cache";class CE{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new po(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=po.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Tm.Cache}}class NE{constructor(e){this.key=e}}class IE{constructor(e){this.key=e}}class fC{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Pe(),this.mutatedKeys=Pe(),this.eu=K1(e),this.tu=new ro(this.eu)}get nu(){return this.Za}ru(e,i){const a=i?i.iu:new rv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,y=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((A,S)=>{const I=l.get(A),H=xh(this.query,S)?S:null,J=!!I&&this.mutatedKeys.has(I.key),W=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let ne=!1;I&&H?I.data.isEqual(H.data)?J!==W&&(a.track({type:3,doc:H}),ne=!0):this.su(I,H)||(a.track({type:2,doc:H}),ne=!0,(g&&this.eu(H,g)>0||_&&this.eu(H,_)<0)&&(y=!0)):!I&&H?(a.track({type:0,doc:H}),ne=!0):I&&!H&&(a.track({type:1,doc:I}),ne=!0,(g||_)&&(y=!0)),ne&&(H?(d=d.add(H),c=W?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Ss:y,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,S)=>(function(H,J){const W=ne=>{switch(ne){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Vt:ne})}};return W(H)-W(J)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(a),l=l??!1;const y=i&&!l?this._u():[],g=this.Ya.size===0&&this.current&&!l?1:0,_=g!==this.Xa;return this.Xa=g,d.length!==0||_?{snapshot:new po(this.query,e.tu,c,d,e.mutatedKeys,g===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new rv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Pe(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return e.forEach((a=>{this.Ya.has(a)||i.push(new IE(a))})),this.Ya.forEach((a=>{e.has(a)||i.push(new NE(a))})),i}cu(e){this.Za=e.ks,this.Ya=Pe();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return po.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const cp="SyncEngine";class dC{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class mC{constructor(e){this.key=e,this.hu=!1}}class pC{constructor(e,i,a,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new sa((y=>F1(y)),wh),this.Iu=new Map,this.Eu=new Set,this.Ru=new bt(pe.comparator),this.Au=new Map,this.Vu=new Wm,this.du={},this.mu=new Map,this.fu=mo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function gC(s,e,i=!0){const a=jE(s);let l;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await DE(a,e,i,!0),l}async function yC(s,e){const i=jE(s);await DE(i,e,!0,!1)}async function DE(s,e,i,a){const l=await jR(s.localStore,qi(e)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let y;return a&&(y=await _C(s,e,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&EE(s.remoteStore,l),y}async function _C(s,e,i,a,l){s.pu=(S,I,H)=>(async function(W,ne,ce,Ae){let ve=ne.view.ru(ce);ve.Ss&&(ve=await W_(W.localStore,ne.query,!1).then((({documents:N})=>ne.view.ru(N,ve))));const st=Ae&&Ae.targetChanges.get(ne.targetId),rt=Ae&&Ae.targetMismatches.get(ne.targetId)!=null,Ve=ne.view.applyChanges(ve,W.isPrimaryClient,st,rt);return uv(W,ne.targetId,Ve.au),Ve.snapshot})(s,S,I,H);const c=await W_(s.localStore,e,!0),d=new fC(e,c.ks),y=d.ru(c.documents),g=tu.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),_=d.applyChanges(y,s.isPrimaryClient,g);uv(s,i,_.au);const A=new dC(e,i,d);return s.Tu.set(e,A),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function vC(s,e,i){const a=xe(s),l=a.Tu.get(e),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!wh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await vm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&ip(a.remoteStore,l.targetId),bm(a,l.targetId)})).catch(Eo)):(bm(a,l.targetId),await vm(a.localStore,l.targetId,!0))}async function EC(s,e){const i=xe(s),a=i.Tu.get(e),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),ip(i.remoteStore,a.targetId))}async function TC(s,e,i){const a=CC(s);try{const l=await(function(d,y){const g=xe(d),_=yt.now(),A=y.reduce(((H,J)=>H.add(J.key)),Pe());let S,I;return g.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let J=bs(),W=Pe();return g.xs.getEntries(H,A).next((ne=>{J=ne,J.forEach(((ce,Ae)=>{Ae.isValidDocument()||(W=W.add(ce))}))})).next((()=>g.localDocuments.getOverlayedDocuments(H,J))).next((ne=>{S=ne;const ce=[];for(const Ae of y){const ve=kx(Ae,S.get(Ae.key).overlayedDocument);ve!=null&&ce.push(new Er(Ae.key,ve,L1(ve.value.mapValue),mi.exists(!0)))}return g.mutationQueue.addMutationBatch(H,_,ce,y)})).next((ne=>{I=ne;const ce=ne.applyToLocalDocumentSet(S,W);return g.documentOverlayCache.saveOverlays(H,ne.batchId,ce)}))})).then((()=>({batchId:I.batchId,changes:Q1(S)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),(function(d,y,g){let _=d.du[d.currentUser.toKey()];_||(_=new bt(ze)),_=_.insert(y,g),d.du[d.currentUser.toKey()]=_})(a,l.batchId,i),await iu(a,l.changes),await Oh(a.remoteStore)}catch(l){const c=lp(l,"Failed to persist write");i.reject(c)}}async function OE(s,e){const i=xe(s);try{const a=await MR(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(it(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?it(d.hu,14607):l.removedDocuments.size>0&&(it(d.hu,42227),d.hu=!1))})),await iu(i,a,e)}catch(a){await Eo(a)}}function lv(s,e,i){const a=xe(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const y=d.view.va(e);y.snapshot&&l.push(y.snapshot)})),(function(d,y){const g=xe(d);g.onlineState=y;let _=!1;g.queries.forEach(((A,S)=>{for(const I of S.ba)I.va(y)&&(_=!0)})),_&&up(g)})(a.eventManager,e),l.length&&a.Pu.J_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function bC(s,e,i){const a=xe(s);a.sharedClientState.updateQueryState(e,"rejected",i);const l=a.Au.get(e),c=l&&l.key;if(c){let d=new bt(pe.comparator);d=d.insert(c,un.newNoDocument(c,Se.min()));const y=Pe().add(c),g=new Nh(Se.min(),new Map,new bt(ze),d,y);await OE(a,g),a.Ru=a.Ru.remove(c),a.Au.delete(e),hp(a)}else await vm(a.localStore,e,!1).then((()=>bm(a,e,i))).catch(Eo)}async function AC(s,e){const i=xe(s),a=e.batch.batchId;try{const l=await OR(i.localStore,e);VE(i,a,null),ME(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await iu(i,l)}catch(l){await Eo(l)}}async function SC(s,e,i){const a=xe(s);try{const l=await(function(d,y){const g=xe(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return g.mutationQueue.lookupMutationBatch(_,y).next((S=>(it(S!==null,37113),A=S.keys(),g.mutationQueue.removeMutationBatch(_,S)))).next((()=>g.mutationQueue.performConsistencyCheck(_))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(_,A,y))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>g.localDocuments.getDocuments(_,A)))}))})(a.localStore,e);VE(a,e,i),ME(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await iu(a,l)}catch(l){await Eo(l)}}function ME(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function VE(s,e,i){const a=xe(s);let l=a.du[a.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),a.du[a.currentUser.toKey()]=l}}function bm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((a=>{s.Vu.containsKey(a)||kE(s,a)}))}function kE(s,e){s.Eu.delete(e.path.canonicalString());const i=s.Ru.get(e);i!==null&&(ip(s.remoteStore,i),s.Ru=s.Ru.remove(e),s.Au.delete(i),hp(s))}function uv(s,e,i){for(const a of i)a instanceof NE?(s.Vu.addReference(a.key,e),wC(s,a)):a instanceof IE?(re(cp,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,e),s.Vu.containsKey(a.key)||kE(s,a.key)):_e(19791,{wu:a})}function wC(s,e){const i=e.key,a=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(a)||(re(cp,"New document in limbo: "+i),s.Eu.add(a),hp(s))}function hp(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new pe(Tt.fromString(e)),a=s.fu.next();s.Au.set(a,new mC(i)),s.Ru=s.Ru.insert(i,a),EE(s.remoteStore,new ar(qi(Sh(i.path)),a,"TargetPurposeLimboResolution",Eh.ce))}}async function iu(s,e,i){const a=xe(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((y,g)=>{d.push(a.pu(g,e,i).then((_=>{if((_||i)&&a.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(g.targetId)?.current;a.sharedClientState.updateQueryState(g.targetId,A?"current":"not-current")}if(_){l.push(_);const A=tp.Es(g.targetId,_);c.push(A)}})))})),await Promise.all(d),a.Pu.J_(l),await(async function(g,_){const A=xe(g);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>X.forEach(_,(I=>X.forEach(I.Ts,(H=>A.persistence.referenceDelegate.addReference(S,I.targetId,H))).next((()=>X.forEach(I.Is,(H=>A.persistence.referenceDelegate.removeReference(S,I.targetId,H)))))))))}catch(S){if(!To(S))throw S;re(np,"Failed to update sequence numbers: "+S)}for(const S of _){const I=S.targetId;if(!S.fromCache){const H=A.vs.get(I),J=H.snapshotVersion,W=H.withLastLimboFreeSnapshotVersion(J);A.vs=A.vs.insert(I,W)}}})(a.localStore,c))}async function xC(s,e){const i=xe(s);if(!i.currentUser.isEqual(e)){re(cp,"User change. New user:",e.toKey());const a=await gE(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((y=>{y.forEach((g=>{g.reject(new ue($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await iu(i,a.Ns)}}function RC(s,e){const i=xe(s),a=i.Au.get(e);if(a&&a.hu)return Pe().add(a.key);{let l=Pe();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const y=i.Tu.get(d);l=l.unionWith(y.view.nu)}return l}}function jE(s){const e=xe(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=OE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=RC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bC.bind(null,e),e.Pu.J_=cC.bind(null,e.eventManager),e.Pu.yu=hC.bind(null,e.eventManager),e}function CC(s){const e=xe(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=SC.bind(null,e),e}class ph{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ih(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return DR(this.persistence,new CR,e.initialUser,this.serializer)}Cu(e){return new pE(ep.Vi,this.serializer)}Du(e){return new LR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ph.provider={build:()=>new ph};class NC extends ph{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){it(this.persistence.referenceDelegate instanceof dh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new dR(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new pE((a=>dh.Vi(a,i)),this.serializer)}}class Am{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>lv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=xC.bind(null,this.syncEngine),await oC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new uC})()}createDatastore(e){const i=Ih(e.databaseInfo.databaseId),a=HR(e.databaseInfo);return QR(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,l,c,d,y){return new $R(a,l,c,d,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>lv(this.syncEngine,i,0)),(function(){return nv.v()?new nv:new zR})())}createSyncEngine(e,i){return(function(l,c,d,y,g,_,A){const S=new pC(l,c,d,y,g,_);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=xe(i);re(na,"RemoteStore shutting down."),a.Ea.add(5),await nu(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Am.provider={build:()=>new Am};class UE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ts("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const _r="FirestoreClient";class IC{constructor(e,i,a,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=l,this.user=ln.UNAUTHENTICATED,this.clientId=Bm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{re(_r,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(re(_r,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=lp(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Jd(s,e){s.asyncQueue.verifyOperationInProgress(),re(_r,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await gE(e.localStore,l),a=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function cv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await DC(s);re(_r,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>sv(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>sv(e.remoteStore,l))),s._onlineComponents=e}async function DC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){re(_r,"Using user provided OfflineComponentProvider");try{await Jd(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;lo("Error using user provided cache. Falling back to memory cache: "+i),await Jd(s,new ph)}}else re(_r,"Using default OfflineComponentProvider"),await Jd(s,new NC(void 0));return s._offlineComponents}async function LE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(re(_r,"Using user provided OnlineComponentProvider"),await cv(s,s._uninitializedComponentsProvider._online)):(re(_r,"Using default OnlineComponentProvider"),await cv(s,new Am))),s._onlineComponents}function OC(s){return LE(s).then((e=>e.syncEngine))}async function Sm(s){const e=await LE(s),i=e.eventManager;return i.onListen=gC.bind(null,e.syncEngine),i.onUnlisten=vC.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=yC.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=EC.bind(null,e.syncEngine),i}function MC(s,e,i,a){const l=new UE(a),c=new CE(e,l,i);return s.asyncQueue.enqueueAndForget((async()=>xE(await Sm(s),c))),()=>{l.Nu(),s.asyncQueue.enqueueAndForget((async()=>RE(await Sm(s),c)))}}function VC(s,e,i={}){const a=new hr;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,y,g,_){const A=new UE({next:I=>{A.Nu(),d.enqueueAndForget((()=>RE(c,S)));const H=I.docs.has(y);!H&&I.fromCache?_.reject(new ue($.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&I.fromCache&&g&&g.source==="server"?_.reject(new ue($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(I)},error:I=>_.reject(I)}),S=new CE(Sh(y.path),A,{includeMetadataChanges:!0,Ka:!0});return xE(c,S)})(await Sm(s),s.asyncQueue,e,i,a))),a.promise}function kC(s,e){const i=new hr;return s.asyncQueue.enqueueAndForget((async()=>TC(await OC(s),e,i))),i.promise}function zE(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const jC="ComponentProvider",hv=new Map;function UC(s,e,i,a,l){return new nx(s,e,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,zE(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}const PE="firestore.googleapis.com",fv=!0;class dv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=PE,this.ssl=fv}else this.host=e.host,this.ssl=e.ssl??fv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=mE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<hR)throw new ue($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Fw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zE(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ue($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ue($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ue($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fp{constructor(e,i,a,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Vw;switch(a.type){case"firstParty":return new Lw(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ue($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=hv.get(i);a&&(re(jC,"Removing Datastore"),hv.delete(i),a.terminate())})(this),Promise.resolve()}}function LC(s,e,i,a={}){s=di(s,fp);const l=go(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},y=`${e}:${i}`;l&&(kv(`https://${y}`),jv("Firestore",!0)),c.host!==PE&&c.host!==y&&lo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:y,ssl:l,emulatorOptions:a};if(!fr(g,d)&&(s._setSettings(g),a.mockUserToken)){let _,A;if(typeof a.mockUserToken=="string")_=a.mockUserToken,A=ln.MOCK_USER;else{_=nA(a.mockUserToken,s._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new ue($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new ln(S)}s._authCredentials=new kw(new R1(_,A))}}class Mh{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Mh(this.firestore,e,this._query)}}class qt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qt(this.firestore,e,this._key)}toJSON(){return{type:qt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(Wl(i,qt._jsonSchema))return new qt(e,a||null,new pe(Tt.fromString(i.referencePath)))}}qt._jsonSchemaVersion="firestore/documentReference/1.0",qt._jsonSchema={type:Bt("string",qt._jsonSchemaVersion),referencePath:Bt("string")};class Hl extends Mh{constructor(e,i,a){super(e,i,Sh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qt(this.firestore,null,new pe(e))}withConverter(e){return new Hl(this.firestore,e,this._path)}}function Vn(s,e,...i){if(s=mn(s),arguments.length===1&&(e=Bm.newId()),Gw("doc","path",e),s instanceof fp){const a=Tt.fromString(e,...i);return R_(a),new qt(s,null,new pe(a))}{if(!(s instanceof qt||s instanceof Hl))throw new ue($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Tt.fromString(e,...i));return R_(a),new qt(s.firestore,s instanceof Hl?s.converter:null,new pe(a))}}const mv="AsyncQueue";class pv{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new _E(this,"async_queue_retry"),this._c=()=>{const a=$d();a&&re(mv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=$d();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=$d();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new hr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!To(e))throw e;re(mv,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Ts("INTERNAL UNHANDLED ERROR: ",gv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=op.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&_e(47125,{Pc:gv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function gv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class ia extends fp{constructor(e,i,a,l){super(e,i,a,l),this.type="firestore",this._queue=new pv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new pv(e),this._firestoreClient=void 0,await e}}}function zC(s,e){const i=typeof s=="object"?s:Pv(),a=typeof s=="string"?s:ah,l=Dm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=eA("firestore");c&&LC(l,...c)}return l}function dp(s){if(s._terminated)throw new ue($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||PC(s),s._firestoreClient}function PC(s){const e=s._freezeSettings(),i=UC(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new IC(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zn(rn.fromBase64String(e))}catch(i){throw new ue($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Zn(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Wl(e,Zn._jsonSchema))return Zn.fromBase64String(e.bytes)}}Zn._jsonSchemaVersion="firestore/bytes/1.0",Zn._jsonSchema={type:Bt("string",Zn._jsonSchemaVersion),bytes:Bt("string")};class mp{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ue($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Vh{constructor(e){this._methodName=e}}class Gi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ue($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ue($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Gi._jsonSchemaVersion}}static fromJSON(e){if(Wl(e,Gi._jsonSchema))return new Gi(e.latitude,e.longitude)}}Gi._jsonSchemaVersion="firestore/geoPoint/1.0",Gi._jsonSchema={type:Bt("string",Gi._jsonSchemaVersion),latitude:Bt("number"),longitude:Bt("number")};class pi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:pi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Wl(e,pi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new pi(e.vectorValues);throw new ue($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}pi._jsonSchemaVersion="firestore/vectorValue/1.0",pi._jsonSchema={type:Bt("string",pi._jsonSchemaVersion),vectorValues:Bt("object")};const BC=/^__.*__$/;class qC{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Er(e,this.data,this.fieldMask,i,this.fieldTransforms):new eu(e,this.data,i,this.fieldTransforms)}}class BE{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Er(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function qE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{dataSource:s})}}class kh{constructor(e,i,a,l,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new kh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(e),a}childContextForFieldPath(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return gh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(qE(this.dataSource)&&BC.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class HC{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Ih(e)}createContext(e,i,a,l=!1){return new kh({dataSource:e,methodName:i,targetDoc:a,path:sn.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function HE(s){const e=s._freezeSettings(),i=Ih(s._databaseId);return new HC(s._databaseId,!!e.ignoreUndefinedProperties,i)}function GC(s,e,i,a,l,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,e,i,l);gp("Data must be an object, but it was:",d,a);const y=GE(a,d);let g,_;if(c.merge)g=new jn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const S of c.mergeFields){const I=Gl(e,S,i);if(!d.contains(I))throw new ue($.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);YE(A,I)||A.push(I)}g=new jn(A),_=d.fieldTransforms.filter((S=>g.covers(S.field)))}else g=null,_=d.fieldTransforms;return new qC(new Sn(y),g,_)}class jh extends Vh{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jh}}function FC(s,e,i){return new kh({dataSource:3,targetDoc:e.settings.targetDoc,methodName:s._methodName,arrayElement:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class pp extends Vh{constructor(e,i){super(e),this.Ac=i}_toFieldTransform(e){const i=FC(this,e,!0),a=this.Ac.map((c=>su(c,i))),l=new fo(a);return new Dx(e.path,l)}isEqual(e){return e instanceof pp&&fr(this.Ac,e.Ac)}}function KC(s,e,i,a){const l=s.createContext(1,e,i);gp("Data must be an object, but it was:",l,a);const c=[],d=Sn.empty();vr(a,((g,_)=>{const A=KE(e,g,i);_=mn(_);const S=l.childContextForFieldPath(A);if(_ instanceof jh)c.push(A);else{const I=su(_,S);I!=null&&(c.push(A),d.set(A,I))}}));const y=new jn(c);return new BE(d,y,l.fieldTransforms)}function YC(s,e,i,a,l,c){const d=s.createContext(1,e,i),y=[Gl(e,a,i)],g=[l];if(c.length%2!=0)throw new ue($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<c.length;I+=2)y.push(Gl(e,c[I])),g.push(c[I+1]);const _=[],A=Sn.empty();for(let I=y.length-1;I>=0;--I)if(!YE(_,y[I])){const H=y[I];let J=g[I];J=mn(J);const W=d.childContextForFieldPath(H);if(J instanceof jh)_.push(H);else{const ne=su(J,W);ne!=null&&(_.push(H),A.set(H,ne))}}const S=new jn(_);return new BE(A,S,d.fieldTransforms)}function su(s,e){if(FE(s=mn(s)))return gp("Unsupported field value:",e,s),GE(s,e);if(s instanceof Vh)return(function(a,l){if(!qE(l.dataSource))throw l.createError(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const y of a){let g=su(y,l.childContextForArray(d));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),d++}return{arrayValue:{values:c}}})(s,e)}return(function(a,l){if((a=mn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return Cx(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=yt.fromDate(a);return{timestampValue:fh(l.serializer,c)}}if(a instanceof yt){const c=new yt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:fh(l.serializer,c)}}if(a instanceof Gi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Zn)return{bytesValue:aE(l.serializer,a._byteString)};if(a instanceof qt){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Zm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof pi)return(function(d,y){const g=d instanceof pi?d.toArray():d;return{mapValue:{fields:{[j1]:{stringValue:U1},[oh]:{arrayValue:{values:g.map((A=>{if(typeof A!="number")throw y.createError("VectorValues must only contain numeric values.");return Qm(y.serializer,A)}))}}}}}})(a,l);if(dE(a))return a._toProto(l.serializer);throw l.createError(`Unsupported field value: ${qm(a)}`)})(s,e)}function GE(s,e){const i={};return I1(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vr(s,((a,l)=>{const c=su(l,e.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function FE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof yt||s instanceof Gi||s instanceof Zn||s instanceof qt||s instanceof Vh||s instanceof pi||dE(s))}function gp(s,e,i){if(!FE(i)||!C1(i)){const a=qm(i);throw a==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+a)}}function Gl(s,e,i){if((e=mn(e))instanceof mp)return e._internalPath;if(typeof e=="string")return KE(s,e);throw gh("Field path arguments must be of type string or ",s,!1,void 0,i)}const QC=new RegExp("[~\\*/\\[\\]]");function KE(s,e,i){if(e.search(QC)>=0)throw gh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new mp(...e.split("."))._internalPath}catch{throw gh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function gh(s,e,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let g="";return(c||d)&&(g+=" (found",c&&(g+=` in field ${a}`),d&&(g+=` in document ${l}`),g+=")"),new ue($.INVALID_ARGUMENT,y+s+g)}function YE(s,e){return s.some((i=>i.isEqual(e)))}class XC{convertValue(e,i="none"){switch(gr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(pr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return vr(e,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[oh].arrayValue?.values?.map((a=>Dt(a.doubleValue)));return new pi(i)}convertGeoPoint(e){return new Gi(Dt(e.latitude),Dt(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=bh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(zl(e));default:return null}}convertTimestamp(e){const i=mr(e);return new yt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=Tt.fromString(e);it(fE(a),9688,{name:e});const l=new Pl(a.get(1),a.get(3)),c=new pe(a.popFirst(5));return l.isEqual(i)||Ts(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class QE extends XC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new qt(this.firestore,null,i)}}function yv(...s){return new pp("arrayUnion",s)}const _v="@firebase/firestore",vv="4.10.0";function Ev(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class XE{constructor(e,i,a,l,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $C(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field(Gl("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class $C extends XE{data(){return super.data()}}function JC(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ue($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function ZC(s,e,i){let a;return a=s?s.toFirestore(e):e,a}class Cl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Jr extends XE{constructor(e,i,a,l,c,d){super(e,i,a,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Gl("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Jr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Jr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Jr._jsonSchema={type:Bt("string",Jr._jsonSchemaVersion),bundleSource:Bt("string","DocumentSnapshot"),bundleName:Bt("string"),bundle:Bt("string")};class Qc extends Jr{data(e={}){return super.data(e)}}class ao{constructor(e,i,a,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Cl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Qc(this._firestore,this._userDataWriter,a.key,a,new Cl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ue($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((y=>{const g=new Qc(l._firestore,l._userDataWriter,y.doc.key,y.doc,new Cl(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);return y.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((y=>c||y.type!==3)).map((y=>{const g=new Qc(l._firestore,l._userDataWriter,y.doc.key,y.doc,new Cl(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,A=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),A=d.indexOf(y.doc.key)),{type:WC(y.type),doc:g,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ao._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Bm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function WC(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:s})}}ao._jsonSchemaVersion="firestore/querySnapshot/1.0",ao._jsonSchema={type:Bt("string",ao._jsonSchemaVersion),bundleSource:Bt("string","QuerySnapshot"),bundleName:Bt("string"),bundle:Bt("string")};function eN(s){s=di(s,qt);const e=di(s.firestore,ia),i=dp(e);return VC(i,s._key).then((a=>$E(e,s,a)))}function tN(s,e,i){s=di(s,qt);const a=di(s.firestore,ia),l=ZC(s.converter,e),c=HE(a);return yp(a,[GC(c,"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,mi.none())])}function Li(s,e,i,...a){s=di(s,qt);const l=di(s.firestore,ia),c=HE(l);let d;return d=typeof(e=mn(e))=="string"||e instanceof mp?YC(c,"updateDoc",s._key,e,i,a):KC(c,"updateDoc",s._key,e),yp(l,[d.toMutation(s._key,mi.exists(!0))])}function nN(s){return yp(di(s.firestore,ia),[new Xm(s._key,mi.none())])}function Tv(s,...e){s=mn(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||Ev(e[a])||(i=e[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Ev(e[a])){const _=e[a];e[a]=_.next?.bind(_),e[a+1]=_.error?.bind(_),e[a+2]=_.complete?.bind(_)}let c,d,y;if(s instanceof qt)d=di(s.firestore,ia),y=Sh(s._key.path),c={next:_=>{e[a]&&e[a]($E(d,s,_))},error:e[a+1],complete:e[a+2]};else{const _=di(s,Mh);d=di(_.firestore,ia),y=_._query;const A=new QE(d);c={next:S=>{e[a]&&e[a](new ao(d,A,_,S))},error:e[a+1],complete:e[a+2]},JC(s._query)}const g=dp(d);return MC(g,y,l,c)}function yp(s,e){const i=dp(s);return kC(i,e)}function $E(s,e,i){const a=i.docs.get(e._key),l=new QE(s);return new Jr(s,l,e._key,a,new Cl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){Mw(yo),oo(new Wr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),y=new ia(new jw(a.getProvider("auth-internal")),new zw(d,a.getProvider("app-check-internal")),ix(d,l),d);return c={useFetchStreams:i,...c},y._setSettings(c),y}),"PUBLIC").setMultipleInstances(!0)),ur(_v,vv,e),ur(_v,vv,"esm2020")})();const JE=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim();const iN=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const sN=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase());const bv=s=>{const e=sN(s);return e.charAt(0).toUpperCase()+e.slice(1)};var rN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const aN=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const oN=mt.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...y},g)=>mt.createElement("svg",{ref:g,...rN,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:JE("lucide",l),...!c&&!aN(y)&&{"aria-hidden":"true"},...y},[...d.map(([_,A])=>mt.createElement(_,A)),...Array.isArray(c)?c:[c]]));const Je=(s,e)=>{const i=mt.forwardRef(({className:a,...l},c)=>mt.createElement(oN,{ref:c,iconNode:e,className:JE(`lucide-${iN(bv(s))}`,`lucide-${s}`,a),...l}));return i.displayName=bv(s),i};const lN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],wm=Je("arrow-right",lN);const uN=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],xm=Je("book-open",uN);const cN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],hi=Je("circle-check-big",cN);const hN=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],fN=Je("clock",hN);const dN=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],mN=Je("copy",dN);const pN=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],ZE=Je("cpu",pN);const gN=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],yN=Je("crown",gN);const _N=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],WE=Je("database",_N);const vN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Xc=Je("disc",vN);const EN=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M16 18v-6",key:"15y0np"}]],TN=Je("file-chart-column-increasing",EN);const bN=[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]],kl=Je("ghost",bN);const AN=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],SN=Je("hammer",AN);const wN=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],eT=Je("history",wN);const xN=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],RN=Je("house",xN);const CN=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Fl=Je("layers",CN);const NN=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],IN=Je("loader-circle",NN);const DN=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],ON=Je("loader",DN);const MN=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],tT=Je("lock",MN);const VN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Rm=Je("log-out",VN);const kN=[["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"M9.037 9.69a.498.498 0 0 1 .653-.653l11 4.5a.5.5 0 0 1-.074.949l-4.349 1.041a1 1 0 0 0-.74.739l-1.04 4.35a.5.5 0 0 1-.95.074z",key:"s0h3yz"}]],jN=Je("mouse-pointer-click",kN);const UN=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],LN=Je("power",UN);const zN=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],_p=Je("repeat",zN);const PN=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],BN=Je("rotate-ccw",PN);const qN=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],HN=Je("rotate-cw",qN);const GN=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],vp=Je("server",GN);const FN=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],KN=Je("smartphone",FN);const YN=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Av=Je("sparkles",YN);const QN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],XN=Je("trash-2",QN);const $N=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Sv=Je("trophy",$N);const JN=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],nT=Je("user",JN);const ZN=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],$c=Je("wifi",ZN);const WN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],iT=Je("x",WN);const eI=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],sT=Je("zap",eI),tI={apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:97363172311f11c86aa637"},rT=zv(tI),Zd=Dw(rT),kn=zC(rT),$n=typeof __app_id<"u"?__app_id:"neon-draft-game",nI="10",Zr={CACHE_1:{id:"CACHE_1",name:"Data Cache v1",val:1,icon:Xc,color:"text-slate-400",border:"border-slate-500",desc:"1 TB."},CACHE_2:{id:"CACHE_2",name:"Data Cache v2",val:2,icon:Xc,color:"text-orange-400",border:"border-orange-500",desc:"2 TB."},CACHE_3:{id:"CACHE_3",name:"Data Cache v3",val:3,icon:Xc,color:"text-yellow-400",border:"border-yellow-500",desc:"3 TB."},EXPLOIT:{id:"EXPLOIT",name:"Zero-Day Exploit",val:0,icon:sT,color:"text-yellow-200",border:"border-yellow-600",desc:"Next Cache x3."},GPU:{id:"GPU",name:"GPU Cluster",val:0,icon:ZE,color:"text-purple-400",border:"border-purple-500",desc:"Pair = 5 TB."},MAINFRAME:{id:"MAINFRAME",name:"Mainframe Core",val:0,icon:vp,color:"text-green-400",border:"border-green-500",desc:"Set of 3 = 10 TB."},KEY:{id:"KEY",name:"Encryption Key",val:0,icon:tT,color:"text-blue-400",border:"border-blue-500",desc:"1/3/6/10/15 TB."},BOTNET_1:{id:"BOTNET_1",name:"Botnet Node v1",val:1,icon:$c,color:"text-red-100",border:"border-red-200",desc:"Str 1. Most Str = 6pts."},BOTNET_2:{id:"BOTNET_2",name:"Botnet Node v2",val:2,icon:$c,color:"text-red-400",border:"border-red-500",desc:"Str 2. Most Str = 6pts."},BOTNET_3:{id:"BOTNET_3",name:"Botnet Node v3",val:3,icon:$c,color:"text-red-600",border:"border-red-700",desc:"Str 3. Most Str = 6pts."},PROXY:{id:"PROXY",name:"Proxy Server",val:0,icon:_p,color:"text-cyan-200",border:"border-cyan-400",desc:"Swap for 2 cards."},BACKDOOR:{id:"BACKDOOR",name:"Backdoor Access",val:0,icon:kl,color:"text-pink-400",border:"border-pink-500",desc:"End Game: +6/-6 TB."}},iI=[...Array(14).fill("GPU"),...Array(14).fill("MAINFRAME"),...Array(14).fill("KEY"),...Array(12).fill("BOTNET_1"),...Array(8).fill("BOTNET_2"),...Array(6).fill("BOTNET_3"),...Array(10).fill("CACHE_2"),...Array(5).fill("CACHE_3"),...Array(5).fill("CACHE_1"),...Array(6).fill("EXPLOIT"),...Array(4).fill("PROXY"),...Array(10).fill("BACKDOOR")],sI=s=>{let e=s.length,i;for(;e!==0;)i=Math.floor(Math.random()*e),e--,[s[e],s[i]]=[s[i],s[e]];return s},Lc=({isShaking:s})=>E.jsxs("div",{className:`absolute inset-0 overflow-hidden pointer-events-none z-0 ${s?"animate-shake bg-red-900/20":""}`,children:[E.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(ellipse_at_top,var(--tw-gradient-stops))] from-yellow-900/20 via-gray-950 to-black"}),E.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-10",children:[...Array(20)].map((e,i)=>{const a=Object.keys(Zr),l=Zr[a[i%a.length]].icon;return E.jsx("div",{className:"absolute animate-float text-white/60",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDuration:`${10+Math.random()*20}s`,transform:`scale(${.5+Math.random()})`},children:E.jsx(l,{size:32})},i)})}),E.jsx("style",{children:`
      @keyframes float {
        0%, 100% { transform: translateY(0) rotate(0deg); }
        50% { transform: translateY(-20px) rotate(10deg); }
      }
      .animate-float { animation: float infinite ease-in-out; }
      
      @keyframes shake {
        0%, 100% { transform: translateX(0); }
        10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
        20%, 40%, 60%, 80% { transform: translateX(5px); }
      }
      .animate-shake { animation: shake 0.4s cubic-bezier(.36,.07,.19,.97) both; }
    `})]}),Wd=()=>E.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-60 mt-auto pb-2 pt-2 relative z-10",children:[E.jsx(Fl,{size:12,className:"text-cyan-400"}),E.jsx("span",{className:"text-[10px] font-black tracking-widest text-cyan-400 uppercase drop-shadow-[0_0_5px_rgba(34,211,238,0.8)]",children:"NEON DRAFT"})]}),wv=()=>E.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-60 mt-auto pb-2 pt-2 relative z-10",children:[E.jsx(Fl,{size:22,className:"text-cyan-400"}),E.jsx("span",{className:"text-[20px] font-black tracking-widest text-cyan-400 uppercase drop-shadow-[0_0_5px_rgba(34,211,238,0.8)]",children:"NEON DRAFT"})]}),xv=({onConfirmLeave:s,onConfirmLobby:e,onCancel:i,isHost:a,inGame:l})=>E.jsx("div",{className:"fixed inset-0 bg-black/90 z-200 flex items-center justify-center p-4 animate-in fade-in",children:E.jsxs("div",{className:"bg-slate-900 rounded-xl border border-slate-700 p-6 max-w-sm w-full text-center shadow-2xl",children:[E.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Disconnect from Grid?"}),E.jsx("p",{className:"text-slate-400 mb-6 text-sm",children:a?"WARNING: As Admin, leaving will shut down the server for all runners.":l?"Leaving now will corrupt the data stream for everyone.":"Closing secure connection."}),E.jsxs("div",{className:"flex flex-col gap-3",children:[E.jsx("button",{onClick:i,className:"bg-slate-700 hover:bg-slate-600 text-white py-3 rounded font-bold transition-colors",children:"Stay Connected"}),l&&a&&E.jsxs("button",{onClick:e,className:"py-3 rounded font-bold transition-colors flex items-center justify-center gap-2 bg-cyan-600 hover:bg-cyan-500 text-white",children:[E.jsx(RN,{size:18})," Reset to Lobby"]}),E.jsxs("button",{onClick:s,className:"bg-pink-600 hover:bg-pink-500 text-white py-3 rounded font-bold transition-colors flex items-center justify-center gap-2",children:[E.jsx(Rm,{size:18})," ",a?"Shut Down Server":"Jack Out"]})]})]})}),rI=({players:s,round:e,onNext:i,isHost:a,onToggleReady:l,currentUserId:c})=>{const d=a?s.filter(S=>S.id!==c):s.filter(S=>S.id!==s.find(I=>I.id===c)?.id),y=d.every(S=>S.ready),g=d.filter(S=>S.ready).length,_=d.length,A=s.find(S=>S.id===c);return E.jsx("div",{className:"fixed inset-0 top-14 bg-black/95 z-150 flex items-center justify-center p-4 animate-in fade-in",children:E.jsxs("div",{className:"bg-slate-900 border border-cyan-500/30 rounded-2xl w-full max-w-3xl flex flex-col shadow-2xl overflow-hidden max-h-[90vh]",children:[E.jsxs("div",{className:"p-6 border-b border-slate-800 bg-slate-950/50 flex justify-between items-center",children:[E.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2 tracking-wider",children:[E.jsx(TN,{className:"text-cyan-400"}),"ROUND ",e," SUMMARY"]}),E.jsx("div",{className:"flex items-center gap-3",children:E.jsxs("div",{className:"text-xs font-mono bg-slate-800 px-3 py-1 rounded text-slate-300",children:["GUESTS READY: ",g,"/",_]})})]}),E.jsxs("div",{className:"p-6 overflow-y-auto space-y-4",children:[E.jsxs("div",{className:"grid grid-cols-12 gap-4 text-xs font-bold text-slate-500 uppercase tracking-widest border-b border-slate-800 pb-2",children:[E.jsx("div",{className:"col-span-3",children:"Runner"}),E.jsx("div",{className:"col-span-5",children:"Data Acquired (Ordered)"}),E.jsxs("div",{className:"col-span-2 text-right",children:["R",e," TB"]}),E.jsx("div",{className:"col-span-2 text-right",children:"Total TB"})]}),s.sort((S,I)=>I.score-S.score).map(S=>{const I=S.history.find(W=>W.round===e),H=I?I.cards:[],J=I?I.score:0;return S.id,E.jsxs("div",{className:`grid grid-cols-12 gap-4 items-center p-3 rounded-lg border transition-all ${S.ready?"bg-green-900/10 border-green-500/30":"bg-slate-800/30 border-slate-700/50"}`,children:[E.jsxs("div",{className:"col-span-3 font-bold text-white truncate flex items-center gap-2",children:[E.jsx(nT,{size:14,className:"text-slate-400"}),S.name,S.ready&&E.jsx(hi,{size:14,className:"text-green-500"})]}),E.jsxs("div",{className:"col-span-5 flex flex-wrap gap-1",children:[H.map((W,ne)=>{const ce=Zr[W],Ae=ce.icon;return E.jsx("div",{className:`w-6 h-6 flex items-center justify-center rounded bg-slate-900 border ${ce.border} ${ce.color}`,title:ce.name,children:E.jsx(Ae,{size:12})},ne)}),H.length===0&&E.jsx("span",{className:"text-slate-600 text-xs italic",children:"No Data"})]}),E.jsxs("div",{className:"col-span-2 text-right font-mono text-cyan-300 font-bold",children:["+",J]}),E.jsx("div",{className:"col-span-2 text-right font-mono text-white font-bold text-lg",children:S.score})]},S.id)})]}),E.jsx("div",{className:"p-6 border-t border-slate-800 bg-slate-950/50 flex justify-end gap-4",children:a?E.jsxs("button",{onClick:i,disabled:!y,className:`px-8 py-3 rounded-xl font-bold flex items-center gap-2 transition-all shadow-lg ${y?"bg-cyan-600 hover:bg-cyan-500 text-white shadow-cyan-900/20":"bg-slate-800 text-slate-500 cursor-not-allowed opacity-50"}`,children:[e>=3?"Initialize Final Scoring":"Start Next Round",E.jsx(wm,{size:18})]}):E.jsx("button",{onClick:l,className:`px-8 py-3 rounded-xl font-bold flex items-center gap-2 transition-all shadow-lg w-full md:w-auto justify-center ${A?.ready?"bg-green-600/20 text-green-400 border border-green-500/50 hover:bg-green-600/30":"bg-cyan-600 hover:bg-cyan-500 text-white shadow-cyan-900/20 animate-pulse"}`,children:A?.ready?E.jsxs(E.Fragment,{children:[E.jsx(hi,{size:18})," READY - STANDING BY"]}):E.jsxs(E.Fragment,{children:[E.jsx(hi,{size:18})," MARK READY"]})})})]})})},aI=({logs:s,onClose:e})=>E.jsx("div",{className:"fixed top-16 right-4 w-64 max-h-60 bg-gray-900/95 border border-gray-700 rounded-xl z-155 overflow-y-auto p-2 shadow-2xl",children:E.jsxs("div",{className:"bg-slate-900 w-full md:max-w-md h-full md:h-[70vh] rounded-none md:rounded-xl flex flex-col border-none md:border border-slate-700 shadow-2xl",children:[E.jsxs("div",{className:"p-4 border-b border-slate-700 flex justify-between items-center bg-slate-800",children:[E.jsxs("h3",{className:"text-white font-bold text-lg flex items-center gap-2",children:[E.jsx(eT,{size:18,className:"text-cyan-400"})," System Logs"]}),E.jsx("button",{onClick:e,className:"p-2 bg-slate-700 rounded-full hover:bg-slate-600",children:E.jsx(iT,{className:"text-slate-400"})})]}),E.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[...s].reverse().map((i,a)=>E.jsxs("div",{className:`text-xs md:text-sm p-3 rounded border-l-2 ${i.type==="danger"?"bg-red-900/20 border-red-500 text-red-200":i.type==="success"?"bg-green-900/20 border-green-500 text-green-200":"bg-slate-700/50 border-slate-500 text-slate-300"}`,children:[E.jsxs("span",{className:"opacity-50 mr-2 font-mono",children:["[",new Date(parseInt(i.id)).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}),"]"]}),i.text]},a))})]})}),Rv=({onClose:s})=>E.jsx("div",{className:"fixed inset-0 bg-black/95 z-170 flex items-center justify-center p-2 md:p-6 animate-in fade-in",children:E.jsxs("div",{className:"bg-slate-900 md:rounded-2xl w-full max-w-5xl h-full md:h-auto md:max-h-[90vh] overflow-hidden border-none md:border border-cyan-500/30 flex flex-col shadow-[0_0_50px_rgba(34,211,238,0.15)]",children:[E.jsxs("div",{className:"p-5 border-b border-slate-800 flex justify-between items-center bg-slate-950 sticky top-0 z-10",children:[E.jsxs("div",{className:"flex flex-col",children:[E.jsxs("h2",{className:"text-2xl font-black text-white flex items-center gap-3 tracking-widest uppercase",children:[E.jsx(xm,{className:"text-cyan-400"})," Data Runner's Manual"]}),E.jsx("span",{className:"text-xs text-slate-500 font-mono tracking-[0.2em]",children:"OPERATIONAL PROTOCOLS v2.1"})]}),E.jsx("button",{onClick:s,className:"p-2 hover:bg-slate-800 rounded-full text-slate-400 transition-colors",children:E.jsx(iT,{size:24})})]}),E.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-8 space-y-8 scrollbar-thin scrollbar-thumb-slate-700",children:[E.jsxs("section",{children:[E.jsxs("h3",{className:"text-lg font-bold text-cyan-400 mb-4 flex items-center gap-2 border-b border-cyan-900/50 pb-2",children:[E.jsx(_p,{size:18})," THE DRAFT LOOP"]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[E.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-xl border border-slate-700 flex flex-col items-center gap-2",children:[E.jsx("div",{className:"w-12 h-12 bg-cyan-900/30 rounded-full flex items-center justify-center text-cyan-400 mb-1 border border-cyan-500/30",children:E.jsx(jN,{size:24})}),E.jsx("div",{className:"font-bold text-white",children:"1. SELECT"}),E.jsxs("p",{className:"text-xs text-slate-400",children:["Pick 1 card to keep. ",E.jsx("br",{}),"(Pick 2 if using Proxy)."]})]}),E.jsx("div",{className:"hidden md:flex items-center justify-center text-slate-600",children:E.jsx(wm,{size:32})}),E.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-xl border border-slate-700 flex flex-col items-center gap-2",children:[E.jsx("div",{className:"w-12 h-12 bg-purple-900/30 rounded-full flex items-center justify-center text-purple-400 mb-1 border border-purple-500/30",children:E.jsx(Fl,{size:24})}),E.jsx("div",{className:"font-bold text-white",children:"2. REVEAL"}),E.jsx("p",{className:"text-xs text-slate-400",children:"Cards are added to your rig simultaneously."})]}),E.jsx("div",{className:"hidden md:flex items-center justify-center text-slate-600",children:E.jsx(wm,{size:32})}),E.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-xl border border-slate-700 flex flex-col items-center gap-2",children:[E.jsx("div",{className:"w-12 h-12 bg-green-900/30 rounded-full flex items-center justify-center text-green-400 mb-1 border border-green-500/30",children:E.jsx(HN,{size:24})}),E.jsx("div",{className:"font-bold text-white",children:"3. PASS"}),E.jsx("p",{className:"text-xs text-slate-400",children:"Hand remaining deck to the left. Repeat until empty."})]})]})]}),E.jsxs("section",{children:[E.jsxs("h3",{className:"text-lg font-bold text-purple-400 mb-4 flex items-center gap-2 border-b border-purple-900/50 pb-2",children:[E.jsx(WE,{size:18})," SCORING DATABASE"]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[E.jsxs("div",{className:"bg-slate-800/40 p-3 rounded-lg border-l-4 border-orange-500 flex flex-col gap-2",children:[E.jsxs("div",{className:"flex justify-between items-start",children:[E.jsx("span",{className:"font-bold text-white text-sm",children:"Data Cache"}),E.jsx(Xc,{size:16,className:"text-orange-400"})]}),E.jsx("div",{className:"text-xs text-slate-400",children:"Raw data files. Come in 3 sizes."}),E.jsxs("div",{className:"flex justify-between items-center bg-black/40 p-2 rounded mt-auto",children:[E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"text-slate-400 font-black text-xs",children:"1"}),E.jsx("div",{className:"text-[10px] text-slate-600",children:"TB"})]}),E.jsxs("div",{className:"text-center border-l border-slate-700 pl-4",children:[E.jsx("div",{className:"text-orange-400 font-black text-xs",children:"2"}),E.jsx("div",{className:"text-[10px] text-slate-600",children:"TB"})]}),E.jsxs("div",{className:"text-center border-l border-slate-700 pl-4",children:[E.jsx("div",{className:"text-yellow-400 font-black text-xs",children:"3"}),E.jsx("div",{className:"text-[10px] text-slate-600",children:"TB"})]})]})]}),E.jsxs("div",{className:"bg-slate-800/40 p-3 rounded-lg border-l-4 border-yellow-500 flex flex-col gap-2",children:[E.jsxs("div",{className:"flex justify-between items-start",children:[E.jsx("span",{className:"font-bold text-white text-sm",children:"Zero-Day Exploit"}),E.jsx(sT,{size:16,className:"text-yellow-400"})]}),E.jsxs("div",{className:"text-xs text-slate-400",children:["Multiplies the ",E.jsx("span",{className:"underline",children:"next"})," Cache card x3."]}),E.jsxs("div",{className:"bg-black/40 p-2 rounded text-center font-mono text-xs text-yellow-200 mt-auto",children:["[Exploit] + [2 TB] = ",E.jsx("span",{className:"font-bold",children:"6 TB"})]})]}),E.jsxs("div",{className:"bg-slate-800/40 p-3 rounded-lg border-l-4 border-purple-500 flex flex-col gap-2",children:[E.jsxs("div",{className:"flex justify-between items-start",children:[E.jsx("span",{className:"font-bold text-white text-sm",children:"GPU Cluster"}),E.jsx(ZE,{size:16,className:"text-purple-400"})]}),E.jsx("div",{className:"text-xs text-slate-400",children:"Must be collected in pairs."}),E.jsx("div",{className:"bg-black/40 p-2 rounded text-center font-mono text-sm text-purple-300 mt-auto",children:"2 Cards = 5 TB"})]}),E.jsxs("div",{className:"bg-slate-800/40 p-3 rounded-lg border-l-4 border-green-500 flex flex-col gap-2",children:[E.jsxs("div",{className:"flex justify-between items-start",children:[E.jsx("span",{className:"font-bold text-white text-sm",children:"Mainframe"}),E.jsx(vp,{size:16,className:"text-green-400"})]}),E.jsx("div",{className:"text-xs text-slate-400",children:"Huge storage, but requires a full set."}),E.jsx("div",{className:"bg-black/40 p-2 rounded text-center font-mono text-sm text-green-300 mt-auto",children:"3 Cards = 10 TB"})]}),E.jsxs("div",{className:"bg-slate-800/40 p-3 rounded-lg border-l-4 border-blue-500 flex flex-col gap-2 md:col-span-2 lg:col-span-1",children:[E.jsxs("div",{className:"flex justify-between items-start",children:[E.jsx("span",{className:"font-bold text-white text-sm",children:"Encryption Keys"}),E.jsx(tT,{size:16,className:"text-blue-400"})]}),E.jsx("div",{className:"text-xs text-slate-400",children:"Exponential growth. Collect as many as possible."}),E.jsxs("div",{className:"grid grid-cols-5 gap-1 text-center font-mono text-[10px] mt-auto",children:[E.jsxs("div",{className:"bg-black/40 p-1 rounded",children:[E.jsx("div",{className:"text-blue-500",children:"1"}),"1TB"]}),E.jsxs("div",{className:"bg-black/40 p-1 rounded",children:[E.jsx("div",{className:"text-blue-500",children:"2"}),"3TB"]}),E.jsxs("div",{className:"bg-black/40 p-1 rounded",children:[E.jsx("div",{className:"text-blue-500",children:"3"}),"6TB"]}),E.jsxs("div",{className:"bg-black/40 p-1 rounded",children:[E.jsx("div",{className:"text-blue-500",children:"4"}),"10TB"]}),E.jsxs("div",{className:"bg-black/40 p-1 rounded",children:[E.jsx("div",{className:"text-blue-500",children:"5+"}),"15TB"]})]})]}),E.jsxs("div",{className:"bg-slate-800/40 p-3 rounded-lg border-l-4 border-red-500 flex flex-col gap-2",children:[E.jsxs("div",{className:"flex justify-between items-start",children:[E.jsx("span",{className:"font-bold text-white text-sm",children:"Botnet Node"}),E.jsx($c,{size:16,className:"text-red-500"})]}),E.jsxs("div",{className:"text-xs text-slate-400",children:["Collect strictly for strength. ",E.jsx("br",{}),"Values: 1, 2, or 3. ",E.jsx("br",{}),E.jsx("span",{className:"text-red-400",children:"Total Strength"})," wins."]}),E.jsxs("div",{className:"flex gap-2 text-xs text-center font-mono mt-auto",children:[E.jsxs("div",{className:"bg-black/40 p-2 rounded flex-1",children:[E.jsx("div",{className:"text-red-400 font-bold",children:"Most"}),"6 TB"]}),E.jsxs("div",{className:"bg-black/40 p-2 rounded flex-1",children:[E.jsx("div",{className:"text-red-300 font-bold",children:"2nd"}),"3 TB"]})]})]}),E.jsxs("div",{className:"bg-slate-800/40 p-3 rounded-lg border-l-4 border-pink-500 flex flex-col gap-2 md:col-span-2 lg:col-span-3",children:[E.jsxs("div",{className:"flex justify-between items-start",children:[E.jsx("span",{className:"font-bold text-white text-sm",children:"Backdoor Access"}),E.jsx(kl,{size:16,className:"text-pink-400"})]}),E.jsxs("div",{className:"text-xs text-slate-400",children:["Kept until"," ",E.jsx("span",{className:"text-pink-400 font-bold",children:"Game End"}),". Watch out for the penalty!"]}),E.jsxs("div",{className:"flex gap-2 text-xs text-center font-mono mt-auto",children:[E.jsxs("div",{className:"bg-black/40 p-2 rounded flex-1 border border-green-900/50",children:[E.jsx("div",{className:"text-green-400 font-bold",children:"Most Collected"}),"+6 TB"]}),E.jsxs("div",{className:"bg-black/40 p-2 rounded flex-1 border border-red-900/50",children:[E.jsx("div",{className:"text-red-400 font-bold",children:"Fewest Collected"}),"-6 TB"]})]})]})]})]})]})]})}),oI=({type:s,message:e,subtext:i,icon:a})=>E.jsx("div",{className:"fixed inset-0 z-160 flex items-center justify-center pointer-events-none",children:E.jsxs("div",{className:`
      flex flex-col items-center justify-center p-8 md:p-12 rounded-3xl border-4 shadow-[0_0_50px_rgba(0,0,0,0.8)] 
      transform transition-all animate-in fade-in zoom-in slide-in-from-bottom-10 duration-300 backdrop-blur-md
      ${s==="success"?"bg-cyan-900/90 border-cyan-500 text-cyan-100":""}
      ${s==="info"?"bg-purple-900/90 border-purple-500 text-purple-100":""}
    `,children:[a&&E.jsx("div",{className:"mb-4 p-4 bg-black/30 rounded-full border-2 border-white/20",children:E.jsx(a,{size:64,className:"animate-bounce"})}),E.jsx("h2",{className:"text-3xl md:text-5xl font-black uppercase tracking-widest text-center drop-shadow-lg mb-2",children:e}),i&&E.jsx("p",{className:"text-lg md:text-xl font-bold opacity-90 tracking-wide text-center",children:i})]})}),Cv=({typeId:s,onClick:e,selected:i,small:a,disabled:l})=>{const c=Zr[s];if(!c)return null;const d=c.icon;return E.jsxs("div",{onClick:l?void 0:e,className:`
        relative bg-slate-900 rounded-lg border-2 transition-all flex flex-col items-center justify-between
        ${c.border}
        ${i?"ring-4 ring-cyan-400 -translate-y-4 shadow-[0_0_20px_rgba(34,211,238,0.5)] z-20":l?"opacity-50 cursor-not-allowed":"hover:-translate-y-1 hover:shadow-lg"}
        ${e&&!l?"cursor-pointer":""}
        ${a?"w-16 h-24 p-1":"w-24 h-36 md:w-32 md:h-48 p-2"}
      `,children:[E.jsxs("div",{className:"w-full flex justify-between items-start",children:[E.jsx("span",{className:`font-black ${a?"text-[10px]":"text-sm"} ${c.color}`,children:c.val>0?c.val:""}),E.jsx("div",{className:`${a?"w-3 h-3":"w-6 h-6"} rounded-full border ${c.border} bg-slate-800 flex items-center justify-center`,children:E.jsx(d,{size:a?8:14,className:c.color})})]}),E.jsxs("div",{className:"flex flex-col items-center gap-1",children:[E.jsx(d,{size:a?20:40,className:`${c.color} drop-shadow-md`}),!a&&E.jsx("span",{className:`text-[10px] uppercase font-bold text-center leading-tight ${c.color}`,children:c.name})]}),!a&&E.jsx("div",{className:"w-full bg-black/40 rounded p-1 text-[8px] text-slate-400 text-center leading-tight",children:c.desc}),i&&E.jsx("div",{className:"absolute inset-0 bg-cyan-500/20 rounded-lg flex items-center justify-center",children:E.jsx(hi,{className:"text-cyan-400 w-8 h-8 md:w-12 md:h-12 drop-shadow-lg"})})]})};function lI(){const[s,e]=mt.useState(null),[i,a]=mt.useState("menu"),[l,c]=mt.useState(""),[d,y]=mt.useState(""),[g,_]=mt.useState(null),[A,S]=mt.useState(!1),[I,H]=mt.useState(""),[J,W]=mt.useState(!1),[ne,ce]=mt.useState(!1),[Ae,ve]=mt.useState(!1),[st,rt]=mt.useState(!1),[Ve,N]=mt.useState(!1),[w,C]=mt.useState(null),[V,D]=mt.useState([]),[k,x]=mt.useState(!1),[Ke,xt]=mt.useState(()=>localStorage.getItem("gameHub_playerName")||"");mt.useEffect(()=>{Ke&&localStorage.setItem("gameHub_playerName",Ke)},[Ke]),mt.useEffect(()=>{(async()=>typeof __initial_auth_token<"u"&&__initial_auth_token?await y2(Zd,__initial_auth_token):await f2(Zd))();const ae=E2(Zd,e);return()=>ae()},[]),mt.useEffect(()=>{const ie=localStorage.getItem("neondraft_roomId");ie&&c(ie)},[]),mt.useEffect(()=>{const ie=Tv(Vn(kn,"game_hub_settings","config"),ae=>{ae.exists()&&ae.data()[nI]?.maintenance?ce(!0):ce(!1)});return()=>ie()},[]),mt.useEffect(()=>{if(!l||!s)return;const ie=Tv(Vn(kn,"artifacts",$n,"public","data","rooms",l),ae=>{if(ae.exists()){const de=ae.data();if(!de.players||!Array.isArray(de.players)||!de.players.some(me=>me.id===s.uid)){c(""),a("menu"),localStorage.removeItem("neondraft_roomId"),H("Connection Terminated (Kicked).");return}_(de),de.status==="lobby"?a("lobby"):a("game"),de.feedbackTrigger&&de.feedbackTrigger.id!==g?.feedbackTrigger?.id&&(C(de.feedbackTrigger),setTimeout(()=>C(null),3e3))}else c(""),a("menu"),localStorage.removeItem("neondraft_roomId"),H("Server shut down by Admin.")});return()=>ie()},[l,s,g?.feedbackTrigger?.id]);const G=async()=>{if(!Ke.trim())return H("Codename required.");S(!0);const ie="123456789ABCDEFGHIJKLMNPQRSTUVWXYZ";let ae="";for(let me=0;me<6;me++)ae+=ie.charAt(Math.floor(Math.random()*ie.length));const de={roomId:ae,hostId:s.uid,status:"lobby",players:[{id:s.uid,name:Ke,hand:[],keptCards:[],score:0,ready:!0,selection:[],history:[],backdoorCount:0}],logs:[],round:1,turnState:"IDLE",feedbackTrigger:null,winner:null};try{await tN(Vn(kn,"artifacts",$n,"public","data","rooms",ae),de),localStorage.setItem("neondraft_roomId",ae),c(ae),a("lobby")}catch{H("Network error.")}S(!1)},ee=async()=>{if(!d||!Ke)return H("Code and Name required.");S(!0);try{const ie=Vn(kn,"artifacts",$n,"public","data","rooms",d),ae=await eN(ie);if(!ae.exists())throw new Error("Room not found.");const de=ae.data();if(de.status!=="lobby")throw new Error("Draft in progress.");if(de.players.length>=6)throw new Error("Server full.");de.players.find(me=>me.id===s.uid)||await Li(ie,{players:yv({id:s.uid,name:Ke,hand:[],keptCards:[],score:0,ready:!0,selection:[],history:[],backdoorCount:0})}),localStorage.setItem("neondraft_roomId",d),c(d)}catch(ie){H(ie.message)}S(!1)},he=async()=>{if(!l)return;const ie=Vn(kn,"artifacts",$n,"public","data","rooms",l);if(g.hostId===s.uid)await nN(ie);else{const ae=g.players.filter(de=>de.id!==s.uid);await Li(ie,{players:ae})}localStorage.removeItem("neondraft_roomId"),c(""),a("menu"),rt(!1)},Be=async ie=>{if(g.hostId!==s.uid)return;const ae=g.players.filter(de=>de.id!==ie);await Li(Vn(kn,"artifacts",$n,"public","data","rooms",l),{players:ae})},Ze=async()=>{if(!g)return;const ie=g.players.map(ae=>ae.id===s.uid?{...ae,ready:!ae.ready}:ae);await Li(Vn(kn,"artifacts",$n,"public","data","rooms",l),{players:ie})},M=()=>{const ie=g.roomId,ae=()=>{W(!0),setTimeout(()=>W(!1),2e3),triggerFeedback&&triggerFeedback("neutral","COPIED!","",hi)};try{navigator.clipboard.writeText(ie),ae()}catch{const me=document.createElement("textarea");me.value=ie,document.body.appendChild(me),me.select(),document.execCommand("copy"),document.body.removeChild(me),ae()}},Y=async()=>{if(g.players.length<2)return H("Need 2+ Runners.");let ie=sI([...iI]);const ae=g.players.length===2?10:g.players.length===3?9:g.players.length===4?8:7,de=g.players.map(me=>{const _t=[];for(let Ge=0;Ge<ae;Ge++)_t.push(ie.pop());return{...me,hand:_t,keptCards:[],score:0,backdoorCount:0,history:[],selection:[],ready:!1}});await Li(Vn(kn,"artifacts",$n,"public","data","rooms",l),{status:"playing",players:de,deck:ie,round:1,turnState:"SELECTING",logs:[{id:Date.now().toString(),text:"Draft Initialized. Round 1.",type:"neutral"}]})},te=ie=>{const ae=k?2:1;D(de=>de.includes(ie)?de.filter(me=>me!==ie):de.length>=ae?ae===1?[ie]:[...de.slice(1),ie]:[...de,ie])},se=async()=>{if(V.length===0||k&&V.length!==2)return;const ie=g.players.map(de=>de.id===s.uid?{...de,selection:V,usingProxy:k}:de);ie.every(de=>de.selection.length>0)?await Re(ie):await Li(Vn(kn,"artifacts",$n,"public","data","rooms",l),{players:ie}),D([]),x(!1)},Ee=ie=>{let ae=0,de=0,me=0,_t=0,Ge=0,Ye=0;ie.forEach(Xe=>{if(Xe==="EXPLOIT")de++;else if(Xe.startsWith("CACHE")){const pn=Zr[Xe].val;de>0?(ae+=pn*3,de--):ae+=pn}Xe==="GPU"&&me++,Xe==="MAINFRAME"&&_t++,Xe==="KEY"&&Ge++,Xe.startsWith("BOTNET")&&(Ye+=Zr[Xe].val)});const ye=Math.floor(me/2)*5,Qe=Math.floor(_t/3)*10,Te=[0,1,3,6,10,15][Math.min(Ge,5)];return{total:ae+ye+Qe+Te,botnetCount:Ye}},Re=async ie=>{const ae=[];let de="SELECTING",me=[...ie];me=me.map(Ge=>{const Ye=Ge.selection.map(Ie=>Ge.hand[Ie]);let ye=Ge.hand.filter((Ie,Te)=>!Ge.selection.includes(Te)),Qe=[...Ge.keptCards];if(Ge.usingProxy){const Ie=Qe.indexOf("PROXY");Ie>-1?(Qe.splice(Ie,1),ye.push("PROXY"),Qe.push(...Ye)):(Qe.push(Ye[0]),Ye.length>1&&ye.push(Ye[1]))}else Qe.push(...Ye);return{...Ge,hand:ye,keptCards:Qe,selection:[],usingProxy:!1}}),ae.push({id:Date.now().toString(),text:"Data transfer complete. Hands rotating...",type:"neutral"});const _t=me.map((Ge,Ye)=>me[(Ye+1)%me.length].hand);if(me.forEach((Ge,Ye)=>Ge.hand=_t[Ye]),me[0].hand.length===0){ae.push({id:Date.now()+1,text:`Round ${g.round} Complete. Showing Summary.`,type:"success"}),me.forEach($e=>$e.ready=!1);const Ge=me.map($e=>Ee($e.keptCards)),Ye=Ge.map($e=>$e.botnetCount),ye=[...new Set(Ye)].filter($e=>$e>0).sort(($e,hn)=>hn-$e),Qe=ye[0]||0,Ie=ye[1]||0,Te=me.filter(($e,hn)=>Ge[hn].botnetCount===Qe&&Qe>0),Xe=me.filter(($e,hn)=>Ge[hn].botnetCount===Ie&&Ie>0),pn=Math.floor(6/(Te.length||1)),aa=Math.floor(3/(Xe.length||1));me.forEach(($e,hn)=>{const Yi=Ge[hn];let Qi=0;Yi.botnetCount===Qe&&Qe>0?Qi=pn:Yi.botnetCount===Ie&&Ie>0&&Te.length===1&&(Qi=aa);const gi=$e.keptCards.filter(la=>la==="BACKDOOR").length;$e.backdoorCount+=gi;const oa=Yi.total+Qi;$e.history.push({round:g.round,cards:[...$e.keptCards],score:oa}),$e.score+=oa}),de="ROUND_SUMMARY"}await Li(Vn(kn,"artifacts",$n,"public","data","rooms",l),{players:me,turnState:de,logs:yv(...ae)})},ke=async()=>{if(g.hostId===s.uid)if(g.round>=3){const ie=[...g.players],ae=ie.map(Te=>Te.backdoorCount),de=Math.max(...ae),me=Math.min(...ae),_t=ie.filter(Te=>Te.backdoorCount===de),Ge=ie.filter(Te=>Te.backdoorCount===me),Ye=Math.floor(6/_t.length),ye=ie.length>2?Math.floor(-6/Ge.length):0;ie.forEach(Te=>{let Xe=0;Te.backdoorCount===de?Xe=Ye:Te.backdoorCount===me&&(Xe=ye),Te.score+=Xe,Te.backdoorScore=Xe,Te.ready=!1});const Ie=[...ie].sort((Te,Xe)=>Xe.score-Te.score)[0].name;await Li(Vn(kn,"artifacts",$n,"public","data","rooms",l),{players:ie,status:"finished",turnState:"GAME_OVER",winner:Ie,feedbackTrigger:{id:Date.now(),type:"success",message:"SYSTEM HACKED",subtext:`${Ie} Dominates the Grid`}})}else{const ie=g.round+1;let ae=[...g.deck];const de=g.players.length===2?10:g.players.length===3?9:g.players.length===4?8:7,me=g.players.map(_t=>{const Ge=[];for(let Ye=0;Ye<de;Ye++)ae.length>0&&Ge.push(ae.pop());return{..._t,hand:Ge,keptCards:[]}});await Li(Vn(kn,"artifacts",$n,"public","data","rooms",l),{players:me,deck:ae,round:ie,turnState:"SELECTING",feedbackTrigger:{id:Date.now(),type:"info",message:`ROUND ${ie}`,subtext:"New Data Available"}})}},At=async()=>{const ie=g.players.map(ae=>({...ae,hand:[],keptCards:[],score:0,backdoorCount:0,selection:[],history:[],ready:!0}));await Li(Vn(kn,"artifacts",$n,"public","data","rooms",l),{status:"lobby",players:ie,logs:[],round:1,winner:null,feedbackTrigger:null})},qe=g?.players.find(ie=>ie.id===s?.uid);if(ne)return E.jsxs("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center text-white p-4 text-center",children:[E.jsx(wv,{}),E.jsxs("div",{className:"bg-orange-500/10 p-8 rounded-2xl border border-orange-500/30",children:[E.jsx(SN,{size:64,className:"text-orange-500 mx-auto mb-4 animate-bounce"}),E.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Under Maintenance"}),E.jsx("p",{className:"text-gray-400",children:"The connection is compromised. Enhancing security protocols."})]}),E.jsx("div",{className:"h-8"}),E.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",children:E.jsx("div",{className:"flex items-center justify-center gap-3 mb-2",children:E.jsx("div",{className:"text-center pb-12 animate-pulse",children:E.jsxs("div",{className:"inline-flex items-center gap-3 px-8 py-4 bg-slate-900/50 rounded-full border border-indigo-500/20 text-indigo-300 font-bold tracking-widest text-sm uppercase backdrop-blur-sm",children:[E.jsx(Av,{size:16})," Visit Gamehub...Try our other releases..."," ",E.jsx(Av,{size:16})]})})})}),E.jsx(Wd,{})]});if(!s)return E.jsx("div",{className:"min-h-screen bg-zinc-950 flex items-center justify-center text-cyan-500 animate-pulse",children:"Initializing Interface..."});if(l&&!g&&!I)return E.jsxs("div",{className:"min-h-screen bg-zinc-950 flex flex-col items-center justify-center text-white p-4",children:[E.jsx(Lc,{}),E.jsxs("div",{className:"bg-zinc-900/80 backdrop-blur p-8 rounded-2xl border border-zinc-700 shadow-2xl flex flex-col items-center gap-4 animate-in fade-in zoom-in duration-300",children:[E.jsx(ON,{size:48,className:"text-cyan-500 animate-spin"}),E.jsxs("div",{className:"text-center",children:[E.jsx("h2",{className:"text-xl font-bold",children:"Reconnecting..."}),E.jsx("p",{className:"text-zinc-400 text-sm",children:"Resuming your session"})]})]})]});if(i==="menu")return E.jsxs("div",{className:"min-h-screen bg-slate-950 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden font-sans",children:[E.jsx(Lc,{}),Ae&&E.jsx(Rv,{onClose:()=>ve(!1)}),E.jsxs("div",{className:"z-10 text-center mb-10 animate-in fade-in zoom-in duration-700",children:[E.jsx(Fl,{size:64,className:"text-cyan-400 mx-auto mb-4 animate-bounce drop-shadow-[0_0_15px_rgba(34,211,238,0.5)]"}),E.jsx("h1",{className:"text-5xl md:text-7xl font-black text-transparent bg-clip-text bg-linear-to-br from-cyan-400 via-blue-500 to-purple-600 font-serif tracking-widest drop-shadow-md",children:"NEON DRAFT"}),E.jsx("p",{className:"text-white-400/60 tracking-[0.3em] uppercase mt-2",children:"Build Your Rig. Rule the Net."})]}),E.jsxs("div",{className:"bg-slate-900/80 backdrop-blur border border-cyan-500/30 p-8 rounded-2xl w-full max-w-md shadow-2xl z-10 animate-in slide-in-from-bottom-10 duration-700 delay-100",children:[I&&E.jsx("div",{className:"bg-red-900/50 text-red-200 p-2 mb-4 rounded text-center text-sm border border-red-800",children:I}),E.jsx("input",{className:"w-full bg-black/50 border border-slate-600 p-3 rounded mb-4 text-white placeholder-slate-500 focus:border-cyan-500 outline-none transition-colors font-mono",placeholder:"Hacker Alias",value:Ke,onChange:ie=>xt(ie.target.value)}),E.jsxs("button",{onClick:G,disabled:A,className:"w-full bg-linear-to-r from-cyan-700 to-blue-600 hover:from-cyan-600 hover:to-blue-500 p-4 rounded font-bold mb-4 flex items-center justify-center gap-2 border border-cyan-500/30 shadow-[0_0_15px_rgba(34,211,238,0.2)] transition-all",children:[E.jsx(vp,{size:20})," New Server"]}),E.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-4",children:[E.jsx("input",{className:"w-full sm:flex-1 bg-black/50 border border-slate-600 p-3 rounded text-white placeholder-slate-500 uppercase font-mono tracking-wider focus:border-cyan-500 outline-none",placeholder:"IP ADDR",value:d,onChange:ie=>y(ie.target.value.toUpperCase())}),E.jsx("button",{onClick:ee,disabled:A,className:"w-full sm:w-auto bg-slate-800 hover:bg-slate-700 border border-slate-600 px-6 py-3 rounded font-bold transition-colors",children:"Connect"})]}),E.jsxs("button",{onClick:()=>ve(!0),className:"w-full text-sm text-slate-400 hover:text-white flex items-center justify-center gap-2 py-2",children:[E.jsx(xm,{size:16})," Data Manual"]})]}),E.jsxs("div",{className:"absolute bottom-4 text-slate-600 text-xs text-center",children:["Inspired by Sushi Go. A tribute game.",E.jsx("br",{}),"Developed by ",E.jsx("strong",{children:"RAWFID K SHUVO"}),". Visit"," ",E.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-500 underline hover:text-cyan-600",children:"GAMEHUB"})," ","for more games."]})]});if(i==="lobby"&&g){const ie=g.hostId===s.uid;return E.jsxs("div",{className:"min-h-screen bg-slate-950 text-white flex flex-col items-center justify-center p-6 relative",children:[E.jsx(Lc,{}),E.jsx(wv,{}),st&&E.jsx(xv,{onConfirmLeave:he,onCancel:()=>rt(!1),isHost:ie,inGame:!1}),E.jsxs("div",{className:"z-10 w-full max-w-lg bg-slate-900/90 backdrop-blur p-8 rounded-2xl border border-cyan-900/50 shadow-2xl mb-4",children:[E.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-slate-700 pb-4",children:[E.jsxs("div",{children:[E.jsx("h2",{className:"text-lg md:text-xl text-cyan-500 font-bold uppercase",children:"Node"}),E.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[E.jsx("div",{className:"text-2xl md:text-3xl font-mono text-white font-black",children:l}),E.jsxs("div",{className:"relative",children:[E.jsx("button",{onClick:M,className:"p-2 hover:bg-white/10 rounded-full transition-colors text-gray-400 hover:text-white",children:J?E.jsx(hi,{size:16,className:"text-green-500"}):E.jsx(mN,{size:16})}),J&&E.jsx("div",{className:"absolute left-full ml-2 top-1/2 -translate-y-1/2 bg-cyan-500 text-black text-xs font-bold px-2 py-1 rounded shadow-lg animate-fade-in-up whitespace-nowrap",children:"Copied!"})]})]})]}),E.jsx("button",{onClick:()=>rt(!0),className:"p-2 bg-red-900/30 hover:bg-red-900/50 rounded text-red-300",children:E.jsx(Rm,{size:16})})]}),E.jsxs("div",{className:"bg-black/20 rounded-xl p-4 mb-8 border border-slate-800",children:[E.jsx("h3",{className:"text-slate-500 text-xs uppercase tracking-wider mb-4 flex justify-between",children:E.jsxs("span",{children:["Runners (",g.players.length,")"]})}),E.jsxs("div",{className:"space-y-2",children:[g.players.map(ae=>E.jsxs("div",{className:"flex items-center justify-between bg-slate-800/50 p-3 rounded border border-slate-700/50",children:[E.jsxs("span",{className:`font-bold flex items-center gap-2 ${ae.id===s.uid?"text-cyan-400":"text-slate-300"}`,children:[E.jsx(nT,{size:14})," ",ae.name," ",ae.id===g.hostId&&E.jsx(yN,{size:14,className:"text-yellow-500"})]}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsxs("span",{className:"text-green-500 text-xs flex items-center gap-1",children:[E.jsx(hi,{size:12})," Online"]}),ie&&ae.id!==s.uid&&E.jsx("button",{onClick:()=>Be(ae.id),className:"text-slate-500 hover:text-red-500 hover:bg-red-900/20 p-1 rounded transition-colors",children:E.jsx(XN,{size:14})})]})]},ae.id)),g.players.length<2&&E.jsx("div",{className:"text-center text-slate-500 italic text-sm py-2",children:"Waiting for connection..."})]})]}),ie?E.jsx("button",{onClick:Y,disabled:g.players.length<2,className:`w-full py-4 rounded-xl font-bold text-lg shadow-lg transition-all flex items-center justify-center gap-2 ${g.players.length>=2?"bg-cyan-700 hover:bg-cyan-600 text-white shadow-cyan-900/20":"bg-slate-800 cursor-not-allowed text-slate-500"}`,children:g.players.length<2?"Waiting for Runners...":"Initialize Draft"}):E.jsx("div",{className:"text-center text-cyan-400/60 animate-pulse font-serif italic",children:"Waiting for Admin..."})]}),E.jsx(Wd,{})]})}if(i==="game"&&g){const ie=g.turnState==="SELECTING",ae=g.turnState==="ROUND_SUMMARY",de=qe?.selection.length>0,me=ie&&de,_t=g.players.filter(ye=>ye.id!==s.uid),Ge=qe.keptCards.includes("PROXY"),Ye=g.players.every(ye=>ye.ready);return E.jsxs("div",{className:"min-h-screen bg-slate-950 text-white flex flex-col relative overflow-hidden font-sans",children:[E.jsx(Lc,{}),w&&E.jsx(oI,{type:w.type,message:w.message,subtext:w.subtext,icon:w.type==="success"?Sv:Fl}),Ae&&E.jsx(Rv,{onClose:()=>ve(!1)}),Ve&&E.jsx(aI,{logs:g.logs,onClose:()=>N(!1)}),st&&E.jsx(xv,{onConfirmLeave:he,onCancel:()=>rt(!1),isHost:g.hostId===s.uid,onConfirmLobby:()=>{At(),rt(!1)},inGame:!0}),ae&&E.jsx(rI,{players:g.players,round:g.round,isHost:g.hostId===s.uid,onNext:ke,onToggleReady:Ze,currentUserId:s.uid}),E.jsxs("div",{className:"h-14 bg-slate-900/80 border-b border-slate-800 flex items-center justify-between px-4 z-160 backdrop-blur-md sticky top-0",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("span",{className:"font-serif text-cyan-500 font-bold tracking-wider hidden md:block",children:"NEON DRAFT"}),E.jsxs("span",{className:"text-xs text-slate-500 bg-black/50 px-2 py-1 rounded",children:["Round: ",g.round]})]}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("button",{onClick:()=>ve(!0),className:"p-2 hover:bg-slate-800 rounded text-slate-400",children:E.jsx(xm,{size:18})}),E.jsx("button",{onClick:()=>N(!Ve),className:`p-2 rounded-full ${Ve?"bg-cyan-900 text-cyan-400":"text-gray-400 hover:bg-gray-800"}`,children:E.jsx(eT,{size:18})}),E.jsx("button",{onClick:()=>rt(!0),className:"p-2 hover:bg-red-900/50 rounded text-red-400",children:E.jsx(Rm,{size:18})})]})]}),E.jsxs("div",{className:"flex-1 p-4 flex flex-col items-center relative z-10 max-w-7xl mx-auto w-full gap-4",children:[E.jsx("div",{className:"w-full flex gap-2 overflow-x-auto pb-2 justify-start md:justify-center",children:_t.map(ye=>E.jsxs("div",{className:"bg-slate-900/80 p-2 rounded-lg border border-slate-700 min-w-[140px] flex flex-col gap-1",children:[E.jsxs("div",{className:"flex justify-between items-center text-xs text-slate-400",children:[E.jsx("span",{className:"font-bold text-slate-300 truncate max-w-[80px]",children:ye.name}),E.jsxs("div",{className:"flex items-center gap-0.5",children:[E.jsx(Sv,{size:10,className:"text-yellow-500"})," ",ye.score]})]}),E.jsx("div",{className:"flex gap-0.5 justify-center bg-black/30 p-1 rounded",children:ye.hand.map((Qe,Ie)=>E.jsx("div",{className:"w-1.5 h-3 bg-slate-600 rounded-sm"},Ie))}),ye.selection.length>0?E.jsxs("div",{className:"text-[10px] text-green-400 text-center font-bold flex items-center justify-center gap-1",children:[E.jsx(hi,{size:10})," Ready"]}):E.jsx("div",{className:"text-[10px] text-slate-500 text-center animate-pulse",children:"Thinking..."}),E.jsxs("div",{className:"flex flex-wrap gap-1 mt-1 justify-center",children:[ye.keptCards.map((Qe,Ie)=>{const Te=Zr[Qe],Xe=Te?.icon||WE;return E.jsx("div",{className:`w-6 h-6 rounded-md border border-slate-600 flex items-center justify-center ${Te?.color?Te.color.replace("text","bg").replace("400","900"):"bg-slate-800"} bg-opacity-30`,children:E.jsx(Xe,{size:12,className:Te?.color})},Ie)}),ye.backdoorCount>0&&E.jsxs("div",{className:"w-6 h-6 rounded-md border border-pink-500 bg-pink-900/30 flex items-center justify-center relative",children:[E.jsx(kl,{size:12,className:"text-pink-400"}),E.jsx("span",{className:"text-[8px] absolute -top-1 -right-1 bg-black text-white px-0.5 rounded-full border border-pink-500",children:ye.backdoorCount})]})]})]},ye.id))}),E.jsxs("div",{className:"flex-1 w-full bg-slate-900/50 rounded-2xl border-2 border-dashed border-slate-800 p-4 flex flex-col items-center min-h-[200px]",children:[E.jsxs("div",{className:"text-xs text-slate-500 uppercase tracking-widest mb-2 w-full text-center border-b border-slate-800 pb-2 flex justify-between px-4",children:[E.jsx("span",{children:"My Rig"}),E.jsxs("span",{className:"text-yellow-400 font-bold",children:[qe.score," TB"]}),E.jsxs("span",{className:"text-pink-400 flex items-center gap-1",children:[E.jsx(kl,{size:10})," ",qe.backdoorCount]})]}),E.jsxs("div",{className:"flex flex-wrap gap-2 justify-center content-start h-full overflow-y-auto w-full",children:[qe.keptCards.length===0&&E.jsx("div",{className:"text-slate-600 italic mt-10",children:"System Empty. Acquire Data."}),qe.keptCards.map((ye,Qe)=>E.jsx(Cv,{typeId:ye,small:!0},Qe))]})]}),E.jsx("div",{className:`w-full max-w-4xl bg-slate-900/95 p-4 rounded-t-3xl border-t border-cyan-500/30 backdrop-blur-md mt-auto shadow-[0_-10px_40px_rgba(0,0,0,0.5)] z-20 transition-all ${me?"translate-y-4 opacity-90":""}`,children:g.status==="finished"?E.jsxs("div",{className:"text-center py-6 w-full flex flex-col items-center",children:[E.jsxs("h3",{className:"text-4xl font-black text-cyan-400 mb-2",children:[g.winner," Wins!"]}),E.jsx("p",{className:"text-slate-400 mb-6",children:"Mission Debriefing"}),E.jsx("div",{className:"w-full overflow-x-auto mb-6",children:E.jsxs("table",{className:"w-full text-left border-collapse",children:[E.jsx("thead",{children:E.jsxs("tr",{className:"text-xs text-slate-500 uppercase border-b border-slate-700",children:[E.jsx("th",{className:"p-3",children:"Runner"}),E.jsx("th",{className:"p-3 text-center",children:"R1"}),E.jsx("th",{className:"p-3 text-center",children:"R2"}),E.jsx("th",{className:"p-3 text-center",children:"R3"}),E.jsx("th",{className:"p-3 text-center text-pink-400",children:"Backdoor"}),E.jsx("th",{className:"p-3 text-right text-cyan-400",children:"Total"})]})}),E.jsx("tbody",{className:"text-sm",children:g.players.sort((ye,Qe)=>Qe.score-ye.score).map(ye=>{const Qe=ye.history.find(pn=>pn.round===1)?.score||0,Ie=ye.history.find(pn=>pn.round===2)?.score||0,Te=ye.history.find(pn=>pn.round===3)?.score||0,Xe=ye.backdoorScore||0;return E.jsxs("tr",{className:"border-b border-slate-800 hover:bg-slate-800/30",children:[E.jsxs("td",{className:"p-3 font-bold flex items-center gap-2",children:[ye.name,ye.backdoorCount>0&&E.jsxs("span",{className:"text-[10px] text-pink-500 bg-pink-900/20 px-1 rounded flex items-center gap-0.5",children:[E.jsx(kl,{size:8})," ",ye.backdoorCount]})]}),E.jsx("td",{className:"p-3 text-center text-slate-400",children:Qe}),E.jsx("td",{className:"p-3 text-center text-slate-400",children:Ie}),E.jsx("td",{className:"p-3 text-center text-slate-400",children:Te}),E.jsxs("td",{className:`p-3 text-center font-bold ${Xe>0?"text-green-400":Xe<0?"text-red-400":"text-slate-600"}`,children:[Xe>0?"+":"",Xe]}),E.jsx("td",{className:"p-3 text-right font-black text-cyan-400 text-lg",children:ye.score})]},ye.id)})})]})}),E.jsxs("div",{className:"w-full max-w-md bg-slate-800/50 rounded-xl p-4 mb-6 border border-slate-700",children:[E.jsx("h4",{className:"text-slate-400 text-xs uppercase tracking-widest mb-3 border-b border-slate-700 pb-2",children:"System Check"}),E.jsx("div",{className:"grid grid-cols-2 gap-2 mb-4",children:g.players.map(ye=>E.jsxs("div",{className:`flex items-center justify-between p-2 rounded text-sm ${ye.ready?"bg-green-900/20 border border-green-500/30 text-green-300":"bg-slate-900 border border-slate-700 text-slate-500"}`,children:[E.jsx("span",{className:"truncate",children:ye.name}),ye.ready?E.jsx(hi,{size:14}):E.jsx(fN,{size:14,className:"animate-pulse"})]},ye.id))}),qe.ready?E.jsxs("div",{className:"text-center text-green-400 text-sm font-bold flex items-center justify-center gap-2 py-2 bg-green-900/10 rounded",children:[E.jsx(hi,{size:16})," YOU ARE READY"]}):E.jsx("button",{onClick:Ze,className:"w-full py-3 bg-cyan-600 hover:bg-cyan-500 rounded font-bold text-white shadow-lg animate-pulse",children:"MARK READY"})]}),g.hostId===s.uid&&E.jsxs("div",{className:"flex gap-4 justify-center w-full",children:[E.jsxs("button",{onClick:Y,disabled:!Ye,className:`px-6 py-3 rounded-xl font-bold flex items-center gap-2 transition-all ${Ye?"bg-cyan-600 hover:bg-cyan-500 text-white shadow-cyan-900/50 shadow-lg":"bg-slate-800 text-slate-500 cursor-not-allowed opacity-50"}`,children:[E.jsx(BN,{size:18})," Restart"]}),E.jsxs("button",{onClick:At,disabled:!Ye,className:`px-6 py-3 rounded-xl font-bold flex items-center gap-2 transition-all ${Ye?"bg-slate-700 hover:bg-slate-600 text-white":"bg-slate-800 text-slate-500 cursor-not-allowed opacity-50"}`,children:[E.jsx(LN,{size:18})," Lobby"]})]}),g.hostId===s.uid&&!Ye&&E.jsx("div",{className:"text-xs text-slate-500 mt-2 italic",children:"Waiting for all runners to mark ready..."})]}):E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"flex justify-between items-center mb-4",children:[E.jsxs("h3",{className:"font-bold text-white flex items-center gap-2",children:[E.jsx(KN,{size:18,className:"text-cyan-400"})," Incoming Stream (",qe.hand.length,")"]}),Ge&&!me&&qe.hand.length>=2&&E.jsxs("button",{onClick:()=>{x(!k),D([])},className:`text-xs px-3 py-1 rounded-full border transition-colors flex items-center gap-1 ${k?"bg-cyan-900/50 border-cyan-400 text-cyan-300":"bg-slate-800 border-slate-600 text-slate-400 hover:border-cyan-500"}`,children:[k?E.jsx(hi,{size:12}):E.jsx(_p,{size:12}),"Use Proxy Protocol ",k?"(Pick 2)":""]}),me&&E.jsxs("div",{className:"flex items-center gap-2 text-cyan-400 text-sm font-bold animate-pulse",children:[E.jsx(IN,{size:16,className:"animate-spin"}),"Synchronizing..."]})]}),E.jsx("div",{className:"flex gap-2 md:gap-4 overflow-x-auto pb-4 pt-4 px-2 justify-start md:justify-center min-h-[160px] md:min-h-[220px]",children:qe.hand.map((ye,Qe)=>E.jsx("div",{className:`transition-all duration-300 ${me?"grayscale opacity-50 pointer-events-none scale-90":""}`,children:E.jsx(Cv,{typeId:ye,onClick:()=>te(Qe),selected:V.includes(Qe)})},Qe))}),E.jsx("button",{onClick:se,disabled:V.length===0||me,className:`w-full py-4 rounded-xl font-bold text-lg shadow-lg transition-all mt-2
                        ${me?"bg-slate-800 text-cyan-400/50 cursor-wait border border-slate-700":V.length>0?"bg-cyan-600 hover:bg-cyan-500 text-white shadow-cyan-900/50":"bg-slate-800 text-slate-500 cursor-not-allowed"}`,children:me?"Waiting for other runners...":k&&V.length<2?"Select 2nd Fragment...":"ACQUIRE DATA"})]})})]}),E.jsx(Wd,{})]})}return null}Fb.createRoot(document.getElementById("root")).render(E.jsx(mt.StrictMode,{children:E.jsx(lI,{})}));

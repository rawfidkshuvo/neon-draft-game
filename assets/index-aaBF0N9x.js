(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Nd={exports:{}},_l={};var L_;function Db(){if(L_)return _l;L_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return _l.Fragment=e,_l.jsx=i,_l.jsxs=i,_l}var j_;function Ob(){return j_||(j_=1,Nd.exports=Db()),Nd.exports}var T=Ob(),Dd={exports:{}},Ae={};var P_;function Mb(){if(P_)return Ae;P_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),O=Symbol.iterator;function H(M){return M===null||typeof M!="object"?null:(M=O&&M[O]||M["@@iterator"],typeof M=="function"?M:null)}var ee={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},te=Object.assign,W={};function ce(M,Y,re){this.props=M,this.context=Y,this.refs=W,this.updater=re||ee}ce.prototype.isReactComponent={},ce.prototype.setState=function(M,Y){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Y,"setState")},ce.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function Ee(){}Ee.prototype=ce.prototype;function ge(M,Y,re){this.props=M,this.context=Y,this.refs=W,this.updater=re||ee}var Je=ge.prototype=new Ee;Je.constructor=ge,te(Je,ce.prototype),Je.isPureReactComponent=!0;var st=Array.isArray;function Ce(){}var I={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function R(M,Y,re){var ae=re.ref;return{$$typeof:r,type:M,key:Y,ref:ae!==void 0?ae:null,props:re}}function V(M,Y){return R(M.type,Y,M.props)}function N(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function U(M){var Y={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(re){return Y[re]})}var x=/\/+/g;function ut(M,Y){return typeof M=="object"&&M!==null&&M.key!=null?U(""+M.key):Y.toString(36)}function bt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Ce,Ce):(M.status="pending",M.then(function(Y){M.status==="pending"&&(M.status="fulfilled",M.value=Y)},function(Y){M.status==="pending"&&(M.status="rejected",M.reason=Y)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function G(M,Y,re,ae,X){var J=typeof M;(J==="undefined"||J==="boolean")&&(M=null);var ie=!1;if(M===null)ie=!0;else switch(J){case"bigint":case"string":case"number":ie=!0;break;case"object":switch(M.$$typeof){case r:case e:ie=!0;break;case b:return ie=M._init,G(ie(M._payload),Y,re,ae,X)}}if(ie)return X=X(M),ie=ae===""?"."+ut(M,0):ae,st(X)?(re="",ie!=null&&(re=ie.replace(x,"$&/")+"/"),G(X,Y,re,"",function(Me){return Me})):X!=null&&(N(X)&&(X=V(X,re+(X.key==null||M&&M.key===X.key?"":(""+X.key).replace(x,"$&/")+"/")+ie)),Y.push(X)),1;ie=0;var fe=ae===""?".":ae+":";if(st(M))for(var Ie=0;Ie<M.length;Ie++)ae=M[Ie],J=fe+ut(ae,Ie),ie+=G(ae,Y,re,J,X);else if(Ie=H(M),typeof Ie=="function")for(M=Ie.call(M),Ie=0;!(ae=M.next()).done;)ae=ae.value,J=fe+ut(ae,Ie++),ie+=G(ae,Y,re,J,X);else if(J==="object"){if(typeof M.then=="function")return G(bt(M),Y,re,ae,X);throw Y=String(M),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return ie}function se(M,Y,re){if(M==null)return M;var ae=[],X=0;return G(M,ae,"","",function(J){return Y.call(re,J,X++)}),ae}function de(M){if(M._status===-1){var Y=M._result;Y=Y(),Y.then(function(re){(M._status===0||M._status===-1)&&(M._status=1,M._result=re)},function(re){(M._status===0||M._status===-1)&&(M._status=2,M._result=re)}),M._status===-1&&(M._status=0,M._result=Y)}if(M._status===1)return M._result.default;throw M._result}var Pe=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ye={map:se,forEach:function(M,Y,re){se(M,function(){Y.apply(this,arguments)},re)},count:function(M){var Y=0;return se(M,function(){Y++}),Y},toArray:function(M){return se(M,function(Y){return Y})||[]},only:function(M){if(!N(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Ae.Activity=S,Ae.Children=Ye,Ae.Component=ce,Ae.Fragment=i,Ae.Profiler=l,Ae.PureComponent=ge,Ae.StrictMode=a,Ae.Suspense=_,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(M){return I.H.useMemoCache(M)}},Ae.cache=function(M){return function(){return M.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(M,Y,re){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ae=te({},M.props),X=M.key;if(Y!=null)for(J in Y.key!==void 0&&(X=""+Y.key),Y)!w.call(Y,J)||J==="key"||J==="__self"||J==="__source"||J==="ref"&&Y.ref===void 0||(ae[J]=Y[J]);var J=arguments.length-2;if(J===1)ae.children=re;else if(1<J){for(var ie=Array(J),fe=0;fe<J;fe++)ie[fe]=arguments[fe+2];ae.children=ie}return R(M.type,X,ae)},Ae.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},Ae.createElement=function(M,Y,re){var ae,X={},J=null;if(Y!=null)for(ae in Y.key!==void 0&&(J=""+Y.key),Y)w.call(Y,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(X[ae]=Y[ae]);var ie=arguments.length-2;if(ie===1)X.children=re;else if(1<ie){for(var fe=Array(ie),Ie=0;Ie<ie;Ie++)fe[Ie]=arguments[Ie+2];X.children=fe}if(M&&M.defaultProps)for(ae in ie=M.defaultProps,ie)X[ae]===void 0&&(X[ae]=ie[ae]);return R(M,J,X)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(M){return{$$typeof:p,render:M}},Ae.isValidElement=N,Ae.lazy=function(M){return{$$typeof:b,_payload:{_status:-1,_result:M},_init:de}},Ae.memo=function(M,Y){return{$$typeof:y,type:M,compare:Y===void 0?null:Y}},Ae.startTransition=function(M){var Y=I.T,re={};I.T=re;try{var ae=M(),X=I.S;X!==null&&X(re,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(Ce,Pe)}catch(J){Pe(J)}finally{Y!==null&&re.types!==null&&(Y.types=re.types),I.T=Y}},Ae.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ae.use=function(M){return I.H.use(M)},Ae.useActionState=function(M,Y,re){return I.H.useActionState(M,Y,re)},Ae.useCallback=function(M,Y){return I.H.useCallback(M,Y)},Ae.useContext=function(M){return I.H.useContext(M)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(M,Y){return I.H.useDeferredValue(M,Y)},Ae.useEffect=function(M,Y){return I.H.useEffect(M,Y)},Ae.useEffectEvent=function(M){return I.H.useEffectEvent(M)},Ae.useId=function(){return I.H.useId()},Ae.useImperativeHandle=function(M,Y,re){return I.H.useImperativeHandle(M,Y,re)},Ae.useInsertionEffect=function(M,Y){return I.H.useInsertionEffect(M,Y)},Ae.useLayoutEffect=function(M,Y){return I.H.useLayoutEffect(M,Y)},Ae.useMemo=function(M,Y){return I.H.useMemo(M,Y)},Ae.useOptimistic=function(M,Y){return I.H.useOptimistic(M,Y)},Ae.useReducer=function(M,Y,re){return I.H.useReducer(M,Y,re)},Ae.useRef=function(M){return I.H.useRef(M)},Ae.useState=function(M){return I.H.useState(M)},Ae.useSyncExternalStore=function(M,Y,re){return I.H.useSyncExternalStore(M,Y,re)},Ae.useTransition=function(){return I.H.useTransition()},Ae.version="19.2.3",Ae}var z_;function wm(){return z_||(z_=1,Dd.exports=Mb()),Dd.exports}var yt=wm(),Od={exports:{}},vl={},Md={exports:{}},Vd={};var B_;function Vb(){return B_||(B_=1,(function(r){function e(G,se){var de=G.length;G.push(se);e:for(;0<de;){var Pe=de-1>>>1,Ye=G[Pe];if(0<l(Ye,se))G[Pe]=se,G[de]=Ye,de=Pe;else break e}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var se=G[0],de=G.pop();if(de!==se){G[0]=de;e:for(var Pe=0,Ye=G.length,M=Ye>>>1;Pe<M;){var Y=2*(Pe+1)-1,re=G[Y],ae=Y+1,X=G[ae];if(0>l(re,de))ae<Ye&&0>l(X,re)?(G[Pe]=X,G[ae]=de,Pe=ae):(G[Pe]=re,G[Y]=de,Pe=Y);else if(ae<Ye&&0>l(X,de))G[Pe]=X,G[ae]=de,Pe=ae;else break e}}return se}function l(G,se){var de=G.sortIndex-se.sortIndex;return de!==0?de:G.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var _=[],y=[],b=1,S=null,O=3,H=!1,ee=!1,te=!1,W=!1,ce=typeof setTimeout=="function"?setTimeout:null,Ee=typeof clearTimeout=="function"?clearTimeout:null,ge=typeof setImmediate<"u"?setImmediate:null;function Je(G){for(var se=i(y);se!==null;){if(se.callback===null)a(y);else if(se.startTime<=G)a(y),se.sortIndex=se.expirationTime,e(_,se);else break;se=i(y)}}function st(G){if(te=!1,Je(G),!ee)if(i(_)!==null)ee=!0,Ce||(Ce=!0,U());else{var se=i(y);se!==null&&bt(st,se.startTime-G)}}var Ce=!1,I=-1,w=5,R=-1;function V(){return W?!0:!(r.unstable_now()-R<w)}function N(){if(W=!1,Ce){var G=r.unstable_now();R=G;var se=!0;try{e:{ee=!1,te&&(te=!1,Ee(I),I=-1),H=!0;var de=O;try{t:{for(Je(G),S=i(_);S!==null&&!(S.expirationTime>G&&V());){var Pe=S.callback;if(typeof Pe=="function"){S.callback=null,O=S.priorityLevel;var Ye=Pe(S.expirationTime<=G);if(G=r.unstable_now(),typeof Ye=="function"){S.callback=Ye,Je(G),se=!0;break t}S===i(_)&&a(_),Je(G)}else a(_);S=i(_)}if(S!==null)se=!0;else{var M=i(y);M!==null&&bt(st,M.startTime-G),se=!1}}break e}finally{S=null,O=de,H=!1}se=void 0}}finally{se?U():Ce=!1}}}var U;if(typeof ge=="function")U=function(){ge(N)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,ut=x.port2;x.port1.onmessage=N,U=function(){ut.postMessage(null)}}else U=function(){ce(N,0)};function bt(G,se){I=ce(function(){G(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return O},r.unstable_next=function(G){switch(O){case 1:case 2:case 3:var se=3;break;default:se=O}var de=O;O=se;try{return G()}finally{O=de}},r.unstable_requestPaint=function(){W=!0},r.unstable_runWithPriority=function(G,se){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var de=O;O=G;try{return se()}finally{O=de}},r.unstable_scheduleCallback=function(G,se,de){var Pe=r.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Pe+de:Pe):de=Pe,G){case 1:var Ye=-1;break;case 2:Ye=250;break;case 5:Ye=1073741823;break;case 4:Ye=1e4;break;default:Ye=5e3}return Ye=de+Ye,G={id:b++,callback:se,priorityLevel:G,startTime:de,expirationTime:Ye,sortIndex:-1},de>Pe?(G.sortIndex=de,e(y,G),i(_)===null&&G===i(y)&&(te?(Ee(I),I=-1):te=!0,bt(st,de-Pe))):(G.sortIndex=Ye,e(_,G),ee||H||(ee=!0,Ce||(Ce=!0,U()))),G},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(G){var se=O;return function(){var de=O;O=se;try{return G.apply(this,arguments)}finally{O=de}}}})(Vd)),Vd}var q_;function kb(){return q_||(q_=1,Md.exports=Vb()),Md.exports}var kd={exports:{}},sn={};var H_;function Ub(){if(H_)return sn;H_=1;var r=wm();function e(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,b){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:_,containerInfo:y,implementation:b}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,sn.createPortal=function(_,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(_,y,null,b)},sn.flushSync=function(_){var y=d.T,b=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=y,a.p=b,a.d.f()}},sn.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(_,y))},sn.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},sn.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var b=y.as,S=p(b,y.crossOrigin),O=typeof y.integrity=="string"?y.integrity:void 0,H=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?a.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:O,fetchPriority:H}):b==="script"&&a.d.X(_,{crossOrigin:S,integrity:O,fetchPriority:H,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},sn.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=p(y.as,y.crossOrigin);a.d.M(_,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(_)},sn.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,S=p(b,y.crossOrigin);a.d.L(_,b,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},sn.preloadModule=function(_,y){if(typeof _=="string")if(y){var b=p(y.as,y.crossOrigin);a.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(_)},sn.requestFormReset=function(_){a.d.r(_)},sn.unstable_batchedUpdates=function(_,y){return _(y)},sn.useFormState=function(_,y,b){return d.H.useFormState(_,y,b)},sn.useFormStatus=function(){return d.H.useHostTransitionStatus()},sn.version="19.2.3",sn}var G_;function Lb(){if(G_)return kd.exports;G_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),kd.exports=Ub(),kd.exports}var F_;function jb(){if(F_)return vl;F_=1;var r=kb(),e=wm(),i=Lb();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(c(t)!==t)throw Error(a(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return _(h),t;if(f===o)return _(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===s){g=!0,s=h,o=f;break}if(E===o){g=!0,o=h,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,o=h;break}if(E===o){g=!0,o=f,s=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function b(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=b(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,O=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),ee=Symbol.for("react.portal"),te=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),ce=Symbol.for("react.profiler"),Ee=Symbol.for("react.consumer"),ge=Symbol.for("react.context"),Je=Symbol.for("react.forward_ref"),st=Symbol.for("react.suspense"),Ce=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function ut(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case te:return"Fragment";case ce:return"Profiler";case W:return"StrictMode";case st:return"Suspense";case Ce:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case ee:return"Portal";case ge:return t.displayName||"Context";case Ee:return(t._context.displayName||"Context")+".Consumer";case Je:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:ut(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return ut(t(n))}catch{}}return null}var bt=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Pe=[],Ye=-1;function M(t){return{current:t}}function Y(t){0>Ye||(t.current=Pe[Ye],Pe[Ye]=null,Ye--)}function re(t,n){Ye++,Pe[Ye]=t.current,t.current=n}var ae=M(null),X=M(null),J=M(null),ie=M(null);function fe(t,n){switch(re(J,n),re(X,t),re(ae,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?a_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=a_(n),t=o_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(ae),re(ae,t)}function Ie(){Y(ae),Y(X),Y(J)}function Me(t){t.memoizedState!==null&&re(ie,t);var n=ae.current,s=o_(n,t.type);n!==s&&(re(X,t),re(ae,s))}function Ge(t){X.current===t&&(Y(ae),Y(X)),ie.current===t&&(Y(ie),ml._currentValue=de)}var ye,Be;function Ke(t){if(ye===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);ye=n&&n[1]||"",Be=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ye+t+Be}var He=!1;function Xe(t,n){if(!t||He)return"";He=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(q){var z=q}Reflect.construct(t,[],K)}else{try{K.call()}catch(q){z=q}t.call(K.prototype)}}else{try{throw Error()}catch(q){z=q}(K=t())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var C=g.split(`
`),P=E.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===P.length)for(o=C.length-1,h=P.length-1;1<=o&&0<=h&&C[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==P[h]){var F=`
`+C[o].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=o&&0<=h);break}}}finally{He=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Ke(s):""}function nn(t,n){switch(t.tag){case 26:case 27:case 5:return Ke(t.type);case 16:return Ke("Lazy");case 13:return t.child!==n&&n!==null?Ke("Suspense Fallback"):Ke("Suspense");case 19:return Ke("SuspenseList");case 0:case 15:return Xe(t.type,!1);case 11:return Xe(t.type.render,!1);case 1:return Xe(t.type,!0);case 31:return Ke("Activity");default:return""}}function yr(t){try{var n="",s=null;do n+=nn(t,s),s=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Ne=Object.prototype.hasOwnProperty,ct=r.unstable_scheduleCallback,Dn=r.unstable_cancelCallback,_r=r.unstable_shouldYield,ia=r.unstable_requestPaint,qt=r.unstable_now,qi=r.unstable_getCurrentPriorityLevel,yo=r.unstable_ImmediatePriority,_o=r.unstable_UserBlockingPriority,vs=r.unstable_NormalPriority,Oh=r.unstable_LowPriority,Jl=r.unstable_IdlePriority,Wl=r.log,eu=r.unstable_setDisableYieldValue,$n=null,Yt=null;function On(t){if(typeof Wl=="function"&&eu(t),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode($n,t)}catch{}}var At=Math.clz32?Math.clz32:nu,tu=Math.log,sa=Math.LN2;function nu(t){return t>>>=0,t===0?32:31-(tu(t)/sa|0)|0}var hi=256,vr=262144,Ct=4194304;function fi(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function di(t,n,s){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=fi(o):(g&=E,g!==0?h=fi(g):s||(s=E&~t,s!==0&&(h=fi(s))))):(E=o&~f,E!==0?h=fi(E):g!==0?h=fi(g):s||(s=o&~t,s!==0&&(h=fi(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Zn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Mh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iu(){var t=Ct;return Ct<<=1,(Ct&62914560)===0&&(Ct=4194304),t}function mi(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function Er(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Vh(t,n,s,o,h,f){var g=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var E=t.entanglements,C=t.expirationTimes,P=t.hiddenUpdates;for(s=g&~s;0<s;){var F=31-At(s),K=1<<F;E[F]=0,C[F]=-1;var z=P[F];if(z!==null)for(P[F]=null,F=0;F<z.length;F++){var q=z[F];q!==null&&(q.lane&=-536870913)}s&=~K}o!==0&&Tr(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function Tr(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-At(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|s&261930}function vo(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var o=31-At(s),h=1<<o;h&n|t[o]&n&&(t[o]|=n),s&=~h}}function Eo(t,n){var s=n&-n;return s=(s&42)!==0?1:br(s),(s&(t.suspendedLanes|n))!==0?0:s}function br(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Hi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function su(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:N_(t.type))}function Jn(t,n){var s=se.p;try{return se.p=t,n()}finally{se.p=s}}var Wn=Math.random().toString(36).slice(2),It="__reactFiber$"+Wn,Ht="__reactProps$"+Wn,gi="__reactContainer$"+Wn,ra="__reactEvents$"+Wn,kh="__reactListeners$"+Wn,ru="__reactHandles$"+Wn,au="__reactResources$"+Wn,pi="__reactMarker$"+Wn;function aa(t){delete t[It],delete t[Ht],delete t[ra],delete t[kh],delete t[ru]}function yi(t){var n=t[It];if(n)return n;for(var s=t.parentNode;s;){if(n=s[gi]||s[It]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=m_(t);t!==null;){if(s=t[It])return s;t=m_(t)}return n}t=s,s=t.parentNode}return null}function Mn(t){if(t=t[It]||t[gi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Tn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function _i(t){var n=t[au];return n||(n=t[au]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Nt(t){t[pi]=!0}var To=new Set,bo={};function vi(t,n){Ei(t,n),Ei(t+"Capture",n)}function Ei(t,n){for(bo[t]=n,t=0;t<n.length;t++)To.add(n[t])}var Ao=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),So={},wo={};function ou(t){return Ne.call(wo,t)?!0:Ne.call(So,t)?!1:Ao.test(t)?wo[t]=!0:(So[t]=!0,!1)}function oa(t,n,s){if(ou(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function bn(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function Dt(t,n,s,o){if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+o)}}function Gt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Es(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function xo(t,n,s){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function et(t){if(!t._valueTracker){var n=Es(t)?"checked":"value";t._valueTracker=xo(t,n,""+t[n])}}function Ar(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return t&&(o=Es(t)?t.checked?"true":"false":t.value),t=o,t!==s?(n.setValue(t),!0):!1}function Ti(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Sr=/[\n"\\]/g;function fn(t){return t.replace(Sr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function la(t,n,s,o,h,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Gt(n)):t.value!==""+Gt(n)&&(t.value=""+Gt(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Ro(t,g,Gt(n)):s!=null?Ro(t,g,Gt(s)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Gt(E):t.removeAttribute("name")}function lu(t,n,s,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){et(t);return}s=s!=null?""+Gt(s):"",n=n!=null?""+Gt(n):s,E||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),et(t)}function Ro(t,n,s){n==="number"&&Ti(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Ts(t,n,s,o){if(t=t.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=n.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&o&&(t[s].defaultSelected=!0)}else{for(s=""+Gt(s),n=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function uu(t,n,s){if(n!=null&&(n=""+Gt(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+Gt(s):""}function bs(t,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(bt(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Gt(n),t.defaultValue=s,o=t.textContent,o===s&&o!==""&&o!==null&&(t.value=o),et(t)}function dn(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var cu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Co(t,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,s):typeof s!="number"||s===0||cu.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function Io(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&Co(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Co(t,f,n[f])}function ua(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),As=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ca(t){return As.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ei(){}var No=null;function Vn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ss=null,bi=null;function wr(t){var n=Mn(t);if(n&&(t=n.stateNode)){var s=t[Ht]||null;e:switch(t=n.stateNode,n.type){case"input":if(la(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+fn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==t&&o.form===t.form){var h=o[Ht]||null;if(!h)throw Error(a(90));la(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===t.form&&Ar(o)}break e;case"textarea":uu(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&Ts(t,!!s.multiple,n,!1)}}}var ha=!1;function ws(t,n,s){if(ha)return t(n,s);ha=!0;try{var o=t(n);return o}finally{if(ha=!1,(Ss!==null||bi!==null)&&(sc(),Ss&&(n=Ss,t=bi,bi=Ss=null,wr(n),t)))for(n=0;n<t.length;n++)wr(t[n])}}function ti(t,n){var s=t.stateNode;if(s===null)return null;var o=s[Ht]||null;if(o===null)return null;s=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xr=!1;if(kn)try{var rt={};Object.defineProperty(rt,"passive",{get:function(){xr=!0}}),window.addEventListener("test",rt,rt),window.removeEventListener("test",rt,rt)}catch{xr=!1}var Ai=null,Do=null,Rr=null;function Oo(){if(Rr)return Rr;var t,n=Do,s=n.length,o,h="value"in Ai?Ai.value:Ai.textContent,f=h.length;for(t=0;t<s&&n[t]===h[t];t++);var g=s-t;for(o=1;o<=g&&n[s-o]===h[f-o];o++);return Rr=h.slice(t,1<o?1-o:void 0)}function Cr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Gi(){return!0}function ni(){return!1}function Kt(t){function n(s,o,h,f,g){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(s=t[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Gi:ni,this.isPropagationStopped=ni,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Gi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Gi)},persist:function(){},isPersistent:Gi}),n}var Fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Si=Kt(Fi),xs=S({},Fi,{view:0,detail:0}),Mo=Kt(xs),Rs,fa,wi,da=S({},xs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wi&&(wi&&t.type==="mousemove"?(Rs=t.screenX-wi.screenX,fa=t.screenY-wi.screenY):fa=Rs=0,wi=t),Rs)},movementY:function(t){return"movementY"in t?t.movementY:fa}}),Vo=Kt(da),Ir=S({},da,{dataTransfer:0}),fu=Kt(Ir),du=S({},xs,{relatedTarget:0}),Nr=Kt(du),ko=S({},Fi,{animationName:0,elapsedTime:0,pseudoElement:0}),mu=Kt(ko),ma=S({},Fi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gu=Kt(ma),pu=S({},Fi,{data:0}),xi=Kt(pu),yu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_u={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=vu[t])?!!n[t]:!1}function Cs(){return Eu}var un=S({},xs,{key:function(t){if(t.key){var n=yu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Cr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_u[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cs,charCode:function(t){return t.type==="keypress"?Cr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Cr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Tu=Kt(un),bu=S({},da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qi=Kt(bu),u=S({},xs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cs}),m=Kt(u),v=S({},Fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Kt(v),L=S({},da,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Kt(L),ne=S({},Fi,{newState:0,oldState:0}),we=Kt(ne),St=[9,13,27,32],$e=kn&&"CompositionEvent"in window,gt=null;kn&&"documentMode"in document&&(gt=document.documentMode);var Un=kn&&"TextEvent"in window&&!gt,Ri=kn&&(!$e||gt&&8<gt&&11>=gt),ii=" ",si=!1;function Dr(t,n){switch(t){case"keyup":return St.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ga(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var pa=!1;function t1(t,n){switch(t){case"compositionend":return ga(n);case"keypress":return n.which!==32?null:(si=!0,ii);case"textInput":return t=n.data,t===ii&&si?null:t;default:return null}}function n1(t,n){if(pa)return t==="compositionend"||!$e&&Dr(t,n)?(t=Oo(),Rr=Do=Ai=null,pa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ri&&n.locale!=="ko"?null:n.data;default:return null}}var i1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yg(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!i1[t.type]:n==="textarea"}function _g(t,n,s,o){Ss?bi?bi.push(o):bi=[o]:Ss=o,n=hc(n,"onChange"),0<n.length&&(s=new Si("onChange","change",null,s,o),t.push({event:s,listeners:n}))}var Uo=null,Lo=null;function s1(t){e_(t,0)}function Au(t){var n=Tn(t);if(Ar(n))return t}function vg(t,n){if(t==="change")return n}var Eg=!1;if(kn){var Uh;if(kn){var Lh="oninput"in document;if(!Lh){var Tg=document.createElement("div");Tg.setAttribute("oninput","return;"),Lh=typeof Tg.oninput=="function"}Uh=Lh}else Uh=!1;Eg=Uh&&(!document.documentMode||9<document.documentMode)}function bg(){Uo&&(Uo.detachEvent("onpropertychange",Ag),Lo=Uo=null)}function Ag(t){if(t.propertyName==="value"&&Au(Lo)){var n=[];_g(n,Lo,t,Vn(t)),ws(s1,n)}}function r1(t,n,s){t==="focusin"?(bg(),Uo=n,Lo=s,Uo.attachEvent("onpropertychange",Ag)):t==="focusout"&&bg()}function a1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Au(Lo)}function o1(t,n){if(t==="click")return Au(n)}function l1(t,n){if(t==="input"||t==="change")return Au(n)}function u1(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var An=typeof Object.is=="function"?Object.is:u1;function jo(t,n){if(An(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!Ne.call(n,h)||!An(t[h],n[h]))return!1}return!0}function Sg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wg(t,n){var s=Sg(t);t=0;for(var o;s;){if(s.nodeType===3){if(o=t+s.textContent.length,t<=n&&o>=n)return{node:s,offset:n-t};t=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Sg(s)}}function xg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?xg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Rg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ti(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=Ti(t.document)}return n}function jh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var c1=kn&&"documentMode"in document&&11>=document.documentMode,ya=null,Ph=null,Po=null,zh=!1;function Cg(t,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;zh||ya==null||ya!==Ti(o)||(o=ya,"selectionStart"in o&&jh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Po&&jo(Po,o)||(Po=o,o=hc(Ph,"onSelect"),0<o.length&&(n=new Si("onSelect","select",null,n,s),t.push({event:n,listeners:o}),n.target=ya)))}function Or(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var _a={animationend:Or("Animation","AnimationEnd"),animationiteration:Or("Animation","AnimationIteration"),animationstart:Or("Animation","AnimationStart"),transitionrun:Or("Transition","TransitionRun"),transitionstart:Or("Transition","TransitionStart"),transitioncancel:Or("Transition","TransitionCancel"),transitionend:Or("Transition","TransitionEnd")},Bh={},Ig={};kn&&(Ig=document.createElement("div").style,"AnimationEvent"in window||(delete _a.animationend.animation,delete _a.animationiteration.animation,delete _a.animationstart.animation),"TransitionEvent"in window||delete _a.transitionend.transition);function Mr(t){if(Bh[t])return Bh[t];if(!_a[t])return t;var n=_a[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in Ig)return Bh[t]=n[s];return t}var Ng=Mr("animationend"),Dg=Mr("animationiteration"),Og=Mr("animationstart"),h1=Mr("transitionrun"),f1=Mr("transitionstart"),d1=Mr("transitioncancel"),Mg=Mr("transitionend"),Vg=new Map,qh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qh.push("scrollEnd");function ri(t,n){Vg.set(t,n),vi(n,[t])}var Su=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Ln=[],va=0,Hh=0;function wu(){for(var t=va,n=Hh=va=0;n<t;){var s=Ln[n];Ln[n++]=null;var o=Ln[n];Ln[n++]=null;var h=Ln[n];Ln[n++]=null;var f=Ln[n];if(Ln[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&kg(s,h,f)}}function xu(t,n,s,o){Ln[va++]=t,Ln[va++]=n,Ln[va++]=s,Ln[va++]=o,Hh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Gh(t,n,s,o){return xu(t,n,s,o),Ru(t)}function Vr(t,n){return xu(t,null,null,n),Ru(t)}function kg(t,n,s){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=t.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-At(s),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function Ru(t){if(50<ol)throw ol=0,ed=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ea={};function m1(t,n,s,o){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(t,n,s,o){return new m1(t,n,s,o)}function Fh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Yi(t,n){var s=t.alternate;return s===null?(s=Sn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Ug(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Cu(t,n,s,o,h,f){var g=0;if(o=t,typeof t=="function")Fh(t)&&(g=1);else if(typeof t=="string")g=vb(t,s,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=Sn(31,s,n,h),t.elementType=R,t.lanes=f,t;case te:return kr(s.children,h,f,n);case W:g=8,h|=24;break;case ce:return t=Sn(12,s,n,h|2),t.elementType=ce,t.lanes=f,t;case st:return t=Sn(13,s,n,h),t.elementType=st,t.lanes=f,t;case Ce:return t=Sn(19,s,n,h),t.elementType=Ce,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ge:g=10;break e;case Ee:g=9;break e;case Je:g=11;break e;case I:g=14;break e;case w:g=16,o=null;break e}g=29,s=Error(a(130,t===null?"null":typeof t,"")),o=null}return n=Sn(g,s,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function kr(t,n,s,o){return t=Sn(7,t,o,n),t.lanes=s,t}function Qh(t,n,s){return t=Sn(6,t,null,n),t.lanes=s,t}function Lg(t){var n=Sn(18,null,null,0);return n.stateNode=t,n}function Yh(t,n,s){return n=Sn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var jg=new WeakMap;function jn(t,n){if(typeof t=="object"&&t!==null){var s=jg.get(t);return s!==void 0?s:(n={value:t,source:n,stack:yr(n)},jg.set(t,n),n)}return{value:t,source:n,stack:yr(n)}}var Ta=[],ba=0,Iu=null,zo=0,Pn=[],zn=0,Is=null,Ci=1,Ii="";function Ki(t,n){Ta[ba++]=zo,Ta[ba++]=Iu,Iu=t,zo=n}function Pg(t,n,s){Pn[zn++]=Ci,Pn[zn++]=Ii,Pn[zn++]=Is,Is=t;var o=Ci;t=Ii;var h=32-At(o)-1;o&=~(1<<h),s+=1;var f=32-At(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Ci=1<<32-At(n)+h|s<<h|o,Ii=f+t}else Ci=1<<f|s<<h|o,Ii=t}function Kh(t){t.return!==null&&(Ki(t,1),Pg(t,1,0))}function Xh(t){for(;t===Iu;)Iu=Ta[--ba],Ta[ba]=null,zo=Ta[--ba],Ta[ba]=null;for(;t===Is;)Is=Pn[--zn],Pn[zn]=null,Ii=Pn[--zn],Pn[zn]=null,Ci=Pn[--zn],Pn[zn]=null}function zg(t,n){Pn[zn++]=Ci,Pn[zn++]=Ii,Pn[zn++]=Is,Ci=n.id,Ii=n.overflow,Is=t}var Xt=null,ft=null,ze=!1,Ns=null,Bn=!1,$h=Error(a(519));function Ds(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bo(jn(n,t)),$h}function Bg(t){var n=t.stateNode,s=t.type,o=t.memoizedProps;switch(n[It]=t,n[Ht]=o,s){case"dialog":Oe("cancel",n),Oe("close",n);break;case"iframe":case"object":case"embed":Oe("load",n);break;case"video":case"audio":for(s=0;s<ul.length;s++)Oe(ul[s],n);break;case"source":Oe("error",n);break;case"img":case"image":case"link":Oe("error",n),Oe("load",n);break;case"details":Oe("toggle",n);break;case"input":Oe("invalid",n),lu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Oe("invalid",n);break;case"textarea":Oe("invalid",n),bs(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||s_(n.textContent,s)?(o.popover!=null&&(Oe("beforetoggle",n),Oe("toggle",n)),o.onScroll!=null&&Oe("scroll",n),o.onScrollEnd!=null&&Oe("scrollend",n),o.onClick!=null&&(n.onclick=ei),n=!0):n=!1,n||Ds(t,!0)}function qg(t){for(Xt=t.return;Xt;)switch(Xt.tag){case 5:case 31:case 13:Bn=!1;return;case 27:case 3:Bn=!0;return;default:Xt=Xt.return}}function Aa(t){if(t!==Xt)return!1;if(!ze)return qg(t),ze=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||gd(t.type,t.memoizedProps)),s=!s),s&&ft&&Ds(t),qg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ft=d_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ft=d_(t)}else n===27?(n=ft,Fs(t.type)?(t=Ed,Ed=null,ft=t):ft=n):ft=Xt?Hn(t.stateNode.nextSibling):null;return!0}function Ur(){ft=Xt=null,ze=!1}function Zh(){var t=Ns;return t!==null&&(yn===null?yn=t:yn.push.apply(yn,t),Ns=null),t}function Bo(t){Ns===null?Ns=[t]:Ns.push(t)}var Jh=M(null),Lr=null,Xi=null;function Os(t,n,s){re(Jh,n._currentValue),n._currentValue=s}function $i(t){t._currentValue=Jh.current,Y(Jh)}function Wh(t,n,s){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===s)break;t=t.return}}function ef(t,n,s,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Wh(f.return,s,t),o||(g=null);break e}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Wh(g,s,t),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Sa(t,n,s,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;An(h.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(h===ie.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(ml):t=[ml])}h=h.return}t!==null&&ef(n,t,s,o),n.flags|=262144}function Nu(t){for(t=t.firstContext;t!==null;){if(!An(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function jr(t){Lr=t,Xi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function $t(t){return Hg(Lr,t)}function Du(t,n){return Lr===null&&jr(t),Hg(t,n)}function Hg(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Xi===null){if(t===null)throw Error(a(308));Xi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Xi=Xi.next=n;return s}var g1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},p1=r.unstable_scheduleCallback,y1=r.unstable_NormalPriority,Ot={$$typeof:ge,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tf(){return{controller:new g1,data:new Map,refCount:0}}function qo(t){t.refCount--,t.refCount===0&&p1(y1,function(){t.controller.abort()})}var Ho=null,nf=0,wa=0,xa=null;function _1(t,n){if(Ho===null){var s=Ho=[];nf=0,wa=ad(),xa={status:"pending",value:void 0,then:function(o){s.push(o)}}}return nf++,n.then(Gg,Gg),n}function Gg(){if(--nf===0&&Ho!==null){xa!==null&&(xa.status="fulfilled");var t=Ho;Ho=null,wa=0,xa=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function v1(t,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Fg=G.S;G.S=function(t,n){Cy=qt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&_1(t,n),Fg!==null&&Fg(t,n)};var Pr=M(null);function sf(){var t=Pr.current;return t!==null?t:ht.pooledCache}function Ou(t,n){n===null?re(Pr,Pr.current):re(Pr,n.pool)}function Qg(){var t=sf();return t===null?null:{parent:Ot._currentValue,pool:t}}var Ra=Error(a(460)),rf=Error(a(474)),Mu=Error(a(542)),Vu={then:function(){}};function Yg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Kg(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(ei,ei),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,$g(t),t;default:if(typeof n.status=="string")n.then(ei,ei);else{if(t=ht,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,$g(t),t}throw Br=n,Ra}}function zr(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Br=s,Ra):s}}var Br=null;function Xg(){if(Br===null)throw Error(a(459));var t=Br;return Br=null,t}function $g(t){if(t===Ra||t===Mu)throw Error(a(483))}var Ca=null,Go=0;function ku(t){var n=Go;return Go+=1,Ca===null&&(Ca=[]),Kg(Ca,t,n)}function Fo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Uu(t,n){throw n.$$typeof===O?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Zg(t){function n(k,D){if(t){var j=k.deletions;j===null?(k.deletions=[D],k.flags|=16):j.push(D)}}function s(k,D){if(!t)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function o(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=Yi(k,D),k.index=0,k.sibling=null,k}function f(k,D,j){return k.index=j,t?(j=k.alternate,j!==null?(j=j.index,j<D?(k.flags|=67108866,D):j):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function g(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function E(k,D,j,Q){return D===null||D.tag!==6?(D=Qh(j,k.mode,Q),D.return=k,D):(D=h(D,j),D.return=k,D)}function C(k,D,j,Q){var me=j.type;return me===te?F(k,D,j.props.children,Q,j.key):D!==null&&(D.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===w&&zr(me)===D.type)?(D=h(D,j.props),Fo(D,j),D.return=k,D):(D=Cu(j.type,j.key,j.props,null,k.mode,Q),Fo(D,j),D.return=k,D)}function P(k,D,j,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==j.containerInfo||D.stateNode.implementation!==j.implementation?(D=Yh(j,k.mode,Q),D.return=k,D):(D=h(D,j.children||[]),D.return=k,D)}function F(k,D,j,Q,me){return D===null||D.tag!==7?(D=kr(j,k.mode,Q,me),D.return=k,D):(D=h(D,j),D.return=k,D)}function K(k,D,j){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Qh(""+D,k.mode,j),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case H:return j=Cu(D.type,D.key,D.props,null,k.mode,j),Fo(j,D),j.return=k,j;case ee:return D=Yh(D,k.mode,j),D.return=k,D;case w:return D=zr(D),K(k,D,j)}if(bt(D)||U(D))return D=kr(D,k.mode,j,null),D.return=k,D;if(typeof D.then=="function")return K(k,ku(D),j);if(D.$$typeof===ge)return K(k,Du(k,D),j);Uu(k,D)}return null}function z(k,D,j,Q){var me=D!==null?D.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return me!==null?null:E(k,D,""+j,Q);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case H:return j.key===me?C(k,D,j,Q):null;case ee:return j.key===me?P(k,D,j,Q):null;case w:return j=zr(j),z(k,D,j,Q)}if(bt(j)||U(j))return me!==null?null:F(k,D,j,Q,null);if(typeof j.then=="function")return z(k,D,ku(j),Q);if(j.$$typeof===ge)return z(k,D,Du(k,j),Q);Uu(k,j)}return null}function q(k,D,j,Q,me){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return k=k.get(j)||null,E(D,k,""+Q,me);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case H:return k=k.get(Q.key===null?j:Q.key)||null,C(D,k,Q,me);case ee:return k=k.get(Q.key===null?j:Q.key)||null,P(D,k,Q,me);case w:return Q=zr(Q),q(k,D,j,Q,me)}if(bt(Q)||U(Q))return k=k.get(j)||null,F(D,k,Q,me,null);if(typeof Q.then=="function")return q(k,D,j,ku(Q),me);if(Q.$$typeof===ge)return q(k,D,j,Du(D,Q),me);Uu(D,Q)}return null}function le(k,D,j,Q){for(var me=null,Fe=null,ue=D,Re=D=0,ke=null;ue!==null&&Re<j.length;Re++){ue.index>Re?(ke=ue,ue=null):ke=ue.sibling;var Qe=z(k,ue,j[Re],Q);if(Qe===null){ue===null&&(ue=ke);break}t&&ue&&Qe.alternate===null&&n(k,ue),D=f(Qe,D,Re),Fe===null?me=Qe:Fe.sibling=Qe,Fe=Qe,ue=ke}if(Re===j.length)return s(k,ue),ze&&Ki(k,Re),me;if(ue===null){for(;Re<j.length;Re++)ue=K(k,j[Re],Q),ue!==null&&(D=f(ue,D,Re),Fe===null?me=ue:Fe.sibling=ue,Fe=ue);return ze&&Ki(k,Re),me}for(ue=o(ue);Re<j.length;Re++)ke=q(ue,k,Re,j[Re],Q),ke!==null&&(t&&ke.alternate!==null&&ue.delete(ke.key===null?Re:ke.key),D=f(ke,D,Re),Fe===null?me=ke:Fe.sibling=ke,Fe=ke);return t&&ue.forEach(function($s){return n(k,$s)}),ze&&Ki(k,Re),me}function _e(k,D,j,Q){if(j==null)throw Error(a(151));for(var me=null,Fe=null,ue=D,Re=D=0,ke=null,Qe=j.next();ue!==null&&!Qe.done;Re++,Qe=j.next()){ue.index>Re?(ke=ue,ue=null):ke=ue.sibling;var $s=z(k,ue,Qe.value,Q);if($s===null){ue===null&&(ue=ke);break}t&&ue&&$s.alternate===null&&n(k,ue),D=f($s,D,Re),Fe===null?me=$s:Fe.sibling=$s,Fe=$s,ue=ke}if(Qe.done)return s(k,ue),ze&&Ki(k,Re),me;if(ue===null){for(;!Qe.done;Re++,Qe=j.next())Qe=K(k,Qe.value,Q),Qe!==null&&(D=f(Qe,D,Re),Fe===null?me=Qe:Fe.sibling=Qe,Fe=Qe);return ze&&Ki(k,Re),me}for(ue=o(ue);!Qe.done;Re++,Qe=j.next())Qe=q(ue,k,Re,Qe.value,Q),Qe!==null&&(t&&Qe.alternate!==null&&ue.delete(Qe.key===null?Re:Qe.key),D=f(Qe,D,Re),Fe===null?me=Qe:Fe.sibling=Qe,Fe=Qe);return t&&ue.forEach(function(Nb){return n(k,Nb)}),ze&&Ki(k,Re),me}function lt(k,D,j,Q){if(typeof j=="object"&&j!==null&&j.type===te&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case H:e:{for(var me=j.key;D!==null;){if(D.key===me){if(me=j.type,me===te){if(D.tag===7){s(k,D.sibling),Q=h(D,j.props.children),Q.return=k,k=Q;break e}}else if(D.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===w&&zr(me)===D.type){s(k,D.sibling),Q=h(D,j.props),Fo(Q,j),Q.return=k,k=Q;break e}s(k,D);break}else n(k,D);D=D.sibling}j.type===te?(Q=kr(j.props.children,k.mode,Q,j.key),Q.return=k,k=Q):(Q=Cu(j.type,j.key,j.props,null,k.mode,Q),Fo(Q,j),Q.return=k,k=Q)}return g(k);case ee:e:{for(me=j.key;D!==null;){if(D.key===me)if(D.tag===4&&D.stateNode.containerInfo===j.containerInfo&&D.stateNode.implementation===j.implementation){s(k,D.sibling),Q=h(D,j.children||[]),Q.return=k,k=Q;break e}else{s(k,D);break}else n(k,D);D=D.sibling}Q=Yh(j,k.mode,Q),Q.return=k,k=Q}return g(k);case w:return j=zr(j),lt(k,D,j,Q)}if(bt(j))return le(k,D,j,Q);if(U(j)){if(me=U(j),typeof me!="function")throw Error(a(150));return j=me.call(j),_e(k,D,j,Q)}if(typeof j.then=="function")return lt(k,D,ku(j),Q);if(j.$$typeof===ge)return lt(k,D,Du(k,j),Q);Uu(k,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,D!==null&&D.tag===6?(s(k,D.sibling),Q=h(D,j),Q.return=k,k=Q):(s(k,D),Q=Qh(j,k.mode,Q),Q.return=k,k=Q),g(k)):s(k,D)}return function(k,D,j,Q){try{Go=0;var me=lt(k,D,j,Q);return Ca=null,me}catch(ue){if(ue===Ra||ue===Mu)throw ue;var Fe=Sn(29,ue,null,k.mode);return Fe.lanes=Q,Fe.return=k,Fe}}}var qr=Zg(!0),Jg=Zg(!1),Ms=!1;function af(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function of(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Vs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ks(t,n,s){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Ze&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Ru(t),kg(t,null,s),n}return xu(t,o,n,s),Ru(t)}function Qo(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,vo(t,s)}}function lf(t,n){var s=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var uf=!1;function Yo(){if(uf){var t=xa;if(t!==null)throw t}}function Ko(t,n,s,o){uf=!1;var h=t.updateQueue;Ms=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,P=C.next;C.next=null,g===null?f=P:g.next=P,g=C;var F=t.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==g&&(E===null?F.firstBaseUpdate=P:E.next=P,F.lastBaseUpdate=C))}if(f!==null){var K=h.baseState;g=0,F=P=C=null,E=f;do{var z=E.lane&-536870913,q=z!==E.lane;if(q?(Ve&z)===z:(o&z)===z){z!==0&&z===wa&&(uf=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var le=t,_e=E;z=n;var lt=s;switch(_e.tag){case 1:if(le=_e.payload,typeof le=="function"){K=le.call(lt,K,z);break e}K=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=_e.payload,z=typeof le=="function"?le.call(lt,K,z):le,z==null)break e;K=S({},K,z);break e;case 2:Ms=!0}}z=E.callback,z!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(P=F=q,C=K):F=F.next=q,g|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);F===null&&(C=K),h.baseState=C,h.firstBaseUpdate=P,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),zs|=g,t.lanes=g,t.memoizedState=K}}function Wg(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function ep(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Wg(s[t],n)}var Ia=M(null),Lu=M(0);function tp(t,n){t=rs,re(Lu,t),re(Ia,n),rs=t|n.baseLanes}function cf(){re(Lu,rs),re(Ia,Ia.current)}function hf(){rs=Lu.current,Y(Ia),Y(Lu)}var wn=M(null),qn=null;function Us(t){var n=t.alternate;re(wt,wt.current&1),re(wn,t),qn===null&&(n===null||Ia.current!==null||n.memoizedState!==null)&&(qn=t)}function ff(t){re(wt,wt.current),re(wn,t),qn===null&&(qn=t)}function np(t){t.tag===22?(re(wt,wt.current),re(wn,t),qn===null&&(qn=t)):Ls()}function Ls(){re(wt,wt.current),re(wn,wn.current)}function xn(t){Y(wn),qn===t&&(qn=null),Y(wt)}var wt=M(0);function ju(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||_d(s)||vd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Zi=0,xe=null,at=null,Mt=null,Pu=!1,Na=!1,Hr=!1,zu=0,Xo=0,Da=null,E1=0;function Et(){throw Error(a(321))}function df(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!An(t[s],n[s]))return!1;return!0}function mf(t,n,s,o,h,f){return Zi=f,xe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?Pp:If,Hr=!1,f=s(o,h),Hr=!1,Na&&(f=sp(n,s,o,h)),ip(t),f}function ip(t){G.H=Jo;var n=at!==null&&at.next!==null;if(Zi=0,Mt=at=xe=null,Pu=!1,Xo=0,Da=null,n)throw Error(a(300));t===null||Vt||(t=t.dependencies,t!==null&&Nu(t)&&(Vt=!0))}function sp(t,n,s,o){xe=t;var h=0;do{if(Na&&(Da=null),Xo=0,Na=!1,25<=h)throw Error(a(301));if(h+=1,Mt=at=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=zp,f=n(s,o)}while(Na);return f}function T1(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?$o(n):n,t=t.useState()[0],(at!==null?at.memoizedState:null)!==t&&(xe.flags|=1024),n}function gf(){var t=zu!==0;return zu=0,t}function pf(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function yf(t){if(Pu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Pu=!1}Zi=0,Mt=at=xe=null,Na=!1,Xo=zu=0,Da=null}function cn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?xe.memoizedState=Mt=t:Mt=Mt.next=t,Mt}function xt(){if(at===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=at.next;var n=Mt===null?xe.memoizedState:Mt.next;if(n!==null)Mt=n,at=t;else{if(t===null)throw xe.alternate===null?Error(a(467)):Error(a(310));at=t,t={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},Mt===null?xe.memoizedState=Mt=t:Mt=Mt.next=t}return Mt}function Bu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $o(t){var n=Xo;return Xo+=1,Da===null&&(Da=[]),t=Kg(Da,t,n),n=xe,(Mt===null?n.memoizedState:Mt.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Pp:If),t}function qu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return $o(t);if(t.$$typeof===ge)return $t(t)}throw Error(a(438,String(t)))}function _f(t){var n=null,s=xe.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=xe.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Bu(),xe.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),o=0;o<t;o++)s[o]=V;return n.index++,s}function Ji(t,n){return typeof n=="function"?n(t):n}function Hu(t){var n=xt();return vf(n,at,t)}function vf(t,n,s){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=g=null,C=null,P=n,F=!1;do{var K=P.lane&-536870913;if(K!==P.lane?(Ve&K)===K:(Zi&K)===K){var z=P.revertLane;if(z===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),K===wa&&(F=!0);else if((Zi&z)===z){P=P.next,z===wa&&(F=!0);continue}else K={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(E=C=K,g=f):C=C.next=K,xe.lanes|=z,zs|=z;K=P.action,Hr&&s(f,K),f=P.hasEagerState?P.eagerState:s(f,K)}else z={lane:K,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(E=C=z,g=f):C=C.next=z,xe.lanes|=K,zs|=K;P=P.next}while(P!==null&&P!==n);if(C===null?g=f:C.next=E,!An(f,t.memoizedState)&&(Vt=!0,F&&(s=xa,s!==null)))throw s;t.memoizedState=f,t.baseState=g,t.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Ef(t){var n=xt(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=t(f,g.action),g=g.next;while(g!==h);An(f,n.memoizedState)||(Vt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function rp(t,n,s){var o=xe,h=xt(),f=ze;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!An((at||h).memoizedState,s);if(g&&(h.memoizedState=s,Vt=!0),h=h.queue,Af(lp.bind(null,o,h,t),[t]),h.getSnapshot!==n||g||Mt!==null&&Mt.memoizedState.tag&1){if(o.flags|=2048,Oa(9,{destroy:void 0},op.bind(null,o,h,s,n),null),ht===null)throw Error(a(349));f||(Zi&127)!==0||ap(o,n,s)}return s}function ap(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=xe.updateQueue,n===null?(n=Bu(),xe.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function op(t,n,s,o){n.value=s,n.getSnapshot=o,up(n)&&cp(t)}function lp(t,n,s){return s(function(){up(n)&&cp(t)})}function up(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!An(t,s)}catch{return!0}}function cp(t){var n=Vr(t,2);n!==null&&_n(n,t,2)}function Tf(t){var n=cn();if(typeof t=="function"){var s=t;if(t=s(),Hr){On(!0);try{s()}finally{On(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:t},n}function hp(t,n,s,o){return t.baseState=s,vf(t,at,typeof o=="function"?o:Ji)}function b1(t,n,s,o,h){if(Qu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,fp(n,f)):(f.next=s.next,n.pending=s.next=f)}}function fp(t,n){var s=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var E=s(h,o),C=G.S;C!==null&&C(g,E),dp(t,n,E)}catch(P){bf(t,n,P)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=s(h,o),dp(t,n,f)}catch(P){bf(t,n,P)}}function dp(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){mp(t,n,o)},function(o){return bf(t,n,o)}):mp(t,n,s)}function mp(t,n,s){n.status="fulfilled",n.value=s,gp(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,fp(t,s)))}function bf(t,n,s){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,gp(n),n=n.next;while(n!==o)}t.action=null}function gp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function pp(t,n){return n}function yp(t,n){if(ze){var s=ht.formState;if(s!==null){e:{var o=xe;if(ze){if(ft){t:{for(var h=ft,f=Bn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Hn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ft=Hn(h.nextSibling),o=h.data==="F!";break e}}Ds(o)}o=!1}o&&(n=s[0])}}return s=cn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pp,lastRenderedState:n},s.queue=o,s=Up.bind(null,xe,o),o.dispatch=s,o=Tf(!1),f=Cf.bind(null,xe,!1,o.queue),o=cn(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,s=b1.bind(null,xe,h,f,s),h.dispatch=s,o.memoizedState=t,[n,s,!1]}function _p(t){var n=xt();return vp(n,at,t)}function vp(t,n,s){if(n=vf(t,n,pp)[0],t=Hu(Ji)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=$o(n)}catch(g){throw g===Ra?Mu:g}else o=n;n=xt();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(xe.flags|=2048,Oa(9,{destroy:void 0},A1.bind(null,h,s),null)),[o,f,t]}function A1(t,n){t.action=n}function Ep(t){var n=xt(),s=at;if(s!==null)return vp(n,s,t);xt(),n=n.memoizedState,s=xt();var o=s.queue.dispatch;return s.memoizedState=t,[n,o,!1]}function Oa(t,n,s,o){return t={tag:t,create:s,deps:o,inst:n,next:null},n=xe.updateQueue,n===null&&(n=Bu(),xe.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(o=s.next,s.next=t,t.next=o,n.lastEffect=t),t}function Tp(){return xt().memoizedState}function Gu(t,n,s,o){var h=cn();xe.flags|=t,h.memoizedState=Oa(1|n,{destroy:void 0},s,o===void 0?null:o)}function Fu(t,n,s,o){var h=xt();o=o===void 0?null:o;var f=h.memoizedState.inst;at!==null&&o!==null&&df(o,at.memoizedState.deps)?h.memoizedState=Oa(n,f,s,o):(xe.flags|=t,h.memoizedState=Oa(1|n,f,s,o))}function bp(t,n){Gu(8390656,8,t,n)}function Af(t,n){Fu(2048,8,t,n)}function S1(t){xe.flags|=4;var n=xe.updateQueue;if(n===null)n=Bu(),xe.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function Ap(t){var n=xt().memoizedState;return S1({ref:n,nextImpl:t}),function(){if((Ze&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Sp(t,n){return Fu(4,2,t,n)}function wp(t,n){return Fu(4,4,t,n)}function xp(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Rp(t,n,s){s=s!=null?s.concat([t]):null,Fu(4,4,xp.bind(null,n,t),s)}function Sf(){}function Cp(t,n){var s=xt();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&df(n,o[1])?o[0]:(s.memoizedState=[t,n],t)}function Ip(t,n){var s=xt();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&df(n,o[1]))return o[0];if(o=t(),Hr){On(!0);try{t()}finally{On(!1)}}return s.memoizedState=[o,n],o}function wf(t,n,s){return s===void 0||(Zi&1073741824)!==0&&(Ve&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=Ny(),xe.lanes|=t,zs|=t,s)}function Np(t,n,s,o){return An(s,n)?s:Ia.current!==null?(t=wf(t,s,o),An(t,n)||(Vt=!0),t):(Zi&42)===0||(Zi&1073741824)!==0&&(Ve&261930)===0?(Vt=!0,t.memoizedState=s):(t=Ny(),xe.lanes|=t,zs|=t,n)}function Dp(t,n,s,o,h){var f=se.p;se.p=f!==0&&8>f?f:8;var g=G.T,E={};G.T=E,Cf(t,!1,n,s);try{var C=h(),P=G.S;if(P!==null&&P(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var F=v1(C,o);Zo(t,n,F,In(t))}else Zo(t,n,o,In(t))}catch(K){Zo(t,n,{then:function(){},status:"rejected",reason:K},In())}finally{se.p=f,g!==null&&E.types!==null&&(g.types=E.types),G.T=g}}function w1(){}function xf(t,n,s,o){if(t.tag!==5)throw Error(a(476));var h=Op(t).queue;Dp(t,h,n,de,s===null?w1:function(){return Mp(t),s(o)})}function Op(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:de},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Mp(t){var n=Op(t);n.next===null&&(n=t.alternate.memoizedState),Zo(t,n.next.queue,{},In())}function Rf(){return $t(ml)}function Vp(){return xt().memoizedState}function kp(){return xt().memoizedState}function x1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=In();t=Vs(s);var o=ks(n,t,s);o!==null&&(_n(o,n,s),Qo(o,n,s)),n={cache:tf()},t.payload=n;return}n=n.return}}function R1(t,n,s){var o=In();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Qu(t)?Lp(n,s):(s=Gh(t,n,s,o),s!==null&&(_n(s,t,o),jp(s,n,o)))}function Up(t,n,s){var o=In();Zo(t,n,s,o)}function Zo(t,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Qu(t))Lp(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(h.hasEagerState=!0,h.eagerState=E,An(E,g))return xu(t,n,h,0),ht===null&&wu(),!1}catch{}if(s=Gh(t,n,h,o),s!==null)return _n(s,t,o),jp(s,n,o),!0}return!1}function Cf(t,n,s,o){if(o={lane:2,revertLane:ad(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Qu(t)){if(n)throw Error(a(479))}else n=Gh(t,s,o,2),n!==null&&_n(n,t,2)}function Qu(t){var n=t.alternate;return t===xe||n!==null&&n===xe}function Lp(t,n){Na=Pu=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function jp(t,n,s){if((s&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,vo(t,s)}}var Jo={readContext:$t,use:qu,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useLayoutEffect:Et,useInsertionEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useSyncExternalStore:Et,useId:Et,useHostTransitionStatus:Et,useFormState:Et,useActionState:Et,useOptimistic:Et,useMemoCache:Et,useCacheRefresh:Et};Jo.useEffectEvent=Et;var Pp={readContext:$t,use:qu,useCallback:function(t,n){return cn().memoizedState=[t,n===void 0?null:n],t},useContext:$t,useEffect:bp,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,Gu(4194308,4,xp.bind(null,n,t),s)},useLayoutEffect:function(t,n){return Gu(4194308,4,t,n)},useInsertionEffect:function(t,n){Gu(4,2,t,n)},useMemo:function(t,n){var s=cn();n=n===void 0?null:n;var o=t();if(Hr){On(!0);try{t()}finally{On(!1)}}return s.memoizedState=[o,n],o},useReducer:function(t,n,s){var o=cn();if(s!==void 0){var h=s(n);if(Hr){On(!0);try{s(n)}finally{On(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=R1.bind(null,xe,t),[o.memoizedState,t]},useRef:function(t){var n=cn();return t={current:t},n.memoizedState=t},useState:function(t){t=Tf(t);var n=t.queue,s=Up.bind(null,xe,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:Sf,useDeferredValue:function(t,n){var s=cn();return wf(s,t,n)},useTransition:function(){var t=Tf(!1);return t=Dp.bind(null,xe,t.queue,!0,!1),cn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var o=xe,h=cn();if(ze){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),ht===null)throw Error(a(349));(Ve&127)!==0||ap(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,bp(lp.bind(null,o,f,t),[t]),o.flags|=2048,Oa(9,{destroy:void 0},op.bind(null,o,f,s,n),null),s},useId:function(){var t=cn(),n=ht.identifierPrefix;if(ze){var s=Ii,o=Ci;s=(o&~(1<<32-At(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=zu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=E1++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Rf,useFormState:yp,useActionState:yp,useOptimistic:function(t){var n=cn();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Cf.bind(null,xe,!0,s),s.dispatch=n,[t,n]},useMemoCache:_f,useCacheRefresh:function(){return cn().memoizedState=x1.bind(null,xe)},useEffectEvent:function(t){var n=cn(),s={impl:t};return n.memoizedState=s,function(){if((Ze&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},If={readContext:$t,use:qu,useCallback:Cp,useContext:$t,useEffect:Af,useImperativeHandle:Rp,useInsertionEffect:Sp,useLayoutEffect:wp,useMemo:Ip,useReducer:Hu,useRef:Tp,useState:function(){return Hu(Ji)},useDebugValue:Sf,useDeferredValue:function(t,n){var s=xt();return Np(s,at.memoizedState,t,n)},useTransition:function(){var t=Hu(Ji)[0],n=xt().memoizedState;return[typeof t=="boolean"?t:$o(t),n]},useSyncExternalStore:rp,useId:Vp,useHostTransitionStatus:Rf,useFormState:_p,useActionState:_p,useOptimistic:function(t,n){var s=xt();return hp(s,at,t,n)},useMemoCache:_f,useCacheRefresh:kp};If.useEffectEvent=Ap;var zp={readContext:$t,use:qu,useCallback:Cp,useContext:$t,useEffect:Af,useImperativeHandle:Rp,useInsertionEffect:Sp,useLayoutEffect:wp,useMemo:Ip,useReducer:Ef,useRef:Tp,useState:function(){return Ef(Ji)},useDebugValue:Sf,useDeferredValue:function(t,n){var s=xt();return at===null?wf(s,t,n):Np(s,at.memoizedState,t,n)},useTransition:function(){var t=Ef(Ji)[0],n=xt().memoizedState;return[typeof t=="boolean"?t:$o(t),n]},useSyncExternalStore:rp,useId:Vp,useHostTransitionStatus:Rf,useFormState:Ep,useActionState:Ep,useOptimistic:function(t,n){var s=xt();return at!==null?hp(s,at,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:_f,useCacheRefresh:kp};zp.useEffectEvent=Ap;function Nf(t,n,s,o){n=t.memoizedState,s=s(o,n),s=s==null?n:S({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Df={enqueueSetState:function(t,n,s){t=t._reactInternals;var o=In(),h=Vs(o);h.payload=n,s!=null&&(h.callback=s),n=ks(t,h,o),n!==null&&(_n(n,t,o),Qo(n,t,o))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var o=In(),h=Vs(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=ks(t,h,o),n!==null&&(_n(n,t,o),Qo(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=In(),o=Vs(s);o.tag=2,n!=null&&(o.callback=n),n=ks(t,o,s),n!==null&&(_n(n,t,s),Qo(n,t,s))}};function Bp(t,n,s,o,h,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!jo(s,o)||!jo(h,f):!0}function qp(t,n,s,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==t&&Df.enqueueReplaceState(n,n.state,null)}function Gr(t,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(t=t.defaultProps){s===n&&(s=S({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}function Hp(t){Su(t)}function Gp(t){console.error(t)}function Fp(t){Su(t)}function Yu(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Qp(t,n,s){try{var o=t.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Of(t,n,s){return s=Vs(s),s.tag=3,s.payload={element:null},s.callback=function(){Yu(t,n)},s}function Yp(t){return t=Vs(t),t.tag=3,t}function Kp(t,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){Qp(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Qp(n,s,o),typeof h!="function"&&(Bs===null?Bs=new Set([this]):Bs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function C1(t,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&Sa(n,s,h,!0),s=wn.current,s!==null){switch(s.tag){case 31:case 13:return qn===null?rc():s.alternate===null&&Tt===0&&(Tt=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Vu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),id(t,o,h)),!1;case 22:return s.flags|=65536,o===Vu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),id(t,o,h)),!1}throw Error(a(435,s.tag))}return id(t,o,h),rc(),!1}if(ze)return n=wn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==$h&&(t=Error(a(422),{cause:o}),Bo(jn(t,s)))):(o!==$h&&(n=Error(a(423),{cause:o}),Bo(jn(n,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=jn(o,s),h=Of(t.stateNode,o,h),lf(t,h),Tt!==4&&(Tt=2)),!1;var f=Error(a(520),{cause:o});if(f=jn(f,s),al===null?al=[f]:al.push(f),Tt!==4&&(Tt=2),n===null)return!0;o=jn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=Of(s.stateNode,o,t),lf(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Bs===null||!Bs.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Yp(h),Kp(h,t,s,o),lf(s,h),!1}s=s.return}while(s!==null);return!1}var Mf=Error(a(461)),Vt=!1;function Zt(t,n,s,o){n.child=t===null?Jg(n,null,s,o):qr(n,t.child,s,o)}function Xp(t,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return jr(n),o=mf(t,n,s,g,f,h),E=gf(),t!==null&&!Vt?(pf(t,n,h),Wi(t,n,h)):(ze&&E&&Kh(n),n.flags|=1,Zt(t,n,o,h),n.child)}function $p(t,n,s,o,h){if(t===null){var f=s.type;return typeof f=="function"&&!Fh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Zp(t,n,f,o,h)):(t=Cu(s.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Bf(t,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:jo,s(g,o)&&t.ref===n.ref)return Wi(t,n,h)}return n.flags|=1,t=Yi(f,o),t.ref=n.ref,t.return=n,n.child=t}function Zp(t,n,s,o,h){if(t!==null){var f=t.memoizedProps;if(jo(f,o)&&t.ref===n.ref)if(Vt=!1,n.pendingProps=o=f,Bf(t,h))(t.flags&131072)!==0&&(Vt=!0);else return n.lanes=t.lanes,Wi(t,n,h)}return Vf(t,n,s,o,h)}function Jp(t,n,s,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Wp(t,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ou(n,f!==null?f.cachePool:null),f!==null?tp(n,f):cf(),np(n);else return o=n.lanes=536870912,Wp(t,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Ou(n,f.cachePool),tp(n,f),Ls(),n.memoizedState=null):(t!==null&&Ou(n,null),cf(),Ls());return Zt(t,n,h,s),n.child}function Wo(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Wp(t,n,s,o,h){var f=sf();return f=f===null?null:{parent:Ot._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},t!==null&&Ou(n,null),cf(),np(n),t!==null&&Sa(t,n,o,!0),n.childLanes=h,null}function Ku(t,n){return n=$u({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function ey(t,n,s){return qr(n,t.child,null,s),t=Ku(n,n.pendingProps),t.flags|=2,xn(n),n.memoizedState=null,t}function I1(t,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(ze){if(o.mode==="hidden")return t=Ku(n,o),n.lanes=536870912,Wo(null,t);if(ff(n),(t=ft)?(t=f_(t,Bn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Is!==null?{id:Ci,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},s=Lg(t),s.return=n,n.child=s,Xt=n,ft=null)):t=null,t===null)throw Ds(n);return n.lanes=536870912,null}return Ku(n,o)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(ff(n),h)if(n.flags&256)n.flags&=-257,n=ey(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Vt||Sa(t,n,s,!1),h=(s&t.childLanes)!==0,Vt||h){if(o=ht,o!==null&&(g=Eo(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,Vr(t,g),_n(o,t,g),Mf;rc(),n=ey(t,n,s)}else t=f.treeContext,ft=Hn(g.nextSibling),Xt=n,ze=!0,Ns=null,Bn=!1,t!==null&&zg(n,t),n=Ku(n,o),n.flags|=4096;return n}return t=Yi(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Xu(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Vf(t,n,s,o,h){return jr(n),s=mf(t,n,s,o,void 0,h),o=gf(),t!==null&&!Vt?(pf(t,n,h),Wi(t,n,h)):(ze&&o&&Kh(n),n.flags|=1,Zt(t,n,s,h),n.child)}function ty(t,n,s,o,h,f){return jr(n),n.updateQueue=null,s=sp(n,o,s,h),ip(t),o=gf(),t!==null&&!Vt?(pf(t,n,f),Wi(t,n,f)):(ze&&o&&Kh(n),n.flags|=1,Zt(t,n,s,f),n.child)}function ny(t,n,s,o,h){if(jr(n),n.stateNode===null){var f=Ea,g=s.contextType;typeof g=="object"&&g!==null&&(f=$t(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Df,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},af(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?$t(g):Ea,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Nf(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Df.enqueueReplaceState(f,f.state,null),Ko(n,o,f,h),Yo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,C=Gr(s,E);f.props=C;var P=f.context,F=s.contextType;g=Ea,typeof F=="object"&&F!==null&&(g=$t(F));var K=s.getDerivedStateFromProps;F=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==g)&&qp(n,f,o,g),Ms=!1;var z=n.memoizedState;f.state=z,Ko(n,o,f,h),Yo(),P=n.memoizedState,E||z!==P||Ms?(typeof K=="function"&&(Nf(n,s,K,o),P=n.memoizedState),(C=Ms||Bp(n,s,C,o,z,P,g))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=g,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,of(t,n),g=n.memoizedProps,F=Gr(s,g),f.props=F,K=n.pendingProps,z=f.context,P=s.contextType,C=Ea,typeof P=="object"&&P!==null&&(C=$t(P)),E=s.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==K||z!==C)&&qp(n,f,o,C),Ms=!1,z=n.memoizedState,f.state=z,Ko(n,o,f,h),Yo();var q=n.memoizedState;g!==K||z!==q||Ms||t!==null&&t.dependencies!==null&&Nu(t.dependencies)?(typeof E=="function"&&(Nf(n,s,E,o),q=n.memoizedState),(F=Ms||Bp(n,s,F,o,z,q,C)||t!==null&&t.dependencies!==null&&Nu(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=C,o=F):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,Xu(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=qr(n,t.child,null,h),n.child=qr(n,null,s,h)):Zt(t,n,s,h),n.memoizedState=f.state,t=n.child):t=Wi(t,n,h),t}function iy(t,n,s,o){return Ur(),n.flags|=256,Zt(t,n,s,o),n.child}var kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uf(t){return{baseLanes:t,cachePool:Qg()}}function Lf(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=Cn),t}function sy(t,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(wt.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(ze){if(h?Us(n):Ls(),(t=ft)?(t=f_(t,Bn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Is!==null?{id:Ci,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},s=Lg(t),s.return=n,n.child=s,Xt=n,ft=null)):t=null,t===null)throw Ds(n);return vd(t)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Ls(),h=n.mode,E=$u({mode:"hidden",children:E},h),o=kr(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Uf(s),o.childLanes=Lf(t,g,s),n.memoizedState=kf,Wo(null,o)):(Us(n),jf(n,E))}var C=t.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(Us(n),n.flags&=-257,n=Pf(t,n,s)):n.memoizedState!==null?(Ls(),n.child=t.child,n.flags|=128,n=null):(Ls(),E=o.fallback,h=n.mode,o=$u({mode:"visible",children:o.children},h),E=kr(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,qr(n,t.child,null,s),o=n.child,o.memoizedState=Uf(s),o.childLanes=Lf(t,g,s),n.memoizedState=kf,n=Wo(null,o));else if(Us(n),vd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var P=g.dgst;g=P,o=Error(a(419)),o.stack="",o.digest=g,Bo({value:o,source:null,stack:null}),n=Pf(t,n,s)}else if(Vt||Sa(t,n,s,!1),g=(s&t.childLanes)!==0,Vt||g){if(g=ht,g!==null&&(o=Eo(g,s),o!==0&&o!==C.retryLane))throw C.retryLane=o,Vr(t,o),_n(g,t,o),Mf;_d(E)||rc(),n=Pf(t,n,s)}else _d(E)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,ft=Hn(E.nextSibling),Xt=n,ze=!0,Ns=null,Bn=!1,t!==null&&zg(n,t),n=jf(n,o.children),n.flags|=4096);return n}return h?(Ls(),E=o.fallback,h=n.mode,C=t.child,P=C.sibling,o=Yi(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,P!==null?E=Yi(P,E):(E=kr(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Wo(null,o),o=n.child,E=t.child.memoizedState,E===null?E=Uf(s):(h=E.cachePool,h!==null?(C=Ot._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Qg(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=Lf(t,g,s),n.memoizedState=kf,Wo(t.child,o)):(Us(n),s=t.child,t=s.sibling,s=Yi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=s,n.memoizedState=null,s)}function jf(t,n){return n=$u({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function $u(t,n){return t=Sn(22,t,null,n),t.lanes=0,t}function Pf(t,n,s){return qr(n,t.child,null,s),t=jf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function ry(t,n,s){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),Wh(t.return,n,s)}function zf(t,n,s,o,h,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function ay(t,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=wt.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,re(wt,g),Zt(t,n,o,s),o=ze?zo:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ry(t,s,n);else if(t.tag===19)ry(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)t=s.alternate,t!==null&&ju(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),zf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&ju(t)===null){n.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}zf(n,!0,s,null,f,o);break;case"together":zf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Wi(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),zs|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(Sa(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=Yi(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=Yi(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Bf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Nu(t)))}function N1(t,n,s){switch(n.tag){case 3:fe(n,n.stateNode.containerInfo),Os(n,Ot,t.memoizedState.cache),Ur();break;case 27:case 5:Me(n);break;case 4:fe(n,n.stateNode.containerInfo);break;case 10:Os(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,ff(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Us(n),n.flags|=128,null):(s&n.child.childLanes)!==0?sy(t,n,s):(Us(n),t=Wi(t,n,s),t!==null?t.sibling:null);Us(n);break;case 19:var h=(t.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(Sa(t,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return ay(t,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),re(wt,wt.current),o)break;return null;case 22:return n.lanes=0,Jp(t,n,s,n.pendingProps);case 24:Os(n,Ot,t.memoizedState.cache)}return Wi(t,n,s)}function oy(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)Vt=!0;else{if(!Bf(t,s)&&(n.flags&128)===0)return Vt=!1,N1(t,n,s);Vt=(t.flags&131072)!==0}else Vt=!1,ze&&(n.flags&1048576)!==0&&Pg(n,zo,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=zr(n.elementType),n.type=t,typeof t=="function")Fh(t)?(o=Gr(t,o),n.tag=1,n=ny(null,n,t,o,s)):(n.tag=0,n=Vf(null,n,t,o,s));else{if(t!=null){var h=t.$$typeof;if(h===Je){n.tag=11,n=Xp(null,n,t,o,s);break e}else if(h===I){n.tag=14,n=$p(null,n,t,o,s);break e}}throw n=ut(t)||t,Error(a(306,n,""))}}return n;case 0:return Vf(t,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Gr(o,n.pendingProps),ny(t,n,o,h,s);case 3:e:{if(fe(n,n.stateNode.containerInfo),t===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,of(t,n),Ko(n,o,null,s);var g=n.memoizedState;if(o=g.cache,Os(n,Ot,o),o!==f.cache&&ef(n,[Ot],s,!0),Yo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=iy(t,n,o,s);break e}else if(o!==h){h=jn(Error(a(424)),n),Bo(h),n=iy(t,n,o,s);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ft=Hn(t.firstChild),Xt=n,ze=!0,Ns=null,Bn=!0,s=Jg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ur(),o===h){n=Wi(t,n,s);break e}Zt(t,n,o,s)}n=n.child}return n;case 26:return Xu(t,n),t===null?(s=__(n.type,null,n.pendingProps,null))?n.memoizedState=s:ze||(s=n.type,t=n.pendingProps,o=fc(J.current).createElement(s),o[It]=n,o[Ht]=t,Jt(o,s,t),Nt(o),n.stateNode=o):n.memoizedState=__(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Me(n),t===null&&ze&&(o=n.stateNode=g_(n.type,n.pendingProps,J.current),Xt=n,Bn=!0,h=ft,Fs(n.type)?(Ed=h,ft=Hn(o.firstChild)):ft=h),Zt(t,n,n.pendingProps.children,s),Xu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&ze&&((h=o=ft)&&(o=ab(o,n.type,n.pendingProps,Bn),o!==null?(n.stateNode=o,Xt=n,ft=Hn(o.firstChild),Bn=!1,h=!0):h=!1),h||Ds(n)),Me(n),h=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,o=f.children,gd(h,f)?o=null:g!==null&&gd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=mf(t,n,T1,null,null,s),ml._currentValue=h),Xu(t,n),Zt(t,n,o,s),n.child;case 6:return t===null&&ze&&((t=s=ft)&&(s=ob(s,n.pendingProps,Bn),s!==null?(n.stateNode=s,Xt=n,ft=null,t=!0):t=!1),t||Ds(n)),null;case 13:return sy(t,n,s);case 4:return fe(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=qr(n,null,o,s):Zt(t,n,o,s),n.child;case 11:return Xp(t,n,n.type,n.pendingProps,s);case 7:return Zt(t,n,n.pendingProps,s),n.child;case 8:return Zt(t,n,n.pendingProps.children,s),n.child;case 12:return Zt(t,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Os(n,n.type,o.value),Zt(t,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,jr(n),h=$t(h),o=o(h),n.flags|=1,Zt(t,n,o,s),n.child;case 14:return $p(t,n,n.type,n.pendingProps,s);case 15:return Zp(t,n,n.type,n.pendingProps,s);case 19:return ay(t,n,s);case 31:return I1(t,n,s);case 22:return Jp(t,n,s,n.pendingProps);case 24:return jr(n),o=$t(Ot),t===null?(h=sf(),h===null&&(h=ht,f=tf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},af(n),Os(n,Ot,h)):((t.lanes&s)!==0&&(of(t,n),Ko(n,null,null,s),Yo()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Os(n,Ot,o)):(o=f.cache,Os(n,Ot,o),o!==h.cache&&ef(n,[Ot],s,!0))),Zt(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function es(t){t.flags|=4}function qf(t,n,s,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Vy())t.flags|=8192;else throw Br=Vu,rf}else t.flags&=-16777217}function ly(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!A_(n))if(Vy())t.flags|=8192;else throw Br=Vu,rf}function Zu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?iu():536870912,t.lanes|=n,Ua|=n)}function el(t,n){if(!ze)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function dt(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,o=0;if(n)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=s,n}function D1(t,n,s){var o=n.pendingProps;switch(Xh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(n),null;case 1:return dt(n),null;case 3:return s=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),$i(Ot),Ie(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Aa(n)?es(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Zh())),dt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(es(n),f!==null?(dt(n),ly(n,f)):(dt(n),qf(n,h,null,o,s))):f?f!==t.memoizedState?(es(n),dt(n),ly(n,f)):(dt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&es(n),dt(n),qf(n,h,t,o,s)),null;case 27:if(Ge(n),s=J.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&es(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return dt(n),null}t=ae.current,Aa(n)?Bg(n):(t=g_(h,o,s),n.stateNode=t,es(n))}return dt(n),null;case 5:if(Ge(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&es(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return dt(n),null}if(f=ae.current,Aa(n))Bg(n);else{var g=fc(J.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[It]=n,f[Ht]=o;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(Jt(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&es(n)}}return dt(n),qf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&es(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(t=J.current,Aa(n)){if(t=n.stateNode,s=n.memoizedProps,o=null,h=Xt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[It]=n,t=!!(t.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||s_(t.nodeValue,s)),t||Ds(n,!0)}else t=fc(t).createTextNode(o),t[It]=n,n.stateNode=t}return dt(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(o=Aa(n),s!==null){if(t===null){if(!o)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[It]=n}else Ur(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;dt(n),t=!1}else s=Zh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(xn(n),n):(xn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return dt(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Aa(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[It]=n}else Ur(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;dt(n),h=!1}else h=Zh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(xn(n),n):(xn(n),null)}return xn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,t=t!==null&&t.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),Zu(n,n.updateQueue),dt(n),null);case 4:return Ie(),t===null&&cd(n.stateNode.containerInfo),dt(n),null;case 10:return $i(n.type),dt(n),null;case 19:if(Y(wt),o=n.memoizedState,o===null)return dt(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)el(o,!1);else{if(Tt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=ju(t),f!==null){for(n.flags|=128,el(o,!1),t=f.updateQueue,n.updateQueue=t,Zu(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)Ug(s,t),s=s.sibling;return re(wt,wt.current&1|2),ze&&Ki(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&qt()>nc&&(n.flags|=128,h=!0,el(o,!1),n.lanes=4194304)}else{if(!h)if(t=ju(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Zu(n,t),el(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!ze)return dt(n),null}else 2*qt()-o.renderingStartTime>nc&&s!==536870912&&(n.flags|=128,h=!0,el(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=qt(),t.sibling=null,s=wt.current,re(wt,h?s&1|2:s&1),ze&&Ki(n,o.treeForkCount),t):(dt(n),null);case 22:case 23:return xn(n),hf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(dt(n),n.subtreeFlags&6&&(n.flags|=8192)):dt(n),s=n.updateQueue,s!==null&&Zu(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),t!==null&&Y(Pr),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),$i(Ot),dt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function O1(t,n){switch(Xh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return $i(Ot),Ie(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ge(n),null;case 31:if(n.memoizedState!==null){if(xn(n),n.alternate===null)throw Error(a(340));Ur()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(xn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Ur()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Y(wt),null;case 4:return Ie(),null;case 10:return $i(n.type),null;case 22:case 23:return xn(n),hf(),t!==null&&Y(Pr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return $i(Ot),null;case 25:return null;default:return null}}function uy(t,n){switch(Xh(n),n.tag){case 3:$i(Ot),Ie();break;case 26:case 27:case 5:Ge(n);break;case 4:Ie();break;case 31:n.memoizedState!==null&&xn(n);break;case 13:xn(n);break;case 19:Y(wt);break;case 10:$i(n.type);break;case 22:case 23:xn(n),hf(),t!==null&&Y(Pr);break;case 24:$i(Ot)}}function tl(t,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&t)===t){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==h)}}catch(E){nt(n,n.return,E)}}function js(t,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var C=s,P=E;try{P()}catch(F){nt(h,C,F)}}}o=o.next}while(o!==f)}}catch(F){nt(n,n.return,F)}}function cy(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{ep(n,s)}catch(o){nt(t,t.return,o)}}}function hy(t,n,s){s.props=Gr(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(o){nt(t,n,o)}}function nl(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof s=="function"?t.refCleanup=s(o):s.current=o}}catch(h){nt(t,n,h)}}function Ni(t,n){var s=t.ref,o=t.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){nt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){nt(t,n,h)}else s.current=null}function fy(t){var n=t.type,s=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break e;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){nt(t,t.return,h)}}function Hf(t,n,s){try{var o=t.stateNode;eb(o,t.type,s,n),o[Ht]=n}catch(h){nt(t,t.return,h)}}function dy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Fs(t.type)||t.tag===4}function Gf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||dy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Fs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ff(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=ei));else if(o!==4&&(o===27&&Fs(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Ff(t,n,s),t=t.sibling;t!==null;)Ff(t,n,s),t=t.sibling}function Ju(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(o!==4&&(o===27&&Fs(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Ju(t,n,s),t=t.sibling;t!==null;)Ju(t,n,s),t=t.sibling}function my(t){var n=t.stateNode,s=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Jt(n,o,s),n[It]=t,n[Ht]=s}catch(f){nt(t,t.return,f)}}var ts=!1,kt=!1,Qf=!1,gy=typeof WeakSet=="function"?WeakSet:Set,Ft=null;function M1(t,n){if(t=t.containerInfo,dd=vc,t=Rg(t),jh(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var g=0,E=-1,C=-1,P=0,F=0,K=t,z=null;t:for(;;){for(var q;K!==s||h!==0&&K.nodeType!==3||(E=g+h),K!==f||o!==0&&K.nodeType!==3||(C=g+o),K.nodeType===3&&(g+=K.nodeValue.length),(q=K.firstChild)!==null;)z=K,K=q;for(;;){if(K===t)break t;if(z===s&&++P===h&&(E=g),z===f&&++F===o&&(C=g),(q=K.nextSibling)!==null)break;K=z,z=K.parentNode}K=q}s=E===-1||C===-1?null:{start:E,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(md={focusedElem:t,selectionRange:s},vc=!1,Ft=n;Ft!==null;)if(n=Ft,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ft=t;else for(;Ft!==null;){switch(n=Ft,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)h=t[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var le=Gr(s.type,h);t=o.getSnapshotBeforeUpdate(le,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(_e){nt(s,s.return,_e)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)yd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":yd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Ft=t;break}Ft=n.return}}function py(t,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:is(t,s),o&4&&tl(5,s);break;case 1:if(is(t,s),o&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(g){nt(s,s.return,g)}else{var h=Gr(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){nt(s,s.return,g)}}o&64&&cy(s),o&512&&nl(s,s.return);break;case 3:if(is(t,s),o&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{ep(t,n)}catch(g){nt(s,s.return,g)}}break;case 27:n===null&&o&4&&my(s);case 26:case 5:is(t,s),n===null&&o&4&&fy(s),o&512&&nl(s,s.return);break;case 12:is(t,s);break;case 31:is(t,s),o&4&&vy(t,s);break;case 13:is(t,s),o&4&&Ey(t,s),o&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=q1.bind(null,s),lb(t,s))));break;case 22:if(o=s.memoizedState!==null||ts,!o){n=n!==null&&n.memoizedState!==null||kt,h=ts;var f=kt;ts=o,(kt=n)&&!f?ss(t,s,(s.subtreeFlags&8772)!==0):is(t,s),ts=h,kt=f}break;case 30:break;default:is(t,s)}}function yy(t){var n=t.alternate;n!==null&&(t.alternate=null,yy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&aa(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var pt=null,mn=!1;function ns(t,n,s){for(s=s.child;s!==null;)_y(t,n,s),s=s.sibling}function _y(t,n,s){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount($n,s)}catch{}switch(s.tag){case 26:kt||Ni(s,n),ns(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:kt||Ni(s,n);var o=pt,h=mn;Fs(s.type)&&(pt=s.stateNode,mn=!1),ns(t,n,s),hl(s.stateNode),pt=o,mn=h;break;case 5:kt||Ni(s,n);case 6:if(o=pt,h=mn,pt=null,ns(t,n,s),pt=o,mn=h,pt!==null)if(mn)try{(pt.nodeType===9?pt.body:pt.nodeName==="HTML"?pt.ownerDocument.body:pt).removeChild(s.stateNode)}catch(f){nt(s,n,f)}else try{pt.removeChild(s.stateNode)}catch(f){nt(s,n,f)}break;case 18:pt!==null&&(mn?(t=pt,c_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Ga(t)):c_(pt,s.stateNode));break;case 4:o=pt,h=mn,pt=s.stateNode.containerInfo,mn=!0,ns(t,n,s),pt=o,mn=h;break;case 0:case 11:case 14:case 15:js(2,s,n),kt||js(4,s,n),ns(t,n,s);break;case 1:kt||(Ni(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&hy(s,n,o)),ns(t,n,s);break;case 21:ns(t,n,s);break;case 22:kt=(o=kt)||s.memoizedState!==null,ns(t,n,s),kt=o;break;default:ns(t,n,s)}}function vy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ga(t)}catch(s){nt(n,n.return,s)}}}function Ey(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ga(t)}catch(s){nt(n,n.return,s)}}function V1(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new gy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new gy),n;default:throw Error(a(435,t.tag))}}function Wu(t,n){var s=V1(t);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=H1.bind(null,t,o);o.then(h,h)}})}function gn(t,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=t,g=n,E=g;e:for(;E!==null;){switch(E.tag){case 27:if(Fs(E.type)){pt=E.stateNode,mn=!1;break e}break;case 5:pt=E.stateNode,mn=!1;break e;case 3:case 4:pt=E.stateNode.containerInfo,mn=!0;break e}E=E.return}if(pt===null)throw Error(a(160));_y(f,g,h),pt=null,mn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ty(n,t),n=n.sibling}var ai=null;function Ty(t,n){var s=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:gn(n,t),pn(t),o&4&&(js(3,t,t.return),tl(3,t),js(5,t,t.return));break;case 1:gn(n,t),pn(t),o&512&&(kt||s===null||Ni(s,s.return)),o&64&&ts&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=ai;if(gn(n,t),pn(t),o&512&&(kt||s===null||Ni(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=t.memoizedState,s===null)if(o===null)if(t.stateNode===null){e:{o=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[pi]||f[It]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Jt(f,o,s),f[It]=t,Nt(f),o=f;break e;case"link":var g=T_("link","href",h).get(o+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break t}}f=h.createElement(o),Jt(f,o,s),h.head.appendChild(f);break;case"meta":if(g=T_("meta","content",h).get(o+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break t}}f=h.createElement(o),Jt(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[It]=t,Nt(f),o=f}t.stateNode=o}else b_(h,t.type,t.stateNode);else t.stateNode=E_(h,o,t.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?b_(h,t.type,t.stateNode):E_(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Hf(t,t.memoizedProps,s.memoizedProps)}break;case 27:gn(n,t),pn(t),o&512&&(kt||s===null||Ni(s,s.return)),s!==null&&o&4&&Hf(t,t.memoizedProps,s.memoizedProps);break;case 5:if(gn(n,t),pn(t),o&512&&(kt||s===null||Ni(s,s.return)),t.flags&32){h=t.stateNode;try{dn(h,"")}catch(le){nt(t,t.return,le)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Hf(t,h,s!==null?s.memoizedProps:h)),o&1024&&(Qf=!0);break;case 6:if(gn(n,t),pn(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,s=t.stateNode;try{s.nodeValue=o}catch(le){nt(t,t.return,le)}}break;case 3:if(gc=null,h=ai,ai=dc(n.containerInfo),gn(n,t),ai=h,pn(t),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Ga(n.containerInfo)}catch(le){nt(t,t.return,le)}Qf&&(Qf=!1,by(t));break;case 4:o=ai,ai=dc(t.stateNode.containerInfo),gn(n,t),pn(t),ai=o;break;case 12:gn(n,t),pn(t);break;case 31:gn(n,t),pn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Wu(t,o)));break;case 13:gn(n,t),pn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(tc=qt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Wu(t,o)));break;case 22:h=t.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,P=ts,F=kt;if(ts=P||h,kt=F||C,gn(n,t),kt=F,ts=P,pn(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||C||ts||kt||Fr(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){C=s=n;try{if(f=C.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=C.stateNode;var K=C.memoizedProps.style,z=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(le){nt(C,C.return,le)}}}else if(n.tag===6){if(s===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(le){nt(C,C.return,le)}}}else if(n.tag===18){if(s===null){C=n;try{var q=C.stateNode;h?h_(q,!0):h_(C.stateNode,!1)}catch(le){nt(C,C.return,le)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Wu(t,s))));break;case 19:gn(n,t),pn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Wu(t,o)));break;case 30:break;case 21:break;default:gn(n,t),pn(t)}}function pn(t){var n=t.flags;if(n&2){try{for(var s,o=t.return;o!==null;){if(dy(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Gf(t);Ju(t,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(dn(g,""),s.flags&=-33);var E=Gf(t);Ju(t,E,g);break;case 3:case 4:var C=s.stateNode.containerInfo,P=Gf(t);Ff(t,P,C);break;default:throw Error(a(161))}}catch(F){nt(t,t.return,F)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function by(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;by(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function is(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)py(t,n.alternate,n),n=n.sibling}function Fr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:js(4,n,n.return),Fr(n);break;case 1:Ni(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&hy(n,n.return,s),Fr(n);break;case 27:hl(n.stateNode);case 26:case 5:Ni(n,n.return),Fr(n);break;case 22:n.memoizedState===null&&Fr(n);break;case 30:Fr(n);break;default:Fr(n)}t=t.sibling}}function ss(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:ss(h,f,s),tl(4,f);break;case 1:if(ss(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){nt(o,o.return,P)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Wg(C[h],E)}catch(P){nt(o,o.return,P)}}s&&g&64&&cy(f),nl(f,f.return);break;case 27:my(f);case 26:case 5:ss(h,f,s),s&&o===null&&g&4&&fy(f),nl(f,f.return);break;case 12:ss(h,f,s);break;case 31:ss(h,f,s),s&&g&4&&vy(h,f);break;case 13:ss(h,f,s),s&&g&4&&Ey(h,f);break;case 22:f.memoizedState===null&&ss(h,f,s),nl(f,f.return);break;case 30:break;default:ss(h,f,s)}n=n.sibling}}function Yf(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&qo(s))}function Kf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&qo(t))}function oi(t,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ay(t,n,s,o),n=n.sibling}function Ay(t,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:oi(t,n,s,o),h&2048&&tl(9,n);break;case 1:oi(t,n,s,o);break;case 3:oi(t,n,s,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&qo(t)));break;case 12:if(h&2048){oi(t,n,s,o),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){nt(n,n.return,C)}}else oi(t,n,s,o);break;case 31:oi(t,n,s,o);break;case 13:oi(t,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?oi(t,n,s,o):il(t,n):f._visibility&2?oi(t,n,s,o):(f._visibility|=2,Ma(t,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Yf(g,n);break;case 24:oi(t,n,s,o),h&2048&&Kf(n.alternate,n);break;default:oi(t,n,s,o)}}function Ma(t,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=s,C=o,P=g.flags;switch(g.tag){case 0:case 11:case 15:Ma(f,g,E,C,h),tl(8,g);break;case 23:break;case 22:var F=g.stateNode;g.memoizedState!==null?F._visibility&2?Ma(f,g,E,C,h):il(f,g):(F._visibility|=2,Ma(f,g,E,C,h)),h&&P&2048&&Yf(g.alternate,g);break;case 24:Ma(f,g,E,C,h),h&&P&2048&&Kf(g.alternate,g);break;default:Ma(f,g,E,C,h)}n=n.sibling}}function il(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,o=n,h=o.flags;switch(o.tag){case 22:il(s,o),h&2048&&Yf(o.alternate,o);break;case 24:il(s,o),h&2048&&Kf(o.alternate,o);break;default:il(s,o)}n=n.sibling}}var sl=8192;function Va(t,n,s){if(t.subtreeFlags&sl)for(t=t.child;t!==null;)Sy(t,n,s),t=t.sibling}function Sy(t,n,s){switch(t.tag){case 26:Va(t,n,s),t.flags&sl&&t.memoizedState!==null&&Eb(s,ai,t.memoizedState,t.memoizedProps);break;case 5:Va(t,n,s);break;case 3:case 4:var o=ai;ai=dc(t.stateNode.containerInfo),Va(t,n,s),ai=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=sl,sl=16777216,Va(t,n,s),sl=o):Va(t,n,s));break;default:Va(t,n,s)}}function wy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function rl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ft=o,Ry(o,t)}wy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)xy(t),t=t.sibling}function xy(t){switch(t.tag){case 0:case 11:case 15:rl(t),t.flags&2048&&js(9,t,t.return);break;case 3:rl(t);break;case 12:rl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,ec(t)):rl(t);break;default:rl(t)}}function ec(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ft=o,Ry(o,t)}wy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:js(8,n,n.return),ec(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,ec(n));break;default:ec(n)}t=t.sibling}}function Ry(t,n){for(;Ft!==null;){var s=Ft;switch(s.tag){case 0:case 11:case 15:js(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:qo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Ft=o;else e:for(s=t;Ft!==null;){o=Ft;var h=o.sibling,f=o.return;if(yy(o),o===s){Ft=null;break e}if(h!==null){h.return=f,Ft=h;break e}Ft=f}}}var k1={getCacheForType:function(t){var n=$t(Ot),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return $t(Ot).controller.signal}},U1=typeof WeakMap=="function"?WeakMap:Map,Ze=0,ht=null,De=null,Ve=0,tt=0,Rn=null,Ps=!1,ka=!1,Xf=!1,rs=0,Tt=0,zs=0,Qr=0,$f=0,Cn=0,Ua=0,al=null,yn=null,Zf=!1,tc=0,Cy=0,nc=1/0,ic=null,Bs=null,Pt=0,qs=null,La=null,as=0,Jf=0,Wf=null,Iy=null,ol=0,ed=null;function In(){return(Ze&2)!==0&&Ve!==0?Ve&-Ve:G.T!==null?ad():su()}function Ny(){if(Cn===0)if((Ve&536870912)===0||ze){var t=vr;vr<<=1,(vr&3932160)===0&&(vr=262144),Cn=t}else Cn=536870912;return t=wn.current,t!==null&&(t.flags|=32),Cn}function _n(t,n,s){(t===ht&&(tt===2||tt===9)||t.cancelPendingCommit!==null)&&(ja(t,0),Hs(t,Ve,Cn,!1)),Er(t,s),((Ze&2)===0||t!==ht)&&(t===ht&&((Ze&2)===0&&(Qr|=s),Tt===4&&Hs(t,Ve,Cn,!1)),Di(t))}function Dy(t,n,s){if((Ze&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&t.expiredLanes)===0||Zn(t,n),h=o?P1(t,n):nd(t,n,!0),f=o;do{if(h===0){ka&&!o&&Hs(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!L1(s)){h=nd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var E=t;h=al;var C=E.current.memoizedState.isDehydrated;if(C&&(ja(E,g).flags|=256),g=nd(E,g,!1),g!==2){if(Xf&&!C){E.errorRecoveryDisabledLanes|=f,Qr|=f,h=4;break e}f=yn,yn=h,f!==null&&(yn===null?yn=f:yn.push.apply(yn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){ja(t,0),Hs(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Hs(o,n,Cn,!Ps);break e;case 2:yn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=tc+300-qt(),10<h)){if(Hs(o,n,Cn,!Ps),di(o,0,!0)!==0)break e;as=n,o.timeoutHandle=l_(Oy.bind(null,o,s,yn,ic,Zf,n,Cn,Qr,Ua,Ps,f,"Throttled",-0,0),h);break e}Oy(o,s,yn,ic,Zf,n,Cn,Qr,Ua,Ps,f,null,-0,0)}}break}while(!0);Di(t)}function Oy(t,n,s,o,h,f,g,E,C,P,F,K,z,q){if(t.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ei},Sy(n,f,K);var le=(f&62914560)===f?tc-qt():(f&4194048)===f?Cy-qt():0;if(le=Tb(K,le),le!==null){as=f,t.cancelPendingCommit=le(zy.bind(null,t,n,f,s,o,h,g,E,C,F,K,null,z,q)),Hs(t,f,g,!P);return}}zy(t,n,f,s,o,h,g,E,C)}function L1(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!An(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Hs(t,n,s,o){n&=~$f,n&=~Qr,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-At(h),g=1<<f;o[f]=-1,h&=~g}s!==0&&Tr(t,s,n)}function sc(){return(Ze&6)===0?(ll(0),!1):!0}function td(){if(De!==null){if(tt===0)var t=De.return;else t=De,Xi=Lr=null,yf(t),Ca=null,Go=0,t=De;for(;t!==null;)uy(t.alternate,t),t=t.return;De=null}}function ja(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,ib(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),as=0,td(),ht=t,De=s=Yi(t.current,null),Ve=n,tt=0,Rn=null,Ps=!1,ka=Zn(t,n),Xf=!1,Ua=Cn=$f=Qr=zs=Tt=0,yn=al=null,Zf=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-At(o),f=1<<h;n|=t[h],o&=~f}return rs=n,wu(),s}function My(t,n){xe=null,G.H=Jo,n===Ra||n===Mu?(n=Xg(),tt=3):n===rf?(n=Xg(),tt=4):tt=n===Mf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Rn=n,De===null&&(Tt=1,Yu(t,jn(n,t.current)))}function Vy(){var t=wn.current;return t===null?!0:(Ve&4194048)===Ve?qn===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?t===qn:!1}function ky(){var t=G.H;return G.H=Jo,t===null?Jo:t}function Uy(){var t=G.A;return G.A=k1,t}function rc(){Tt=4,Ps||(Ve&4194048)!==Ve&&wn.current!==null||(ka=!0),(zs&134217727)===0&&(Qr&134217727)===0||ht===null||Hs(ht,Ve,Cn,!1)}function nd(t,n,s){var o=Ze;Ze|=2;var h=ky(),f=Uy();(ht!==t||Ve!==n)&&(ic=null,ja(t,n)),n=!1;var g=Tt;e:do try{if(tt!==0&&De!==null){var E=De,C=Rn;switch(tt){case 8:td(),g=6;break e;case 3:case 2:case 9:case 6:wn.current===null&&(n=!0);var P=tt;if(tt=0,Rn=null,Pa(t,E,C,P),s&&ka){g=0;break e}break;default:P=tt,tt=0,Rn=null,Pa(t,E,C,P)}}j1(),g=Tt;break}catch(F){My(t,F)}while(!0);return n&&t.shellSuspendCounter++,Xi=Lr=null,Ze=o,G.H=h,G.A=f,De===null&&(ht=null,Ve=0,wu()),g}function j1(){for(;De!==null;)Ly(De)}function P1(t,n){var s=Ze;Ze|=2;var o=ky(),h=Uy();ht!==t||Ve!==n?(ic=null,nc=qt()+500,ja(t,n)):ka=Zn(t,n);e:do try{if(tt!==0&&De!==null){n=De;var f=Rn;t:switch(tt){case 1:tt=0,Rn=null,Pa(t,n,f,1);break;case 2:case 9:if(Yg(f)){tt=0,Rn=null,jy(n);break}n=function(){tt!==2&&tt!==9||ht!==t||(tt=7),Di(t)},f.then(n,n);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:Yg(f)?(tt=0,Rn=null,jy(n)):(tt=0,Rn=null,Pa(t,n,f,7));break;case 5:var g=null;switch(De.tag){case 26:g=De.memoizedState;case 5:case 27:var E=De;if(g?A_(g):E.stateNode.complete){tt=0,Rn=null;var C=E.sibling;if(C!==null)De=C;else{var P=E.return;P!==null?(De=P,ac(P)):De=null}break t}}tt=0,Rn=null,Pa(t,n,f,5);break;case 6:tt=0,Rn=null,Pa(t,n,f,6);break;case 8:td(),Tt=6;break e;default:throw Error(a(462))}}z1();break}catch(F){My(t,F)}while(!0);return Xi=Lr=null,G.H=o,G.A=h,Ze=s,De!==null?0:(ht=null,Ve=0,wu(),Tt)}function z1(){for(;De!==null&&!_r();)Ly(De)}function Ly(t){var n=oy(t.alternate,t,rs);t.memoizedProps=t.pendingProps,n===null?ac(t):De=n}function jy(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=ty(s,n,n.pendingProps,n.type,void 0,Ve);break;case 11:n=ty(s,n,n.pendingProps,n.type.render,n.ref,Ve);break;case 5:yf(n);default:uy(s,n),n=De=Ug(n,rs),n=oy(s,n,rs)}t.memoizedProps=t.pendingProps,n===null?ac(t):De=n}function Pa(t,n,s,o){Xi=Lr=null,yf(n),Ca=null,Go=0;var h=n.return;try{if(C1(t,h,n,s,Ve)){Tt=1,Yu(t,jn(s,t.current)),De=null;return}}catch(f){if(h!==null)throw De=h,f;Tt=1,Yu(t,jn(s,t.current)),De=null;return}n.flags&32768?(ze||o===1?t=!0:ka||(Ve&536870912)!==0?t=!1:(Ps=t=!0,(o===2||o===9||o===3||o===6)&&(o=wn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Py(n,t)):ac(n)}function ac(t){var n=t;do{if((n.flags&32768)!==0){Py(n,Ps);return}t=n.return;var s=D1(n.alternate,n,rs);if(s!==null){De=s;return}if(n=n.sibling,n!==null){De=n;return}De=n=t}while(n!==null);Tt===0&&(Tt=5)}function Py(t,n){do{var s=O1(t.alternate,t);if(s!==null){s.flags&=32767,De=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){De=t;return}De=t=s}while(t!==null);Tt=6,De=null}function zy(t,n,s,o,h,f,g,E,C){t.cancelPendingCommit=null;do oc();while(Pt!==0);if((Ze&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Hh,Vh(t,s,f,g,E,C),t===ht&&(De=ht=null,Ve=0),La=n,qs=t,as=s,Jf=f,Wf=h,Iy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,G1(vs,function(){return Fy(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=se.p,se.p=2,g=Ze,Ze|=4;try{M1(t,n,s)}finally{Ze=g,se.p=h,G.T=o}}Pt=1,By(),qy(),Hy()}}function By(){if(Pt===1){Pt=0;var t=qs,n=La,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var o=se.p;se.p=2;var h=Ze;Ze|=4;try{Ty(n,t);var f=md,g=Rg(t.containerInfo),E=f.focusedElem,C=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&xg(E.ownerDocument.documentElement,E)){if(C!==null&&jh(E)){var P=C.start,F=C.end;if(F===void 0&&(F=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(F,E.value.length);else{var K=E.ownerDocument||document,z=K&&K.defaultView||window;if(z.getSelection){var q=z.getSelection(),le=E.textContent.length,_e=Math.min(C.start,le),lt=C.end===void 0?_e:Math.min(C.end,le);!q.extend&&_e>lt&&(g=lt,lt=_e,_e=g);var k=wg(E,_e),D=wg(E,lt);if(k&&D&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var j=K.createRange();j.setStart(k.node,k.offset),q.removeAllRanges(),_e>lt?(q.addRange(j),q.extend(D.node,D.offset)):(j.setEnd(D.node,D.offset),q.addRange(j))}}}}for(K=[],q=E;q=q.parentNode;)q.nodeType===1&&K.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var Q=K[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}vc=!!dd,md=dd=null}finally{Ze=h,se.p=o,G.T=s}}t.current=n,Pt=2}}function qy(){if(Pt===2){Pt=0;var t=qs,n=La,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var o=se.p;se.p=2;var h=Ze;Ze|=4;try{py(t,n.alternate,n)}finally{Ze=h,se.p=o,G.T=s}}Pt=3}}function Hy(){if(Pt===4||Pt===3){Pt=0,ia();var t=qs,n=La,s=as,o=Iy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Pt=5:(Pt=0,La=qs=null,Gy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Bs=null),Hi(s),n=n.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot($n,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=se.p,se.p=2,G.T=null;try{for(var f=t.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{G.T=n,se.p=h}}(as&3)!==0&&oc(),Di(t),h=t.pendingLanes,(s&261930)!==0&&(h&42)!==0?t===ed?ol++:(ol=0,ed=t):ol=0,ll(0)}}function Gy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,qo(n)))}function oc(){return By(),qy(),Hy(),Fy()}function Fy(){if(Pt!==5)return!1;var t=qs,n=Jf;Jf=0;var s=Hi(as),o=G.T,h=se.p;try{se.p=32>s?32:s,G.T=null,s=Wf,Wf=null;var f=qs,g=as;if(Pt=0,La=qs=null,as=0,(Ze&6)!==0)throw Error(a(331));var E=Ze;if(Ze|=4,xy(f.current),Ay(f,f.current,g,s),Ze=E,ll(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot($n,f)}catch{}return!0}finally{se.p=h,G.T=o,Gy(t,n)}}function Qy(t,n,s){n=jn(s,n),n=Of(t.stateNode,n,2),t=ks(t,n,2),t!==null&&(Er(t,2),Di(t))}function nt(t,n,s){if(t.tag===3)Qy(t,t,s);else for(;n!==null;){if(n.tag===3){Qy(n,t,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Bs===null||!Bs.has(o))){t=jn(s,t),s=Yp(2),o=ks(n,s,2),o!==null&&(Kp(s,o,n,t),Er(o,2),Di(o));break}}n=n.return}}function id(t,n,s){var o=t.pingCache;if(o===null){o=t.pingCache=new U1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Xf=!0,h.add(s),t=B1.bind(null,t,n,s),n.then(t,t))}function B1(t,n,s){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,ht===t&&(Ve&s)===s&&(Tt===4||Tt===3&&(Ve&62914560)===Ve&&300>qt()-tc?(Ze&2)===0&&ja(t,0):$f|=s,Ua===Ve&&(Ua=0)),Di(t)}function Yy(t,n){n===0&&(n=iu()),t=Vr(t,n),t!==null&&(Er(t,n),Di(t))}function q1(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),Yy(t,s)}function H1(t,n){var s=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Yy(t,s)}function G1(t,n){return ct(t,n)}var lc=null,za=null,sd=!1,uc=!1,rd=!1,Gs=0;function Di(t){t!==za&&t.next===null&&(za===null?lc=za=t:za=za.next=t),uc=!0,sd||(sd=!0,Q1())}function ll(t,n){if(!rd&&uc){rd=!0;do for(var s=!1,o=lc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-At(42|t)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Zy(o,f))}else f=Ve,f=di(o,o===ht?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Zn(o,f)||(s=!0,Zy(o,f));o=o.next}while(s);rd=!1}}function F1(){Ky()}function Ky(){uc=sd=!1;var t=0;Gs!==0&&nb()&&(t=Gs);for(var n=qt(),s=null,o=lc;o!==null;){var h=o.next,f=Xy(o,n);f===0?(o.next=null,s===null?lc=h:s.next=h,h===null&&(za=s)):(s=o,(t!==0||(f&3)!==0)&&(uc=!0)),o=h}Pt!==0&&Pt!==5||ll(t),Gs!==0&&(Gs=0)}function Xy(t,n){for(var s=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-At(f),E=1<<g,C=h[g];C===-1?((E&s)===0||(E&o)!==0)&&(h[g]=Mh(E,n)):C<=n&&(t.expiredLanes|=E),f&=~E}if(n=ht,s=Ve,s=di(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,s===0||t===n&&(tt===2||tt===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Dn(o),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Zn(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(o!==null&&Dn(o),Hi(s)){case 2:case 8:s=_o;break;case 32:s=vs;break;case 268435456:s=Jl;break;default:s=vs}return o=$y.bind(null,t),s=ct(s,o),t.callbackPriority=n,t.callbackNode=s,n}return o!==null&&o!==null&&Dn(o),t.callbackPriority=2,t.callbackNode=null,2}function $y(t,n){if(Pt!==0&&Pt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(oc()&&t.callbackNode!==s)return null;var o=Ve;return o=di(t,t===ht?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Dy(t,o,n),Xy(t,qt()),t.callbackNode!=null&&t.callbackNode===s?$y.bind(null,t):null)}function Zy(t,n){if(oc())return null;Dy(t,n,!0)}function Q1(){sb(function(){(Ze&6)!==0?ct(yo,F1):Ky()})}function ad(){if(Gs===0){var t=wa;t===0&&(t=hi,hi<<=1,(hi&261888)===0&&(hi=256)),Gs=t}return Gs}function Jy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ca(""+t)}function Wy(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function Y1(t,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=Jy((h[Ht]||null).action),g=o.submitter;g&&(n=(n=g[Ht]||null)?Jy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new Si("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Gs!==0){var C=g?Wy(h,g):new FormData(h);xf(s,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=g?Wy(h,g):new FormData(h),xf(s,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var od=0;od<qh.length;od++){var ld=qh[od],K1=ld.toLowerCase(),X1=ld[0].toUpperCase()+ld.slice(1);ri(K1,"on"+X1)}ri(Ng,"onAnimationEnd"),ri(Dg,"onAnimationIteration"),ri(Og,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(h1,"onTransitionRun"),ri(f1,"onTransitionStart"),ri(d1,"onTransitionCancel"),ri(Mg,"onTransitionEnd"),Ei("onMouseEnter",["mouseout","mouseover"]),Ei("onMouseLeave",["mouseout","mouseover"]),Ei("onPointerEnter",["pointerout","pointerover"]),Ei("onPointerLeave",["pointerout","pointerover"]),vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ul));function e_(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var o=t[s],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],C=E.instance,P=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=P;try{f(h)}catch(F){Su(F)}h.currentTarget=null,f=C}else for(g=0;g<o.length;g++){if(E=o[g],C=E.instance,P=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=P;try{f(h)}catch(F){Su(F)}h.currentTarget=null,f=C}}}}function Oe(t,n){var s=n[ra];s===void 0&&(s=n[ra]=new Set);var o=t+"__bubble";s.has(o)||(t_(n,t,2,!1),s.add(o))}function ud(t,n,s){var o=0;n&&(o|=4),t_(s,t,o,n)}var cc="_reactListening"+Math.random().toString(36).slice(2);function cd(t){if(!t[cc]){t[cc]=!0,To.forEach(function(s){s!=="selectionchange"&&($1.has(s)||ud(s,!1,t),ud(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[cc]||(n[cc]=!0,ud("selectionchange",!1,n))}}function t_(t,n,s,o){switch(N_(n)){case 2:var h=Sb;break;case 8:h=wb;break;default:h=wd}s=h.bind(null,n,s,t),h=void 0,!xr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,s,{capture:!0,passive:h}):t.addEventListener(n,s,!0):h!==void 0?t.addEventListener(n,s,{passive:h}):t.addEventListener(n,s,!1)}function hd(t,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=yi(E),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){o=f=g;continue e}E=E.parentNode}}o=o.return}ws(function(){var P=f,F=Vn(s),K=[];e:{var z=Vg.get(t);if(z!==void 0){var q=Si,le=t;switch(t){case"keypress":if(Cr(s)===0)break e;case"keydown":case"keyup":q=Tu;break;case"focusin":le="focus",q=Nr;break;case"focusout":le="blur",q=Nr;break;case"beforeblur":case"afterblur":q=Nr;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Vo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=fu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Ng:case Dg:case Og:q=mu;break;case Mg:q=A;break;case"scroll":case"scrollend":q=Mo;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=gu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Qi;break;case"toggle":case"beforetoggle":q=we}var _e=(n&4)!==0,lt=!_e&&(t==="scroll"||t==="scrollend"),k=_e?z!==null?z+"Capture":null:z;_e=[];for(var D=P,j;D!==null;){var Q=D;if(j=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||j===null||k===null||(Q=ti(D,k),Q!=null&&_e.push(cl(D,Q,j))),lt)break;D=D.return}0<_e.length&&(z=new q(z,le,null,s,F),K.push({event:z,listeners:_e}))}}if((n&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",z&&s!==No&&(le=s.relatedTarget||s.fromElement)&&(yi(le)||le[gi]))break e;if((q||z)&&(z=F.window===F?F:(z=F.ownerDocument)?z.defaultView||z.parentWindow:window,q?(le=s.relatedTarget||s.toElement,q=P,le=le?yi(le):null,le!==null&&(lt=c(le),_e=le.tag,le!==lt||_e!==5&&_e!==27&&_e!==6)&&(le=null)):(q=null,le=P),q!==le)){if(_e=Vo,Q="onMouseLeave",k="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Qi,Q="onPointerLeave",k="onPointerEnter",D="pointer"),lt=q==null?z:Tn(q),j=le==null?z:Tn(le),z=new _e(Q,D+"leave",q,s,F),z.target=lt,z.relatedTarget=j,Q=null,yi(F)===P&&(_e=new _e(k,D+"enter",le,s,F),_e.target=j,_e.relatedTarget=lt,Q=_e),lt=Q,q&&le)t:{for(_e=Z1,k=q,D=le,j=0,Q=k;Q;Q=_e(Q))j++;Q=0;for(var me=D;me;me=_e(me))Q++;for(;0<j-Q;)k=_e(k),j--;for(;0<Q-j;)D=_e(D),Q--;for(;j--;){if(k===D||D!==null&&k===D.alternate){_e=k;break t}k=_e(k),D=_e(D)}_e=null}else _e=null;q!==null&&n_(K,z,q,_e,!1),le!==null&&lt!==null&&n_(K,lt,le,_e,!0)}}e:{if(z=P?Tn(P):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var Fe=vg;else if(yg(z))if(Eg)Fe=l1;else{Fe=a1;var ue=r1}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&ua(P.elementType)&&(Fe=vg):Fe=o1;if(Fe&&(Fe=Fe(t,P))){_g(K,Fe,s,F);break e}ue&&ue(t,z,P),t==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&Ro(z,"number",z.value)}switch(ue=P?Tn(P):window,t){case"focusin":(yg(ue)||ue.contentEditable==="true")&&(ya=ue,Ph=P,Po=null);break;case"focusout":Po=Ph=ya=null;break;case"mousedown":zh=!0;break;case"contextmenu":case"mouseup":case"dragend":zh=!1,Cg(K,s,F);break;case"selectionchange":if(c1)break;case"keydown":case"keyup":Cg(K,s,F)}var Re;if($e)e:{switch(t){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else pa?Dr(t,s)&&(ke="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(ke="onCompositionStart");ke&&(Ri&&s.locale!=="ko"&&(pa||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&pa&&(Re=Oo()):(Ai=F,Do="value"in Ai?Ai.value:Ai.textContent,pa=!0)),ue=hc(P,ke),0<ue.length&&(ke=new xi(ke,t,null,s,F),K.push({event:ke,listeners:ue}),Re?ke.data=Re:(Re=ga(s),Re!==null&&(ke.data=Re)))),(Re=Un?t1(t,s):n1(t,s))&&(ke=hc(P,"onBeforeInput"),0<ke.length&&(ue=new xi("onBeforeInput","beforeinput",null,s,F),K.push({event:ue,listeners:ke}),ue.data=Re)),Y1(K,t,P,s,F)}e_(K,n)})}function cl(t,n,s){return{instance:t,listener:n,currentTarget:s}}function hc(t,n){for(var s=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ti(t,s),h!=null&&o.unshift(cl(t,h,f)),h=ti(t,n),h!=null&&o.push(cl(t,h,f))),t.tag===3)return o;t=t.return}return[]}function Z1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function n_(t,n,s,o,h){for(var f=n._reactName,g=[];s!==null&&s!==o;){var E=s,C=E.alternate,P=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||P===null||(C=P,h?(P=ti(s,f),P!=null&&g.unshift(cl(s,P,C))):h||(P=ti(s,f),P!=null&&g.push(cl(s,P,C)))),s=s.return}g.length!==0&&t.push({event:n,listeners:g})}var J1=/\r\n?/g,W1=/\u0000|\uFFFD/g;function i_(t){return(typeof t=="string"?t:""+t).replace(J1,`
`).replace(W1,"")}function s_(t,n){return n=i_(n),i_(t)===n}function ot(t,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||dn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&dn(t,""+o);break;case"className":bn(t,"class",o);break;case"tabIndex":bn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":bn(t,s,o);break;case"style":Io(t,o,f);break;case"data":if(n!=="object"){bn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=ca(""+o),t.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&ot(t,n,"name",h.name,h,null),ot(t,n,"formEncType",h.formEncType,h,null),ot(t,n,"formMethod",h.formMethod,h,null),ot(t,n,"formTarget",h.formTarget,h,null)):(ot(t,n,"encType",h.encType,h,null),ot(t,n,"method",h.method,h,null),ot(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=ca(""+o),t.setAttribute(s,o);break;case"onClick":o!=null&&(t.onclick=ei);break;case"onScroll":o!=null&&Oe("scroll",t);break;case"onScrollEnd":o!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}s=ca(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""+o):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":o===!0?t.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,o):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(s,o):t.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(s):t.setAttribute(s,o);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),oa(t,"popover",o);break;case"xlinkActuate":Dt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Dt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Dt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Dt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Dt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Dt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Dt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Dt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Dt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":oa(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=hu.get(s)||s,oa(t,s,o))}}function fd(t,n,s,o,h,f){switch(s){case"style":Io(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof o=="string"?dn(t,o):(typeof o=="number"||typeof o=="bigint")&&dn(t,""+o);break;case"onScroll":o!=null&&Oe("scroll",t);break;case"onScrollEnd":o!=null&&Oe("scrollend",t);break;case"onClick":o!=null&&(t.onclick=ei);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bo.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=t[Ht]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,o,h);break e}s in t?t[s]=o:o===!0?t.setAttribute(s,""):oa(t,s,o)}}}function Jt(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ot(t,n,f,g,s,null)}}h&&ot(t,n,"srcSet",s.srcSet,s,null),o&&ot(t,n,"src",s.src,s,null);return;case"input":Oe("invalid",t);var E=f=g=h=null,C=null,P=null;for(o in s)if(s.hasOwnProperty(o)){var F=s[o];if(F!=null)switch(o){case"name":h=F;break;case"type":g=F;break;case"checked":C=F;break;case"defaultChecked":P=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:ot(t,n,o,F,s,null)}}lu(t,f,E,C,P,g,h,!1);return;case"select":Oe("invalid",t),o=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:ot(t,n,h,E,s,null)}n=f,s=g,t.multiple=!!o,n!=null?Ts(t,!!o,n,!1):s!=null&&Ts(t,!!o,s,!0);return;case"textarea":Oe("invalid",t),f=h=o=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:ot(t,n,g,E,s,null)}bs(t,o,h,f);return;case"option":for(C in s)s.hasOwnProperty(C)&&(o=s[C],o!=null)&&(C==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":ot(t,n,C,o,s,null));return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(o=0;o<ul.length;o++)Oe(ul[o],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in s)if(s.hasOwnProperty(P)&&(o=s[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ot(t,n,P,o,s,null)}return;default:if(ua(n)){for(F in s)s.hasOwnProperty(F)&&(o=s[F],o!==void 0&&fd(t,n,F,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&ot(t,n,E,o,s,null))}function eb(t,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,C=null,P=null,F=null;for(q in s){var K=s[q];if(s.hasOwnProperty(q)&&K!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":C=K;default:o.hasOwnProperty(q)||ot(t,n,q,null,o,K)}}for(var z in o){var q=o[z];if(K=s[z],o.hasOwnProperty(z)&&(q!=null||K!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":P=q;break;case"defaultChecked":F=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==K&&ot(t,n,z,q,o,K)}}la(t,g,E,C,P,F,f,h);return;case"select":q=g=E=z=null;for(f in s)if(C=s[f],s.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":q=C;default:o.hasOwnProperty(f)||ot(t,n,f,null,o,C)}for(h in o)if(f=o[h],C=s[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==C&&ot(t,n,h,f,o,C)}n=E,s=g,o=q,z!=null?Ts(t,!!s,z,!1):!!o!=!!s&&(n!=null?Ts(t,!!s,n,!0):Ts(t,!!s,s?[]:"",!1));return;case"textarea":q=z=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ot(t,n,E,null,o,h)}for(g in o)if(h=o[g],f=s[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&ot(t,n,g,h,o,f)}uu(t,z,q);return;case"option":for(var le in s)z=s[le],s.hasOwnProperty(le)&&z!=null&&!o.hasOwnProperty(le)&&(le==="selected"?t.selected=!1:ot(t,n,le,null,o,z));for(C in o)z=o[C],q=s[C],o.hasOwnProperty(C)&&z!==q&&(z!=null||q!=null)&&(C==="selected"?t.selected=z&&typeof z!="function"&&typeof z!="symbol":ot(t,n,C,z,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in s)z=s[_e],s.hasOwnProperty(_e)&&z!=null&&!o.hasOwnProperty(_e)&&ot(t,n,_e,null,o,z);for(P in o)if(z=o[P],q=s[P],o.hasOwnProperty(P)&&z!==q&&(z!=null||q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:ot(t,n,P,z,o,q)}return;default:if(ua(n)){for(var lt in s)z=s[lt],s.hasOwnProperty(lt)&&z!==void 0&&!o.hasOwnProperty(lt)&&fd(t,n,lt,void 0,o,z);for(F in o)z=o[F],q=s[F],!o.hasOwnProperty(F)||z===q||z===void 0&&q===void 0||fd(t,n,F,z,o,q);return}}for(var k in s)z=s[k],s.hasOwnProperty(k)&&z!=null&&!o.hasOwnProperty(k)&&ot(t,n,k,null,o,z);for(K in o)z=o[K],q=s[K],!o.hasOwnProperty(K)||z===q||z==null&&q==null||ot(t,n,K,z,o,q)}function r_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function tb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&r_(g)){for(g=0,E=h.responseEnd,o+=1;o<s.length;o++){var C=s[o],P=C.startTime;if(P>E)break;var F=C.transferSize,K=C.initiatorType;F&&r_(K)&&(C=C.responseEnd,g+=F*(C<E?1:(E-P)/(C-P)))}if(--o,n+=8*(f+g)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var dd=null,md=null;function fc(t){return t.nodeType===9?t:t.ownerDocument}function a_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function o_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function gd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var pd=null;function nb(){var t=window.event;return t&&t.type==="popstate"?t===pd?!1:(pd=t,!0):(pd=null,!1)}var l_=typeof setTimeout=="function"?setTimeout:void 0,ib=typeof clearTimeout=="function"?clearTimeout:void 0,u_=typeof Promise=="function"?Promise:void 0,sb=typeof queueMicrotask=="function"?queueMicrotask:typeof u_<"u"?function(t){return u_.resolve(null).then(t).catch(rb)}:l_;function rb(t){setTimeout(function(){throw t})}function Fs(t){return t==="head"}function c_(t,n){var s=n,o=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){t.removeChild(h),Ga(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")hl(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,hl(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[pi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&hl(t.ownerDocument.body);s=h}while(s);Ga(n)}function h_(t,n){var s=t;t=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=o}while(s)}function yd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":yd(s),aa(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function ab(t,n,s,o){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[pi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Hn(t.nextSibling),t===null)break}return null}function ob(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Hn(t.nextSibling),t===null))return null;return t}function f_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Hn(t.nextSibling),t===null))return null;return t}function _d(t){return t.data==="$?"||t.data==="$~"}function vd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function lb(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Hn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Ed=null;function d_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return Hn(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function m_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function g_(t,n,s){switch(n=fc(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function hl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);aa(t)}var Gn=new Map,p_=new Set;function dc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var os=se.d;se.d={f:ub,r:cb,D:hb,C:fb,L:db,m:mb,X:pb,S:gb,M:yb};function ub(){var t=os.f(),n=sc();return t||n}function cb(t){var n=Mn(t);n!==null&&n.tag===5&&n.type==="form"?Mp(n):os.r(t)}var Ba=typeof document>"u"?null:document;function y_(t,n,s){var o=Ba;if(o&&typeof n=="string"&&n){var h=fn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),p_.has(h)||(p_.add(h),t={rel:t,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Jt(n,"link",t),Nt(n),o.head.appendChild(n)))}}function hb(t){os.D(t),y_("dns-prefetch",t,null)}function fb(t,n){os.C(t,n),y_("preconnect",t,n)}function db(t,n,s){os.L(t,n,s);var o=Ba;if(o&&t&&n){var h='link[rel="preload"][as="'+fn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+fn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+fn(s.imageSizes)+'"]')):h+='[href="'+fn(t)+'"]';var f=h;switch(n){case"style":f=qa(t);break;case"script":f=Ha(t)}Gn.has(f)||(t=S({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),Gn.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(fl(f))||n==="script"&&o.querySelector(dl(f))||(n=o.createElement("link"),Jt(n,"link",t),Nt(n),o.head.appendChild(n)))}}function mb(t,n){os.m(t,n);var s=Ba;if(s&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+fn(o)+'"][href="'+fn(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ha(t)}if(!Gn.has(f)&&(t=S({rel:"modulepreload",href:t},n),Gn.set(f,t),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(dl(f)))return}o=s.createElement("link"),Jt(o,"link",t),Nt(o),s.head.appendChild(o)}}}function gb(t,n,s){os.S(t,n,s);var o=Ba;if(o&&t){var h=_i(o).hoistableStyles,f=qa(t);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(fl(f)))E.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},s),(s=Gn.get(f))&&Td(t,s);var C=g=o.createElement("link");Nt(C),Jt(C,"link",t),C._p=new Promise(function(P,F){C.onload=P,C.onerror=F}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,mc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function pb(t,n){os.X(t,n);var s=Ba;if(s&&t){var o=_i(s).hoistableScripts,h=Ha(t),f=o.get(h);f||(f=s.querySelector(dl(h)),f||(t=S({src:t,async:!0},n),(n=Gn.get(h))&&bd(t,n),f=s.createElement("script"),Nt(f),Jt(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function yb(t,n){os.M(t,n);var s=Ba;if(s&&t){var o=_i(s).hoistableScripts,h=Ha(t),f=o.get(h);f||(f=s.querySelector(dl(h)),f||(t=S({src:t,async:!0,type:"module"},n),(n=Gn.get(h))&&bd(t,n),f=s.createElement("script"),Nt(f),Jt(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function __(t,n,s,o){var h=(h=J.current)?dc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=qa(s.href),s=_i(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=qa(s.href);var f=_i(h).hoistableStyles,g=f.get(t);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=h.querySelector(fl(t)))&&!f._p&&(g.instance=f,g.state.loading=5),Gn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Gn.set(t,s),f||_b(h,t,s,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ha(s),s=_i(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function qa(t){return'href="'+fn(t)+'"'}function fl(t){return'link[rel="stylesheet"]['+t+"]"}function v_(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function _b(t,n,s,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Jt(n,"link",s),Nt(n),t.head.appendChild(n))}function Ha(t){return'[src="'+fn(t)+'"]'}function dl(t){return"script[async]"+t}function E_(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+fn(s.href)+'"]');if(o)return n.instance=o,Nt(o),o;var h=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Nt(o),Jt(o,"style",h),mc(o,s.precedence,t),n.instance=o;case"stylesheet":h=qa(s.href);var f=t.querySelector(fl(h));if(f)return n.state.loading|=4,n.instance=f,Nt(f),f;o=v_(s),(h=Gn.get(h))&&Td(o,h),f=(t.ownerDocument||t).createElement("link"),Nt(f);var g=f;return g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),Jt(f,"link",o),n.state.loading|=4,mc(f,s.precedence,t),n.instance=f;case"script":return f=Ha(s.src),(h=t.querySelector(dl(f)))?(n.instance=h,Nt(h),h):(o=s,(h=Gn.get(f))&&(o=S({},s),bd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Nt(h),Jt(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,mc(o,s.precedence,t));return n.instance}function mc(t,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function Td(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function bd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var gc=null;function T_(t,n,s){if(gc===null){var o=new Map,h=gc=new Map;h.set(s,o)}else h=gc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(t))return o;for(o.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var f=s[h];if(!(f[pi]||f[It]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function b_(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function vb(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function A_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Eb(t,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=qa(o.href),f=n.querySelector(fl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=pc.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=f,Nt(f);return}f=n.ownerDocument||n,o=v_(o),(h=Gn.get(h))&&Td(o,h),f=f.createElement("link"),Nt(f);var g=f;g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),Jt(f,"link",o),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=pc.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var Ad=0;function Tb(t,n){return t.stylesheets&&t.count===0&&_c(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var o=setTimeout(function(){if(t.stylesheets&&_c(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Ad===0&&(Ad=62500*tb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&_c(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Ad?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function pc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)_c(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var yc=null;function _c(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,yc=new Map,n.forEach(bb,t),yc=null,pc.call(t))}function bb(t,n){if(!(n.state.loading&4)){var s=yc.get(t);if(s)var o=s.get(null);else{s=new Map,yc.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,h),s.set(g,h),this.count++,o=pc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var ml={$$typeof:ge,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function Ab(t,n,s,o,h,f,g,E,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mi(0),this.hiddenUpdates=mi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function S_(t,n,s,o,h,f,g,E,C,P,F,K){return t=new Ab(t,n,s,g,C,P,F,K,E),n=1,f===!0&&(n|=24),f=Sn(3,null,null,n),t.current=f,f.stateNode=t,n=tf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},af(f),t}function w_(t){return t?(t=Ea,t):Ea}function x_(t,n,s,o,h,f){h=w_(h),o.context===null?o.context=h:o.pendingContext=h,o=Vs(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=ks(t,o,n),s!==null&&(_n(s,t,n),Qo(s,t,n))}function R_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Sd(t,n){R_(t,n),(t=t.alternate)&&R_(t,n)}function C_(t){if(t.tag===13||t.tag===31){var n=Vr(t,67108864);n!==null&&_n(n,t,67108864),Sd(t,67108864)}}function I_(t){if(t.tag===13||t.tag===31){var n=In();n=br(n);var s=Vr(t,n);s!==null&&_n(s,t,n),Sd(t,n)}}var vc=!0;function Sb(t,n,s,o){var h=G.T;G.T=null;var f=se.p;try{se.p=2,wd(t,n,s,o)}finally{se.p=f,G.T=h}}function wb(t,n,s,o){var h=G.T;G.T=null;var f=se.p;try{se.p=8,wd(t,n,s,o)}finally{se.p=f,G.T=h}}function wd(t,n,s,o){if(vc){var h=xd(o);if(h===null)hd(t,n,o,Ec,s),D_(t,o);else if(Rb(h,t,n,s,o))o.stopPropagation();else if(D_(t,o),n&4&&-1<xb.indexOf(t)){for(;h!==null;){var f=Mn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=fi(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var C=1<<31-At(g);E.entanglements[1]|=C,g&=~C}Di(f),(Ze&6)===0&&(nc=qt()+500,ll(0))}}break;case 31:case 13:E=Vr(f,2),E!==null&&_n(E,f,2),sc(),Sd(f,2)}if(f=xd(o),f===null&&hd(t,n,o,Ec,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else hd(t,n,o,null,s)}}function xd(t){return t=Vn(t),Rd(t)}var Ec=null;function Rd(t){if(Ec=null,t=yi(t),t!==null){var n=c(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===31){if(t=p(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Ec=t,null}function N_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qi()){case yo:return 2;case _o:return 8;case vs:case Oh:return 32;case Jl:return 268435456;default:return 32}default:return 32}}var Cd=!1,Qs=null,Ys=null,Ks=null,gl=new Map,pl=new Map,Xs=[],xb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function D_(t,n){switch(t){case"focusin":case"focusout":Qs=null;break;case"dragenter":case"dragleave":Ys=null;break;case"mouseover":case"mouseout":Ks=null;break;case"pointerover":case"pointerout":gl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":pl.delete(n.pointerId)}}function yl(t,n,s,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Mn(n),n!==null&&C_(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function Rb(t,n,s,o,h){switch(n){case"focusin":return Qs=yl(Qs,t,n,s,o,h),!0;case"dragenter":return Ys=yl(Ys,t,n,s,o,h),!0;case"mouseover":return Ks=yl(Ks,t,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return gl.set(f,yl(gl.get(f)||null,t,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,pl.set(f,yl(pl.get(f)||null,t,n,s,o,h)),!0}return!1}function O_(t){var n=yi(t.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,Jn(t.priority,function(){I_(s)});return}}else if(n===31){if(n=p(s),n!==null){t.blockedOn=n,Jn(t.priority,function(){I_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Tc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=xd(t.nativeEvent);if(s===null){s=t.nativeEvent;var o=new s.constructor(s.type,s);No=o,s.target.dispatchEvent(o),No=null}else return n=Mn(s),n!==null&&C_(n),t.blockedOn=s,!1;n.shift()}return!0}function M_(t,n,s){Tc(t)&&s.delete(n)}function Cb(){Cd=!1,Qs!==null&&Tc(Qs)&&(Qs=null),Ys!==null&&Tc(Ys)&&(Ys=null),Ks!==null&&Tc(Ks)&&(Ks=null),gl.forEach(M_),pl.forEach(M_)}function bc(t,n){t.blockedOn===n&&(t.blockedOn=null,Cd||(Cd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Cb)))}var Ac=null;function V_(t){Ac!==t&&(Ac=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ac===t&&(Ac=null);for(var n=0;n<t.length;n+=3){var s=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(Rd(o||s)===null)continue;break}var f=Mn(s);f!==null&&(t.splice(n,3),n-=3,xf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function Ga(t){function n(C){return bc(C,t)}Qs!==null&&bc(Qs,t),Ys!==null&&bc(Ys,t),Ks!==null&&bc(Ks,t),gl.forEach(n),pl.forEach(n);for(var s=0;s<Xs.length;s++){var o=Xs[s];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Xs.length&&(s=Xs[0],s.blockedOn===null);)O_(s),s.blockedOn===null&&Xs.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],g=h[Ht]||null;if(typeof f=="function")g||V_(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Ht]||null)E=g.formAction;else if(Rd(h)!==null)continue}else E=g.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),V_(s)}}}function k_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Id(t){this._internalRoot=t}Sc.prototype.render=Id.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=In();x_(s,o,t,n,null,null)},Sc.prototype.unmount=Id.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;x_(t.current,2,null,t,null,null),sc(),n[gi]=null}};function Sc(t){this._internalRoot=t}Sc.prototype.unstable_scheduleHydration=function(t){if(t){var n=su();t={blockedOn:null,target:t,priority:n};for(var s=0;s<Xs.length&&n!==0&&n<Xs[s].priority;s++);Xs.splice(s,0,t),s===0&&O_(t)}};var U_=e.version;if(U_!=="19.2.3")throw Error(a(527,U_,"19.2.3"));se.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=y(n),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var Ib={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wc.isDisabled&&wc.supportsFiber)try{$n=wc.inject(Ib),Yt=wc}catch{}}return vl.createRoot=function(t,n){if(!l(t))throw Error(a(299));var s=!1,o="",h=Hp,f=Gp,g=Fp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=S_(t,1,!1,null,null,s,o,null,h,f,g,k_),t[gi]=n.current,cd(t),new Id(n)},vl.hydrateRoot=function(t,n,s){if(!l(t))throw Error(a(299));var o=!1,h="",f=Hp,g=Gp,E=Fp,C=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(C=s.formState)),n=S_(t,1,!0,n,s??null,o,h,C,f,g,E,k_),n.context=w_(null),s=n.current,o=In(),o=br(o),h=Vs(o),h.callback=null,ks(s,h,o),s=o,n.current.lanes=s,Er(n,s),Di(n),t[gi]=n.current,cd(t),new Sc(n)},vl.version="19.2.3",vl}var Q_;function Pb(){if(Q_)return Od.exports;Q_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Od.exports=jb(),Od.exports}var zb=Pb();const Bb=()=>{};var Y_={};const Sv=function(r){const e=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},qb=function(r){const e=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];e[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const c=r[i++],d=r[i++];e[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},wv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,_=l+2<r.length,y=_?r[l+2]:0,b=c>>2,S=(c&3)<<4|p>>4;let O=(p&15)<<2|y>>6,H=y&63;_||(H=64,d||(O=64)),a.push(i[b],i[S],i[O],i[H])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Sv(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):qb(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const y=l<r.length?i[r.charAt(l)]:64;++l;const S=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||y==null||S==null)throw new Hb;const O=c<<2|p>>4;if(a.push(O),y!==64){const H=p<<4&240|y>>2;if(a.push(H),S!==64){const ee=y<<6&192|S;a.push(ee)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Hb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Gb=function(r){const e=Sv(r);return wv.encodeByteArray(e,!0)},Hc=function(r){return Gb(r).replace(/\./g,"")},xv=function(r){try{return wv.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Fb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Qb=()=>Fb().__FIREBASE_DEFAULTS__,Yb=()=>{if(typeof process>"u"||typeof Y_>"u")return;const r=Y_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Kb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&xv(r[1]);return e&&JSON.parse(e)},hh=()=>{try{return Bb()||Qb()||Yb()||Kb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Rv=r=>hh()?.emulatorHosts?.[r],Xb=r=>{const e=Rv(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Cv=()=>hh()?.config,Iv=r=>hh()?.[`_${r}`];class $b{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function uo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Nv(r){return(await fetch(r,{credentials:"include"})).ok}function Zb(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Hc(JSON.stringify(i)),Hc(JSON.stringify(d)),""].join(".")}const Sl={};function Jb(){const r={prod:[],emulator:[]};for(const e of Object.keys(Sl))Sl[e]?r.emulator.push(e):r.prod.push(e);return r}function Wb(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let K_=!1;function Dv(r,e){if(typeof window>"u"||typeof document>"u"||!uo(window.location.host)||Sl[r]===e||Sl[r]||K_)return;Sl[r]=e;function i(O){return`__firebase__banner__${O}`}const a="__firebase__banner",c=Jb().prod.length>0;function d(){const O=document.getElementById(a);O&&O.remove()}function p(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function _(O,H){O.setAttribute("width","24"),O.setAttribute("id",H),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function y(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{K_=!0,d()},O}function b(O,H){O.setAttribute("id",H),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function S(){const O=Wb(a),H=i("text"),ee=document.getElementById(H)||document.createElement("span"),te=i("learnmore"),W=document.getElementById(te)||document.createElement("a"),ce=i("preprendIcon"),Ee=document.getElementById(ce)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const ge=O.element;p(ge),b(W,te);const Je=y();_(Ee,ce),ge.append(Ee,ee,W,Je),document.body.appendChild(ge)}c?(ee.innerText="Preview backend disconnected.",Ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,ee.innerText="Preview backend running in this workspace."),ee.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function tA(){const r=hh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function sA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rA(){const r=ln();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function aA(){return!tA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oA(){try{return typeof indexedDB=="object"}catch{return!1}}function lA(){return new Promise((r,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const uA="FirebaseError";class _s extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=uA,Object.setPrototypeOf(this,_s.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pl.prototype.create)}}class Pl{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?cA(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new _s(l,p,a)}}function cA(r,e){return r.replace(hA,(i,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const hA=/\{\$([^}]+)}/g;function fA(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function lr(r,e){if(r===e)return!0;const i=Object.keys(r),a=Object.keys(e);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=e[l];if(X_(c)&&X_(d)){if(!lr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function X_(r){return r!==null&&typeof r=="object"}function zl(r){const e=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function dA(r,e){const i=new mA(r,e);return i.subscribe.bind(i)}class mA{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let l;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");gA(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:a},l.next===void 0&&(l.next=Ud),l.error===void 0&&(l.error=Ud),l.complete===void 0&&(l.complete=Ud);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gA(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function Ud(){}function hn(r){return r&&r._delegate?r._delegate:r}class $r{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Yr="[DEFAULT]";class pA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new $b;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_A(e))try{this.getOrInitializeService({instanceIdentifier:Yr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(e=Yr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Yr){return this.instances.has(e)}getOptions(e=Yr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:yA(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Yr){return this.component?this.component.multipleInstances?e:Yr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yA(r){return r===Yr?void 0:r}function _A(r){return r.instantiationMode==="EAGER"}class vA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new pA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Ue;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ue||(Ue={}));const EA={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},TA=Ue.INFO,bA={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},AA=(r,e,...i)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),l=bA[e];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xm{constructor(e){this.name=e,this._logLevel=TA,this._logHandler=AA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?EA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const SA=(r,e)=>e.some(i=>r instanceof i);let $_,Z_;function wA(){return $_||($_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xA(){return Z_||(Z_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ov=new WeakMap,$d=new WeakMap,Mv=new WeakMap,Ld=new WeakMap,Rm=new WeakMap;function RA(r){const e=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(ir(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Ov.set(i,r)}).catch(()=>{}),Rm.set(e,r),e}function CA(r){if($d.has(r))return;const e=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});$d.set(r,e)}let Zd={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return $d.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Mv.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ir(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function IA(r){Zd=r(Zd)}function NA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=r.call(jd(this),e,...i);return Mv.set(a,e.sort?e.sort():[e]),ir(a)}:xA().includes(r)?function(...e){return r.apply(jd(this),e),ir(Ov.get(this))}:function(...e){return ir(r.apply(jd(this),e))}}function DA(r){return typeof r=="function"?NA(r):(r instanceof IDBTransaction&&CA(r),SA(r,wA())?new Proxy(r,Zd):r)}function ir(r){if(r instanceof IDBRequest)return RA(r);if(Ld.has(r))return Ld.get(r);const e=DA(r);return e!==r&&(Ld.set(r,e),Rm.set(e,r)),e}const jd=r=>Rm.get(r);function OA(r,e,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,e),p=ir(d);return a&&d.addEventListener("upgradeneeded",_=>{a(ir(d.result),_.oldVersion,_.newVersion,ir(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const MA=["get","getKey","getAll","getAllKeys","count"],VA=["put","add","delete","clear"],Pd=new Map;function J_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Pd.get(e))return Pd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,l=VA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||MA.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return a&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&_.done]))[0]};return Pd.set(e,c),c}IA(r=>({...r,get:(e,i,a)=>J_(e,i)||r.get(e,i,a),has:(e,i)=>!!J_(e,i)||r.has(e,i)}));class kA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(UA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function UA(r){return r.getComponent()?.type==="VERSION"}const Jd="@firebase/app",W_="0.14.6";const fs=new xm("@firebase/app"),LA="@firebase/app-compat",jA="@firebase/analytics-compat",PA="@firebase/analytics",zA="@firebase/app-check-compat",BA="@firebase/app-check",qA="@firebase/auth",HA="@firebase/auth-compat",GA="@firebase/database",FA="@firebase/data-connect",QA="@firebase/database-compat",YA="@firebase/functions",KA="@firebase/functions-compat",XA="@firebase/installations",$A="@firebase/installations-compat",ZA="@firebase/messaging",JA="@firebase/messaging-compat",WA="@firebase/performance",eS="@firebase/performance-compat",tS="@firebase/remote-config",nS="@firebase/remote-config-compat",iS="@firebase/storage",sS="@firebase/storage-compat",rS="@firebase/firestore",aS="@firebase/ai",oS="@firebase/firestore-compat",lS="firebase",uS="12.6.0";const Wd="[DEFAULT]",cS={[Jd]:"fire-core",[LA]:"fire-core-compat",[PA]:"fire-analytics",[jA]:"fire-analytics-compat",[BA]:"fire-app-check",[zA]:"fire-app-check-compat",[qA]:"fire-auth",[HA]:"fire-auth-compat",[GA]:"fire-rtdb",[FA]:"fire-data-connect",[QA]:"fire-rtdb-compat",[YA]:"fire-fn",[KA]:"fire-fn-compat",[XA]:"fire-iid",[$A]:"fire-iid-compat",[ZA]:"fire-fcm",[JA]:"fire-fcm-compat",[WA]:"fire-perf",[eS]:"fire-perf-compat",[tS]:"fire-rc",[nS]:"fire-rc-compat",[iS]:"fire-gcs",[sS]:"fire-gcs-compat",[rS]:"fire-fst",[oS]:"fire-fst-compat",[aS]:"fire-vertex","fire-js":"fire-js",[lS]:"fire-js-all"};const Gc=new Map,hS=new Map,em=new Map;function e0(r,e){try{r.container.addComponent(e)}catch(i){fs.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function to(r){const e=r.name;if(em.has(e))return fs.debug(`There were multiple attempts to register component ${e}.`),!1;em.set(e,r);for(const i of Gc.values())e0(i,r);for(const i of hS.values())e0(i,r);return!0}function Cm(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function Kn(r){return r==null?!1:r.settings!==void 0}const fS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},sr=new Pl("app","Firebase",fS);class dS{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new $r("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw sr.create("app-deleted",{appName:this._name})}}const co=uS;function Vv(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const a={name:Wd,automaticDataCollectionEnabled:!0,...e},l=a.name;if(typeof l!="string"||!l)throw sr.create("bad-app-name",{appName:String(l)});if(i||(i=Cv()),!i)throw sr.create("no-options");const c=Gc.get(l);if(c){if(lr(i,c.options)&&lr(a,c.config))return c;throw sr.create("duplicate-app",{appName:l})}const d=new vA(l);for(const _ of em.values())d.addComponent(_);const p=new dS(i,a,d);return Gc.set(l,p),p}function kv(r=Wd){const e=Gc.get(r);if(!e&&r===Wd&&Cv())return Vv();if(!e)throw sr.create("no-app",{appName:r});return e}function rr(r,e,i){let a=cS[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fs.warn(d.join(" "));return}to(new $r(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const mS="firebase-heartbeat-database",gS=1,Dl="firebase-heartbeat-store";let zd=null;function Uv(){return zd||(zd=OA(mS,gS,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Dl)}catch(i){console.warn(i)}}}}).catch(r=>{throw sr.create("idb-open",{originalErrorMessage:r.message})})),zd}async function pS(r){try{const i=(await Uv()).transaction(Dl),a=await i.objectStore(Dl).get(Lv(r));return await i.done,a}catch(e){if(e instanceof _s)fs.warn(e.message);else{const i=sr.create("idb-get",{originalErrorMessage:e?.message});fs.warn(i.message)}}}async function t0(r,e){try{const a=(await Uv()).transaction(Dl,"readwrite");await a.objectStore(Dl).put(e,Lv(r)),await a.done}catch(i){if(i instanceof _s)fs.warn(i.message);else{const a=sr.create("idb-set",{originalErrorMessage:i?.message});fs.warn(a.message)}}}function Lv(r){return`${r.name}!${r.options.appId}`}const yS=1024,_S=30;class vS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new TS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=n0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>_S){const l=bS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){fs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=n0(),{heartbeatsToSend:i,unsentEntries:a}=ES(this._heartbeatsCache.heartbeats),l=Hc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return fs.warn(e),""}}}function n0(){return new Date().toISOString().substring(0,10)}function ES(r,e=yS){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),i0(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),i0(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class TS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oA()?lA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await pS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return t0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return t0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function i0(r){return Hc(JSON.stringify({version:2,heartbeats:r})).length}function bS(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,e=a);return e}function AS(r){to(new $r("platform-logger",e=>new kA(e),"PRIVATE")),to(new $r("heartbeat",e=>new vS(e),"PRIVATE")),rr(Jd,W_,r),rr(Jd,W_,"esm2020"),rr("fire-js","")}AS("");var SS="firebase",wS="12.7.0";rr(SS,wS,"app");function jv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xS=jv,Pv=new Pl("auth","Firebase",jv());const Fc=new xm("@firebase/auth");function RS(r,...e){Fc.logLevel<=Ue.WARN&&Fc.warn(`Auth (${co}): ${r}`,...e)}function Oc(r,...e){Fc.logLevel<=Ue.ERROR&&Fc.error(`Auth (${co}): ${r}`,...e)}function ds(r,...e){throw Im(r,...e)}function Vi(r,...e){return Im(r,...e)}function zv(r,e,i){const a={...xS(),[e]:i};return new Pl("auth","Firebase",a).create(e,{appName:r.name})}function hs(r){return zv(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Im(r,...e){if(typeof r!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return Pv.create(r,...e)}function Te(r,e,...i){if(!r)throw Im(e,...i)}function us(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Oc(e),new Error(e)}function ms(r,e){r||us(e)}function tm(){return typeof self<"u"&&self.location?.href||""}function CS(){return s0()==="http:"||s0()==="https:"}function s0(){return typeof self<"u"&&self.location?.protocol||null}function IS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(CS()||iA()||"connection"in navigator)?navigator.onLine:!0}function NS(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Bl{constructor(e,i){this.shortDelay=e,this.longDelay=i,ms(i>e,"Short delay should be less than long delay!"),this.isMobile=eA()||sA()}get(){return IS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Nm(r,e){ms(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class Bv{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;us("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;us("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;us("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const DS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const OS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],MS=new Bl(3e4,6e4);function ql(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function ho(r,e,i,a,l={}){return qv(r,l,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const p=zl({key:r.config.apiKey,...d}).slice(1),_=await r._getAdditionalHeaders();_["Content-Type"]="application/json",r.languageCode&&(_["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:_,...c};return nA()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&uo(r.emulatorConfig.host)&&(y.credentials="include"),Bv.fetch()(await Hv(r,r.config.apiHost,i,p),y)})}async function qv(r,e,i){r._canInitEmulator=!1;const a={...DS,...e};try{const l=new VS(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw xc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw xc(r,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw xc(r,"email-already-in-use",d);if(_==="USER_DISABLED")throw xc(r,"user-disabled",d);const b=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw zv(r,b,y);ds(r,b)}}catch(l){if(l instanceof _s)throw l;ds(r,"network-request-failed",{message:String(l)})}}async function Dm(r,e,i,a,l={}){const c=await ho(r,e,i,a,l);return"mfaPendingCredential"in c&&ds(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function Hv(r,e,i,a){const l=`${e}${i}?${a}`,c=r,d=c.config.emulator?Nm(r.config,l):`${r.config.apiScheme}://${l}`;return OS.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class VS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Vi(this.auth,"network-request-failed")),MS.get())})}}function xc(r,e,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Vi(r,e,a);return l.customData._tokenResponse=i,l}async function kS(r,e){return ho(r,"POST","/v1/accounts:delete",e)}async function Qc(r,e){return ho(r,"POST","/v1/accounts:lookup",e)}function wl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function US(r,e=!1){const i=hn(r),a=await i.getIdToken(e),l=Om(a);Te(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:wl(Bd(l.auth_time)),issuedAtTime:wl(Bd(l.iat)),expirationTime:wl(Bd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Bd(r){return Number(r)*1e3}function Om(r){const[e,i,a]=r.split(".");if(e===void 0||i===void 0||a===void 0)return Oc("JWT malformed, contained fewer than 3 sections"),null;try{const l=xv(i);return l?JSON.parse(l):(Oc("Failed to decode base64 JWT payload"),null)}catch(l){return Oc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function r0(r){const e=Om(r);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ol(r,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof _s&&LS(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function LS({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class jS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class nm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=wl(this.lastLoginAt),this.creationTime=wl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Yc(r){const e=r.auth,i=await r.getIdToken(),a=await Ol(r,Qc(e,{idToken:i}));Te(a?.users.length,e,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?Gv(l.providerUserInfo):[],d=zS(r.providerData,c),p=r.isAnonymous,_=!(r.email&&l.passwordHash)&&!d?.length,y=p?_:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new nm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(r,b)}async function PS(r){const e=hn(r);await Yc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function zS(r,e){return[...r.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function Gv(r){return r.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function BS(r,e){const i=await qv(r,{},async()=>{const a=zl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await Hv(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:a};return r.emulatorConfig&&uo(r.emulatorConfig.host)&&(_.credentials="include"),Bv.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function qS(r,e){return ho(r,"POST","/v2/accounts:revokeToken",ql(r,e))}class $a{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):r0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const i=r0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await BS(e,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new $a;return a&&(Te(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),l&&(Te(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(Te(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $a,this.toJSON())}_performRefresh(){return us("not implemented")}}function Zs(r,e){Te(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class li{constructor({uid:e,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new jS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new nm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await Ol(this,this.stsTokenManager.getToken(this.auth,e));return Te(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return US(this,e)}reload(){return PS(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new li({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await Yc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(hs(this.auth));const e=await this.getIdToken();return await Ol(this,kS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:S,emailVerified:O,isAnonymous:H,providerData:ee,stsTokenManager:te}=i;Te(S&&te,e,"internal-error");const W=$a.fromJSON(this.name,te);Te(typeof S=="string",e,"internal-error"),Zs(a,e.name),Zs(l,e.name),Te(typeof O=="boolean",e,"internal-error"),Te(typeof H=="boolean",e,"internal-error"),Zs(c,e.name),Zs(d,e.name),Zs(p,e.name),Zs(_,e.name),Zs(y,e.name),Zs(b,e.name);const ce=new li({uid:S,auth:e,email:l,emailVerified:O,displayName:a,isAnonymous:H,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:W,createdAt:y,lastLoginAt:b});return ee&&Array.isArray(ee)&&(ce.providerData=ee.map(Ee=>({...Ee}))),_&&(ce._redirectEventId=_),ce}static async _fromIdTokenResponse(e,i,a=!1){const l=new $a;l.updateFromServerResponse(i);const c=new li({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await Yc(c),c}static async _fromGetAccountInfoResponse(e,i,a){const l=i.users[0];Te(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Gv(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new $a;p.updateFromIdToken(a);const _=new li({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new nm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const a0=new Map;function cs(r){ms(r instanceof Function,"Expected a class definition");let e=a0.get(r);return e?(ms(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,a0.set(r,e),e)}class Fv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}Fv.type="NONE";const o0=Fv;function Mc(r,e,i){return`firebase:${r}:${e}:${i}`}class Za{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Mc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Mc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Qc(this.auth,{idToken:e}).catch(()=>{});return i?li._fromGetAccountInfoResponse(this.auth,i,e):null}return li._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new Za(cs(o0),e,a);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||cs(o0);const d=Mc(a,e.config.apiKey,e.name);let p=null;for(const y of i)try{const b=await y._get(d);if(b){let S;if(typeof b=="string"){const O=await Qc(e,{idToken:b}).catch(()=>{});if(!O)break;S=await li._fromGetAccountInfoResponse(e,O,b)}else S=li._fromJSON(e,b);y!==c&&(p=S),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new Za(c,e,a):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Za(c,e,a))}}function l0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Xv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Qv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Zv(e))return"Blackberry";if(Jv(e))return"Webos";if(Yv(e))return"Safari";if((e.includes("chrome/")||Kv(e))&&!e.includes("edge/"))return"Chrome";if($v(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function Qv(r=ln()){return/firefox\//i.test(r)}function Yv(r=ln()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Kv(r=ln()){return/crios\//i.test(r)}function Xv(r=ln()){return/iemobile/i.test(r)}function $v(r=ln()){return/android/i.test(r)}function Zv(r=ln()){return/blackberry/i.test(r)}function Jv(r=ln()){return/webos/i.test(r)}function Mm(r=ln()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function HS(r=ln()){return Mm(r)&&!!window.navigator?.standalone}function GS(){return rA()&&document.documentMode===10}function Wv(r=ln()){return Mm(r)||$v(r)||Jv(r)||Zv(r)||/windows phone/i.test(r)||Xv(r)}function eE(r,e=[]){let i;switch(r){case"Browser":i=l0(ln());break;case"Worker":i=`${l0(ln())}-${r}`;break;default:i=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${co}/${a}`}class FS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,p)=>{try{const _=e(c);d(_)}catch(_){p(_)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function QS(r,e={}){return ho(r,"GET","/v2/passwordPolicy",ql(r,e))}const YS=6;class KS{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??YS,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class XS{constructor(e,i,a,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new u0(this),this.idTokenSubscription=new u0(this),this.beforeStateQueue=new FS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Pv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=cs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Za.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Qc(this,{idToken:e}),a=await li._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Kn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Yc(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=NS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kn(this.app))return Promise.reject(hs(this));const i=e?hn(e):null;return i&&Te(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(hs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kn(this.app)?Promise.reject(hs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await QS(this),i=new KS(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Pl("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await qS(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&cs(e)||this._popupRedirectResolver;Te(i,this,"argument-error"),this.redirectPersistenceManager=await Za.create(this,[cs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=e.addObserver(i,a,l);return()=>{d=!0,_()}}else{const _=e.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=eE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&RS(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Hl(r){return hn(r)}class u0{constructor(e){this.auth=e,this.observer=null,this.addObserver=dA(i=>this.observer=i)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Vm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $S(r){Vm=r}function ZS(r){return Vm.loadJS(r)}function JS(){return Vm.gapiScript}function WS(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function e2(r,e){const i=Cm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(lr(c,e??{}))return l;ds(l,"already-initialized")}return i.initialize({options:e})}function t2(r,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(cs);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e?.popupRedirectResolver)}function n2(r,e,i){const a=Hl(r);Te(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,c=tE(e),{host:d,port:p}=i2(e),_=p===null?"":`:${p}`,y={url:`${c}//${d}${_}/`},b=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Te(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Te(lr(y,a.config.emulator)&&lr(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,uo(d)?(Nv(`${c}//${d}${_}`),Dv("Auth",!0)):s2()}function tE(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function i2(r){const e=tE(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:c0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:c0(d)}}}function c0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function s2(){function r(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class nE{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return us("not implemented")}_getIdTokenResponse(e){return us("not implemented")}_linkToIdToken(e,i){return us("not implemented")}_getReauthenticationResolver(e){return us("not implemented")}}async function Ja(r,e){return Dm(r,"POST","/v1/accounts:signInWithIdp",ql(r,e))}const r2="http://localhost";class Zr extends nE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Zr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):ds("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new Zr(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return Ja(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,Ja(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Ja(e,i)}buildRequest(){const e={requestUri:r2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=zl(i)}return e}}class iE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Gl extends iE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Js extends Gl{constructor(){super("facebook.com")}static credential(e){return Zr._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Js.credential(e.oauthAccessToken)}catch{return null}}}Js.FACEBOOK_SIGN_IN_METHOD="facebook.com";Js.PROVIDER_ID="facebook.com";class Ws extends Gl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Zr._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Ws.credentialFromTaggedObject(e)}static credentialFromError(e){return Ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return Ws.credential(i,a)}catch{return null}}}Ws.GOOGLE_SIGN_IN_METHOD="google.com";Ws.PROVIDER_ID="google.com";class er extends Gl{constructor(){super("github.com")}static credential(e){return Zr._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return er.credentialFromTaggedObject(e)}static credentialFromError(e){return er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return er.credential(e.oauthAccessToken)}catch{return null}}}er.GITHUB_SIGN_IN_METHOD="github.com";er.PROVIDER_ID="github.com";class tr extends Gl{constructor(){super("twitter.com")}static credential(e,i){return Zr._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return tr.credentialFromTaggedObject(e)}static credentialFromError(e){return tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return tr.credential(i,a)}catch{return null}}}tr.TWITTER_SIGN_IN_METHOD="twitter.com";tr.PROVIDER_ID="twitter.com";async function a2(r,e){return Dm(r,"POST","/v1/accounts:signUp",ql(r,e))}class gs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,l=!1){const c=await li._fromIdTokenResponse(e,a,l),d=h0(a);return new gs({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const l=h0(a);return new gs({user:e,providerId:l,_tokenResponse:a,operationType:i})}}function h0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function o2(r){if(Kn(r.app))return Promise.reject(hs(r));const e=Hl(r);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new gs({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await a2(e,{returnSecureToken:!0}),a=await gs._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class Kc extends _s{constructor(e,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Kc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,l){return new Kc(e,i,a,l)}}function sE(r,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Kc._fromErrorAndOperation(r,c,e,a):c})}async function l2(r,e,i=!1){const a=await Ol(r,e._linkToIdToken(r.auth,await r.getIdToken()),i);return gs._forOperation(r,"link",a)}async function u2(r,e,i=!1){const{auth:a}=r;if(Kn(a.app))return Promise.reject(hs(a));const l="reauthenticate";try{const c=await Ol(r,sE(a,l,e,r),i);Te(c.idToken,a,"internal-error");const d=Om(c.idToken);Te(d,a,"internal-error");const{sub:p}=d;return Te(r.uid===p,a,"user-mismatch"),gs._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&ds(a,"user-mismatch"),c}}async function c2(r,e,i=!1){if(Kn(r.app))return Promise.reject(hs(r));const a="signIn",l=await sE(r,a,e),c=await gs._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}async function h2(r,e){return Dm(r,"POST","/v1/accounts:signInWithCustomToken",ql(r,e))}async function f2(r,e){if(Kn(r.app))return Promise.reject(hs(r));const i=Hl(r),a=await h2(i,{token:e,returnSecureToken:!0}),l=await gs._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function d2(r,e,i,a){return hn(r).onIdTokenChanged(e,i,a)}function m2(r,e,i){return hn(r).beforeAuthStateChanged(e,i)}function g2(r,e,i,a){return hn(r).onAuthStateChanged(e,i,a)}const Xc="__sak";class rE{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Xc,"1"),this.storage.removeItem(Xc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const p2=1e3,y2=10;class aE extends rE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Wv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&e(i,l,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const a=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);GS()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,y2):l()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},p2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}aE.type="LOCAL";const _2=aE;class oE extends rE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}oE.type="SESSION";const lE=oE;function v2(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class fh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const a=new fh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),_=await v2(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:_})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fh.receivers=[];function km(r="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return r+i}class E2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const y=km("",20);l.port1.start();const b=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(S){const O=S;if(O.data.eventId===y)switch(O.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(O.data.response);break;default:clearTimeout(b),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function ki(){return window}function T2(r){ki().location.href=r}function uE(){return typeof ki().WorkerGlobalScope<"u"&&typeof ki().importScripts=="function"}async function b2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function A2(){return navigator?.serviceWorker?.controller||null}function S2(){return uE()?self:null}const cE="firebaseLocalStorageDb",w2=1,$c="firebaseLocalStorage",hE="fbase_key";class Fl{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function dh(r,e){return r.transaction([$c],e?"readwrite":"readonly").objectStore($c)}function x2(){const r=indexedDB.deleteDatabase(cE);return new Fl(r).toPromise()}function im(){const r=indexedDB.open(cE,w2);return new Promise((e,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore($c,{keyPath:hE})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains($c)?e(a):(a.close(),await x2(),e(await im()))})})}async function f0(r,e,i){const a=dh(r,!0).put({[hE]:e,value:i});return new Fl(a).toPromise()}async function R2(r,e){const i=dh(r,!1).get(e),a=await new Fl(i).toPromise();return a===void 0?null:a.value}function d0(r,e){const i=dh(r,!0).delete(e);return new Fl(i).toPromise()}const C2=800,I2=3;class fE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await im(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>I2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return uE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fh._getInstance(S2()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await b2(),!this.activeServiceWorker)return;this.sender=new E2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||A2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await im();return await f0(e,Xc,"1"),await d0(e,Xc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>f0(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>R2(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>d0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=dh(l,!1).getAll();return new Fl(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),C2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}fE.type="LOCAL";const N2=fE;new Bl(3e4,6e4);function D2(r,e){return e?cs(e):(Te(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Um extends nE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ja(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Ja(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Ja(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function O2(r){return c2(r.auth,new Um(r),r.bypassAuthState)}function M2(r){const{auth:e,user:i}=r;return Te(i,e,"internal-error"),u2(i,new Um(r),r.bypassAuthState)}async function V2(r){const{auth:e,user:i}=r;return Te(i,e,"internal-error"),l2(i,new Um(r),r.bypassAuthState)}class dE{constructor(e,i,a,l,c=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return O2;case"linkViaPopup":case"linkViaRedirect":return V2;case"reauthViaPopup":case"reauthViaRedirect":return M2;default:ds(this.auth,"internal-error")}}resolve(e){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const k2=new Bl(2e3,1e4);class Xa extends dE{constructor(e,i,a,l,c){super(e,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Xa.currentPopupAction&&Xa.currentPopupAction.cancel(),Xa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){ms(this.filter.length===1,"Popup operations only handle one event");const e=km();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,k2.get())};e()}}Xa.currentPopupAction=null;const U2="pendingRedirect",Vc=new Map;class L2 extends dE{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Vc.get(this.auth._key());if(!e){try{const a=await j2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Vc.set(this.auth._key(),e)}return this.bypassAuthState||Vc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function j2(r,e){const i=B2(e),a=z2(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function P2(r,e){Vc.set(r._key(),e)}function z2(r){return cs(r._redirectPersistence)}function B2(r){return Mc(U2,r.config.apiKey,r.name)}async function q2(r,e,i=!1){if(Kn(r.app))return Promise.reject(hs(r));const a=Hl(r),l=D2(a,e),d=await new L2(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const H2=600*1e3;class G2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!F2(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!mE(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Vi(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=H2&&this.cachedEventUids.clear(),this.cachedEventUids.has(m0(e))}saveEventToCache(e){this.cachedEventUids.add(m0(e)),this.lastProcessedEventTime=Date.now()}}function m0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function mE({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function F2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mE(r);default:return!1}}async function Q2(r,e={}){return ho(r,"GET","/v1/projects",e)}const Y2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,K2=/^https?/;async function X2(r){if(r.config.emulator)return;const{authorizedDomains:e}=await Q2(r);for(const i of e)try{if($2(i))return}catch{}ds(r,"unauthorized-domain")}function $2(r){const e=tm(),{protocol:i,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!K2.test(i))return!1;if(Y2.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const Z2=new Bl(3e4,6e4);function g0(){const r=ki().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function J2(r){return new Promise((e,i)=>{function a(){g0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{g0(),i(Vi(r,"network-request-failed"))},timeout:Z2.get()})}if(ki().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ki().gapi?.load)a();else{const l=WS("iframefcb");return ki()[l]=()=>{gapi.load?a():i(Vi(r,"network-request-failed"))},ZS(`${JS()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw kc=null,e})}let kc=null;function W2(r){return kc=kc||J2(r),kc}const ew=new Bl(5e3,15e3),tw="__/auth/iframe",nw="emulator/auth/iframe",iw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rw(r){const e=r.config;Te(e.authDomain,r,"auth-domain-config-required");const i=e.emulator?Nm(e,nw):`https://${r.config.authDomain}/${tw}`,a={apiKey:e.apiKey,appName:r.name,v:co},l=sw.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${zl(a).slice(1)}`}async function aw(r){const e=await W2(r),i=ki().gapi;return Te(i,r,"internal-error"),e.open({where:document.body,url:rw(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:iw,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Vi(r,"network-request-failed"),p=ki().setTimeout(()=>{c(d)},ew.get());function _(){ki().clearTimeout(p),l(a)}a.ping(_).then(_,()=>{c(d)})}))}const ow={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lw=500,uw=600,cw="_blank",hw="http://localhost";class p0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fw(r,e,i,a=lw,l=uw){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const _={...ow,width:a.toString(),height:l.toString(),top:c,left:d},y=ln().toLowerCase();i&&(p=Kv(y)?cw:i),Qv(y)&&(e=e||hw,_.scrollbars="yes");const b=Object.entries(_).reduce((O,[H,ee])=>`${O}${H}=${ee},`,"");if(HS(y)&&p!=="_self")return dw(e||"",p),new p0(null);const S=window.open(e||"",p,b);Te(S,r,"popup-blocked");try{S.focus()}catch{}return new p0(S)}function dw(r,e){const i=document.createElement("a");i.href=r,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const mw="__/auth/handler",gw="emulator/auth/handler",pw=encodeURIComponent("fac");async function y0(r,e,i,a,l,c){Te(r.config.authDomain,r,"auth-domain-config-required"),Te(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:co,eventId:l};if(e instanceof iE){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",fA(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,S]of Object.entries({}))d[b]=S}if(e instanceof Gl){const b=e.getScopes().filter(S=>S!=="");b.length>0&&(d.scopes=b.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const b of Object.keys(p))p[b]===void 0&&delete p[b];const _=await r._getAppCheckToken(),y=_?`#${pw}=${encodeURIComponent(_)}`:"";return`${yw(r)}?${zl(p).slice(1)}${y}`}function yw({config:r}){return r.emulator?Nm(r,gw):`https://${r.authDomain}/${mw}`}const qd="webStorageSupport";class _w{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lE,this._completeRedirectFn=q2,this._overrideRedirectResult=P2}async _openPopup(e,i,a,l){ms(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await y0(e,i,a,tm(),l);return fw(e,c,km())}async _openRedirect(e,i,a,l){await this._originValidation(e);const c=await y0(e,i,a,tm(),l);return T2(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(ms(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await aw(e),a=new G2(e);return i.register("authEvent",l=>(Te(l?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(qd,{type:qd},l=>{const c=l?.[0]?.[qd];c!==void 0&&i(!!c),ds(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=X2(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return Wv()||Yv()||Mm()}}const vw=_w;var _0="@firebase/auth",v0="1.12.0";class Ew{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Tw(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function bw(r){to(new $r("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;Te(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eE(r)},y=new XS(a,l,c,_);return t2(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),to(new $r("auth-internal",e=>{const i=Hl(e.getProvider("auth").getImmediate());return(a=>new Ew(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),rr(_0,v0,Tw(r)),rr(_0,v0,"esm2020")}const Aw=300,Sw=Iv("authIdTokenMaxAge")||Aw;let E0=null;const ww=r=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>Sw)return;const l=i?.token;E0!==l&&(E0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function xw(r=kv()){const e=Cm(r,"auth");if(e.isInitialized())return e.getImmediate();const i=e2(r,{popupRedirectResolver:vw,persistence:[N2,_2,lE]}),a=Iv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=ww(c.toString());m2(i,d,()=>d(i.currentUser)),d2(i,p=>d(p))}}const l=Rv("auth");return l&&n2(i,`http://${l}`),i}function Rw(){return document.getElementsByTagName("head")?.[0]??document}$S({loadJS(r){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=l=>{const c=Vi("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",Rw().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});bw("Browser");var T0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ar,gE;(function(){var r;function e(I,w){function R(){}R.prototype=w.prototype,I.F=w.prototype,I.prototype=new R,I.prototype.constructor=I,I.D=function(V,N,U){for(var x=Array(arguments.length-2),ut=2;ut<arguments.length;ut++)x[ut-2]=arguments[ut];return w.prototype[N].apply(V,x)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,w,R){R||(R=0);const V=Array(16);if(typeof w=="string")for(var N=0;N<16;++N)V[N]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(N=0;N<16;++N)V[N]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=I.g[0],R=I.g[1],N=I.g[2];let U=I.g[3],x;x=w+(U^R&(N^U))+V[0]+3614090360&4294967295,w=R+(x<<7&4294967295|x>>>25),x=U+(N^w&(R^N))+V[1]+3905402710&4294967295,U=w+(x<<12&4294967295|x>>>20),x=N+(R^U&(w^R))+V[2]+606105819&4294967295,N=U+(x<<17&4294967295|x>>>15),x=R+(w^N&(U^w))+V[3]+3250441966&4294967295,R=N+(x<<22&4294967295|x>>>10),x=w+(U^R&(N^U))+V[4]+4118548399&4294967295,w=R+(x<<7&4294967295|x>>>25),x=U+(N^w&(R^N))+V[5]+1200080426&4294967295,U=w+(x<<12&4294967295|x>>>20),x=N+(R^U&(w^R))+V[6]+2821735955&4294967295,N=U+(x<<17&4294967295|x>>>15),x=R+(w^N&(U^w))+V[7]+4249261313&4294967295,R=N+(x<<22&4294967295|x>>>10),x=w+(U^R&(N^U))+V[8]+1770035416&4294967295,w=R+(x<<7&4294967295|x>>>25),x=U+(N^w&(R^N))+V[9]+2336552879&4294967295,U=w+(x<<12&4294967295|x>>>20),x=N+(R^U&(w^R))+V[10]+4294925233&4294967295,N=U+(x<<17&4294967295|x>>>15),x=R+(w^N&(U^w))+V[11]+2304563134&4294967295,R=N+(x<<22&4294967295|x>>>10),x=w+(U^R&(N^U))+V[12]+1804603682&4294967295,w=R+(x<<7&4294967295|x>>>25),x=U+(N^w&(R^N))+V[13]+4254626195&4294967295,U=w+(x<<12&4294967295|x>>>20),x=N+(R^U&(w^R))+V[14]+2792965006&4294967295,N=U+(x<<17&4294967295|x>>>15),x=R+(w^N&(U^w))+V[15]+1236535329&4294967295,R=N+(x<<22&4294967295|x>>>10),x=w+(N^U&(R^N))+V[1]+4129170786&4294967295,w=R+(x<<5&4294967295|x>>>27),x=U+(R^N&(w^R))+V[6]+3225465664&4294967295,U=w+(x<<9&4294967295|x>>>23),x=N+(w^R&(U^w))+V[11]+643717713&4294967295,N=U+(x<<14&4294967295|x>>>18),x=R+(U^w&(N^U))+V[0]+3921069994&4294967295,R=N+(x<<20&4294967295|x>>>12),x=w+(N^U&(R^N))+V[5]+3593408605&4294967295,w=R+(x<<5&4294967295|x>>>27),x=U+(R^N&(w^R))+V[10]+38016083&4294967295,U=w+(x<<9&4294967295|x>>>23),x=N+(w^R&(U^w))+V[15]+3634488961&4294967295,N=U+(x<<14&4294967295|x>>>18),x=R+(U^w&(N^U))+V[4]+3889429448&4294967295,R=N+(x<<20&4294967295|x>>>12),x=w+(N^U&(R^N))+V[9]+568446438&4294967295,w=R+(x<<5&4294967295|x>>>27),x=U+(R^N&(w^R))+V[14]+3275163606&4294967295,U=w+(x<<9&4294967295|x>>>23),x=N+(w^R&(U^w))+V[3]+4107603335&4294967295,N=U+(x<<14&4294967295|x>>>18),x=R+(U^w&(N^U))+V[8]+1163531501&4294967295,R=N+(x<<20&4294967295|x>>>12),x=w+(N^U&(R^N))+V[13]+2850285829&4294967295,w=R+(x<<5&4294967295|x>>>27),x=U+(R^N&(w^R))+V[2]+4243563512&4294967295,U=w+(x<<9&4294967295|x>>>23),x=N+(w^R&(U^w))+V[7]+1735328473&4294967295,N=U+(x<<14&4294967295|x>>>18),x=R+(U^w&(N^U))+V[12]+2368359562&4294967295,R=N+(x<<20&4294967295|x>>>12),x=w+(R^N^U)+V[5]+4294588738&4294967295,w=R+(x<<4&4294967295|x>>>28),x=U+(w^R^N)+V[8]+2272392833&4294967295,U=w+(x<<11&4294967295|x>>>21),x=N+(U^w^R)+V[11]+1839030562&4294967295,N=U+(x<<16&4294967295|x>>>16),x=R+(N^U^w)+V[14]+4259657740&4294967295,R=N+(x<<23&4294967295|x>>>9),x=w+(R^N^U)+V[1]+2763975236&4294967295,w=R+(x<<4&4294967295|x>>>28),x=U+(w^R^N)+V[4]+1272893353&4294967295,U=w+(x<<11&4294967295|x>>>21),x=N+(U^w^R)+V[7]+4139469664&4294967295,N=U+(x<<16&4294967295|x>>>16),x=R+(N^U^w)+V[10]+3200236656&4294967295,R=N+(x<<23&4294967295|x>>>9),x=w+(R^N^U)+V[13]+681279174&4294967295,w=R+(x<<4&4294967295|x>>>28),x=U+(w^R^N)+V[0]+3936430074&4294967295,U=w+(x<<11&4294967295|x>>>21),x=N+(U^w^R)+V[3]+3572445317&4294967295,N=U+(x<<16&4294967295|x>>>16),x=R+(N^U^w)+V[6]+76029189&4294967295,R=N+(x<<23&4294967295|x>>>9),x=w+(R^N^U)+V[9]+3654602809&4294967295,w=R+(x<<4&4294967295|x>>>28),x=U+(w^R^N)+V[12]+3873151461&4294967295,U=w+(x<<11&4294967295|x>>>21),x=N+(U^w^R)+V[15]+530742520&4294967295,N=U+(x<<16&4294967295|x>>>16),x=R+(N^U^w)+V[2]+3299628645&4294967295,R=N+(x<<23&4294967295|x>>>9),x=w+(N^(R|~U))+V[0]+4096336452&4294967295,w=R+(x<<6&4294967295|x>>>26),x=U+(R^(w|~N))+V[7]+1126891415&4294967295,U=w+(x<<10&4294967295|x>>>22),x=N+(w^(U|~R))+V[14]+2878612391&4294967295,N=U+(x<<15&4294967295|x>>>17),x=R+(U^(N|~w))+V[5]+4237533241&4294967295,R=N+(x<<21&4294967295|x>>>11),x=w+(N^(R|~U))+V[12]+1700485571&4294967295,w=R+(x<<6&4294967295|x>>>26),x=U+(R^(w|~N))+V[3]+2399980690&4294967295,U=w+(x<<10&4294967295|x>>>22),x=N+(w^(U|~R))+V[10]+4293915773&4294967295,N=U+(x<<15&4294967295|x>>>17),x=R+(U^(N|~w))+V[1]+2240044497&4294967295,R=N+(x<<21&4294967295|x>>>11),x=w+(N^(R|~U))+V[8]+1873313359&4294967295,w=R+(x<<6&4294967295|x>>>26),x=U+(R^(w|~N))+V[15]+4264355552&4294967295,U=w+(x<<10&4294967295|x>>>22),x=N+(w^(U|~R))+V[6]+2734768916&4294967295,N=U+(x<<15&4294967295|x>>>17),x=R+(U^(N|~w))+V[13]+1309151649&4294967295,R=N+(x<<21&4294967295|x>>>11),x=w+(N^(R|~U))+V[4]+4149444226&4294967295,w=R+(x<<6&4294967295|x>>>26),x=U+(R^(w|~N))+V[11]+3174756917&4294967295,U=w+(x<<10&4294967295|x>>>22),x=N+(w^(U|~R))+V[2]+718787259&4294967295,N=U+(x<<15&4294967295|x>>>17),x=R+(U^(N|~w))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+w&4294967295,I.g[1]=I.g[1]+(N+(x<<21&4294967295|x>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+U&4294967295}a.prototype.v=function(I,w){w===void 0&&(w=I.length);const R=w-this.blockSize,V=this.C;let N=this.h,U=0;for(;U<w;){if(N==0)for(;U<=R;)l(this,I,U),U+=this.blockSize;if(typeof I=="string"){for(;U<w;)if(V[N++]=I.charCodeAt(U++),N==this.blockSize){l(this,V),N=0;break}}else for(;U<w;)if(V[N++]=I[U++],N==this.blockSize){l(this,V),N=0;break}}this.h=N,this.o+=w},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var w=1;w<I.length-8;++w)I[w]=0;w=this.o*8;for(var R=I.length-8;R<I.length;++R)I[R]=w&255,w/=256;for(this.v(I),I=Array(16),w=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)I[w++]=this.g[R]>>>V&255;return I};function c(I,w){var R=p;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=w(I)}function d(I,w){this.h=w;const R=[];let V=!0;for(let N=I.length-1;N>=0;N--){const U=I[N]|0;V&&U==w||(R[N]=U,V=!1)}this.g=R}var p={};function _(I){return-128<=I&&I<128?c(I,function(w){return new d([w|0],w<0?-1:0)}):new d([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return S;if(I<0)return W(y(-I));const w=[];let R=1;for(let V=0;I>=R;V++)w[V]=I/R|0,R*=4294967296;return new d(w,0)}function b(I,w){if(I.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(I.charAt(0)=="-")return W(b(I.substring(1),w));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(w,8));let V=S;for(let U=0;U<I.length;U+=8){var N=Math.min(8,I.length-U);const x=parseInt(I.substring(U,U+N),w);N<8?(N=y(Math.pow(w,N)),V=V.j(N).add(y(x))):(V=V.j(R),V=V.add(y(x)))}return V}var S=_(0),O=_(1),H=_(16777216);r=d.prototype,r.m=function(){if(te(this))return-W(this).m();let I=0,w=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);I+=(V>=0?V:4294967296+V)*w,w*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(ee(this))return"0";if(te(this))return"-"+W(this).toString(I);const w=y(Math.pow(I,6));var R=this;let V="";for(;;){const N=Je(R,w).g;R=ce(R,N.j(w));let U=((R.g.length>0?R.g[0]:R.h)>>>0).toString(I);if(R=N,ee(R))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function ee(I){if(I.h!=0)return!1;for(let w=0;w<I.g.length;w++)if(I.g[w]!=0)return!1;return!0}function te(I){return I.h==-1}r.l=function(I){return I=ce(this,I),te(I)?-1:ee(I)?0:1};function W(I){const w=I.g.length,R=[];for(let V=0;V<w;V++)R[V]=~I.g[V];return new d(R,~I.h).add(O)}r.abs=function(){return te(this)?W(this):this},r.add=function(I){const w=Math.max(this.g.length,I.g.length),R=[];let V=0;for(let N=0;N<=w;N++){let U=V+(this.i(N)&65535)+(I.i(N)&65535),x=(U>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);V=x>>>16,U&=65535,x&=65535,R[N]=x<<16|U}return new d(R,R[R.length-1]&-2147483648?-1:0)};function ce(I,w){return I.add(W(w))}r.j=function(I){if(ee(this)||ee(I))return S;if(te(this))return te(I)?W(this).j(W(I)):W(W(this).j(I));if(te(I))return W(this.j(W(I)));if(this.l(H)<0&&I.l(H)<0)return y(this.m()*I.m());const w=this.g.length+I.g.length,R=[];for(var V=0;V<2*w;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<I.g.length;N++){const U=this.i(V)>>>16,x=this.i(V)&65535,ut=I.i(N)>>>16,bt=I.i(N)&65535;R[2*V+2*N]+=x*bt,Ee(R,2*V+2*N),R[2*V+2*N+1]+=U*bt,Ee(R,2*V+2*N+1),R[2*V+2*N+1]+=x*ut,Ee(R,2*V+2*N+1),R[2*V+2*N+2]+=U*ut,Ee(R,2*V+2*N+2)}for(I=0;I<w;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=w;I<2*w;I++)R[I]=0;return new d(R,0)};function Ee(I,w){for(;(I[w]&65535)!=I[w];)I[w+1]+=I[w]>>>16,I[w]&=65535,w++}function ge(I,w){this.g=I,this.h=w}function Je(I,w){if(ee(w))throw Error("division by zero");if(ee(I))return new ge(S,S);if(te(I))return w=Je(W(I),w),new ge(W(w.g),W(w.h));if(te(w))return w=Je(I,W(w)),new ge(W(w.g),w.h);if(I.g.length>30){if(te(I)||te(w))throw Error("slowDivide_ only works with positive integers.");for(var R=O,V=w;V.l(I)<=0;)R=st(R),V=st(V);var N=Ce(R,1),U=Ce(V,1);for(V=Ce(V,2),R=Ce(R,2);!ee(V);){var x=U.add(V);x.l(I)<=0&&(N=N.add(R),U=x),V=Ce(V,1),R=Ce(R,1)}return w=ce(I,N.j(w)),new ge(N,w)}for(N=S;I.l(w)>=0;){for(R=Math.max(1,Math.floor(I.m()/w.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=y(R),x=U.j(w);te(x)||x.l(I)>0;)R-=V,U=y(R),x=U.j(w);ee(U)&&(U=O),N=N.add(U),I=ce(I,x)}return new ge(N,I)}r.B=function(I){return Je(this,I).h},r.and=function(I){const w=Math.max(this.g.length,I.g.length),R=[];for(let V=0;V<w;V++)R[V]=this.i(V)&I.i(V);return new d(R,this.h&I.h)},r.or=function(I){const w=Math.max(this.g.length,I.g.length),R=[];for(let V=0;V<w;V++)R[V]=this.i(V)|I.i(V);return new d(R,this.h|I.h)},r.xor=function(I){const w=Math.max(this.g.length,I.g.length),R=[];for(let V=0;V<w;V++)R[V]=this.i(V)^I.i(V);return new d(R,this.h^I.h)};function st(I){const w=I.g.length+1,R=[];for(let V=0;V<w;V++)R[V]=I.i(V)<<1|I.i(V-1)>>>31;return new d(R,I.h)}function Ce(I,w){const R=w>>5;w%=32;const V=I.g.length-R,N=[];for(let U=0;U<V;U++)N[U]=w>0?I.i(U+R)>>>w|I.i(U+R+1)<<32-w:I.i(U+R);return new d(N,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,gE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=b,ar=d}).apply(typeof T0<"u"?T0:typeof self<"u"?self:typeof window<"u"?window:{});var Rc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var pE,El,yE,Uc,sm,_E,vE,EE;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rc=="object"&&Rc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)e:{var v=a;u=u.split(".");for(var A=0;A<u.length-1;A++){var L=u[A];if(!(L in v))break e;v=v[L]}u=u[u.length-1],A=v[u],m=m(A),m!=A&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&v.push([A,m[A]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function b(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(A,L,B){for(var ne=Array(arguments.length-2),we=2;we<arguments.length;we++)ne[we-2]=arguments[we];return m.prototype[L].apply(A,ne)}}var O=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function H(u){const m=u.length;if(m>0){const v=Array(m);for(let A=0;A<m;A++)v[A]=u[A];return v}return[]}function ee(u,m){for(let A=1;A<arguments.length;A++){const L=arguments[A];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let ne=0;ne<B;ne++)u[v+ne]=L[ne]}else u.push(L)}}class te{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function ce(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ee{constructor(){this.h=this.g=null}add(m,v){const A=ge.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var ge=new te(()=>new Je,u=>u.reset());class Je{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let st,Ce=!1,I=new Ee,w=()=>{const u=Promise.resolve(void 0);st=()=>{u.then(R)}};function R(){for(var u;u=ce();){try{u.h.call(u.g)}catch(v){W(v)}var m=ge;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ce=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function x(u){return/^[\s\xa0]*$/.test(u)}function ut(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(ut,N),ut.prototype.init=function(u,m){const v=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ut.Z.h.call(this)},ut.prototype.h=function(){ut.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var bt="closure_listenable_"+(Math.random()*1e6|0),G=0;function se(u,m,v,A,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=L,this.key=++G,this.da=this.fa=!1}function de(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Pe(u,m,v){for(const A in u)m.call(v,u[A],A,u)}function Ye(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function M(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function re(u,m){let v,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(v in A)u[v]=A[v];for(let B=0;B<Y.length;B++)v=Y[B],Object.prototype.hasOwnProperty.call(A,v)&&(u[v]=A[v])}}function ae(u){this.src=u,this.g={},this.h=0}ae.prototype.add=function(u,m,v,A,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const ne=J(u,m,A,L);return ne>-1?(m=u[ne],v||(m.fa=!1)):(m=new se(m,this.src,B,!!A,L),m.fa=v,u.push(m)),m};function X(u,m){const v=m.type;if(v in u.g){var A=u.g[v],L=Array.prototype.indexOf.call(A,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(A,L,1),B&&(de(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function J(u,m,v,A){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==A)return L}return-1}var ie="closure_lm_"+(Math.random()*1e6|0),fe={};function Ie(u,m,v,A,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)Ie(u,m[B],v,A,L);return null}return v=yr(v),u&&u[bt]?u.J(m,v,p(A)?!!A.capture:!1,L):Me(u,m,v,!1,A,L)}function Me(u,m,v,A,L,B){if(!m)throw Error("Invalid event type");const ne=p(L)?!!L.capture:!!L;let we=Xe(u);if(we||(u[ie]=we=new ae(u)),v=we.add(m,v,A,ne,B),v.proxy)return v;if(A=Ge(),v.proxy=A,A.src=u,A.listener=v,u.addEventListener)U||(L=ne),L===void 0&&(L=!1),u.addEventListener(m.toString(),A,L);else if(u.attachEvent)u.attachEvent(Ke(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ge(){function u(v){return m.call(u.src,u.listener,v)}const m=He;return u}function ye(u,m,v,A,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)ye(u,m[B],v,A,L);else A=p(A)?!!A.capture:!!A,v=yr(v),u&&u[bt]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=J(m,v,A,L),v>-1&&(de(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=Xe(u))&&(m=u.g[m.toString()],u=-1,m&&(u=J(m,v,A,L)),(v=u>-1?m[u]:null)&&Be(v))}function Be(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[bt])X(m.i,u);else{var v=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(v,A,u.capture):m.detachEvent?m.detachEvent(Ke(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=Xe(m))?(X(v,u),v.h==0&&(v.src=null,m[ie]=null)):de(u)}}}function Ke(u){return u in fe?fe[u]:fe[u]="on"+u}function He(u,m){if(u.da)u=!0;else{m=new ut(m,this);const v=u.listener,A=u.ha||u.src;u.fa&&Be(u),u=v.call(A,m)}return u}function Xe(u){return u=u[ie],u instanceof ae?u:null}var nn="__closure_events_fn_"+(Math.random()*1e9>>>0);function yr(u){return typeof u=="function"?u:(u[nn]||(u[nn]=function(m){return u.handleEvent(m)}),u[nn])}function Ne(){V.call(this),this.i=new ae(this),this.M=this,this.G=null}S(Ne,V),Ne.prototype[bt]=!0,Ne.prototype.removeEventListener=function(u,m,v,A){ye(this,u,m,v,A)};function ct(u,m){var v,A=u.G;if(A)for(v=[];A;A=A.G)v.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(A,u),re(m,L)}L=!0;let B,ne;if(v)for(ne=v.length-1;ne>=0;ne--)B=m.g=v[ne],L=Dn(B,A,!0,m)&&L;if(B=m.g=u,L=Dn(B,A,!0,m)&&L,L=Dn(B,A,!1,m)&&L,v)for(ne=0;ne<v.length;ne++)B=m.g=v[ne],L=Dn(B,A,!1,m)&&L}Ne.prototype.N=function(){if(Ne.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let A=0;A<v.length;A++)de(v[A]);delete u.g[m],u.h--}}this.G=null},Ne.prototype.J=function(u,m,v,A){return this.i.add(String(u),m,!1,v,A)},Ne.prototype.K=function(u,m,v,A){return this.i.add(String(u),m,!0,v,A)};function Dn(u,m,v,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const ne=m[B];if(ne&&!ne.da&&ne.capture==v){const we=ne.listener,St=ne.ha||ne.src;ne.fa&&X(u.i,ne),L=we.call(St,A)!==!1&&L}}return L&&!A.defaultPrevented}function _r(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function ia(u){u.g=_r(()=>{u.g=null,u.i&&(u.i=!1,ia(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class qt extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ia(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qi(u){V.call(this),this.h=u,this.g={}}S(qi,V);var yo=[];function _o(u){Pe(u.g,function(m,v){this.g.hasOwnProperty(v)&&Be(m)},u),u.g={}}qi.prototype.N=function(){qi.Z.N.call(this),_o(this)},qi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vs=d.JSON.stringify,Oh=d.JSON.parse,Jl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Wl(){}function eu(){}var $n={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Yt(){N.call(this,"d")}S(Yt,N);function On(){N.call(this,"c")}S(On,N);var At={},tu=null;function sa(){return tu=tu||new Ne}At.Ia="serverreachability";function nu(u){N.call(this,At.Ia,u)}S(nu,N);function hi(u){const m=sa();ct(m,new nu(m))}At.STAT_EVENT="statevent";function vr(u,m){N.call(this,At.STAT_EVENT,u),this.stat=m}S(vr,N);function Ct(u){const m=sa();ct(m,new vr(m,u))}At.Ja="timingevent";function fi(u,m){N.call(this,At.Ja,u),this.size=m}S(fi,N);function di(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Zn(){this.g=!0}Zn.prototype.ua=function(){this.g=!1};function Mh(u,m,v,A,L,B){u.info(function(){if(u.g)if(B){var ne="",we=B.split("&");for(let $e=0;$e<we.length;$e++){var St=we[$e].split("=");if(St.length>1){const gt=St[0];St=St[1];const Un=gt.split("_");ne=Un.length>=2&&Un[1]=="type"?ne+(gt+"="+St+"&"):ne+(gt+"=redacted&")}}}else ne=null;else ne=B;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+m+`
`+v+`
`+ne})}function iu(u,m,v,A,L,B,ne){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+ne})}function mi(u,m,v,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Vh(u,v)+(A?" "+A:"")})}function Er(u,m){u.info(function(){return"TIMEOUT: "+m})}Zn.prototype.info=function(){};function Vh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var L=A[0];if(L!="noop"&&L!="stop"&&L!="close")for(let ne=1;ne<A.length;ne++)A[ne]=""}}}}return vs(B)}catch{return m}}var Tr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},vo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Eo;function br(){}S(br,Wl),br.prototype.g=function(){return new XMLHttpRequest},Eo=new br;function Hi(u){return encodeURIComponent(String(u))}function su(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Jn(u,m,v,A){this.j=u,this.i=m,this.l=v,this.S=A||1,this.V=new qi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Wn}function Wn(){this.i=null,this.g="",this.h=!1}var It={},Ht={};function gi(u,m,v){u.M=1,u.A=Ar(Dt(m)),u.u=v,u.R=!0,ra(u,null)}function ra(u,m){u.F=Date.now(),pi(u),u.B=Dt(u.A);var v=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),ua(v.i,"t",A),u.C=0,v=u.j.L,u.h=new Wn,u.g=vu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new qt(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,A=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(yo[0]=L.toString()),L=yo);for(let B=0;B<L.length;B++){const ne=Ie(v,L[B],A||m.handleEvent,!1,m.h||m);if(!ne)break;m.g[ne.key]=ne}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),hi(),Mh(u.i,u.v,u.B,u.l,u.S,u.u)}Jn.prototype.ba=function(u){u=u.target;const m=this.O;m&&ni(u)==3?m.j():this.Y(u)},Jn.prototype.Y=function(u){try{if(u==this.g)e:{const we=ni(this.g),St=this.g.ya(),$e=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||Kt(this.g)))){this.K||we!=4||St==7||(St==8||$e<=0?hi(3):hi(2)),yi(this);var m=this.g.ca();this.X=m;var v=kh(this);if(this.o=m==200,iu(this.i,this.v,this.B,this.l,this.S,we,m),this.o){if(this.U&&!this.L){t:{if(this.g){var A,L=this.g;if((A=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(A)){var B=A;break t}}B=null}if(u=B)mi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,_i(this,u);else{this.o=!1,this.m=3,Ct(12),Tn(this),Mn(this);break e}}if(this.R){u=!0;let gt;for(;!this.K&&this.C<v.length;)if(gt=au(this,v),gt==Ht){we==4&&(this.m=4,Ct(14),u=!1),mi(this.i,this.l,null,"[Incomplete Response]");break}else if(gt==It){this.m=4,Ct(15),mi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else mi(this.i,this.l,gt,null),_i(this,gt);if(ru(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||v.length!=0||this.h.h||(this.m=1,Ct(16),u=!1),this.o=this.o&&u,!u)mi(this.i,this.l,v,"[Invalid Chunked Response]"),Tn(this),Mn(this);else if(v.length>0&&!this.W){this.W=!0;var ne=this.j;ne.g==this&&ne.aa&&!ne.P&&(ne.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),ko(ne),ne.P=!0,Ct(11))}}else mi(this.i,this.l,v,null),_i(this,v);we==4&&Tn(this),this.o&&!this.K&&(we==4?gu(this.j,this):(this.o=!1,pi(this)))}else Fi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ct(12)):(this.m=0,Ct(13)),Tn(this),Mn(this)}}}catch{}};function kh(u){if(!ru(u))return u.g.la();const m=Kt(u.g);if(m==="")return"";let v="";const A=m.length,L=ni(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Tn(u),Mn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<A;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==A-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function ru(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function au(u,m){var v=u.C,A=m.indexOf(`
`,v);return A==-1?Ht:(v=Number(m.substring(v,A)),isNaN(v)?It:(A+=1,A+v>m.length?Ht:(m=m.slice(A,A+v),u.C=A+v,m)))}Jn.prototype.cancel=function(){this.K=!0,Tn(this)};function pi(u){u.T=Date.now()+u.H,aa(u,u.H)}function aa(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=di(y(u.aa,u),m)}function yi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Jn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Er(this.i,this.B),this.M!=2&&(hi(),Ct(17)),Tn(this),this.m=2,Mn(this)):aa(this,this.T-u)};function Mn(u){u.j.I==0||u.K||gu(u.j,u)}function Tn(u){yi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,_o(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function _i(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Ei(v.h,u))){if(!u.L&&Ei(v.h,u)&&v.I==3){try{var A=v.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ma(v),Rs(v);else break e;Nr(v),Ct(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=di(y(v.Va,v),6e3));vi(v.h)<=1&&v.ta&&(v.ta=void 0)}else xi(v,11)}else if((u.L||v.g==u)&&ma(v),!x(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let $e=L[m];const gt=$e[0];if(!(gt<=v.K))if(v.K=gt,$e=$e[1],v.I==2)if($e[0]=="c"){v.M=$e[1],v.ba=$e[2];const Un=$e[3];Un!=null&&(v.ka=Un,v.j.info("VER="+v.ka));const Ri=$e[4];Ri!=null&&(v.za=Ri,v.j.info("SVER="+v.za));const ii=$e[5];ii!=null&&typeof ii=="number"&&ii>0&&(A=1.5*ii,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const si=u.g;if(si){const Dr=si.g?si.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Dr){var B=A.h;B.g||Dr.indexOf("spdy")==-1&&Dr.indexOf("quic")==-1&&Dr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Ao(B,B.h),B.h=null))}if(A.G){const ga=si.g?si.g.getResponseHeader("X-HTTP-Session-Id"):null;ga&&(A.wa=ga,et(A.J,A.G,ga))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var ne=u;if(A.na=_u(A,A.L?A.ba:null,A.W),ne.L){So(A.h,ne);var we=ne,St=A.O;St&&(we.H=St),we.D&&(yi(we),pi(we)),A.g=ne}else du(A);v.i.length>0&&wi(v)}else $e[0]!="stop"&&$e[0]!="close"||xi(v,7);else v.I==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?xi(v,7):Mo(v):$e[0]!="noop"&&v.l&&v.l.qa($e),v.A=0)}}hi(4)}catch{}}var Nt=class{constructor(u,m){this.g=u,this.map=m}};function To(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function bo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function vi(u){return u.h?1:u.g?u.g.size:0}function Ei(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ao(u,m){u.g?u.g.add(m):u.h=m}function So(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}To.prototype.cancel=function(){if(this.i=wo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function wo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return H(u.i)}var ou=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oa(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const A=u[v].indexOf("=");let L,B=null;A>=0?(L=u[v].substring(0,A),B=u[v].substring(A+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function bn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof bn?(this.l=u.l,Gt(this,u.j),this.o=u.o,this.g=u.g,Es(this,u.u),this.h=u.h,xo(this,hu(u.i)),this.m=u.m):u&&(m=String(u).match(ou))?(this.l=!1,Gt(this,m[1]||"",!0),this.o=Ti(m[2]||""),this.g=Ti(m[3]||"",!0),Es(this,m[4]),this.h=Ti(m[5]||"",!0),xo(this,m[6]||"",!0),this.m=Ti(m[7]||"")):(this.l=!1,this.i=new bs(null,this.l))}bn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Sr(m,la,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Sr(m,la,!0),"@"),u.push(Hi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Sr(v,v.charAt(0)=="/"?Ro:lu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Sr(v,uu)),u.join("")},bn.prototype.resolve=function(u){const m=Dt(this);let v=!!u.j;v?Gt(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var A=u.h;if(v)Es(m,u.u);else if(v=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var L=m.h.lastIndexOf("/");L!=-1&&(A=m.h.slice(0,L+1)+A)}if(L=A,L==".."||L==".")A="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){A=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let ne=0;ne<L.length;){const we=L[ne++];we=="."?A&&ne==L.length&&B.push(""):we==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),A&&ne==L.length&&B.push("")):(B.push(we),A=!0)}A=B.join("/")}else A=L}return v?m.h=A:v=u.i.toString()!=="",v?xo(m,hu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Dt(u){return new bn(u)}function Gt(u,m,v){u.j=v?Ti(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Es(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function xo(u,m,v){m instanceof bs?(u.i=m,ca(u.i,u.l)):(v||(m=Sr(m,Ts)),u.i=new bs(m,u.l))}function et(u,m,v){u.i.set(m,v)}function Ar(u){return et(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ti(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Sr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,fn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function fn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var la=/[#\/\?@]/g,lu=/[#\?:]/g,Ro=/[#\?]/g,Ts=/[#\?@]/g,uu=/#/g;function bs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function dn(u){u.g||(u.g=new Map,u.h=0,u.i&&oa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=bs.prototype,r.add=function(u,m){dn(this),this.i=null,u=As(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function cu(u,m){dn(u),m=As(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Co(u,m){return dn(u),m=As(u,m),u.g.has(m)}r.forEach=function(u,m){dn(this),this.g.forEach(function(v,A){v.forEach(function(L){u.call(m,L,A,this)},this)},this)};function Io(u,m){dn(u);let v=[];if(typeof m=="string")Co(u,m)&&(v=v.concat(u.g.get(As(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return dn(this),this.i=null,u=As(this,u),Co(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Io(this,u),u.length>0?String(u[0]):m):m};function ua(u,m,v){cu(u,m),v.length>0&&(u.i=null,u.g.set(As(u,m),H(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var v=m[A];const L=Hi(v);v=Io(this,v);for(let B=0;B<v.length;B++){let ne=L;v[B]!==""&&(ne+="="+Hi(v[B])),u.push(ne)}}return this.i=u.join("&")};function hu(u){const m=new bs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function As(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ca(u,m){m&&!u.j&&(dn(u),u.i=null,u.g.forEach(function(v,A){const L=A.toLowerCase();A!=L&&(cu(this,A),ua(this,L,v))},u)),u.j=m}function ei(u,m){const v=new Zn;if(d.Image){const A=new Image;A.onload=b(Vn,v,"TestLoadImage: loaded",!0,m,A),A.onerror=b(Vn,v,"TestLoadImage: error",!1,m,A),A.onabort=b(Vn,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=b(Vn,v,"TestLoadImage: timeout",!1,m,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function No(u,m){const v=new Zn,A=new AbortController,L=setTimeout(()=>{A.abort(),Vn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(B=>{clearTimeout(L),B.ok?Vn(v,"TestPingServer: ok",!0,m):Vn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Vn(v,"TestPingServer: error",!1,m)})}function Vn(u,m,v,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(v)}catch{}}function Ss(){this.g=new Jl}function bi(u){this.i=u.Sb||null,this.h=u.ab||!1}S(bi,Wl),bi.prototype.g=function(){return new wr(this.i,this.h)};function wr(u,m){Ne.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(wr,Ne),r=wr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ti(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ws(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ti(this)),this.g&&(this.readyState=3,ti(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ha(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ha(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ws(this):ti(this),this.readyState==3&&ha(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,ws(this))},r.Na=function(u){this.g&&(this.response=u,ws(this))},r.ga=function(){this.g&&ws(this)};function ws(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ti(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ti(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(wr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function kn(u){let m="";return Pe(u,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function xr(u,m,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=kn(v),typeof u=="string"?v!=null&&Hi(v):et(u,m,v))}function rt(u){Ne.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(rt,Ne);var Ai=/^https?$/i,Do=["POST","PUT"];r=rt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Eo.g(),this.g.onreadystatechange=O(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Rr(this,B);return}if(u=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)v.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const B of A.keys())v.set(B,A.get(B));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Do,m,void 0)>=0)||A||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,ne]of v)this.g.setRequestHeader(B,ne);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Rr(this,B)}};function Rr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Oo(u),Gi(u)}function Oo(u){u.A||(u.A=!0,ct(u,"complete"),ct(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,ct(this,"complete"),ct(this,"abort"),Gi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gi(this,!0)),rt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Cr(this):this.Xa())},r.Xa=function(){Cr(this)};function Cr(u){if(u.h&&typeof c<"u"){if(u.v&&ni(u)==4)setTimeout(u.Ca.bind(u),0);else if(ct(u,"readystatechange"),ni(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var A;if(A=B===0){let ne=String(u.D).match(ou)[1]||null;!ne&&d.self&&d.self.location&&(ne=d.self.location.protocol.slice(0,-1)),A=!Ai.test(ne?ne.toLowerCase():"")}v=A}if(v)ct(u,"complete"),ct(u,"success");else{u.o=6;try{var L=ni(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Oo(u)}}finally{Gi(u)}}}}function Gi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||ct(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ni(u){return u.g?u.g.readyState:0}r.ca=function(){try{return ni(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Oh(m)}};function Kt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Fi(u){const m={};u=(u.g&&ni(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(x(u[A]))continue;var v=su(u[A]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}Ye(m,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Si(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function xs(u){this.za=0,this.i=[],this.j=new Zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Si("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Si("baseRetryDelayMs",5e3,u),this.Za=Si("retryDelaySeedMs",1e4,u),this.Ta=Si("forwardChannelMaxRetries",2,u),this.va=Si("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new To(u&&u.concurrentRequestLimit),this.Ba=new Ss,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=xs.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,A){Ct(0),this.W=u,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=_u(this,null,this.W),wi(this)};function Mo(u){if(fa(u),u.I==3){var m=u.V++,v=Dt(u.J);if(et(v,"SID",u.M),et(v,"RID",m),et(v,"TYPE","terminate"),Ir(u,v),m=new Jn(u,u.j,m),m.M=2,m.A=Ar(Dt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=vu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),pi(m)}yu(u)}function Rs(u){u.g&&(ko(u),u.g.cancel(),u.g=null)}function fa(u){Rs(u),u.v&&(d.clearTimeout(u.v),u.v=null),ma(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function wi(u){if(!bo(u.h)&&!u.m){u.m=!0;var m=u.Ea;st||w(),Ce||(st(),Ce=!0),I.add(m,u),u.D=0}}function da(u,m){return vi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=di(y(u.Ea,u,m),pu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Jn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=M(B),re(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=fu(this,L,m),v=Dt(this.J),et(v,"RID",u),et(v,"CVER",22),this.G&&et(v,"X-HTTP-Session-Id",this.G),Ir(this,v),B&&(this.R?m="headers="+Hi(kn(B))+"&"+m:this.u&&xr(v,this.u,B)),Ao(this.h,L),this.Ra&&et(v,"TYPE","init"),this.S?(et(v,"$req",m),et(v,"SID","null"),L.U=!0,gi(L,v,null)):gi(L,v,m),this.I=2}}else this.I==3&&(u?Vo(this,u):this.i.length==0||bo(this.h)||Vo(this))};function Vo(u,m){var v;m?v=m.l:v=u.V++;const A=Dt(u.J);et(A,"SID",u.M),et(A,"RID",v),et(A,"AID",u.K),Ir(u,A),u.u&&u.o&&xr(A,u.u,u.o),v=new Jn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=fu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ao(u.h,v),gi(v,A,m)}function Ir(u,m){u.H&&Pe(u.H,function(v,A){et(m,A,v)}),u.l&&Pe({},function(v,A){et(m,A,v)})}function fu(u,m,v){v=Math.min(u.i.length,v);const A=u.l?y(u.l.Ka,u.l,u):null;e:{var L=u.i;let we=-1;for(;;){const St=["count="+v];we==-1?v>0?(we=L[0].g,St.push("ofs="+we)):we=0:St.push("ofs="+we);let $e=!0;for(let gt=0;gt<v;gt++){var B=L[gt].g;const Un=L[gt].map;if(B-=we,B<0)we=Math.max(0,L[gt].g-100),$e=!1;else try{B="req"+B+"_"||"";try{var ne=Un instanceof Map?Un:Object.entries(Un);for(const[Ri,ii]of ne){let si=ii;p(ii)&&(si=vs(ii)),St.push(B+Ri+"="+encodeURIComponent(si))}}catch(Ri){throw St.push(B+"type="+encodeURIComponent("_badmap")),Ri}}catch{A&&A(Un)}}if($e){ne=St.join("&");break e}}ne=void 0}return u=u.i.splice(0,v),m.G=u,ne}function du(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;st||w(),Ce||(st(),Ce=!0),I.add(m,u),u.A=0}}function Nr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=di(y(u.Da,u),pu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,mu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=di(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ct(10),Rs(this),mu(this))};function ko(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function mu(u){u.g=new Jn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Dt(u.na);et(m,"RID","rpc"),et(m,"SID",u.M),et(m,"AID",u.K),et(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&et(m,"TO",u.ia),et(m,"TYPE","xmlhttp"),Ir(u,m),u.u&&u.o&&xr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Ar(Dt(m)),v.u=null,v.R=!0,ra(v,u)}r.Va=function(){this.C!=null&&(this.C=null,Rs(this),Nr(this),Ct(19))};function ma(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function gu(u,m){var v=null;if(u.g==m){ma(u),ko(u),u.g=null;var A=2}else if(Ei(u.h,m))v=m.G,So(u.h,m),A=1;else return;if(u.I!=0){if(m.o)if(A==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;A=sa(),ct(A,new fi(A,v)),wi(u)}else du(u);else if(L=m.m,L==3||L==0&&m.X>0||!(A==1&&da(u,m)||A==2&&Nr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:xi(u,5);break;case 4:xi(u,10);break;case 3:xi(u,6);break;default:xi(u,2)}}}function pu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function xi(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),A=u.Ua;const L=!A;A=new bn(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Gt(A,"https"),Ar(A),L?ei(A.toString(),v):No(A.toString(),v)}else Ct(2);u.I=0,u.l&&u.l.pa(m),yu(u),fa(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function yu(u){if(u.I=0,u.ja=[],u.l){const m=wo(u.h);(m.length!=0||u.i.length!=0)&&(ee(u.ja,m),ee(u.ja,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.oa()}}function _u(u,m,v){var A=v instanceof bn?Dt(v):new bn(v);if(A.g!="")m&&(A.g=m+"."+A.g),Es(A,A.u);else{var L=d.location;A=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new bn(null);A&&Gt(B,A),m&&(B.g=m),L&&Es(B,L),v&&(B.h=v),A=B}return v=u.G,m=u.wa,v&&m&&et(A,v,m),et(A,"VER",u.ka),Ir(u,A),A}function vu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new rt(new bi({ab:v})):new rt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eu(){}r=Eu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Cs(){}Cs.prototype.g=function(u,m){return new un(u,m)};function un(u,m){Ne.call(this),this.g=new xs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!x(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Qi(this)}S(un,Ne),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){Mo(this.g)},un.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=vs(u),u=v);m.i.push(new Nt(m.Ya++,u)),m.I==3&&wi(m)},un.prototype.N=function(){this.g.l=null,delete this.j,Mo(this.g),delete this.g,un.Z.N.call(this)};function Tu(u){Yt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Tu,Yt);function bu(){On.call(this),this.status=1}S(bu,On);function Qi(u){this.g=u}S(Qi,Eu),Qi.prototype.ra=function(){ct(this.g,"a")},Qi.prototype.qa=function(u){ct(this.g,new Tu(u))},Qi.prototype.pa=function(u){ct(this.g,new bu)},Qi.prototype.oa=function(){ct(this.g,"b")},Cs.prototype.createWebChannel=Cs.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,EE=function(){return new Cs},vE=function(){return sa()},_E=At,sm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Tr.NO_ERROR=0,Tr.TIMEOUT=8,Tr.HTTP_ERROR=6,Uc=Tr,vo.COMPLETE="complete",yE=vo,eu.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",Ne.prototype.listen=Ne.prototype.J,El=eu,rt.prototype.listenOnce=rt.prototype.K,rt.prototype.getLastError=rt.prototype.Ha,rt.prototype.getLastErrorCode=rt.prototype.ya,rt.prototype.getStatus=rt.prototype.ca,rt.prototype.getResponseJson=rt.prototype.La,rt.prototype.getResponseText=rt.prototype.la,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Fa,pE=rt}).apply(typeof Rc<"u"?Rc:typeof self<"u"?self:typeof window<"u"?window:{});const b0="@firebase/firestore",A0="4.9.3";let an=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");let fo="12.7.0";const Jr=new xm("@firebase/firestore");function Fa(){return Jr.logLevel}function oe(r,...e){if(Jr.logLevel<=Ue.DEBUG){const i=e.map(Lm);Jr.debug(`Firestore (${fo}): ${r}`,...i)}}function ps(r,...e){if(Jr.logLevel<=Ue.ERROR){const i=e.map(Lm);Jr.error(`Firestore (${fo}): ${r}`,...i)}}function no(r,...e){if(Jr.logLevel<=Ue.WARN){const i=e.map(Lm);Jr.warn(`Firestore (${fo}): ${r}`,...i)}}function Lm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function ve(r,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,TE(r,a,i)}function TE(r,e,i){let a=`FIRESTORE (${fo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ps(a),new Error(a)}function We(r,e,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||TE(e,l,a)}function Se(r,e){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends _s{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class or{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class bE{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Cw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(an.UNAUTHENTICATED)))}shutdown(){}}class Iw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Nw{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){We(this.o===void 0,42304);let a=this.i;const l=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new or;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new or,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;e.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new or)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(We(typeof a.accessToken=="string",31837,{l:a}),new bE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new an(e)}}class Dw{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=an.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Ow{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new Dw(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(an.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class S0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Mw{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){We(this.o===void 0,3512);const a=c=>{c.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,oe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const l=c=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new S0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(We(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new S0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Vw(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class jm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=Vw(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=e.charAt(l[c]%62))}return a}}function Le(r,e){return r<e?-1:r>e?1:0}function rm(r,e){const i=Math.min(r.length,e.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=e.charAt(a);if(l!==c)return Hd(l)===Hd(c)?Le(l,c):Hd(l)?1:-1}return Le(r.length,e.length)}const kw=55296,Uw=57343;function Hd(r){const e=r.charCodeAt(0);return e>=kw&&e<=Uw}function io(r,e,i){return r.length===e.length&&r.every(((a,l)=>i(a,e[l])))}const w0="__name__";class Mi{constructor(e,i,a){i===void 0?i=0:i>e.length&&ve(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&ve(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Mi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Mi?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let l=0;l<a;l++){const c=Mi.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return Le(e.length,i.length)}static compareSegments(e,i){const a=Mi.isNumericId(e),l=Mi.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Mi.extractNumericId(e).compare(Mi.extractNumericId(i)):rm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ar.fromString(e.substring(4,e.length-2))}}class _t extends Mi{construct(e,i,a){return new _t(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new he(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new _t(i)}static emptyPath(){return new _t([])}}const Lw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Mi{construct(e,i,a){return new en(e,i,a)}static isValidIdentifier(e){return Lw.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===w0}static keyField(){return new en([w0])}static fromServerFormat(e){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new he(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new he(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new he(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new he(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(i)}static emptyPath(){return new en([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(_t.fromString(e))}static fromName(e){return new pe(_t.fromString(e).popFirst(5))}static empty(){return new pe(_t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return _t.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new _t(e.slice()))}}function jw(r,e,i){if(!i)throw new he(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Pw(r,e,i,a){if(e===!0&&a===!0)throw new he(Z.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function x0(r){if(!pe.isDocumentKey(r))throw new he(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function AE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Pm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ve(12329,{type:typeof r})}function ui(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new he(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Pm(r);throw new he(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function Lt(r,e){const i={typeString:r};return e&&(i.value=e),i}function Ql(r,e){if(!AE(r))throw new he(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const l=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new he(Z.INVALID_ARGUMENT,i);return!0}const R0=-62135596800,C0=1e6;class mt{static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*C0);return new mt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new he(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new he(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<R0)throw new he(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/C0}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:mt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ql(e,mt._jsonSchema))return new mt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-R0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}mt._jsonSchemaVersion="firestore/timestamp/1.0",mt._jsonSchema={type:Lt("string",mt._jsonSchemaVersion),seconds:Lt("number"),nanoseconds:Lt("number")};class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new mt(0,0))}static max(){return new be(new mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ml=-1;function zw(r,e){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=be.fromTimestamp(a===1e9?new mt(i+1,0):new mt(i,a));return new ur(l,pe.empty(),e)}function Bw(r){return new ur(r.readTime,r.key,Ml)}class ur{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new ur(be.min(),pe.empty(),Ml)}static max(){return new ur(be.max(),pe.empty(),Ml)}}function qw(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=pe.comparator(r.documentKey,e.documentKey),i!==0?i:Le(r.largestBatchId,e.largestBatchId))}const Hw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Gw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function mo(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==Hw)throw r;oe("LocalStore","Unexpectedly lost primary lease")}class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new $(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):$.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):$.reject(i)}static resolve(e){return new $(((i,a)=>{i(e)}))}static reject(e){return new $(((i,a)=>{a(e)}))}static waitFor(e){return new $(((i,a)=>{let l=0,c=0,d=!1;e.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(_=>a(_)))})),d=!0,c===l&&i()}))}static or(e){let i=$.resolve(!1);for(const a of e)i=i.next((l=>l?$.resolve(l):a()));return i}static forEach(e,i){const a=[];return e.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(e,i){return new $(((a,l)=>{const c=e.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const y=_;i(e[y]).next((b=>{d[y]=b,++p,p===c&&a(d)}),(b=>l(b)))}}))}static doWhile(e,i){return new $(((a,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):a()};c()}))}}function Fw(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function go(r){return r.name==="IndexedDbTransactionError"}class mh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}mh.ce=-1;const zm=-1;function gh(r){return r==null}function Zc(r){return r===0&&1/r==-1/0}function Qw(r){return typeof r=="number"&&Number.isInteger(r)&&!Zc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const SE="";function Yw(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=I0(e)),e=Kw(r.get(i),e);return I0(e)}function Kw(r,e){let i=e;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case SE:i+="";break;default:i+=c}}return i}function I0(r){return r+SE+""}function N0(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function gr(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function wE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class vt{constructor(e,i){this.comparator=e,this.root=i||Wt.EMPTY}insert(e,i){return new vt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cc(this.root,e,this.comparator,!0)}}class Cc{constructor(e,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,i,a,l,c){this.key=e,this.value=i,this.color=a??Wt.RED,this.left=l??Wt.EMPTY,this.right=c??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,l,c){return new Wt(e??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let l=this;const c=a(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return Wt.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,i,a,l,c){return this}insert(e,i,a){return new Wt(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Bt{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new D0(this.data.getIterator())}getIteratorFrom(e){return new D0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Bt(this.comparator);return i.data=e,i}}class D0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Nn{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new Nn([])}unionWith(e){let i=new Bt(en.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Nn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return io(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class xE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new xE("Invalid base64 string: "+c):c}})(e);return new tn(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new tn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const Xw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cr(r){if(We(!!r,39018),typeof r=="string"){let e=0;const i=Xw.exec(r);if(We(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Rt(r.seconds),nanos:Rt(r.nanos)}}function Rt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function hr(r){return typeof r=="string"?tn.fromBase64String(r):tn.fromUint8Array(r)}const RE="server_timestamp",CE="__type__",IE="__previous_value__",NE="__local_write_time__";function Bm(r){return(r?.mapValue?.fields||{})[CE]?.stringValue===RE}function ph(r){const e=r.mapValue.fields[IE];return Bm(e)?ph(e):e}function Vl(r){const e=cr(r.mapValue.fields[NE].timestampValue);return new mt(e.seconds,e.nanos)}class $w{constructor(e,i,a,l,c,d,p,_,y,b){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=b}}const Jc="(default)";class kl{constructor(e,i){this.projectId=e,this.database=i||Jc}static empty(){return new kl("","")}get isDefaultDatabase(){return this.database===Jc}isEqual(e){return e instanceof kl&&e.projectId===this.projectId&&e.database===this.database}}const DE="__type__",Zw="__max__",Ic={mapValue:{}},OE="__vector__",Wc="value";function fr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Bm(r)?4:Ww(r)?9007199254740991:Jw(r)?10:11:ve(28295,{value:r})}function zi(r,e){if(r===e)return!0;const i=fr(r);if(i!==fr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Vl(r).isEqual(Vl(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=cr(l.timestampValue),p=cr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(l,c){return hr(l.bytesValue).isEqual(hr(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(l,c){return Rt(l.geoPointValue.latitude)===Rt(c.geoPointValue.latitude)&&Rt(l.geoPointValue.longitude)===Rt(c.geoPointValue.longitude)})(r,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Rt(l.integerValue)===Rt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Rt(l.doubleValue),p=Rt(c.doubleValue);return d===p?Zc(d)===Zc(p):isNaN(d)&&isNaN(p)}return!1})(r,e);case 9:return io(r.arrayValue.values||[],e.arrayValue.values||[],zi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(N0(d)!==N0(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!zi(d[_],p[_])))return!1;return!0})(r,e);default:return ve(52216,{left:r})}}function Ul(r,e){return(r.values||[]).find((i=>zi(i,e)))!==void 0}function so(r,e){if(r===e)return 0;const i=fr(r),a=fr(e);if(i!==a)return Le(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Le(r.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=Rt(c.integerValue||c.doubleValue),_=Rt(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(r,e);case 3:return O0(r.timestampValue,e.timestampValue);case 4:return O0(Vl(r),Vl(e));case 5:return rm(r.stringValue,e.stringValue);case 6:return(function(c,d){const p=hr(c),_=hr(d);return p.compareTo(_)})(r.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let y=0;y<p.length&&y<_.length;y++){const b=Le(p[y],_[y]);if(b!==0)return b}return Le(p.length,_.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=Le(Rt(c.latitude),Rt(d.latitude));return p!==0?p:Le(Rt(c.longitude),Rt(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return M0(r.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},y=p[Wc]?.arrayValue,b=_[Wc]?.arrayValue,S=Le(y?.values?.length||0,b?.values?.length||0);return S!==0?S:M0(y,b)})(r.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Ic.mapValue&&d===Ic.mapValue)return 0;if(c===Ic.mapValue)return 1;if(d===Ic.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),y=d.fields||{},b=Object.keys(y);_.sort(),b.sort();for(let S=0;S<_.length&&S<b.length;++S){const O=rm(_[S],b[S]);if(O!==0)return O;const H=so(p[_[S]],y[b[S]]);if(H!==0)return H}return Le(_.length,b.length)})(r.mapValue,e.mapValue);default:throw ve(23264,{he:i})}}function O0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Le(r,e);const i=cr(r),a=cr(e),l=Le(i.seconds,a.seconds);return l!==0?l:Le(i.nanos,a.nanos)}function M0(r,e){const i=r.values||[],a=e.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=so(i[l],a[l]);if(c)return c}return Le(i.length,a.length)}function ro(r){return am(r)}function am(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=cr(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return hr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return pe.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=am(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${am(i.fields[d])}`;return l+"}"})(r.mapValue):ve(61005,{value:r})}function Lc(r){switch(fr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ph(r);return e?16+Lc(e):16;case 5:return 2*r.stringValue.length;case 6:return hr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Lc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return gr(a.fields,((c,d)=>{l+=c.length+Lc(d)})),l})(r.mapValue);default:throw ve(13486,{value:r})}}function om(r){return!!r&&"integerValue"in r}function qm(r){return!!r&&"arrayValue"in r}function V0(r){return!!r&&"nullValue"in r}function k0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function jc(r){return!!r&&"mapValue"in r}function Jw(r){return(r?.mapValue?.fields||{})[DE]?.stringValue===OE}function xl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return gr(r.mapValue.fields,((i,a)=>e.mapValue.fields[i]=xl(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=xl(r.arrayValue.values[i]);return e}return{...r}}function Ww(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Zw}class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!jc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=xl(i)}setAll(e){let i=en.emptyPath(),a={},l=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=xl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(e){const i=this.field(e.popLast());jc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return zi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=i.mapValue.fields[e.get(a)];jc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,a){gr(i,((l,c)=>e[l]=c));for(const l of a)delete e[l]}clone(){return new En(xl(this.value))}}function ME(r){const e=[];return gr(r.fields,((i,a)=>{const l=new en([i]);if(jc(a)){const c=ME(a.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new Nn(e)}class on{constructor(e,i,a,l,c,d,p){this.key=e,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new on(e,0,be.min(),be.min(),be.min(),En.empty(),0)}static newFoundDocument(e,i,a,l){return new on(e,1,i,be.min(),a,l,0)}static newNoDocument(e,i){return new on(e,2,i,be.min(),be.min(),En.empty(),0)}static newUnknownDocument(e,i){return new on(e,3,i,be.min(),be.min(),En.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof on&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class eh{constructor(e,i){this.position=e,this.inclusive=i}}function U0(r,e,i){let a=0;for(let l=0;l<r.position.length;l++){const c=e[l],d=r.position[l];if(c.field.isKeyField()?a=pe.comparator(pe.fromName(d.referenceValue),i.key):a=so(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function L0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!zi(r.position[i],e.position[i]))return!1;return!0}class th{constructor(e,i="asc"){this.field=e,this.dir=i}}function ex(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class VE{}class zt extends VE{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new nx(e,i,a):i==="array-contains"?new rx(e,a):i==="in"?new ax(e,a):i==="not-in"?new ox(e,a):i==="array-contains-any"?new lx(e,a):new zt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new ix(e,a):new sx(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(so(i,this.value)):i!==null&&fr(this.value)===fr(i)&&this.matchesComparison(so(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bi extends VE{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Bi(e,i)}matches(e){return kE(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function kE(r){return r.op==="and"}function UE(r){return tx(r)&&kE(r)}function tx(r){for(const e of r.filters)if(e instanceof Bi)return!1;return!0}function lm(r){if(r instanceof zt)return r.field.canonicalString()+r.op.toString()+ro(r.value);if(UE(r))return r.filters.map((e=>lm(e))).join(",");{const e=r.filters.map((i=>lm(i))).join(",");return`${r.op}(${e})`}}function LE(r,e){return r instanceof zt?(function(a,l){return l instanceof zt&&a.op===l.op&&a.field.isEqual(l.field)&&zi(a.value,l.value)})(r,e):r instanceof Bi?(function(a,l){return l instanceof Bi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&LE(d,l.filters[p])),!0):!1})(r,e):void ve(19439)}function jE(r){return r instanceof zt?(function(i){return`${i.field.canonicalString()} ${i.op} ${ro(i.value)}`})(r):r instanceof Bi?(function(i){return i.op.toString()+" {"+i.getFilters().map(jE).join(" ,")+"}"})(r):"Filter"}class nx extends zt{constructor(e,i,a){super(e,i,a),this.key=pe.fromName(a.referenceValue)}matches(e){const i=pe.comparator(e.key,this.key);return this.matchesComparison(i)}}class ix extends zt{constructor(e,i){super(e,"in",i),this.keys=PE("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class sx extends zt{constructor(e,i){super(e,"not-in",i),this.keys=PE("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function PE(r,e){return(e.arrayValue?.values||[]).map((i=>pe.fromName(i.referenceValue)))}class rx extends zt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return qm(i)&&Ul(i.arrayValue,this.value)}}class ax extends zt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Ul(this.value.arrayValue,i)}}class ox extends zt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Ul(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ul(this.value.arrayValue,i)}}class lx extends zt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!qm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Ul(this.value.arrayValue,a)))}}class ux{constructor(e,i=null,a=[],l=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function j0(r,e=null,i=[],a=[],l=null,c=null,d=null){return new ux(r,e,i,a,l,c,d)}function Hm(r){const e=Se(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>lm(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),gh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>ro(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>ro(a))).join(",")),e.Te=i}return e.Te}function Gm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!ex(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!LE(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!L0(r.startAt,e.startAt)&&L0(r.endAt,e.endAt)}function um(r){return pe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class yh{constructor(e,i=null,a=[],l=[],c=null,d="F",p=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function cx(r,e,i,a,l,c,d,p){return new yh(r,e,i,a,l,c,d,p)}function _h(r){return new yh(r)}function P0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function hx(r){return r.collectionGroup!==null}function Rl(r){const e=Se(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Bt(en.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new th(c,a))})),i.has(en.keyField().canonicalString())||e.Ie.push(new th(en.keyField(),a))}return e.Ie}function Ui(r){const e=Se(r);return e.Ee||(e.Ee=fx(e,Rl(r))),e.Ee}function fx(r,e){if(r.limitType==="F")return j0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new th(l.field,c)}));const i=r.endAt?new eh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new eh(r.startAt.position,r.startAt.inclusive):null;return j0(r.path,r.collectionGroup,e,r.filters,r.limit,i,a)}}function cm(r,e,i){return new yh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function vh(r,e){return Gm(Ui(r),Ui(e))&&r.limitType===e.limitType}function zE(r){return`${Hm(Ui(r))}|lt:${r.limitType}`}function Qa(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>jE(l))).join(", ")}]`),gh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>ro(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>ro(l))).join(",")),`Target(${a})`})(Ui(r))}; limitType=${r.limitType})`}function Eh(r,e){return e.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):pe.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,e)&&(function(a,l){for(const c of Rl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,e)&&(function(a,l){return!(a.startAt&&!(function(d,p,_){const y=U0(d,p,_);return d.inclusive?y<=0:y<0})(a.startAt,Rl(a),l)||a.endAt&&!(function(d,p,_){const y=U0(d,p,_);return d.inclusive?y>=0:y>0})(a.endAt,Rl(a),l))})(r,e)}function dx(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function BE(r){return(e,i)=>{let a=!1;for(const l of Rl(r)){const c=mx(l,e,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function mx(r,e,i){const a=r.field.isKeyField()?pe.comparator(e.key,i.key):(function(c,d,p){const _=d.data.field(c),y=p.data.field(c);return _!==null&&y!==null?so(_,y):ve(42886)})(r.field,e,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return ve(19790,{direction:r.dir})}}class ta{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){gr(this.inner,((i,a)=>{for(const[l,c]of a)e(l,c)}))}isEmpty(){return wE(this.inner)}size(){return this.innerSize}}const gx=new vt(pe.comparator);function ys(){return gx}const qE=new vt(pe.comparator);function Tl(...r){let e=qE;for(const i of r)e=e.insert(i.key,i);return e}function HE(r){let e=qE;return r.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function Kr(){return Cl()}function GE(){return Cl()}function Cl(){return new ta((r=>r.toString()),((r,e)=>r.isEqual(e)))}const px=new vt(pe.comparator),yx=new Bt(pe.comparator);function je(...r){let e=yx;for(const i of r)e=e.add(i);return e}const _x=new Bt(Le);function vx(){return _x}function Fm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zc(e)?"-0":e}}function FE(r){return{integerValue:""+r}}function Ex(r,e){return Qw(e)?FE(e):Fm(r,e)}class Th{constructor(){this._=void 0}}function Tx(r,e,i){return r instanceof nh?(function(l,c){const d={fields:{[CE]:{stringValue:RE},[NE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Bm(c)&&(c=ph(c)),c&&(d.fields[IE]=c),{mapValue:d}})(i,e):r instanceof ao?YE(r,e):r instanceof Ll?KE(r,e):(function(l,c){const d=QE(l,c),p=z0(d)+z0(l.Ae);return om(d)&&om(l.Ae)?FE(p):Fm(l.serializer,p)})(r,e)}function bx(r,e,i){return r instanceof ao?YE(r,e):r instanceof Ll?KE(r,e):i}function QE(r,e){return r instanceof ih?(function(a){return om(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class nh extends Th{}class ao extends Th{constructor(e){super(),this.elements=e}}function YE(r,e){const i=XE(e);for(const a of r.elements)i.some((l=>zi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Ll extends Th{constructor(e){super(),this.elements=e}}function KE(r,e){let i=XE(e);for(const a of r.elements)i=i.filter((l=>!zi(l,a)));return{arrayValue:{values:i}}}class ih extends Th{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function z0(r){return Rt(r.integerValue||r.doubleValue)}function XE(r){return qm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class Ax{constructor(e,i){this.field=e,this.transform=i}}function Sx(r,e){return r.field.isEqual(e.field)&&(function(a,l){return a instanceof ao&&l instanceof ao||a instanceof Ll&&l instanceof Ll?io(a.elements,l.elements,zi):a instanceof ih&&l instanceof ih?zi(a.Ae,l.Ae):a instanceof nh&&l instanceof nh})(r.transform,e.transform)}class wx{constructor(e,i){this.version=e,this.transformResults=i}}class ci{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ci}static exists(e){return new ci(void 0,e)}static updateTime(e){return new ci(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class bh{}function $E(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Qm(r.key,ci.none()):new Yl(r.key,r.data,ci.none());{const i=r.data,a=En.empty();let l=new Bt(en.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new pr(r.key,a,new Nn(l.toArray()),ci.none())}}function xx(r,e,i){r instanceof Yl?(function(l,c,d){const p=l.value.clone(),_=q0(l.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,e,i):r instanceof pr?(function(l,c,d){if(!Pc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=q0(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(ZE(l)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(r,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Il(r,e,i,a){return r instanceof Yl?(function(c,d,p,_){if(!Pc(c.precondition,d))return p;const y=c.value.clone(),b=H0(c.fieldTransforms,_,d);return y.setAll(b),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,e,i,a):r instanceof pr?(function(c,d,p,_){if(!Pc(c.precondition,d))return p;const y=H0(c.fieldTransforms,_,d),b=d.data;return b.setAll(ZE(c)),b.setAll(y),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(r,e,i,a):(function(c,d,p){return Pc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,e,i)}function Rx(r,e){let i=null;for(const a of r.fieldTransforms){const l=e.data.field(a.field),c=QE(a.transform,l||null);c!=null&&(i===null&&(i=En.empty()),i.set(a.field,c))}return i||null}function B0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&io(a,l,((c,d)=>Sx(c,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Yl extends bh{constructor(e,i,a,l=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class pr extends bh{constructor(e,i,a,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function ZE(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);e.set(i,a)}})),e}function q0(r,e,i){const a=new Map;We(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=e.data.field(c.field);a.set(c.field,bx(d,p,i[l]))}return a}function H0(r,e,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,Tx(c,d,e))}return a}class Qm extends bh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Cx extends bh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ix{constructor(e,i,a,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&xx(c,e,a[l])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Il(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Il(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=GE();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const _=$E(d,p);_!==null&&a.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(be.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),je())}isEqual(e){return this.batchId===e.batchId&&io(this.mutations,e.mutations,((i,a)=>B0(i,a)))&&io(this.baseMutations,e.baseMutations,((i,a)=>B0(i,a)))}}class Ym{constructor(e,i,a,l){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(e,i,a){We(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let l=(function(){return px})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Ym(e,i,a,l)}}class Nx{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Dx{constructor(e,i){this.count=e,this.unchangedNames=i}}var Ut,qe;function Ox(r){switch(r){case Z.OK:return ve(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return ve(15467,{code:r})}}function JE(r){if(r===void 0)return ps("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Ut.OK:return Z.OK;case Ut.CANCELLED:return Z.CANCELLED;case Ut.UNKNOWN:return Z.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return Z.INTERNAL;case Ut.UNAVAILABLE:return Z.UNAVAILABLE;case Ut.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Ut.NOT_FOUND:return Z.NOT_FOUND;case Ut.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Ut.ABORTED:return Z.ABORTED;case Ut.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Ut.DATA_LOSS:return Z.DATA_LOSS;default:return ve(39323,{code:r})}}(qe=Ut||(Ut={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";function Mx(){return new TextEncoder}const Vx=new ar([4294967295,4294967295],0);function G0(r){const e=Mx().encode(r),i=new gE;return i.update(e),new Uint8Array(i.digest())}function F0(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ar([i,a],0),new ar([l,c],0)]}class Km{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new bl(`Invalid padding: ${i}`);if(a<0)throw new bl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new bl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new bl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=ar.fromNumber(this.ge)}ye(e,i,a){let l=e.add(i.multiply(ar.fromNumber(a)));return l.compare(Vx)===1&&(l=new ar([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=G0(e),[a,l]=F0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Km(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=G0(e),[a,l]=F0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ah{constructor(e,i,a,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const l=new Map;return l.set(e,Kl.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Ah(be.min(),l,new vt(Le),ys(),je())}}class Kl{constructor(e,i,a,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new Kl(a,i,je(),je(),je())}}class zc{constructor(e,i,a,l){this.be=e,this.removedTargetIds=i,this.key=a,this.De=l}}class WE{constructor(e,i){this.targetId=e,this.Ce=i}}class eT{constructor(e,i,a=tn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Q0{constructor(){this.ve=0,this.Fe=Y0(),this.Me=tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=je(),i=je(),a=je();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:ve(38017,{changeType:c})}})),new Kl(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=Y0()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,We(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class kx{constructor(e){this.Ge=e,this.ze=new Map,this.je=ys(),this.Je=Nc(),this.He=Nc(),this.Ye=new vt(Le)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,a=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(um(c))if(a===0){const d=new pe(c.path);this.et(i,d,on.newNoDocument(d,be.min()))}else We(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(e),_=p?this.ct(p,e,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=hr(a).toUint8Array()}catch(_){if(_ instanceof xE)return no("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new Km(d,l,c)}catch(_){return no(_ instanceof bl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&um(p.target)){const _=new pe(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,on.newNoDocument(_,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=je();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new Ah(e,i,this.Ye,this.je,a);return this.je=ys(),this.Je=Nc(),this.He=Nc(),this.Ye=new vt(Le),l}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new Q0,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Bt(Le),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Bt(Le),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||oe("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Q0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Nc(){return new vt(pe.comparator)}function Y0(){return new vt(pe.comparator)}const Ux={asc:"ASCENDING",desc:"DESCENDING"},Lx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jx={and:"AND",or:"OR"};class Px{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function hm(r,e){return r.useProto3Json||gh(e)?e:{value:e}}function sh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function zx(r,e){return sh(r,e.toTimestamp())}function Li(r){return We(!!r,49232),be.fromTimestamp((function(i){const a=cr(i);return new mt(a.seconds,a.nanos)})(r))}function Xm(r,e){return fm(r,e).canonicalString()}function fm(r,e){const i=(function(l){return new _t(["projects",l.projectId,"databases",l.database])})(r).child("documents");return e===void 0?i:i.child(e)}function nT(r){const e=_t.fromString(r);return We(oT(e),10190,{key:e.toString()}),e}function dm(r,e){return Xm(r.databaseId,e.path)}function Gd(r,e){const i=nT(e);if(i.get(1)!==r.databaseId.projectId)throw new he(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new he(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new pe(sT(i))}function iT(r,e){return Xm(r.databaseId,e)}function Bx(r){const e=nT(r);return e.length===4?_t.emptyPath():sT(e)}function mm(r){return new _t(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function sT(r){return We(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function K0(r,e,i){return{name:dm(r,e),fields:i.value.mapValue.fields}}function qx(r,e){let i;if("targetChange"in e){e.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:ve(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(y,b){return y.useProto3Json?(We(b===void 0||typeof b=="string",58123),tn.fromBase64String(b||"")):(We(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),tn.fromUint8Array(b||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(y){const b=y.code===void 0?Z.UNKNOWN:JE(y.code);return new he(b,y.message||"")})(d);i=new eT(a,l,c,p||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=Gd(r,a.document.name),c=Li(a.document.updateTime),d=a.document.createTime?Li(a.document.createTime):be.min(),p=new En({mapValue:{fields:a.document.fields}}),_=on.newFoundDocument(l,c,d,p),y=a.targetIds||[],b=a.removedTargetIds||[];i=new zc(y,b,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=Gd(r,a.document),c=a.readTime?Li(a.readTime):be.min(),d=on.newNoDocument(l,c),p=a.removedTargetIds||[];i=new zc([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=Gd(r,a.document),c=a.removedTargetIds||[];i=new zc([],c,l,null)}else{if(!("filter"in e))return ve(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new Dx(l,c),p=a.targetId;i=new WE(p,d)}}return i}function Hx(r,e){let i;if(e instanceof Yl)i={update:K0(r,e.key,e.value)};else if(e instanceof Qm)i={delete:dm(r,e.key)};else if(e instanceof pr)i={update:K0(r,e.key,e.data),updateMask:Jx(e.fieldMask)};else{if(!(e instanceof Cx))return ve(16599,{Vt:e.type});i={verify:dm(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof nh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof ao)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ll)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof ih)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw ve(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:zx(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ve(27497)})(r,e.precondition)),i}function Gx(r,e){return r&&r.length>0?(We(e!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Li(l.updateTime):Li(c);return d.isEqual(be.min())&&(d=Li(c)),new wx(d,l.transformResults||[])})(i,e)))):[]}function Fx(r,e){return{documents:[iT(r,e.path)]}}function Qx(r,e){const i={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=iT(r,l);const c=(function(y){if(y.length!==0)return aT(Bi.create(y,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((b=>(function(O){return{field:Ya(O.field),direction:Xx(O.dir)}})(b)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=hm(r,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:l}}function Yx(r){let e=Bx(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){We(a===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:e=e.child(b.collectionId)}let c=[];i.where&&(c=(function(S){const O=rT(S);return O instanceof Bi&&UE(O)?O.getFilters():[O]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((O=>(function(ee){return new th(Ka(ee.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(ee.direction))})(O)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let O;return O=typeof S=="object"?S.value:S,gh(O)?null:O})(i.limit));let _=null;i.startAt&&(_=(function(S){const O=!!S.before,H=S.values||[];return new eh(H,O)})(i.startAt));let y=null;return i.endAt&&(y=(function(S){const O=!S.before,H=S.values||[];return new eh(H,O)})(i.endAt)),cx(e,l,d,c,p,"F",_,y)}function Kx(r,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function rT(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ka(i.unaryFilter.field);return zt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Ka(i.unaryFilter.field);return zt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ka(i.unaryFilter.field);return zt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ka(i.unaryFilter.field);return zt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}})(r):r.fieldFilter!==void 0?(function(i){return zt.create(Ka(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Bi.create(i.compositeFilter.filters.map((a=>rT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return ve(1026)}})(i.compositeFilter.op))})(r):ve(30097,{filter:r})}function Xx(r){return Ux[r]}function $x(r){return Lx[r]}function Zx(r){return jx[r]}function Ya(r){return{fieldPath:r.canonicalString()}}function Ka(r){return en.fromServerFormat(r.fieldPath)}function aT(r){return r instanceof zt?(function(i){if(i.op==="=="){if(k0(i.value))return{unaryFilter:{field:Ya(i.field),op:"IS_NAN"}};if(V0(i.value))return{unaryFilter:{field:Ya(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(k0(i.value))return{unaryFilter:{field:Ya(i.field),op:"IS_NOT_NAN"}};if(V0(i.value))return{unaryFilter:{field:Ya(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ya(i.field),op:$x(i.op),value:i.value}}})(r):r instanceof Bi?(function(i){const a=i.getFilters().map((l=>aT(l)));return a.length===1?a[0]:{compositeFilter:{op:Zx(i.op),filters:a}}})(r):ve(54877,{filter:r})}function Jx(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function oT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class nr{constructor(e,i,a,l,c=be.min(),d=be.min(),p=tn.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(e){return new nr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Wx{constructor(e){this.yt=e}}function eR(r){const e=Yx({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?cm(e,e.limit,"L"):e}class tR{constructor(){this.Cn=new nR}addToCollectionParentIndex(e,i){return this.Cn.add(i),$.resolve()}getCollectionParents(e,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return $.resolve()}deleteFieldIndex(e,i){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,i){return $.resolve()}getDocumentsMatchingTarget(e,i){return $.resolve(null)}getIndexType(e,i){return $.resolve(0)}getFieldIndexes(e,i){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,i){return $.resolve(ur.min())}getMinOffsetFromCollectionGroup(e,i){return $.resolve(ur.min())}updateCollectionGroup(e,i,a){return $.resolve()}updateIndexEntries(e,i){return $.resolve()}}class nR{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i]||new Bt(_t.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(e){return(this.index[e]||new Bt(_t.comparator)).toArray()}}const X0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lT=41943040;class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(lT,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);class oo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new oo(0)}static cr(){return new oo(-1)}}const $0="LruGarbageCollector",iR=1048576;function Z0([r,e],[i,a]){const l=Le(r,i);return l===0?Le(e,a):l}class sR{constructor(e){this.Ir=e,this.buffer=new Bt(Z0),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Z0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class rR{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){oe($0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){go(i)?oe($0,"Ignoring IndexedDB error during garbage collection: ",i):await mo(i)}await this.Vr(3e5)}))}}class aR{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return $.resolve(mh.ce);const a=new sR(i);return this.mr.forEachTarget(e,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(X0)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),X0):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,l,c,d,p,_,y;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(e,l)))).next((S=>(a=S,p=Date.now(),this.removeTargets(e,a,i)))).next((S=>(c=S,_=Date.now(),this.removeOrphanedDocuments(e,a)))).next((S=>(y=Date.now(),Fa()<=Ue.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${S} documents in `+(y-_)+`ms
Total Duration: ${y-b}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function oR(r,e){return new aR(r,e)}class lR{constructor(){this.changes=new ta((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,on.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class uR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class cR{constructor(e,i,a,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(a!==null&&Il(a.mutation,l,Nn.empty(),mt.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,je()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=je()){const l=Kr();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,a).next((c=>{let d=Tl();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=Kr();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,je())))}populateOverlays(e,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,a,l){let c=ys();const d=Cl(),p=(function(){return Cl()})();return i.forEach(((_,y)=>{const b=a.get(y.key);l.has(y.key)&&(b===void 0||b.mutation instanceof pr)?c=c.insert(y.key,y):b!==void 0?(d.set(y.key,b.mutation.getFieldMask()),Il(b.mutation,y,b.mutation.getFieldMask(),mt.now())):d.set(y.key,Nn.empty())})),this.recalculateAndSaveOverlays(e,c).next((_=>(_.forEach(((y,b)=>d.set(y,b))),i.forEach(((y,b)=>p.set(y,new uR(b,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,i){const a=Cl();let l=new vt(((d,p)=>d-p)),c=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let b=a.get(_)||Nn.empty();b=p.applyToLocalView(y,b),a.set(_,b);const S=(l.get(p.batchId)||je()).add(_);l=l.insert(p.batchId,S)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,b=_.value,S=GE();b.forEach((O=>{if(!c.has(O)){const H=$E(i.get(O),a.get(O));H!==null&&S.set(O,H),c=c.add(O)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,S))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,l){return(function(d){return pe.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):hx(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,l):this.getDocumentsMatchingCollectionQuery(e,i,a,l)}getNextDocuments(e,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,l-c.size):$.resolve(Kr());let p=Ml,_=c;return d.next((y=>$.forEach(y,((b,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(b)?$.resolve():this.remoteDocumentCache.getEntry(e,b).next((O=>{_=_.insert(b,O)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,_,y,je()))).next((b=>({batchId:p,changes:HE(b)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new pe(i)).next((a=>{let l=Tl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,l){const c=i.collectionGroup;let d=Tl();return this.indexManager.getCollectionParents(e,c).next((p=>$.forEach(p,(_=>{const y=(function(S,O){return new yh(O,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,a,l).next((b=>{b.forEach(((S,O)=>{d=d.insert(S,O)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,l)))).next((d=>{c.forEach(((_,y)=>{const b=y.getKey();d.get(b)===null&&(d=d.insert(b,on.newInvalidDocument(b)))}));let p=Tl();return d.forEach(((_,y)=>{const b=c.get(_);b!==void 0&&Il(b.mutation,y,Nn.empty(),mt.now()),Eh(i,y)&&(p=p.insert(_,y))})),p}))}}class hR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Li(l.createTime)}})(i)),$.resolve()}getNamedQuery(e,i){return $.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:eR(l.bundledQuery),readTime:Li(l.readTime)}})(i)),$.resolve()}}class fR{constructor(){this.overlays=new vt(pe.comparator),this.qr=new Map}getOverlay(e,i){return $.resolve(this.overlays.get(i))}getOverlays(e,i){const a=Kr();return $.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((l,c)=>{this.St(e,i,c)})),$.resolve()}removeOverlaysForBatchId(e,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),$.resolve()}getOverlaysForCollection(e,i,a){const l=Kr(),c=i.length+1,d=new pe(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>a&&l.set(_.getKey(),_)}return $.resolve(l)}getOverlaysForCollectionGroup(e,i,a,l){let c=new vt(((y,b)=>y-b));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let b=c.get(y.largestBatchId);b===null&&(b=Kr(),c=c.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const p=Kr(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,b)=>p.set(y,b))),!(p.size()>=l)););return $.resolve(p)}St(e,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new Nx(i,a));let c=this.qr.get(i);c===void 0&&(c=je(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class dR{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,$.resolve()}}class $m{constructor(){this.Qr=new Bt(Qt.$r),this.Ur=new Bt(Qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new Qt(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new Qt(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new pe(new _t([])),a=new Qt(i,e),l=new Qt(i,e+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new pe(new _t([])),a=new Qt(i,e),l=new Qt(i,e+1);let c=je();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Qt(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Qt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return pe.comparator(e.key,i.key)||Le(e.Yr,i.Yr)}static Kr(e,i){return Le(e.Yr,i.Yr)||pe.comparator(e.key,i.key)}}class mR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Bt(Qt.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Ix(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Qt(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return $.resolve(d)}lookupMutationBatch(e,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?zm:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Qt(i,0),l=new Qt(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Bt(Le);return i.forEach((l=>{const c=new Qt(l,0),d=new Qt(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),$.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,l=a.length+1;let c=a;pe.isDocumentKey(c)||(c=c.child(""));const d=new Qt(new pe(c),0);let p=new Bt(Le);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(p=p.add(_.Yr)),!0)}),d),$.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){We(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return $.forEach(i.mutations,(l=>{const c=new Qt(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new Qt(i,0),l=this.Zr.firstAfterOrEqual(a);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class gR{constructor(e){this.ri=e,this.docs=(function(){return new vt(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():on.newInvalidDocument(i))}getEntries(e,i){let a=ys();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():on.newInvalidDocument(l))})),$.resolve(a)}getDocumentsMatchingQuery(e,i,a,l){let c=ys();const d=i.path,p=new pe(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:b}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||qw(Bw(b),a)<=0||(l.has(b.key)||Eh(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(e,i,a,l){ve(9500)}ii(e,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new pR(this)}getSize(e){return $.resolve(this.size)}}class pR extends lR{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(a)})),$.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class yR{constructor(e){this.persistence=e,this.si=new ta((i=>Hm(i)),Gm),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.oi=0,this._i=new $m,this.targetCount=0,this.ai=oo.ur()}forEachTarget(e,i){return this.si.forEach(((a,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),$.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new oo(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(e,i){return this.Pr(i),$.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,i,a){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return $.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),$.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return $.resolve(a)}containsKey(e,i){return $.resolve(this._i.containsKey(i))}}class uT{constructor(e,i){this.ui={},this.overlays={},this.ci=new mh(0),this.li=!1,this.li=!0,this.hi=new dR,this.referenceDelegate=e(this),this.Pi=new yR(this),this.indexManager=new tR,this.remoteDocumentCache=(function(l){return new gR(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new Wx(i),this.Ii=new hR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new fR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new mR(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){oe("MemoryPersistence","Starting transaction:",e);const l=new _R(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,i){return $.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class _R extends Gw{constructor(e){super(),this.currentSequenceNumber=e}}class Zm{constructor(e){this.persistence=e,this.Ri=new $m,this.Vi=null}static mi(e){return new Zm(e)}get fi(){if(this.Vi)return this.Vi;throw ve(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),$.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),$.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(a=>{const l=pe.fromPath(a);return this.gi(e,l).next((c=>{c||i.removeEntry(l,be.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class rh{constructor(e,i){this.persistence=e,this.pi=new ta((a=>Yw(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=oR(this,i)}static mi(e,i){return new rh(e,i)}Ei(){}di(e){return $.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((l=>a+l))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return $.forEach(this.pi,((a,l)=>this.br(e,a,l).next((c=>c?$.resolve():i(l)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,i).next((p=>{p||(a++,c.removeEntry(d,be.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),$.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Lc(e.data.value)),i}br(e,i,a){return $.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return $.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Jm{constructor(e,i,a,l){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=l}static As(e,i){let a=je(),l=je();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Jm(e,i.fromCache,a,l)}}class vR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class ER{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return aA()?8:Fw(ln())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,l){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new vR;return this.Ss(e,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(e,i,d,p.size)}))})).next((()=>c.result))}bs(e,i,a,l){return a.documentReadCount<this.fs?(Fa()<=Ue.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",Qa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(Fa()<=Ue.DEBUG&&oe("QueryEngine","Query:",Qa(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Fa()<=Ue.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",Qa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ui(i))):$.resolve())}ys(e,i){if(P0(i))return $.resolve(null);let a=Ui(i);return this.indexManager.getIndexType(e,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=cm(i,null,"F"),a=Ui(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=je(...c);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,a).next((_=>{const y=this.Ds(i,p);return this.Cs(i,y,d,_.readTime)?this.ys(e,cm(i,null,"F")):this.vs(e,y,i,_)}))))})))))}ws(e,i,a,l){return P0(i)||l.isEqual(be.min())?$.resolve(null):this.ps.getDocuments(e,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?$.resolve(null):(Fa()<=Ue.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Qa(i)),this.vs(e,d,i,zw(l,Ml)).next((p=>p)))}))}Ds(e,i){let a=new Bt(BE(e));return i.forEach(((l,c)=>{Eh(e,c)&&(a=a.add(c))})),a}Cs(e,i,a,l){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,i,a){return Fa()<=Ue.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",Qa(i)),this.ps.getDocumentsMatchingQuery(e,i,ur.min(),a)}vs(e,i,a,l){return this.ps.getDocumentsMatchingQuery(e,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Wm="LocalStore",TR=3e8;class bR{constructor(e,i,a,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new vt(Le),this.xs=new ta((c=>Hm(c)),Gm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function AR(r,e,i,a){return new bR(r,e,i,a)}async function cT(r,e){const i=Se(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let _=je();for(const y of l){d.push(y.batchId);for(const b of y.mutations)_=_.add(b.key)}for(const y of c){p.push(y.batchId);for(const b of y.mutations)_=_.add(b.key)}return i.localDocuments.getDocuments(a,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function SR(r,e){const i=Se(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,b){const S=y.batch,O=S.keys();let H=$.resolve();return O.forEach((ee=>{H=H.next((()=>b.getEntry(_,ee))).next((te=>{const W=y.docVersions.get(ee);We(W!==null,48541),te.version.compareTo(W)<0&&(S.applyToRemoteDocument(te,y),te.isValidDocument()&&(te.setReadTime(y.commitVersion),b.addEntry(te)))}))})),H.next((()=>p.mutationQueue.removeMutationBatch(_,S)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let _=je();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(e)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function hT(r){const e=Se(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function wR(r,e){const i=Se(r),a=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];e.targetChanges.forEach(((b,S)=>{const O=l.get(S);if(!O)return;p.push(i.Pi.removeMatchingKeys(c,b.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,b.addedDocuments,S))));let H=O.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?H=H.withResumeToken(tn.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):b.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(b.resumeToken,a)),l=l.insert(S,H),(function(te,W,ce){return te.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-te.snapshotVersion.toMicroseconds()>=TR?!0:ce.addedDocuments.size+ce.modifiedDocuments.size+ce.removedDocuments.size>0})(O,H,b)&&p.push(i.Pi.updateTargetData(c,H))}));let _=ys(),y=je();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),p.push(xR(c,d,e.documentUpdates).next((b=>{_=b.ks,y=b.qs}))),!a.isEqual(be.min())){const b=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(b)}return $.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.Ms=l,c)))}function xR(r,e,i){let a=je(),l=je();return i.forEach((c=>a=a.add(c))),e.getEntries(r,a).next((c=>{let d=ys();return i.forEach(((p,_)=>{const y=c.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(be.min())?(e.removeEntry(p,_.readTime),d=d.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(_),d=d.insert(p,_)):oe(Wm,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:l}}))}function RR(r,e){const i=Se(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=zm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function CR(r,e){const i=Se(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,e).next((c=>c?(l=c,$.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new nr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function gm(r,e,i){const a=Se(r),l=a.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!go(d))throw d;oe(Wm,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(l.target)}function J0(r,e,i){const a=Se(r);let l=be.min(),c=je();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,b){const S=Se(_),O=S.xs.get(b);return O!==void 0?$.resolve(S.Ms.get(O)):S.Pi.getTargetData(y,b)})(a,d,Ui(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?l:be.min(),i?c:je()))).next((p=>(IR(a,dx(e),p),{documents:p,Qs:c})))))}function IR(r,e,i){let a=r.Os.get(e)||be.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(e,a)}class W0{constructor(){this.activeTargetIds=vx()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class NR{constructor(){this.Mo=new W0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new W0,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class DR{Oo(e){}shutdown(){}}const ev="ConnectivityMonitor";class tv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){oe(ev,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){oe(ev,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Dc=null;function pm(){return Dc===null?Dc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Dc++,"0x"+Dc.toString(16)}const Fd="RestConnection",OR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class MR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Jc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(e,i,a,l,c){const d=pm(),p=this.zo(e,i.toUriEncodedString());oe(Fd,`Sending RPC '${e}' ${d}:`,p,a);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,c);const{host:y}=new URL(p),b=uo(y);return this.Jo(e,p,_,a,b).then((S=>(oe(Fd,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw no(Fd,`RPC '${e}' ${d} failed with error: `,S,"url: ",p,"request:",a),S}))}Ho(e,i,a,l,c,d){return this.Go(e,i,a,l,c)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+fo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),a&&a.headers.forEach(((l,c)=>e[c]=l))}zo(e,i){const a=OR[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class VR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const rn="WebChannelConnection";class kR extends MR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,l,c){const d=pm();return new Promise(((p,_)=>{const y=new pE;y.setWithCredentials(!0),y.listenOnce(yE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Uc.NO_ERROR:const S=y.getResponseJson();oe(rn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),p(S);break;case Uc.TIMEOUT:oe(rn,`RPC '${e}' ${d} timed out`),_(new he(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Uc.HTTP_ERROR:const O=y.getStatus();if(oe(rn,`RPC '${e}' ${d} failed with status:`,O,"response text:",y.getResponseText()),O>0){let H=y.getResponseJson();Array.isArray(H)&&(H=H[0]);const ee=H?.error;if(ee&&ee.status&&ee.message){const te=(function(ce){const Ee=ce.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(Ee)>=0?Ee:Z.UNKNOWN})(ee.status);_(new he(te,ee.message))}else _(new he(Z.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new he(Z.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{oe(rn,`RPC '${e}' ${d} completed.`)}}));const b=JSON.stringify(l);oe(rn,`RPC '${e}' ${d} sending request:`,l),y.send(i,"POST",b,a,15)}))}T_(e,i,a){const l=pm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=EE(),p=vE(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const b=c.join("");oe(rn,`Creating RPC '${e}' stream ${l}: ${b}`,_);const S=d.createWebChannel(b,_);this.I_(S);let O=!1,H=!1;const ee=new VR({Yo:W=>{H?oe(rn,`Not sending because RPC '${e}' stream ${l} is closed:`,W):(O||(oe(rn,`Opening RPC '${e}' stream ${l} transport.`),S.open(),O=!0),oe(rn,`RPC '${e}' stream ${l} sending:`,W),S.send(W))},Zo:()=>S.close()}),te=(W,ce,Ee)=>{W.listen(ce,(ge=>{try{Ee(ge)}catch(Je){setTimeout((()=>{throw Je}),0)}}))};return te(S,El.EventType.OPEN,(()=>{H||(oe(rn,`RPC '${e}' stream ${l} transport opened.`),ee.o_())})),te(S,El.EventType.CLOSE,(()=>{H||(H=!0,oe(rn,`RPC '${e}' stream ${l} transport closed`),ee.a_(),this.E_(S))})),te(S,El.EventType.ERROR,(W=>{H||(H=!0,no(rn,`RPC '${e}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),ee.a_(new he(Z.UNAVAILABLE,"The operation could not be completed")))})),te(S,El.EventType.MESSAGE,(W=>{if(!H){const ce=W.data[0];We(!!ce,16349);const Ee=ce,ge=Ee?.error||Ee[0]?.error;if(ge){oe(rn,`RPC '${e}' stream ${l} received error:`,ge);const Je=ge.status;let st=(function(w){const R=Ut[w];if(R!==void 0)return JE(R)})(Je),Ce=ge.message;st===void 0&&(st=Z.INTERNAL,Ce="Unknown error status: "+Je+" with message "+ge.message),H=!0,ee.a_(new he(st,Ce)),S.close()}else oe(rn,`RPC '${e}' stream ${l} received:`,ce),ee.u_(ce)}})),te(p,_E.STAT_EVENT,(W=>{W.stat===sm.PROXY?oe(rn,`RPC '${e}' stream ${l} detected buffering proxy`):W.stat===sm.NOPROXY&&oe(rn,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{ee.__()}),0),ee}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Qd(){return typeof document<"u"?document:null}function Sh(r){return new Px(r,!0)}class fT{constructor(e,i,a=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&oe("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const nv="PersistentStream";class dT{constructor(e,i,a,l,c,d,p,_){this.Mi=e,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new fT(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(ps(i.toString()),ps("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{e((()=>{const l=new he(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return oe(nv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(oe(nv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class UR extends dT{constructor(e,i,a,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=qx(this.serializer,e),a=(function(c){if(!("targetChange"in c))return be.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?be.min():d.readTime?Li(d.readTime):be.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=mm(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=um(_)?{documents:Fx(c,_)}:{query:Qx(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=tT(c,d.resumeToken);const y=hm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(be.min())>0){p.readTime=sh(c,d.snapshotVersion.toTimestamp());const y=hm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const a=Kx(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=mm(this.serializer),i.removeTarget=e,this.q_(i)}}class LR extends dT{constructor(e,i,a,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=Gx(e.writeResults,e.commitTime),a=Li(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=mm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>Hx(this.serializer,a)))};this.q_(i)}}class jR{}class PR extends jR{constructor(e,i,a,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new he(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,fm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(Z.UNKNOWN,c.toString())}))}Ho(e,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,fm(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new he(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class zR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ps(i),this.aa=!1):oe("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Wr="RemoteStore";class BR{constructor(e,i,a,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{na(this)&&(oe(Wr,"Restarting streams for network reachability change."),await(async function(_){const y=Se(_);y.Ea.add(4),await Xl(y),y.Ra.set("Unknown"),y.Ea.delete(4),await wh(y)})(this))}))})),this.Ra=new zR(a,l)}}async function wh(r){if(na(r))for(const e of r.da)await e(!0)}async function Xl(r){for(const e of r.da)await e(!1)}function mT(r,e){const i=Se(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),ig(i)?ng(i):po(i).O_()&&tg(i,e))}function eg(r,e){const i=Se(r),a=po(i);i.Ia.delete(e),a.O_()&&gT(i,e),i.Ia.size===0&&(a.O_()?a.L_():na(i)&&i.Ra.set("Unknown"))}function tg(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}po(r).Y_(e)}function gT(r,e){r.Va.Ue(e),po(r).Z_(e)}function ng(r){r.Va=new kx({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),po(r).start(),r.Ra.ua()}function ig(r){return na(r)&&!po(r).x_()&&r.Ia.size>0}function na(r){return Se(r).Ea.size===0}function pT(r){r.Va=void 0}async function qR(r){r.Ra.set("Online")}async function HR(r){r.Ia.forEach(((e,i)=>{tg(r,e)}))}async function GR(r,e){pT(r),ig(r)?(r.Ra.ha(e),ng(r)):r.Ra.set("Unknown")}async function FR(r,e,i){if(r.Ra.set("Online"),e instanceof eT&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(r,e)}catch(a){oe(Wr,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await ah(r,a)}else if(e instanceof zc?r.Va.Ze(e):e instanceof WE?r.Va.st(e):r.Va.tt(e),!i.isEqual(be.min()))try{const a=await hT(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const b=c.Ia.get(y);b&&c.Ia.set(y,b.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,y)=>{const b=c.Ia.get(_);if(!b)return;c.Ia.set(_,b.withResumeToken(tn.EMPTY_BYTE_STRING,b.snapshotVersion)),gT(c,_);const S=new nr(b.target,_,y,b.sequenceNumber);tg(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){oe(Wr,"Failed to raise snapshot:",a),await ah(r,a)}}async function ah(r,e,i){if(!go(e))throw e;r.Ea.add(1),await Xl(r),r.Ra.set("Offline"),i||(i=()=>hT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{oe(Wr,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await wh(r)}))}function yT(r,e){return e().catch((i=>ah(r,i,e)))}async function xh(r){const e=Se(r),i=dr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:zm;for(;QR(e);)try{const l=await RR(e.localStore,a);if(l===null){e.Ta.length===0&&i.L_();break}a=l.batchId,YR(e,l)}catch(l){await ah(e,l)}_T(e)&&vT(e)}function QR(r){return na(r)&&r.Ta.length<10}function YR(r,e){r.Ta.push(e);const i=dr(r);i.O_()&&i.X_&&i.ea(e.mutations)}function _T(r){return na(r)&&!dr(r).x_()&&r.Ta.length>0}function vT(r){dr(r).start()}async function KR(r){dr(r).ra()}async function XR(r){const e=dr(r);for(const i of r.Ta)e.ea(i.mutations)}async function $R(r,e,i){const a=r.Ta.shift(),l=Ym.from(a,e,i);await yT(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await xh(r)}async function ZR(r,e){e&&dr(r).X_&&await(async function(a,l){if((function(d){return Ox(d)&&d!==Z.ABORTED})(l.code)){const c=a.Ta.shift();dr(a).B_(),await yT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await xh(a)}})(r,e),_T(r)&&vT(r)}async function iv(r,e){const i=Se(r);i.asyncQueue.verifyOperationInProgress(),oe(Wr,"RemoteStore received new credentials");const a=na(i);i.Ea.add(3),await Xl(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await wh(i)}async function JR(r,e){const i=Se(r);e?(i.Ea.delete(2),await wh(i)):e||(i.Ea.add(2),await Xl(i),i.Ra.set("Unknown"))}function po(r){return r.ma||(r.ma=(function(i,a,l){const c=Se(i);return c.sa(),new UR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:qR.bind(null,r),t_:HR.bind(null,r),r_:GR.bind(null,r),H_:FR.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),ig(r)?ng(r):r.Ra.set("Unknown")):(await r.ma.stop(),pT(r))}))),r.ma}function dr(r){return r.fa||(r.fa=(function(i,a,l){const c=Se(i);return c.sa(),new LR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:KR.bind(null,r),r_:ZR.bind(null,r),ta:XR.bind(null,r),na:$R.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await xh(r)):(await r.fa.stop(),r.Ta.length>0&&(oe(Wr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class sg{constructor(e,i,a,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,l,c){const d=Date.now()+a,p=new sg(e,i,d,l,c);return p.start(a),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rg(r,e){if(ps("AsyncQueue",`${e}: ${r}`),go(r))return new he(Z.UNAVAILABLE,`${e}: ${r}`);throw r}class Wa{static emptySet(e){return new Wa(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||pe.comparator(i.key,a.key):(i,a)=>pe.comparator(i.key,a.key),this.keyedMap=Tl(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Wa)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new Wa;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class sv{constructor(){this.ga=new vt(pe.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):ve(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class lo{constructor(e,i,a,l,c,d,p,_,y){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(e,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new lo(e,i,Wa.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class WR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class eC{constructor(){this.queries=rv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Se(i),c=l.queries;l.queries=rv(),c.forEach(((d,p)=>{for(const _ of p.Sa)_.onError(a)}))})(this,new he(Z.ABORTED,"Firestore shutting down"))}}function rv(){return new ta((r=>zE(r)),vh)}async function ET(r,e){const i=Se(r);let a=3;const l=e.query;let c=i.queries.get(l);c?!c.ba()&&e.Da()&&(a=2):(c=new WR,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=rg(d,`Initialization of query '${Qa(e.query)}' failed`);return void e.onError(p)}i.queries.set(l,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&ag(i)}async function TT(r,e){const i=Se(r),a=e.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function tC(r,e){const i=Se(r);let a=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(a=!0);d.wa=l}}a&&ag(i)}function nC(r,e,i){const a=Se(r),l=a.queries.get(e);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(e)}function ag(r){r.Ca.forEach((e=>{e.next()}))}var ym,av;(av=ym||(ym={})).Ma="default",av.Cache="cache";class bT{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new lo(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=lo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ym.Cache}}class AT{constructor(e){this.key=e}}class ST{constructor(e){this.key=e}}class iC{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=je(),this.mutatedKeys=je(),this.eu=BE(e),this.tu=new Wa(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new sv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((b,S)=>{const O=l.get(b),H=Eh(this.query,S)?S:null,ee=!!O&&this.mutatedKeys.has(O.key),te=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let W=!1;O&&H?O.data.isEqual(H.data)?ee!==te&&(a.track({type:3,doc:H}),W=!0):this.su(O,H)||(a.track({type:2,doc:H}),W=!0,(_&&this.eu(H,_)>0||y&&this.eu(H,y)<0)&&(p=!0)):!O&&H?(a.track({type:0,doc:H}),W=!0):O&&!H&&(a.track({type:1,doc:O}),W=!0,(_||y)&&(p=!0)),W&&(H?(d=d.add(H),c=te?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),a.track({type:1,doc:b})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((b,S)=>(function(H,ee){const te=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Rt:W})}};return te(H)-te(ee)})(b.type,S.type)||this.eu(b.doc,S.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new lo(this.query,e.tu,c,d,e.mutatedKeys,_===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new sv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=je(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new ST(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new AT(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=je();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return lo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const og="SyncEngine";class sC{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class rC{constructor(e){this.key=e,this.hu=!1}}class aC{constructor(e,i,a,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ta((p=>zE(p)),vh),this.Iu=new Map,this.Eu=new Set,this.du=new vt(pe.comparator),this.Au=new Map,this.Ru=new $m,this.Vu={},this.mu=new Map,this.fu=oo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function oC(r,e,i=!0){const a=NT(r);let l;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await wT(a,e,i,!0),l}async function lC(r,e){const i=NT(r);await wT(i,e,!0,!1)}async function wT(r,e,i,a){const l=await CR(r.localStore,Ui(e)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await uC(r,e,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&mT(r.remoteStore,l),p}async function uC(r,e,i,a,l){r.pu=(S,O,H)=>(async function(te,W,ce,Ee){let ge=W.view.ru(ce);ge.Cs&&(ge=await J0(te.localStore,W.query,!1).then((({documents:I})=>W.view.ru(I,ge))));const Je=Ee&&Ee.targetChanges.get(W.targetId),st=Ee&&Ee.targetMismatches.get(W.targetId)!=null,Ce=W.view.applyChanges(ge,te.isPrimaryClient,Je,st);return lv(te,W.targetId,Ce.au),Ce.snapshot})(r,S,O,H);const c=await J0(r.localStore,e,!0),d=new iC(e,c.Qs),p=d.ru(c.documents),_=Kl.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),y=d.applyChanges(p,r.isPrimaryClient,_);lv(r,i,y.au);const b=new sC(e,i,d);return r.Tu.set(e,b),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),y.snapshot}async function cC(r,e,i){const a=Se(r),l=a.Tu.get(e),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!vh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await gm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&eg(a.remoteStore,l.targetId),_m(a,l.targetId)})).catch(mo)):(_m(a,l.targetId),await gm(a.localStore,l.targetId,!0))}async function hC(r,e){const i=Se(r),a=i.Tu.get(e),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),eg(i.remoteStore,a.targetId))}async function fC(r,e,i){const a=vC(r);try{const l=await(function(d,p){const _=Se(d),y=mt.now(),b=p.reduce(((H,ee)=>H.add(ee.key)),je());let S,O;return _.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let ee=ys(),te=je();return _.Ns.getEntries(H,b).next((W=>{ee=W,ee.forEach(((ce,Ee)=>{Ee.isValidDocument()||(te=te.add(ce))}))})).next((()=>_.localDocuments.getOverlayedDocuments(H,ee))).next((W=>{S=W;const ce=[];for(const Ee of p){const ge=Rx(Ee,S.get(Ee.key).overlayedDocument);ge!=null&&ce.push(new pr(Ee.key,ge,ME(ge.value.mapValue),ci.exists(!0)))}return _.mutationQueue.addMutationBatch(H,y,ce,p)})).next((W=>{O=W;const ce=W.applyToLocalDocumentSet(S,te);return _.documentOverlayCache.saveOverlays(H,W.batchId,ce)}))})).then((()=>({batchId:O.batchId,changes:HE(S)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new vt(Le)),y=y.insert(p,_),d.Vu[d.currentUser.toKey()]=y})(a,l.batchId,i),await $l(a,l.changes),await xh(a.remoteStore)}catch(l){const c=rg(l,"Failed to persist write");i.reject(c)}}async function xT(r,e){const i=Se(r);try{const a=await wR(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(We(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?We(d.hu,14607):l.removedDocuments.size>0&&(We(d.hu,42227),d.hu=!1))})),await $l(i,a,e)}catch(a){await mo(a)}}function ov(r,e,i){const a=Se(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const _=Se(d);_.onlineState=p;let y=!1;_.queries.forEach(((b,S)=>{for(const O of S.Sa)O.va(p)&&(y=!0)})),y&&ag(_)})(a.eventManager,e),l.length&&a.Pu.H_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function dC(r,e,i){const a=Se(r);a.sharedClientState.updateQueryState(e,"rejected",i);const l=a.Au.get(e),c=l&&l.key;if(c){let d=new vt(pe.comparator);d=d.insert(c,on.newNoDocument(c,be.min()));const p=je().add(c),_=new Ah(be.min(),new Map,new vt(Le),d,p);await xT(a,_),a.du=a.du.remove(c),a.Au.delete(e),lg(a)}else await gm(a.localStore,e,!1).then((()=>_m(a,e,i))).catch(mo)}async function mC(r,e){const i=Se(r),a=e.batch.batchId;try{const l=await SR(i.localStore,e);CT(i,a,null),RT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await $l(i,l)}catch(l){await mo(l)}}async function gC(r,e,i){const a=Se(r);try{const l=await(function(d,p){const _=Se(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return _.mutationQueue.lookupMutationBatch(y,p).next((S=>(We(S!==null,37113),b=S.keys(),_.mutationQueue.removeMutationBatch(y,S)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,b,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>_.localDocuments.getDocuments(y,b)))}))})(a.localStore,e);CT(a,e,i),RT(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await $l(a,l)}catch(l){await mo(l)}}function RT(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function CT(r,e,i){const a=Se(r);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),a.Vu[a.currentUser.toKey()]=l}}function _m(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((a=>{r.Ru.containsKey(a)||IT(r,a)}))}function IT(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(eg(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),lg(r))}function lv(r,e,i){for(const a of i)a instanceof AT?(r.Ru.addReference(a.key,e),pC(r,a)):a instanceof ST?(oe(og,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||IT(r,a.key)):ve(19791,{wu:a})}function pC(r,e){const i=e.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(oe(og,"New document in limbo: "+i),r.Eu.add(a),lg(r))}function lg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new pe(_t.fromString(e)),a=r.fu.next();r.Au.set(a,new rC(i)),r.du=r.du.insert(i,a),mT(r.remoteStore,new nr(Ui(_h(i.path)),a,"TargetPurposeLimboResolution",mh.ce))}}async function $l(r,e,i){const a=Se(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,_)=>{d.push(a.pu(_,e,i).then((y=>{if((y||i)&&a.isPrimaryClient){const b=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,b?"current":"not-current")}if(y){l.push(y);const b=Jm.As(_.targetId,y);c.push(b)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(_,y){const b=Se(_);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>$.forEach(y,(O=>$.forEach(O.Es,(H=>b.persistence.referenceDelegate.addReference(S,O.targetId,H))).next((()=>$.forEach(O.ds,(H=>b.persistence.referenceDelegate.removeReference(S,O.targetId,H)))))))))}catch(S){if(!go(S))throw S;oe(Wm,"Failed to update sequence numbers: "+S)}for(const S of y){const O=S.targetId;if(!S.fromCache){const H=b.Ms.get(O),ee=H.snapshotVersion,te=H.withLastLimboFreeSnapshotVersion(ee);b.Ms=b.Ms.insert(O,te)}}})(a.localStore,c))}async function yC(r,e){const i=Se(r);if(!i.currentUser.isEqual(e)){oe(og,"User change. New user:",e.toKey());const a=await cT(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new he(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await $l(i,a.Ls)}}function _C(r,e){const i=Se(r),a=i.Au.get(e);if(a&&a.hu)return je().add(a.key);{let l=je();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function NT(r){const e=Se(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=xT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_C.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dC.bind(null,e),e.Pu.H_=tC.bind(null,e.eventManager),e.Pu.yu=nC.bind(null,e.eventManager),e}function vC(r){const e=Se(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gC.bind(null,e),e}class oh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return AR(this.persistence,new ER,e.initialUser,this.serializer)}Cu(e){return new uT(Zm.mi,this.serializer)}Du(e){return new NR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}oh.provider={build:()=>new oh};class EC extends oh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){We(this.persistence.referenceDelegate instanceof rh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new rR(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new uT((a=>rh.mi(a,i)),this.serializer)}}class vm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>ov(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=yC.bind(null,this.syncEngine),await JR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new eC})()}createDatastore(e){const i=Sh(e.databaseInfo.databaseId),a=(function(c){return new kR(c)})(e.databaseInfo);return(function(c,d,p,_){return new PR(c,d,p,_)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,l,c,d,p){return new BR(a,l,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>ov(this.syncEngine,i,0)),(function(){return tv.v()?new tv:new DR})())}createSyncEngine(e,i){return(function(l,c,d,p,_,y,b){const S=new aC(l,c,d,p,_,y);return b&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Se(i);oe(Wr,"RemoteStore shutting down."),a.Ea.add(5),await Xl(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}vm.provider={build:()=>new vm};class DT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ps("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const mr="FirestoreClient";class TC{constructor(e,i,a,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=an.UNAUTHENTICATED,this.clientId=jm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{oe(mr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(oe(mr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=rg(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Yd(r,e){r.asyncQueue.verifyOperationInProgress(),oe(mr,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await cT(e.localStore,l),a=l)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function uv(r,e){r.asyncQueue.verifyOperationInProgress();const i=await bC(r);oe(mr,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((a=>iv(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>iv(e.remoteStore,l))),r._onlineComponents=e}async function bC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){oe(mr,"Using user provided OfflineComponentProvider");try{await Yd(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;no("Error using user provided cache. Falling back to memory cache: "+i),await Yd(r,new oh)}}else oe(mr,"Using default OfflineComponentProvider"),await Yd(r,new EC(void 0));return r._offlineComponents}async function OT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(oe(mr,"Using user provided OnlineComponentProvider"),await uv(r,r._uninitializedComponentsProvider._online)):(oe(mr,"Using default OnlineComponentProvider"),await uv(r,new vm))),r._onlineComponents}function AC(r){return OT(r).then((e=>e.syncEngine))}async function Em(r){const e=await OT(r),i=e.eventManager;return i.onListen=oC.bind(null,e.syncEngine),i.onUnlisten=cC.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=lC.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=hC.bind(null,e.syncEngine),i}function SC(r,e,i={}){const a=new or;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,_,y){const b=new DT({next:O=>{b.Nu(),d.enqueueAndForget((()=>TT(c,S)));const H=O.docs.has(p);!H&&O.fromCache?y.reject(new he(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&O.fromCache&&_&&_.source==="server"?y.reject(new he(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(O)},error:O=>y.reject(O)}),S=new bT(_h(p.path),b,{includeMetadataChanges:!0,qa:!0});return ET(c,S)})(await Em(r),r.asyncQueue,e,i,a))),a.promise}function MT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const cv=new Map;const VT="firestore.googleapis.com",hv=!0;class fv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=VT,this.ssl=hv}else this.host=e.host,this.ssl=e.ssl??hv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=lT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<iR)throw new he(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Pw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=MT(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new he(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new he(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new he(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ug{constructor(e,i,a,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Cw;switch(a.type){case"firstParty":return new Ow(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new he(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=cv.get(i);a&&(oe("ComponentProvider","Removing Datastore"),cv.delete(i),a.terminate())})(this),Promise.resolve()}}function wC(r,e,i,a={}){r=ui(r,ug);const l=uo(e),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${e}:${i}`;l&&(Nv(`https://${p}`),Dv("Firestore",!0)),c.host!==VT&&c.host!==p&&no("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:l,emulatorOptions:a};if(!lr(_,d)&&(r._setSettings(_),a.mockUserToken)){let y,b;if(typeof a.mockUserToken=="string")y=a.mockUserToken,b=an.MOCK_USER;else{y=Zb(a.mockUserToken,r._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new he(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new an(S)}r._authCredentials=new Iw(new bE(y,b))}}class Rh{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Rh(this.firestore,e,this._query)}}class jt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jt(this.firestore,e,this._key)}toJSON(){return{type:jt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(Ql(i,jt._jsonSchema))return new jt(e,a||null,new pe(_t.fromString(i.referencePath)))}}jt._jsonSchemaVersion="firestore/documentReference/1.0",jt._jsonSchema={type:Lt("string",jt._jsonSchemaVersion),referencePath:Lt("string")};class jl extends Rh{constructor(e,i,a){super(e,i,_h(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jt(this.firestore,null,new pe(e))}withConverter(e){return new jl(this.firestore,e,this._path)}}function Fn(r,e,...i){if(r=hn(r),arguments.length===1&&(e=jm.newId()),jw("doc","path",e),r instanceof ug){const a=_t.fromString(e,...i);return x0(a),new jt(r,null,new pe(a))}{if(!(r instanceof jt||r instanceof jl))throw new he(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(_t.fromString(e,...i));return x0(a),new jt(r.firestore,r instanceof jl?r.converter:null,new pe(a))}}const dv="AsyncQueue";class mv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new fT(this,"async_queue_retry"),this._c=()=>{const a=Qd();a&&oe(dv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Qd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Qd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new or;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!go(e))throw e;oe(dv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,ps("INTERNAL UNHANDLED ERROR: ",gv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=sg.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&ve(47125,{Pc:gv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function gv(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function pv(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class ea extends ug{constructor(e,i,a,l){super(e,i,a,l),this.type="firestore",this._queue=new mv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new mv(e),this._firestoreClient=void 0,await e}}}function xC(r,e){const i=typeof r=="object"?r:kv(),a=typeof r=="string"?r:Jc,l=Cm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=Xb("firestore");c&&wC(l,...c)}return l}function cg(r){if(r._terminated)throw new he(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||RC(r),r._firestoreClient}function RC(r){const e=r._freezeSettings(),i=(function(l,c,d,p){return new $w(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,MT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new TC(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class Xn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xn(tn.fromBase64String(e))}catch(i){throw new he(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Xn(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ql(e,Xn._jsonSchema))return Xn.fromBase64String(e.bytes)}}Xn._jsonSchemaVersion="firestore/bytes/1.0",Xn._jsonSchema={type:Lt("string",Xn._jsonSchemaVersion),bytes:Lt("string")};class Ch{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new he(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ih{constructor(e){this._methodName=e}}class ji{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new he(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new he(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ji._jsonSchemaVersion}}static fromJSON(e){if(Ql(e,ji._jsonSchema))return new ji(e.latitude,e.longitude)}}ji._jsonSchemaVersion="firestore/geoPoint/1.0",ji._jsonSchema={type:Lt("string",ji._jsonSchemaVersion),latitude:Lt("number"),longitude:Lt("number")};class Pi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Pi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ql(e,Pi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Pi(e.vectorValues);throw new he(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Pi._jsonSchemaVersion="firestore/vectorValue/1.0",Pi._jsonSchema={type:Lt("string",Pi._jsonSchemaVersion),vectorValues:Lt("object")};const CC=/^__.*__$/;class IC{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new pr(e,this.data,this.fieldMask,i,this.fieldTransforms):new Yl(e,this.data,i,this.fieldTransforms)}}class kT{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new pr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function UT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{Ac:r})}}class Nh{constructor(e,i,a,l,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Nh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return lh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(UT(this.Ac)&&CC.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class NC{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Sh(e)}Cc(e,i,a,l=!1){return new Nh({Ac:e,methodName:i,Dc:a,path:en.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function LT(r){const e=r._freezeSettings(),i=Sh(r._databaseId);return new NC(r._databaseId,!!e.ignoreUndefinedProperties,i)}function DC(r,e,i,a,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,e,i,l);fg("Data must be an object, but it was:",d,a);const p=jT(a,d);let _,y;if(c.merge)_=new Nn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const S of c.mergeFields){const O=Tm(e,S,i);if(!d.contains(O))throw new he(Z.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);zT(b,O)||b.push(O)}_=new Nn(b),y=d.fieldTransforms.filter((S=>_.covers(S.field)))}else _=null,y=d.fieldTransforms;return new IC(new En(p),_,y)}class Dh extends Ih{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Dh}}function OC(r,e,i){return new Nh({Ac:3,Dc:e.settings.Dc,methodName:r._methodName,fc:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class hg extends Ih{constructor(e,i){super(e),this.vc=i}_toFieldTransform(e){const i=OC(this,e,!0),a=this.vc.map((c=>Zl(c,i))),l=new ao(a);return new Ax(e.path,l)}isEqual(e){return e instanceof hg&&lr(this.vc,e.vc)}}function MC(r,e,i,a){const l=r.Cc(1,e,i);fg("Data must be an object, but it was:",l,a);const c=[],d=En.empty();gr(a,((_,y)=>{const b=dg(e,_,i);y=hn(y);const S=l.yc(b);if(y instanceof Dh)c.push(b);else{const O=Zl(y,S);O!=null&&(c.push(b),d.set(b,O))}}));const p=new Nn(c);return new kT(d,p,l.fieldTransforms)}function VC(r,e,i,a,l,c){const d=r.Cc(1,e,i),p=[Tm(e,a,i)],_=[l];if(c.length%2!=0)throw new he(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<c.length;O+=2)p.push(Tm(e,c[O])),_.push(c[O+1]);const y=[],b=En.empty();for(let O=p.length-1;O>=0;--O)if(!zT(y,p[O])){const H=p[O];let ee=_[O];ee=hn(ee);const te=d.yc(H);if(ee instanceof Dh)y.push(H);else{const W=Zl(ee,te);W!=null&&(y.push(H),b.set(H,W))}}const S=new Nn(y);return new kT(b,S,d.fieldTransforms)}function Zl(r,e){if(PT(r=hn(r)))return fg("Unsupported field value:",e,r),jT(r,e);if(r instanceof Ih)return(function(a,l){if(!UT(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let _=Zl(p,l.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(r,e)}return(function(a,l){if((a=hn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return Ex(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=mt.fromDate(a);return{timestampValue:sh(l.serializer,c)}}if(a instanceof mt){const c=new mt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:sh(l.serializer,c)}}if(a instanceof ji)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Xn)return{bytesValue:tT(l.serializer,a._byteString)};if(a instanceof jt){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Xm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Pi)return(function(d,p){return{mapValue:{fields:{[DE]:{stringValue:OE},[Wc]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return Fm(p.serializer,y)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${Pm(a)}`)})(r,e)}function jT(r,e){const i={};return wE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gr(r,((a,l)=>{const c=Zl(l,e.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function PT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof mt||r instanceof ji||r instanceof Xn||r instanceof jt||r instanceof Ih||r instanceof Pi)}function fg(r,e,i){if(!PT(i)||!AE(i)){const a=Pm(i);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function Tm(r,e,i){if((e=hn(e))instanceof Ch)return e._internalPath;if(typeof e=="string")return dg(r,e);throw lh("Field path arguments must be of type string or ",r,!1,void 0,i)}const kC=new RegExp("[~\\*/\\[\\]]");function dg(r,e,i){if(e.search(kC)>=0)throw lh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Ch(...e.split("."))._internalPath}catch{throw lh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function lh(r,e,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${l}`),_+=")"),new he(Z.INVALID_ARGUMENT,p+r+_)}function zT(r,e){return r.some((i=>i.isEqual(e)))}class BT{constructor(e,i,a,l,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new UC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(qT("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class UC extends BT{data(){return super.data()}}function qT(r,e){return typeof e=="string"?dg(r,e):e instanceof Ch?e._internalPath:e._delegate._internalPath}function LC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new he(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jC{convertValue(e,i="none"){switch(fr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(hr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return gr(e,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[Wc].arrayValue?.values?.map((a=>Rt(a.doubleValue)));return new Pi(i)}convertGeoPoint(e){return new ji(Rt(e.latitude),Rt(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=ph(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Vl(e));default:return null}}convertTimestamp(e){const i=cr(e);return new mt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=_t.fromString(e);We(oT(a),9688,{name:e});const l=new kl(a.get(1),a.get(3)),c=new pe(a.popFirst(5));return l.isEqual(i)||ps(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function PC(r,e,i){let a;return a=r?r.toFirestore(e):e,a}class Al{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xr extends BT{constructor(e,i,a,l,c,d){super(e,i,a,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(qT("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Xr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Xr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Xr._jsonSchema={type:Lt("string",Xr._jsonSchemaVersion),bundleSource:Lt("string","DocumentSnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class Bc extends Xr{data(e={}){return super.data(e)}}class eo{constructor(e,i,a,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Al(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Bc(this._firestore,this._userDataWriter,a.key,a,new Al(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new he(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const _=new Bc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Al(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new Bc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Al(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,b=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),b=d.indexOf(p.doc.key)),{type:zC(p.type),doc:_,oldIndex:y,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=eo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=jm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function zC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:r})}}function BC(r){r=ui(r,jt);const e=ui(r.firestore,ea);return SC(cg(e),r._key).then((i=>GT(e,r,i)))}eo._jsonSchemaVersion="firestore/querySnapshot/1.0",eo._jsonSchema={type:Lt("string",eo._jsonSchemaVersion),bundleSource:Lt("string","QuerySnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class HT extends jC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new jt(this.firestore,null,i)}}function qC(r,e,i){r=ui(r,jt);const a=ui(r.firestore,ea),l=PC(r.converter,e);return mg(a,[DC(LT(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,ci.none())])}function Oi(r,e,i,...a){r=ui(r,jt);const l=ui(r.firestore,ea),c=LT(l);let d;return d=typeof(e=hn(e))=="string"||e instanceof Ch?VC(c,"updateDoc",r._key,e,i,a):MC(c,"updateDoc",r._key,e),mg(l,[d.toMutation(r._key,ci.exists(!0))])}function HC(r){return mg(ui(r.firestore,ea),[new Qm(r._key,ci.none())])}function GC(r,...e){r=hn(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||pv(e[a])||(i=e[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(pv(e[a])){const _=e[a];e[a]=_.next?.bind(_),e[a+1]=_.error?.bind(_),e[a+2]=_.complete?.bind(_)}let c,d,p;if(r instanceof jt)d=ui(r.firestore,ea),p=_h(r._key.path),c={next:_=>{e[a]&&e[a](GT(d,r,_))},error:e[a+1],complete:e[a+2]};else{const _=ui(r,Rh);d=ui(_.firestore,ea),p=_._query;const y=new HT(d);c={next:b=>{e[a]&&e[a](new eo(d,y,_,b))},error:e[a+1],complete:e[a+2]},LC(r._query)}return(function(y,b,S,O){const H=new DT(O),ee=new bT(b,H,S);return y.asyncQueue.enqueueAndForget((async()=>ET(await Em(y),ee))),()=>{H.Nu(),y.asyncQueue.enqueueAndForget((async()=>TT(await Em(y),ee)))}})(cg(d),p,l,c)}function mg(r,e){return(function(a,l){const c=new or;return a.asyncQueue.enqueueAndForget((async()=>fC(await AC(a),l,c))),c.promise})(cg(r),e)}function GT(r,e,i){const a=i.docs.get(e._key),l=new HT(r);return new Xr(r,l,e._key,a,new Al(i.hasPendingWrites,i.fromCache),e.converter)}function yv(...r){return new hg("arrayUnion",r)}(function(e,i=!0){(function(l){fo=l})(co),to(new $r("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new ea(new Nw(a.getProvider("auth-internal")),new Mw(d,a.getProvider("app-check-internal")),(function(y,b){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new he(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kl(y.options.projectId,b)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),rr(b0,A0,e),rr(b0,A0,"esm2020")})();const FC=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),QC=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),_v=r=>{const e=QC(r);return e.charAt(0).toUpperCase()+e.slice(1)},FT=(...r)=>r.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),YC=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var KC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const XC=yt.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},_)=>yt.createElement("svg",{ref:_,...KC,width:e,height:e,stroke:r,strokeWidth:a?Number(i)*24/Number(e):i,className:FT("lucide",l),...!c&&!YC(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,b])=>yt.createElement(y,b)),...Array.isArray(c)?c:[c]]));const it=(r,e)=>{const i=yt.forwardRef(({className:a,...l},c)=>yt.createElement(XC,{ref:c,iconNode:e,className:FT(`lucide-${FC(_v(r))}`,`lucide-${r}`,a),...l}));return i.displayName=_v(r),i};const $C=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],bm=it("arrow-right",$C);const ZC=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Am=it("book-open",ZC);const JC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ls=it("circle-check-big",JC);const WC=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],eI=it("clock",WC);const tI=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],QT=it("cpu",tI);const nI=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],iI=it("crown",nI);const sI=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],YT=it("database",sI);const rI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],qc=it("disc",rI);const aI=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M16 18v-6",key:"15y0np"}]],oI=it("file-chart-column-increasing",aI);const lI=[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]],Nl=it("ghost",lI);const uI=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],KT=it("history",uI);const cI=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],hI=it("house",cI);const fI=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],uh=it("layers",fI);const dI=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],mI=it("loader-circle",dI);const gI=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],XT=it("lock",gI);const pI=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Sm=it("log-out",pI);const yI=[["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"M9.037 9.69a.498.498 0 0 1 .653-.653l11 4.5a.5.5 0 0 1-.074.949l-4.349 1.041a1 1 0 0 0-.74.739l-1.04 4.35a.5.5 0 0 1-.95.074z",key:"s0h3yz"}]],_I=it("mouse-pointer-click",yI);const vI=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],EI=it("power",vI);const TI=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],gg=it("repeat",TI);const bI=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],AI=it("rotate-ccw",bI);const SI=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],wI=it("rotate-cw",SI);const xI=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],pg=it("server",xI);const RI=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],CI=it("smartphone",RI);const II=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],NI=it("trash-2",II);const DI=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],vv=it("trophy",DI);const OI=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],$T=it("user",OI);const MI=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],ZT=it("wifi",MI);const VI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],JT=it("x",VI);const kI=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],WT=it("zap",kI),UI={apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:97363172311f11c86aa637"},e1=Vv(UI),Kd=xw(e1),Qn=xC(e1),Yn=typeof __app_id<"u"?__app_id:"neon-draft",ch={CACHE_1:{id:"CACHE_1",name:"Data Cache v1",val:1,icon:qc,color:"text-slate-400",border:"border-slate-500",desc:"1 TB."},CACHE_2:{id:"CACHE_2",name:"Data Cache v2",val:2,icon:qc,color:"text-orange-400",border:"border-orange-500",desc:"2 TB."},CACHE_3:{id:"CACHE_3",name:"Data Cache v3",val:3,icon:qc,color:"text-yellow-400",border:"border-yellow-500",desc:"3 TB."},EXPLOIT:{id:"EXPLOIT",name:"Zero-Day Exploit",val:0,icon:WT,color:"text-yellow-200",border:"border-yellow-600",desc:"Next Cache x3."},GPU:{id:"GPU",name:"GPU Cluster",val:0,icon:QT,color:"text-purple-400",border:"border-purple-500",desc:"Pair = 5 TB."},MAINFRAME:{id:"MAINFRAME",name:"Mainframe Core",val:0,icon:pg,color:"text-green-400",border:"border-green-500",desc:"Set of 3 = 10 TB."},KEY:{id:"KEY",name:"Encryption Key",val:0,icon:XT,color:"text-blue-400",border:"border-blue-500",desc:"1/3/6/10/15 TB."},BOTNET:{id:"BOTNET",name:"Botnet Node",val:0,icon:ZT,color:"text-red-500",border:"border-red-600",desc:"Most = 6. 2nd = 3."},PROXY:{id:"PROXY",name:"Proxy Server",val:0,icon:gg,color:"text-cyan-200",border:"border-cyan-400",desc:"Swap for 2 cards."},BACKDOOR:{id:"BACKDOOR",name:"Backdoor Access",val:0,icon:Nl,color:"text-pink-400",border:"border-pink-500",desc:"End Game: +6/-6 TB."}},LI=[...Array(14).fill("GPU"),...Array(14).fill("MAINFRAME"),...Array(14).fill("KEY"),...Array(26).fill("BOTNET"),...Array(10).fill("CACHE_2"),...Array(5).fill("CACHE_3"),...Array(5).fill("CACHE_1"),...Array(6).fill("EXPLOIT"),...Array(4).fill("PROXY"),...Array(10).fill("BACKDOOR")],jI=r=>{let e=r.length,i;for(;e!==0;)i=Math.floor(Math.random()*e),e--,[r[e],r[i]]=[r[i],r[e]];return r},Xd=()=>T.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:[T.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-slate-900 via-purple-950 to-black"}),T.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-cyan-500/5 mix-blend-overlay"}),T.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:"linear-gradient(rgba(18, 16, 99, 0.1) 1px, transparent 1px), linear-gradient(90deg, rgba(18, 16, 99, 0.1) 1px, transparent 1px)",backgroundSize:"40px 40px"}})]}),Ev=()=>T.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-60 mt-auto pb-2 pt-2 relative z-10",children:[T.jsx(uh,{size:12,className:"text-cyan-400"}),T.jsx("span",{className:"text-[10px] font-black tracking-widest text-cyan-400 uppercase drop-shadow-[0_0_5px_rgba(34,211,238,0.8)]",children:"NEON DRAFT"})]}),Tv=({onConfirmLeave:r,onConfirmLobby:e,onCancel:i,isHost:a,inGame:l})=>T.jsx("div",{className:"fixed inset-0 bg-black/90 z-[200] flex items-center justify-center p-4 animate-in fade-in",children:T.jsxs("div",{className:"bg-slate-900 rounded-xl border border-slate-700 p-6 max-w-sm w-full text-center shadow-2xl",children:[T.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Disconnect from Grid?"}),T.jsx("p",{className:"text-slate-400 mb-6 text-sm",children:a?"WARNING: As Admin, leaving will shut down the server for all runners.":l?"Leaving now will corrupt the data stream for everyone.":"Closing secure connection."}),T.jsxs("div",{className:"flex flex-col gap-3",children:[T.jsx("button",{onClick:i,className:"bg-slate-700 hover:bg-slate-600 text-white py-3 rounded font-bold transition-colors",children:"Stay Connected"}),l&&a&&T.jsxs("button",{onClick:e,className:"py-3 rounded font-bold transition-colors flex items-center justify-center gap-2 bg-cyan-600 hover:bg-cyan-500 text-white",children:[T.jsx(hI,{size:18})," Reset to Lobby"]}),T.jsxs("button",{onClick:r,className:"bg-pink-600 hover:bg-pink-500 text-white py-3 rounded font-bold transition-colors flex items-center justify-center gap-2",children:[T.jsx(Sm,{size:18})," ",a?"Shut Down Server":"Jack Out"]})]})]})}),PI=({players:r,round:e,onNext:i,isHost:a,onToggleReady:l,currentUserId:c})=>{const d=a?r.filter(S=>S.id!==c):r.filter(S=>S.id!==r.find(O=>O.id===c)?.id),p=d.every(S=>S.ready),_=d.filter(S=>S.ready).length,y=d.length,b=r.find(S=>S.id===c);return T.jsx("div",{className:"fixed inset-0 top-14 bg-black/95 z-[150] flex items-center justify-center p-4 animate-in fade-in",children:T.jsxs("div",{className:"bg-slate-900 border border-cyan-500/30 rounded-2xl w-full max-w-3xl flex flex-col shadow-2xl overflow-hidden max-h-[90vh]",children:[T.jsxs("div",{className:"p-6 border-b border-slate-800 bg-slate-950/50 flex justify-between items-center",children:[T.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2 tracking-wider",children:[T.jsx(oI,{className:"text-cyan-400"}),"ROUND ",e," SUMMARY"]}),T.jsx("div",{className:"flex items-center gap-3",children:T.jsxs("div",{className:"text-xs font-mono bg-slate-800 px-3 py-1 rounded text-slate-300",children:["GUESTS READY: ",_,"/",y]})})]}),T.jsxs("div",{className:"p-6 overflow-y-auto space-y-4",children:[T.jsxs("div",{className:"grid grid-cols-12 gap-4 text-xs font-bold text-slate-500 uppercase tracking-widest border-b border-slate-800 pb-2",children:[T.jsx("div",{className:"col-span-3",children:"Runner"}),T.jsx("div",{className:"col-span-5",children:"Data Acquired (Ordered)"}),T.jsxs("div",{className:"col-span-2 text-right",children:["R",e," TB"]}),T.jsx("div",{className:"col-span-2 text-right",children:"Total TB"})]}),r.sort((S,O)=>O.score-S.score).map(S=>{const O=S.history.find(te=>te.round===e),H=O?O.cards:[],ee=O?O.score:0;return S.id,T.jsxs("div",{className:`grid grid-cols-12 gap-4 items-center p-3 rounded-lg border transition-all ${S.ready?"bg-green-900/10 border-green-500/30":"bg-slate-800/30 border-slate-700/50"}`,children:[T.jsxs("div",{className:"col-span-3 font-bold text-white truncate flex items-center gap-2",children:[T.jsx($T,{size:14,className:"text-slate-400"}),S.name,S.ready&&T.jsx(ls,{size:14,className:"text-green-500"})]}),T.jsxs("div",{className:"col-span-5 flex flex-wrap gap-1",children:[H.map((te,W)=>{const ce=ch[te],Ee=ce.icon;return T.jsx("div",{className:`w-6 h-6 flex items-center justify-center rounded bg-slate-900 border ${ce.border} ${ce.color}`,title:ce.name,children:T.jsx(Ee,{size:12})},W)}),H.length===0&&T.jsx("span",{className:"text-slate-600 text-xs italic",children:"No Data"})]}),T.jsxs("div",{className:"col-span-2 text-right font-mono text-cyan-300 font-bold",children:["+",ee]}),T.jsx("div",{className:"col-span-2 text-right font-mono text-white font-bold text-lg",children:S.score})]},S.id)})]}),T.jsx("div",{className:"p-6 border-t border-slate-800 bg-slate-950/50 flex justify-end gap-4",children:a?T.jsxs("button",{onClick:i,disabled:!p,className:`px-8 py-3 rounded-xl font-bold flex items-center gap-2 transition-all shadow-lg ${p?"bg-cyan-600 hover:bg-cyan-500 text-white shadow-cyan-900/20":"bg-slate-800 text-slate-500 cursor-not-allowed opacity-50"}`,children:[e>=3?"Initialize Final Scoring":"Start Next Round",T.jsx(bm,{size:18})]}):T.jsx("button",{onClick:l,className:`px-8 py-3 rounded-xl font-bold flex items-center gap-2 transition-all shadow-lg w-full md:w-auto justify-center ${b?.ready?"bg-green-600/20 text-green-400 border border-green-500/50 hover:bg-green-600/30":"bg-cyan-600 hover:bg-cyan-500 text-white shadow-cyan-900/20 animate-pulse"}`,children:b?.ready?T.jsxs(T.Fragment,{children:[T.jsx(ls,{size:18})," READY - STANDING BY"]}):T.jsxs(T.Fragment,{children:[T.jsx(ls,{size:18})," MARK READY"]})})})]})})},zI=({logs:r,onClose:e})=>T.jsx("div",{className:"fixed inset-0 top-14 bg-black/90 z-[155] flex items-center justify-center p-0 md:p-4",children:T.jsxs("div",{className:"bg-slate-900 w-full md:max-w-md h-full md:h-[70vh] rounded-none md:rounded-xl flex flex-col border-none md:border border-slate-700 shadow-2xl",children:[T.jsxs("div",{className:"p-4 border-b border-slate-700 flex justify-between items-center bg-slate-800",children:[T.jsxs("h3",{className:"text-white font-bold text-lg flex items-center gap-2",children:[T.jsx(KT,{size:18,className:"text-cyan-400"})," System Logs"]}),T.jsx("button",{onClick:e,className:"p-2 bg-slate-700 rounded-full hover:bg-slate-600",children:T.jsx(JT,{className:"text-slate-400"})})]}),T.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[...r].reverse().map((i,a)=>T.jsxs("div",{className:`text-xs md:text-sm p-3 rounded border-l-2 ${i.type==="danger"?"bg-red-900/20 border-red-500 text-red-200":i.type==="success"?"bg-green-900/20 border-green-500 text-green-200":"bg-slate-700/50 border-slate-500 text-slate-300"}`,children:[T.jsxs("span",{className:"opacity-50 mr-2 font-mono",children:["[",new Date(parseInt(i.id)).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}),"]"]}),i.text]},a))})]})}),bv=({onClose:r})=>T.jsx("div",{className:"fixed inset-0 bg-black/95 z-[100] flex items-center justify-center p-2 md:p-6 animate-in fade-in",children:T.jsxs("div",{className:"bg-slate-900 md:rounded-2xl w-full max-w-5xl h-full md:h-auto md:max-h-[90vh] overflow-hidden border-none md:border border-cyan-500/30 flex flex-col shadow-[0_0_50px_rgba(34,211,238,0.15)]",children:[T.jsxs("div",{className:"p-5 border-b border-slate-800 flex justify-between items-center bg-slate-950 sticky top-0 z-10",children:[T.jsxs("div",{className:"flex flex-col",children:[T.jsxs("h2",{className:"text-2xl font-black text-white flex items-center gap-3 tracking-widest uppercase",children:[T.jsx(Am,{className:"text-cyan-400"})," Data Runner's Manual"]}),T.jsx("span",{className:"text-xs text-slate-500 font-mono tracking-[0.2em]",children:"OPERATIONAL PROTOCOLS v2.1"})]}),T.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-800 rounded-full text-slate-400 transition-colors",children:T.jsx(JT,{size:24})})]}),T.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-8 space-y-8 scrollbar-thin scrollbar-thumb-slate-700",children:[T.jsxs("section",{children:[T.jsxs("h3",{className:"text-lg font-bold text-cyan-400 mb-4 flex items-center gap-2 border-b border-cyan-900/50 pb-2",children:[T.jsx(gg,{size:18})," THE DRAFT LOOP"]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[T.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-xl border border-slate-700 flex flex-col items-center gap-2",children:[T.jsx("div",{className:"w-12 h-12 bg-cyan-900/30 rounded-full flex items-center justify-center text-cyan-400 mb-1 border border-cyan-500/30",children:T.jsx(_I,{size:24})}),T.jsx("div",{className:"font-bold text-white",children:"1. SELECT"}),T.jsxs("p",{className:"text-xs text-slate-400",children:["Pick 1 card to keep. ",T.jsx("br",{}),"(Pick 2 if using Proxy)."]})]}),T.jsx("div",{className:"hidden md:flex items-center justify-center text-slate-600",children:T.jsx(bm,{size:32})}),T.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-xl border border-slate-700 flex flex-col items-center gap-2",children:[T.jsx("div",{className:"w-12 h-12 bg-purple-900/30 rounded-full flex items-center justify-center text-purple-400 mb-1 border border-purple-500/30",children:T.jsx(uh,{size:24})}),T.jsx("div",{className:"font-bold text-white",children:"2. REVEAL"}),T.jsx("p",{className:"text-xs text-slate-400",children:"Cards are added to your rig simultaneously."})]}),T.jsx("div",{className:"hidden md:flex items-center justify-center text-slate-600",children:T.jsx(bm,{size:32})}),T.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-xl border border-slate-700 flex flex-col items-center gap-2",children:[T.jsx("div",{className:"w-12 h-12 bg-green-900/30 rounded-full flex items-center justify-center text-green-400 mb-1 border border-green-500/30",children:T.jsx(wI,{size:24})}),T.jsx("div",{className:"font-bold text-white",children:"3. PASS"}),T.jsx("p",{className:"text-xs text-slate-400",children:"Hand remaining deck to the left. Repeat until empty."})]})]})]}),T.jsxs("section",{children:[T.jsxs("h3",{className:"text-lg font-bold text-purple-400 mb-4 flex items-center gap-2 border-b border-purple-900/50 pb-2",children:[T.jsx(YT,{size:18})," SCORING DATABASE"]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[T.jsxs("div",{className:"bg-slate-800/40 p-3 rounded-lg border-l-4 border-orange-500 flex flex-col gap-2",children:[T.jsxs("div",{className:"flex justify-between items-start",children:[T.jsx("span",{className:"font-bold text-white text-sm",children:"Data Cache"}),T.jsx(qc,{size:16,className:"text-orange-400"})]}),T.jsx("div",{className:"text-xs text-slate-400",children:"Raw data files. Come in 3 sizes."}),T.jsxs("div",{className:"flex justify-between items-center bg-black/40 p-2 rounded mt-auto",children:[T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"text-slate-400 font-black text-xs",children:"1"}),T.jsx("div",{className:"text-[10px] text-slate-600",children:"TB"})]}),T.jsxs("div",{className:"text-center border-l border-slate-700 pl-4",children:[T.jsx("div",{className:"text-orange-400 font-black text-xs",children:"2"}),T.jsx("div",{className:"text-[10px] text-slate-600",children:"TB"})]}),T.jsxs("div",{className:"text-center border-l border-slate-700 pl-4",children:[T.jsx("div",{className:"text-yellow-400 font-black text-xs",children:"3"}),T.jsx("div",{className:"text-[10px] text-slate-600",children:"TB"})]})]})]}),T.jsxs("div",{className:"bg-slate-800/40 p-3 rounded-lg border-l-4 border-yellow-500 flex flex-col gap-2",children:[T.jsxs("div",{className:"flex justify-between items-start",children:[T.jsx("span",{className:"font-bold text-white text-sm",children:"Zero-Day Exploit"}),T.jsx(WT,{size:16,className:"text-yellow-400"})]}),T.jsxs("div",{className:"text-xs text-slate-400",children:["Multiplies the ",T.jsx("span",{className:"underline",children:"next"})," Cache card x3."]}),T.jsxs("div",{className:"bg-black/40 p-2 rounded text-center font-mono text-xs text-yellow-200 mt-auto",children:["[Exploit] + [2 TB] = ",T.jsx("span",{className:"font-bold",children:"6 TB"})]})]}),T.jsxs("div",{className:"bg-slate-800/40 p-3 rounded-lg border-l-4 border-purple-500 flex flex-col gap-2",children:[T.jsxs("div",{className:"flex justify-between items-start",children:[T.jsx("span",{className:"font-bold text-white text-sm",children:"GPU Cluster"}),T.jsx(QT,{size:16,className:"text-purple-400"})]}),T.jsx("div",{className:"text-xs text-slate-400",children:"Must be collected in pairs."}),T.jsx("div",{className:"bg-black/40 p-2 rounded text-center font-mono text-sm text-purple-300 mt-auto",children:"2 Cards = 5 TB"})]}),T.jsxs("div",{className:"bg-slate-800/40 p-3 rounded-lg border-l-4 border-green-500 flex flex-col gap-2",children:[T.jsxs("div",{className:"flex justify-between items-start",children:[T.jsx("span",{className:"font-bold text-white text-sm",children:"Mainframe"}),T.jsx(pg,{size:16,className:"text-green-400"})]}),T.jsx("div",{className:"text-xs text-slate-400",children:"Huge storage, but requires a full set."}),T.jsx("div",{className:"bg-black/40 p-2 rounded text-center font-mono text-sm text-green-300 mt-auto",children:"3 Cards = 10 TB"})]}),T.jsxs("div",{className:"bg-slate-800/40 p-3 rounded-lg border-l-4 border-blue-500 flex flex-col gap-2 md:col-span-2 lg:col-span-1",children:[T.jsxs("div",{className:"flex justify-between items-start",children:[T.jsx("span",{className:"font-bold text-white text-sm",children:"Encryption Keys"}),T.jsx(XT,{size:16,className:"text-blue-400"})]}),T.jsx("div",{className:"text-xs text-slate-400",children:"Exponential growth. Collect as many as possible."}),T.jsxs("div",{className:"grid grid-cols-5 gap-1 text-center font-mono text-[10px] mt-auto",children:[T.jsxs("div",{className:"bg-black/40 p-1 rounded",children:[T.jsx("div",{className:"text-blue-500",children:"1"}),"1TB"]}),T.jsxs("div",{className:"bg-black/40 p-1 rounded",children:[T.jsx("div",{className:"text-blue-500",children:"2"}),"3TB"]}),T.jsxs("div",{className:"bg-black/40 p-1 rounded",children:[T.jsx("div",{className:"text-blue-500",children:"3"}),"6TB"]}),T.jsxs("div",{className:"bg-black/40 p-1 rounded",children:[T.jsx("div",{className:"text-blue-500",children:"4"}),"10TB"]}),T.jsxs("div",{className:"bg-black/40 p-1 rounded",children:[T.jsx("div",{className:"text-blue-500",children:"5+"}),"15TB"]})]})]}),T.jsxs("div",{className:"bg-slate-800/40 p-3 rounded-lg border-l-4 border-red-500 flex flex-col gap-2",children:[T.jsxs("div",{className:"flex justify-between items-start",children:[T.jsx("span",{className:"font-bold text-white text-sm",children:"Botnet Node"}),T.jsx(ZT,{size:16,className:"text-red-500"})]}),T.jsx("div",{className:"text-xs text-slate-400",children:"Competitive scoring per round."}),T.jsxs("div",{className:"flex gap-2 text-xs text-center font-mono mt-auto",children:[T.jsxs("div",{className:"bg-black/40 p-2 rounded flex-1",children:[T.jsx("div",{className:"text-red-400 font-bold",children:"Most"}),"6 TB"]}),T.jsxs("div",{className:"bg-black/40 p-2 rounded flex-1",children:[T.jsx("div",{className:"text-red-300 font-bold",children:"2nd"}),"3 TB"]})]})]}),T.jsxs("div",{className:"bg-slate-800/40 p-3 rounded-lg border-l-4 border-pink-500 flex flex-col gap-2 md:col-span-2 lg:col-span-3",children:[T.jsxs("div",{className:"flex justify-between items-start",children:[T.jsx("span",{className:"font-bold text-white text-sm",children:"Backdoor Access"}),T.jsx(Nl,{size:16,className:"text-pink-400"})]}),T.jsxs("div",{className:"text-xs text-slate-400",children:["Kept until"," ",T.jsx("span",{className:"text-pink-400 font-bold",children:"Game End"}),". Watch out for the penalty!"]}),T.jsxs("div",{className:"flex gap-2 text-xs text-center font-mono mt-auto",children:[T.jsxs("div",{className:"bg-black/40 p-2 rounded flex-1 border border-green-900/50",children:[T.jsx("div",{className:"text-green-400 font-bold",children:"Most Collected"}),"+6 TB"]}),T.jsxs("div",{className:"bg-black/40 p-2 rounded flex-1 border border-red-900/50",children:[T.jsx("div",{className:"text-red-400 font-bold",children:"Fewest Collected"}),"-6 TB"]})]})]})]})]})]})]})}),BI=({type:r,message:e,subtext:i,icon:a})=>T.jsx("div",{className:"fixed inset-0 z-[160] flex items-center justify-center pointer-events-none",children:T.jsxs("div",{className:`
      flex flex-col items-center justify-center p-8 md:p-12 rounded-3xl border-4 shadow-[0_0_50px_rgba(0,0,0,0.8)] 
      transform transition-all animate-in fade-in zoom-in slide-in-from-bottom-10 duration-300 backdrop-blur-md
      ${r==="success"?"bg-cyan-900/90 border-cyan-500 text-cyan-100":""}
      ${r==="info"?"bg-purple-900/90 border-purple-500 text-purple-100":""}
    `,children:[a&&T.jsx("div",{className:"mb-4 p-4 bg-black/30 rounded-full border-2 border-white/20",children:T.jsx(a,{size:64,className:"animate-bounce"})}),T.jsx("h2",{className:"text-3xl md:text-5xl font-black uppercase tracking-widest text-center drop-shadow-lg mb-2",children:e}),i&&T.jsx("p",{className:"text-lg md:text-xl font-bold opacity-90 tracking-wide text-center",children:i})]})}),Av=({typeId:r,onClick:e,selected:i,small:a,disabled:l})=>{const c=ch[r];if(!c)return null;const d=c.icon;return T.jsxs("div",{onClick:l?void 0:e,className:`
        relative bg-slate-900 rounded-lg border-2 transition-all flex flex-col items-center justify-between
        ${c.border}
        ${i?"ring-4 ring-cyan-400 -translate-y-4 shadow-[0_0_20px_rgba(34,211,238,0.5)] z-20":l?"opacity-50 cursor-not-allowed":"hover:-translate-y-1 hover:shadow-lg"}
        ${e&&!l?"cursor-pointer":""}
        ${a?"w-16 h-24 p-1":"w-24 h-36 md:w-32 md:h-48 p-2"}
      `,children:[T.jsxs("div",{className:"w-full flex justify-between items-start",children:[T.jsx("span",{className:`font-black ${a?"text-[10px]":"text-sm"} ${c.color}`,children:c.val>0?c.val:""}),T.jsx("div",{className:`${a?"w-3 h-3":"w-6 h-6"} rounded-full border ${c.border} bg-slate-800 flex items-center justify-center`,children:T.jsx(d,{size:a?8:14,className:c.color})})]}),T.jsxs("div",{className:"flex flex-col items-center gap-1",children:[T.jsx(d,{size:a?20:40,className:`${c.color} drop-shadow-md`}),!a&&T.jsx("span",{className:`text-[10px] uppercase font-bold text-center leading-tight ${c.color}`,children:c.name})]}),!a&&T.jsx("div",{className:"w-full bg-black/40 rounded p-1 text-[8px] text-slate-400 text-center leading-tight",children:c.desc}),i&&T.jsx("div",{className:"absolute inset-0 bg-cyan-500/20 rounded-lg flex items-center justify-center",children:T.jsx(ls,{className:"text-cyan-400 w-8 h-8 md:w-12 md:h-12 drop-shadow-lg"})})]})};function qI(){const[r,e]=yt.useState(null),[i,a]=yt.useState("menu"),[l,c]=yt.useState(""),[d,p]=yt.useState(""),[_,y]=yt.useState(""),[b,S]=yt.useState(null),[O,H]=yt.useState(!1),[ee,te]=yt.useState(""),[W,ce]=yt.useState(!1),[Ee,ge]=yt.useState(!1),[Je,st]=yt.useState(!1),[Ce,I]=yt.useState(null),[w,R]=yt.useState([]),[V,N]=yt.useState(!1);yt.useEffect(()=>{(async()=>typeof __initial_auth_token<"u"&&__initial_auth_token?await f2(Kd,__initial_auth_token):await o2(Kd))();const J=g2(Kd,e);return()=>J()},[]),yt.useEffect(()=>{const X=localStorage.getItem("neondraft_roomId");X&&p(X)},[]),yt.useEffect(()=>{if(!d||!r)return;const X=GC(Fn(Qn,"artifacts",Yn,"public","data","rooms",d),J=>{if(J.exists()){const ie=J.data();if(!ie.players||!Array.isArray(ie.players)||!ie.players.some(fe=>fe.id===r.uid)){p(""),a("menu"),localStorage.removeItem("neondraft_roomId"),te("Connection Terminated (Kicked).");return}S(ie),ie.status==="lobby"?a("lobby"):a("game"),ie.feedbackTrigger&&ie.feedbackTrigger.id!==b?.feedbackTrigger?.id&&(I(ie.feedbackTrigger),setTimeout(()=>I(null),3e3))}else p(""),a("menu"),localStorage.removeItem("neondraft_roomId"),te("Server shut down by Admin.")});return()=>X()},[d,r,b?.feedbackTrigger?.id]);const U=async()=>{if(!l.trim())return te("Codename required.");H(!0);const X=Math.random().toString(36).substring(2,7).toUpperCase(),J={roomId:X,hostId:r.uid,status:"lobby",players:[{id:r.uid,name:l,hand:[],keptCards:[],score:0,ready:!0,selection:[],history:[],backdoorCount:0}],logs:[],round:1,turnState:"IDLE",feedbackTrigger:null,winner:null};try{await qC(Fn(Qn,"artifacts",Yn,"public","data","rooms",X),J),localStorage.setItem("neondraft_roomId",X),p(X),a("lobby")}catch{te("Network error.")}H(!1)},x=async()=>{if(!_||!l)return te("Code and Name required.");H(!0);try{const X=Fn(Qn,"artifacts",Yn,"public","data","rooms",_),J=await BC(X);if(!J.exists())throw new Error("Room not found.");const ie=J.data();if(ie.status!=="lobby")throw new Error("Draft in progress.");if(ie.players.length>=6)throw new Error("Server full.");ie.players.find(fe=>fe.id===r.uid)||await Oi(X,{players:yv({id:r.uid,name:l,hand:[],keptCards:[],score:0,ready:!0,selection:[],history:[],backdoorCount:0})}),localStorage.setItem("neondraft_roomId",_),p(_)}catch(X){te(X.message)}H(!1)},ut=async()=>{if(!d)return;const X=Fn(Qn,"artifacts",Yn,"public","data","rooms",d);if(b.hostId===r.uid)await HC(X);else{const J=b.players.filter(ie=>ie.id!==r.uid);await Oi(X,{players:J})}localStorage.removeItem("neondraft_roomId"),p(""),a("menu"),ge(!1)},bt=async X=>{if(b.hostId!==r.uid)return;const J=b.players.filter(ie=>ie.id!==X);await Oi(Fn(Qn,"artifacts",Yn,"public","data","rooms",d),{players:J})},G=async()=>{if(!b)return;const X=b.players.map(J=>J.id===r.uid?{...J,ready:!J.ready}:J);await Oi(Fn(Qn,"artifacts",Yn,"public","data","rooms",d),{players:X})},se=async()=>{if(b.players.length<2)return te("Need 2+ Runners.");let X=jI([...LI]);const J=b.players.length===2?10:b.players.length===3?9:b.players.length===4?8:7,ie=b.players.map(fe=>{const Ie=[];for(let Me=0;Me<J;Me++)Ie.push(X.pop());return{...fe,hand:Ie,keptCards:[],score:0,backdoorCount:0,history:[],selection:[],ready:!1}});await Oi(Fn(Qn,"artifacts",Yn,"public","data","rooms",d),{status:"playing",players:ie,deck:X,round:1,turnState:"SELECTING",logs:[{id:Date.now().toString(),text:"Draft Initialized. Round 1.",type:"neutral"}]})},de=X=>{const J=V?2:1;R(ie=>ie.includes(X)?ie.filter(fe=>fe!==X):ie.length>=J?J===1?[X]:[...ie.slice(1),X]:[...ie,X])},Pe=async()=>{if(w.length===0||V&&w.length!==2)return;const X=b.players.map(ie=>ie.id===r.uid?{...ie,selection:w,usingProxy:V}:ie);X.every(ie=>ie.selection.length>0)?await M(X):await Oi(Fn(Qn,"artifacts",Yn,"public","data","rooms",d),{players:X}),R([]),N(!1)},Ye=X=>{let J=0,ie=0,fe=0,Ie=0,Me=0,Ge=0;X.forEach(Xe=>{if(Xe==="EXPLOIT")ie++;else if(Xe.startsWith("CACHE")){const nn=ch[Xe].val;ie>0?(J+=nn*3,ie--):J+=nn}Xe==="GPU"&&fe++,Xe==="MAINFRAME"&&Ie++,Xe==="KEY"&&Me++,Xe==="BOTNET"&&Ge++});const ye=Math.floor(fe/2)*5,Be=Math.floor(Ie/3)*10,He=[0,1,3,6,10,15][Math.min(Me,5)];return{total:J+ye+Be+He,botnetCount:Ge}},M=async X=>{const J=[];let ie="SELECTING",fe=[...X];fe=fe.map(Me=>{const Ge=Me.selection.map(Ke=>Me.hand[Ke]);let ye=Me.hand.filter((Ke,He)=>!Me.selection.includes(He)),Be=[...Me.keptCards];if(Me.usingProxy){const Ke=Be.indexOf("PROXY");Ke>-1?(Be.splice(Ke,1),ye.push("PROXY"),Be.push(...Ge)):(Be.push(Ge[0]),Ge.length>1&&ye.push(Ge[1]))}else Be.push(...Ge);return{...Me,hand:ye,keptCards:Be,selection:[],usingProxy:!1}}),J.push({id:Date.now().toString(),text:"Data transfer complete. Hands rotating...",type:"neutral"});const Ie=fe.map((Me,Ge)=>fe[(Ge+1)%fe.length].hand);if(fe.forEach((Me,Ge)=>Me.hand=Ie[Ge]),fe[0].hand.length===0){J.push({id:Date.now()+1,text:`Round ${b.round} Complete. Showing Summary.`,type:"success"}),fe.forEach(Ne=>Ne.ready=!1);const Me=fe.map(Ne=>Ye(Ne.keptCards)),Ge=Me.map(Ne=>Ne.botnetCount),ye=[...new Set(Ge)].filter(Ne=>Ne>0).sort((Ne,ct)=>ct-Ne),Be=ye[0]||0,Ke=ye[1]||0,He=fe.filter((Ne,ct)=>Me[ct].botnetCount===Be&&Be>0),Xe=fe.filter((Ne,ct)=>Me[ct].botnetCount===Ke&&Ke>0),nn=Math.floor(6/(He.length||1)),yr=Math.floor(3/(Xe.length||1));fe.forEach((Ne,ct)=>{const Dn=Me[ct];let _r=0;Dn.botnetCount===Be&&Be>0?_r=nn:Dn.botnetCount===Ke&&Ke>0&&He.length===1&&(_r=yr);const ia=Ne.keptCards.filter(qi=>qi==="BACKDOOR").length;Ne.backdoorCount+=ia;const qt=Dn.total+_r;Ne.history.push({round:b.round,cards:[...Ne.keptCards],score:qt}),Ne.score+=qt}),ie="ROUND_SUMMARY"}await Oi(Fn(Qn,"artifacts",Yn,"public","data","rooms",d),{players:fe,turnState:ie,logs:yv(...J)})},Y=async()=>{if(b.hostId===r.uid)if(b.round>=3){const X=[...b.players],J=X.map(He=>He.backdoorCount),ie=Math.max(...J),fe=Math.min(...J),Ie=X.filter(He=>He.backdoorCount===ie),Me=X.filter(He=>He.backdoorCount===fe),Ge=Math.floor(6/Ie.length),ye=X.length>2?Math.floor(-6/Me.length):0;X.forEach(He=>{let Xe=0;He.backdoorCount===ie?Xe=Ge:He.backdoorCount===fe&&(Xe=ye),He.score+=Xe,He.backdoorScore=Xe,He.ready=!1});const Ke=[...X].sort((He,Xe)=>Xe.score-He.score)[0].name;await Oi(Fn(Qn,"artifacts",Yn,"public","data","rooms",d),{players:X,status:"finished",turnState:"GAME_OVER",winner:Ke,feedbackTrigger:{id:Date.now(),type:"success",message:"SYSTEM HACKED",subtext:`${Ke} Dominates the Grid`}})}else{const X=b.round+1;let J=[...b.deck];const ie=b.players.length===2?10:b.players.length===3?9:b.players.length===4?8:7,fe=b.players.map(Ie=>{const Me=[];for(let Ge=0;Ge<ie;Ge++)J.length>0&&Me.push(J.pop());return{...Ie,hand:Me,keptCards:[]}});await Oi(Fn(Qn,"artifacts",Yn,"public","data","rooms",d),{players:fe,deck:J,round:X,turnState:"SELECTING",feedbackTrigger:{id:Date.now(),type:"info",message:`ROUND ${X}`,subtext:"New Data Available"}})}},re=async()=>{const X=b.players.map(J=>({...J,hand:[],keptCards:[],score:0,backdoorCount:0,selection:[],history:[],ready:!0}));await Oi(Fn(Qn,"artifacts",Yn,"public","data","rooms",d),{status:"lobby",players:X,logs:[],round:1,winner:null,feedbackTrigger:null})},ae=b?.players.find(X=>X.id===r?.uid);if(!r)return T.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center text-cyan-500 animate-pulse",children:"Initializing Interface..."});if(i==="menu")return T.jsxs("div",{className:"min-h-screen bg-slate-950 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden font-sans",children:[T.jsx(Xd,{}),W&&T.jsx(bv,{onClose:()=>ce(!1)}),T.jsxs("div",{className:"z-10 text-center mb-10 animate-in fade-in zoom-in duration-700",children:[T.jsx(uh,{size:64,className:"text-cyan-400 mx-auto mb-4 animate-bounce drop-shadow-[0_0_15px_rgba(34,211,238,0.5)]"}),T.jsx("h1",{className:"text-5xl md:text-7xl font-black text-transparent bg-clip-text bg-gradient-to-br from-cyan-400 via-blue-500 to-purple-600 font-serif tracking-widest drop-shadow-md",children:"NEON DRAFT"}),T.jsx("p",{className:"text-white-400/60 tracking-[0.3em] uppercase mt-2",children:"Build Your Rig. Rule the Net."})]}),T.jsxs("div",{className:"bg-slate-900/80 backdrop-blur border border-cyan-500/30 p-8 rounded-2xl w-full max-w-md shadow-2xl z-10 animate-in slide-in-from-bottom-10 duration-700 delay-100",children:[ee&&T.jsx("div",{className:"bg-red-900/50 text-red-200 p-2 mb-4 rounded text-center text-sm border border-red-800",children:ee}),T.jsx("input",{className:"w-full bg-black/50 border border-slate-600 p-3 rounded mb-4 text-white placeholder-slate-500 focus:border-cyan-500 outline-none transition-colors font-mono",placeholder:"Hacker Alias",value:l,onChange:X=>c(X.target.value)}),T.jsxs("button",{onClick:U,disabled:O,className:"w-full bg-gradient-to-r from-cyan-700 to-blue-600 hover:from-cyan-600 hover:to-blue-500 p-4 rounded font-bold mb-4 flex items-center justify-center gap-2 border border-cyan-500/30 shadow-[0_0_15px_rgba(34,211,238,0.2)] transition-all",children:[T.jsx(pg,{size:20})," New Server"]}),T.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-4",children:[T.jsx("input",{className:"w-full sm:flex-1 bg-black/50 border border-slate-600 p-3 rounded text-white placeholder-slate-500 uppercase font-mono tracking-wider focus:border-cyan-500 outline-none",placeholder:"IP ADDR",value:_,onChange:X=>y(X.target.value.toUpperCase())}),T.jsx("button",{onClick:x,disabled:O,className:"w-full sm:w-auto bg-slate-800 hover:bg-slate-700 border border-slate-600 px-6 py-3 rounded font-bold transition-colors",children:"Connect"})]}),T.jsxs("button",{onClick:()=>ce(!0),className:"w-full text-sm text-slate-400 hover:text-white flex items-center justify-center gap-2 py-2",children:[T.jsx(Am,{size:16})," Data Manual"]})]}),T.jsxs("div",{className:"absolute bottom-4 text-slate-600 text-xs text-center",children:["Inspired by Sushi Go. A tribute game.",T.jsx("br",{}),"Developed by ",T.jsx("strong",{children:"RAWFID K SHUVO"}),". Visit"," ",T.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-500 underline hover:text-cyan-600",children:"GAMEHUB"})," ","for more games."]})]});if(i==="lobby"&&b){const X=b.hostId===r.uid;return T.jsxs("div",{className:"min-h-screen bg-slate-950 text-white flex flex-col items-center justify-center p-6 relative",children:[T.jsx(Xd,{}),Ee&&T.jsx(Tv,{onConfirmLeave:ut,onCancel:()=>ge(!1),isHost:X,inGame:!1}),T.jsxs("div",{className:"z-10 w-full max-w-lg bg-slate-900/90 backdrop-blur p-8 rounded-2xl border border-cyan-900/50 shadow-2xl mb-4",children:[T.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-slate-700 pb-4",children:[T.jsxs("h2",{className:"text-2xl font-serif text-cyan-400",children:["Node: ",T.jsx("span",{className:"text-white font-mono",children:d})]}),T.jsx("button",{onClick:()=>ge(!0),className:"p-2 bg-red-900/30 hover:bg-red-900/50 rounded text-red-300",children:T.jsx(Sm,{size:16})})]}),T.jsxs("div",{className:"bg-black/20 rounded-xl p-4 mb-8 border border-slate-800",children:[T.jsx("h3",{className:"text-slate-500 text-xs uppercase tracking-wider mb-4 flex justify-between",children:T.jsxs("span",{children:["Runners (",b.players.length,")"]})}),T.jsxs("div",{className:"space-y-2",children:[b.players.map(J=>T.jsxs("div",{className:"flex items-center justify-between bg-slate-800/50 p-3 rounded border border-slate-700/50",children:[T.jsxs("span",{className:`font-bold flex items-center gap-2 ${J.id===r.uid?"text-cyan-400":"text-slate-300"}`,children:[T.jsx($T,{size:14})," ",J.name," ",J.id===b.hostId&&T.jsx(iI,{size:14,className:"text-yellow-500"})]}),T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsxs("span",{className:"text-green-500 text-xs flex items-center gap-1",children:[T.jsx(ls,{size:12})," Online"]}),X&&J.id!==r.uid&&T.jsx("button",{onClick:()=>bt(J.id),className:"text-slate-500 hover:text-red-500 hover:bg-red-900/20 p-1 rounded transition-colors",children:T.jsx(NI,{size:14})})]})]},J.id)),b.players.length<2&&T.jsx("div",{className:"text-center text-slate-500 italic text-sm py-2",children:"Waiting for connection..."})]})]}),X?T.jsx("button",{onClick:se,disabled:b.players.length<2,className:`w-full py-4 rounded-xl font-bold text-lg shadow-lg transition-all flex items-center justify-center gap-2 ${b.players.length>=2?"bg-cyan-700 hover:bg-cyan-600 text-white shadow-cyan-900/20":"bg-slate-800 cursor-not-allowed text-slate-500"}`,children:b.players.length<2?"Waiting for Runners...":"Initialize Draft"}):T.jsx("div",{className:"text-center text-cyan-400/60 animate-pulse font-serif italic",children:"Waiting for Admin..."})]}),T.jsx(Ev,{})]})}if(i==="game"&&b){const X=b.turnState==="SELECTING",J=b.turnState==="ROUND_SUMMARY",ie=ae?.selection.length>0,fe=X&&ie,Ie=b.players.filter(ye=>ye.id!==r.uid),Me=ae.keptCards.includes("PROXY"),Ge=b.players.every(ye=>ye.ready);return T.jsxs("div",{className:"min-h-screen bg-slate-950 text-white flex flex-col relative overflow-hidden font-sans",children:[T.jsx(Xd,{}),Ce&&T.jsx(BI,{type:Ce.type,message:Ce.message,subtext:Ce.subtext,icon:Ce.type==="success"?vv:uh}),W&&T.jsx(bv,{onClose:()=>ce(!1)}),Je&&T.jsx(zI,{logs:b.logs,onClose:()=>st(!1)}),Ee&&T.jsx(Tv,{onConfirmLeave:ut,onCancel:()=>ge(!1),isHost:b.hostId===r.uid,onConfirmLobby:()=>{re(),ge(!1)},inGame:!0}),J&&T.jsx(PI,{players:b.players,round:b.round,isHost:b.hostId===r.uid,onNext:Y,onToggleReady:G,currentUserId:r.uid}),T.jsxs("div",{className:"h-14 bg-slate-900/80 border-b border-slate-800 flex items-center justify-between px-4 z-[160] backdrop-blur-md sticky top-0",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("span",{className:"font-serif text-cyan-500 font-bold tracking-wider hidden md:block",children:"NEON DRAFT"}),T.jsxs("span",{className:"text-xs text-slate-500 bg-black/50 px-2 py-1 rounded",children:["R",b.round]})]}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx("button",{onClick:()=>ce(!0),className:"p-2 hover:bg-slate-800 rounded text-slate-400",children:T.jsx(Am,{size:18})}),T.jsx("button",{onClick:()=>st(!0),className:"p-2 hover:bg-slate-800 rounded text-slate-400",children:T.jsx(KT,{size:18})}),T.jsx("button",{onClick:()=>ge(!0),className:"p-2 hover:bg-red-900/50 rounded text-red-400",children:T.jsx(Sm,{size:18})})]})]}),T.jsxs("div",{className:"flex-1 p-4 flex flex-col items-center relative z-10 max-w-7xl mx-auto w-full gap-4",children:[T.jsx("div",{className:"w-full flex gap-2 overflow-x-auto pb-2 justify-start md:justify-center",children:Ie.map(ye=>T.jsxs("div",{className:"bg-slate-900/80 p-2 rounded-lg border border-slate-700 min-w-[140px] flex flex-col gap-1",children:[T.jsxs("div",{className:"flex justify-between items-center text-xs text-slate-400",children:[T.jsx("span",{className:"font-bold text-slate-300 truncate max-w-[80px]",children:ye.name}),T.jsxs("div",{className:"flex items-center gap-0.5",children:[T.jsx(vv,{size:10,className:"text-yellow-500"})," ",ye.score]})]}),T.jsx("div",{className:"flex gap-0.5 justify-center bg-black/30 p-1 rounded",children:ye.hand.map((Be,Ke)=>T.jsx("div",{className:"w-1.5 h-3 bg-slate-600 rounded-sm"},Ke))}),ye.selection.length>0?T.jsxs("div",{className:"text-[10px] text-green-400 text-center font-bold flex items-center justify-center gap-1",children:[T.jsx(ls,{size:10})," Ready"]}):T.jsx("div",{className:"text-[10px] text-slate-500 text-center animate-pulse",children:"Thinking..."}),T.jsxs("div",{className:"flex flex-wrap gap-1 mt-1 justify-center",children:[ye.keptCards.map((Be,Ke)=>{const He=ch[Be],Xe=He?.icon||YT;return T.jsx("div",{className:`w-6 h-6 rounded-md border border-slate-600 flex items-center justify-center ${He?.color?He.color.replace("text","bg").replace("400","900"):"bg-slate-800"} bg-opacity-30`,children:T.jsx(Xe,{size:12,className:He?.color})},Ke)}),ye.backdoorCount>0&&T.jsxs("div",{className:"w-6 h-6 rounded-md border border-pink-500 bg-pink-900/30 flex items-center justify-center relative",children:[T.jsx(Nl,{size:12,className:"text-pink-400"}),T.jsx("span",{className:"text-[8px] absolute -top-1 -right-1 bg-black text-white px-0.5 rounded-full border border-pink-500",children:ye.backdoorCount})]})]})]},ye.id))}),T.jsxs("div",{className:"flex-1 w-full bg-slate-900/50 rounded-2xl border-2 border-dashed border-slate-800 p-4 flex flex-col items-center min-h-[200px]",children:[T.jsxs("div",{className:"text-xs text-slate-500 uppercase tracking-widest mb-2 w-full text-center border-b border-slate-800 pb-2 flex justify-between px-4",children:[T.jsx("span",{children:"My Rig"}),T.jsxs("span",{className:"text-yellow-400 font-bold",children:[ae.score," TB"]}),T.jsxs("span",{className:"text-pink-400 flex items-center gap-1",children:[T.jsx(Nl,{size:10})," ",ae.backdoorCount]})]}),T.jsxs("div",{className:"flex flex-wrap gap-2 justify-center content-start h-full overflow-y-auto w-full",children:[ae.keptCards.length===0&&T.jsx("div",{className:"text-slate-600 italic mt-10",children:"System Empty. Acquire Data."}),ae.keptCards.map((ye,Be)=>T.jsx(Av,{typeId:ye,small:!0},Be))]})]}),T.jsx("div",{className:`w-full max-w-4xl bg-slate-900/95 p-4 rounded-t-3xl border-t border-cyan-500/30 backdrop-blur-md mt-auto shadow-[0_-10px_40px_rgba(0,0,0,0.5)] z-20 transition-all ${fe?"translate-y-4 opacity-90":""}`,children:b.status==="finished"?T.jsxs("div",{className:"text-center py-6 w-full flex flex-col items-center",children:[T.jsxs("h3",{className:"text-4xl font-black text-cyan-400 mb-2",children:[b.winner," Wins!"]}),T.jsx("p",{className:"text-slate-400 mb-6",children:"Mission Debriefing"}),T.jsx("div",{className:"w-full overflow-x-auto mb-6",children:T.jsxs("table",{className:"w-full text-left border-collapse",children:[T.jsx("thead",{children:T.jsxs("tr",{className:"text-xs text-slate-500 uppercase border-b border-slate-700",children:[T.jsx("th",{className:"p-3",children:"Runner"}),T.jsx("th",{className:"p-3 text-center",children:"R1"}),T.jsx("th",{className:"p-3 text-center",children:"R2"}),T.jsx("th",{className:"p-3 text-center",children:"R3"}),T.jsx("th",{className:"p-3 text-center text-pink-400",children:"Backdoor"}),T.jsx("th",{className:"p-3 text-right text-cyan-400",children:"Total"})]})}),T.jsx("tbody",{className:"text-sm",children:b.players.sort((ye,Be)=>Be.score-ye.score).map(ye=>{const Be=ye.history.find(nn=>nn.round===1)?.score||0,Ke=ye.history.find(nn=>nn.round===2)?.score||0,He=ye.history.find(nn=>nn.round===3)?.score||0,Xe=ye.backdoorScore||0;return T.jsxs("tr",{className:"border-b border-slate-800 hover:bg-slate-800/30",children:[T.jsxs("td",{className:"p-3 font-bold flex items-center gap-2",children:[ye.name,ye.backdoorCount>0&&T.jsxs("span",{className:"text-[10px] text-pink-500 bg-pink-900/20 px-1 rounded flex items-center gap-0.5",children:[T.jsx(Nl,{size:8})," ",ye.backdoorCount]})]}),T.jsx("td",{className:"p-3 text-center text-slate-400",children:Be}),T.jsx("td",{className:"p-3 text-center text-slate-400",children:Ke}),T.jsx("td",{className:"p-3 text-center text-slate-400",children:He}),T.jsxs("td",{className:`p-3 text-center font-bold ${Xe>0?"text-green-400":Xe<0?"text-red-400":"text-slate-600"}`,children:[Xe>0?"+":"",Xe]}),T.jsx("td",{className:"p-3 text-right font-black text-cyan-400 text-lg",children:ye.score})]},ye.id)})})]})}),T.jsxs("div",{className:"w-full max-w-md bg-slate-800/50 rounded-xl p-4 mb-6 border border-slate-700",children:[T.jsx("h4",{className:"text-slate-400 text-xs uppercase tracking-widest mb-3 border-b border-slate-700 pb-2",children:"System Check"}),T.jsx("div",{className:"grid grid-cols-2 gap-2 mb-4",children:b.players.map(ye=>T.jsxs("div",{className:`flex items-center justify-between p-2 rounded text-sm ${ye.ready?"bg-green-900/20 border border-green-500/30 text-green-300":"bg-slate-900 border border-slate-700 text-slate-500"}`,children:[T.jsx("span",{className:"truncate",children:ye.name}),ye.ready?T.jsx(ls,{size:14}):T.jsx(eI,{size:14,className:"animate-pulse"})]},ye.id))}),ae.ready?T.jsxs("div",{className:"text-center text-green-400 text-sm font-bold flex items-center justify-center gap-2 py-2 bg-green-900/10 rounded",children:[T.jsx(ls,{size:16})," YOU ARE READY"]}):T.jsx("button",{onClick:G,className:"w-full py-3 bg-cyan-600 hover:bg-cyan-500 rounded font-bold text-white shadow-lg animate-pulse",children:"MARK READY"})]}),b.hostId===r.uid&&T.jsxs("div",{className:"flex gap-4 justify-center w-full",children:[T.jsxs("button",{onClick:se,disabled:!Ge,className:`px-6 py-3 rounded-xl font-bold flex items-center gap-2 transition-all ${Ge?"bg-cyan-600 hover:bg-cyan-500 text-white shadow-cyan-900/50 shadow-lg":"bg-slate-800 text-slate-500 cursor-not-allowed opacity-50"}`,children:[T.jsx(AI,{size:18})," Restart"]}),T.jsxs("button",{onClick:re,disabled:!Ge,className:`px-6 py-3 rounded-xl font-bold flex items-center gap-2 transition-all ${Ge?"bg-slate-700 hover:bg-slate-600 text-white":"bg-slate-800 text-slate-500 cursor-not-allowed opacity-50"}`,children:[T.jsx(EI,{size:18})," Lobby"]})]}),b.hostId===r.uid&&!Ge&&T.jsx("div",{className:"text-xs text-slate-500 mt-2 italic",children:"Waiting for all runners to mark ready..."})]}):T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"flex justify-between items-center mb-4",children:[T.jsxs("h3",{className:"font-bold text-white flex items-center gap-2",children:[T.jsx(CI,{size:18,className:"text-cyan-400"})," Incoming Stream (",ae.hand.length,")"]}),Me&&!fe&&ae.hand.length>=2&&T.jsxs("button",{onClick:()=>{N(!V),R([])},className:`text-xs px-3 py-1 rounded-full border transition-colors flex items-center gap-1 ${V?"bg-cyan-900/50 border-cyan-400 text-cyan-300":"bg-slate-800 border-slate-600 text-slate-400 hover:border-cyan-500"}`,children:[V?T.jsx(ls,{size:12}):T.jsx(gg,{size:12}),"Use Proxy Protocol ",V?"(Pick 2)":""]}),fe&&T.jsxs("div",{className:"flex items-center gap-2 text-cyan-400 text-sm font-bold animate-pulse",children:[T.jsx(mI,{size:16,className:"animate-spin"}),"Synchronizing..."]})]}),T.jsx("div",{className:"flex gap-2 md:gap-4 overflow-x-auto pb-4 pt-4 px-2 justify-start md:justify-center min-h-[160px] md:min-h-[220px]",children:ae.hand.map((ye,Be)=>T.jsx("div",{className:`transition-all duration-300 ${fe?"grayscale opacity-50 pointer-events-none scale-90":""}`,children:T.jsx(Av,{typeId:ye,onClick:()=>de(Be),selected:w.includes(Be)})},Be))}),T.jsx("button",{onClick:Pe,disabled:w.length===0||fe,className:`w-full py-4 rounded-xl font-bold text-lg shadow-lg transition-all mt-2
                        ${fe?"bg-slate-800 text-cyan-400/50 cursor-wait border border-slate-700":w.length>0?"bg-cyan-600 hover:bg-cyan-500 text-white shadow-cyan-900/50":"bg-slate-800 text-slate-500 cursor-not-allowed"}`,children:fe?"Waiting for other runners...":V&&w.length<2?"Select 2nd Fragment...":"ACQUIRE DATA"})]})})]}),T.jsx(Ev,{})]})}return null}zb.createRoot(document.getElementById("root")).render(T.jsx(yt.StrictMode,{children:T.jsx(qI,{})}));

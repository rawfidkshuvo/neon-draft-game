(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Id={exports:{}},_l={};var V_;function Rb(){if(V_)return _l;V_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return _l.Fragment=t,_l.jsx=i,_l.jsxs=i,_l}var k_;function Cb(){return k_||(k_=1,Id.exports=Rb()),Id.exports}var A=Cb(),xd={exports:{}},At={};var U_;function Ib(){if(U_)return At;U_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),V=Symbol.iterator;function F(O){return O===null||typeof O!="object"?null:(O=V&&O[V]||O["@@iterator"],typeof O=="function"?O:null)}var tt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nt=Object.assign,W={};function mt(O,K,rt){this.props=O,this.context=K,this.refs=W,this.updater=rt||tt}mt.prototype.isReactComponent={},mt.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},mt.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Tt(){}Tt.prototype=mt.prototype;function gt(O,K,rt){this.props=O,this.context=K,this.refs=W,this.updater=rt||tt}var Jt=gt.prototype=new Tt;Jt.constructor=gt,nt(Jt,mt.prototype),Jt.isPureReactComponent=!0;var ie=Array.isArray;function It(){}var x={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function C(O,K,rt){var at=rt.ref;return{$$typeof:r,type:O,key:K,ref:at!==void 0?at:null,props:rt}}function M(O,K){return C(O.type,K,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function U(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(rt){return K[rt]})}var R=/\/+/g;function le(O,K){return typeof O=="object"&&O!==null&&O.key!=null?U(""+O.key):K.toString(36)}function be(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(It,It):(O.status="pending",O.then(function(K){O.status==="pending"&&(O.status="fulfilled",O.value=K)},function(K){O.status==="pending"&&(O.status="rejected",O.reason=K)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function H(O,K,rt,at,X){var J=typeof O;(J==="undefined"||J==="boolean")&&(O=null);var it=!1;if(O===null)it=!0;else switch(J){case"bigint":case"string":case"number":it=!0;break;case"object":switch(O.$$typeof){case r:case t:it=!0;break;case T:return it=O._init,H(it(O._payload),K,rt,at,X)}}if(it)return X=X(O),it=at===""?"."+le(O,0):at,ie(X)?(rt="",it!=null&&(rt=it.replace(R,"$&/")+"/"),H(X,K,rt,"",function(Ot){return Ot})):X!=null&&(N(X)&&(X=M(X,rt+(X.key==null||O&&O.key===X.key?"":(""+X.key).replace(R,"$&/")+"/")+it)),K.push(X)),1;it=0;var ht=at===""?".":at+":";if(ie(O))for(var xt=0;xt<O.length;xt++)at=O[xt],J=ht+le(at,xt),it+=H(at,K,rt,J,X);else if(xt=F(O),typeof xt=="function")for(O=xt.call(O),xt=0;!(at=O.next()).done;)at=at.value,J=ht+le(at,xt++),it+=H(at,K,rt,J,X);else if(J==="object"){if(typeof O.then=="function")return H(be(O),K,rt,at,X);throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return it}function st(O,K,rt){if(O==null)return O;var at=[],X=0;return H(O,at,"","",function(J){return K.call(rt,J,X++)}),at}function ft(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(rt){(O._status===0||O._status===-1)&&(O._status=1,O._result=rt)},function(rt){(O._status===0||O._status===-1)&&(O._status=2,O._result=rt)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var zt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Kt={map:st,forEach:function(O,K,rt){st(O,function(){K.apply(this,arguments)},rt)},count:function(O){var K=0;return st(O,function(){K++}),K},toArray:function(O){return st(O,function(K){return K})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return At.Activity=w,At.Children=Kt,At.Component=mt,At.Fragment=i,At.Profiler=l,At.PureComponent=gt,At.StrictMode=a,At.Suspense=_,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,At.__COMPILER_RUNTIME={__proto__:null,c:function(O){return x.H.useMemoCache(O)}},At.cache=function(O){return function(){return O.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(O,K,rt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var at=nt({},O.props),X=O.key;if(K!=null)for(J in K.key!==void 0&&(X=""+K.key),K)!S.call(K,J)||J==="key"||J==="__self"||J==="__source"||J==="ref"&&K.ref===void 0||(at[J]=K[J]);var J=arguments.length-2;if(J===1)at.children=rt;else if(1<J){for(var it=Array(J),ht=0;ht<J;ht++)it[ht]=arguments[ht+2];at.children=it}return C(O.type,X,at)},At.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},At.createElement=function(O,K,rt){var at,X={},J=null;if(K!=null)for(at in K.key!==void 0&&(J=""+K.key),K)S.call(K,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(X[at]=K[at]);var it=arguments.length-2;if(it===1)X.children=rt;else if(1<it){for(var ht=Array(it),xt=0;xt<it;xt++)ht[xt]=arguments[xt+2];X.children=ht}if(O&&O.defaultProps)for(at in it=O.defaultProps,it)X[at]===void 0&&(X[at]=it[at]);return C(O,J,X)},At.createRef=function(){return{current:null}},At.forwardRef=function(O){return{$$typeof:p,render:O}},At.isValidElement=N,At.lazy=function(O){return{$$typeof:T,_payload:{_status:-1,_result:O},_init:ft}},At.memo=function(O,K){return{$$typeof:y,type:O,compare:K===void 0?null:K}},At.startTransition=function(O){var K=x.T,rt={};x.T=rt;try{var at=O(),X=x.S;X!==null&&X(rt,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(It,zt)}catch(J){zt(J)}finally{K!==null&&rt.types!==null&&(K.types=rt.types),x.T=K}},At.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},At.use=function(O){return x.H.use(O)},At.useActionState=function(O,K,rt){return x.H.useActionState(O,K,rt)},At.useCallback=function(O,K){return x.H.useCallback(O,K)},At.useContext=function(O){return x.H.useContext(O)},At.useDebugValue=function(){},At.useDeferredValue=function(O,K){return x.H.useDeferredValue(O,K)},At.useEffect=function(O,K){return x.H.useEffect(O,K)},At.useEffectEvent=function(O){return x.H.useEffectEvent(O)},At.useId=function(){return x.H.useId()},At.useImperativeHandle=function(O,K,rt){return x.H.useImperativeHandle(O,K,rt)},At.useInsertionEffect=function(O,K){return x.H.useInsertionEffect(O,K)},At.useLayoutEffect=function(O,K){return x.H.useLayoutEffect(O,K)},At.useMemo=function(O,K){return x.H.useMemo(O,K)},At.useOptimistic=function(O,K){return x.H.useOptimistic(O,K)},At.useReducer=function(O,K,rt){return x.H.useReducer(O,K,rt)},At.useRef=function(O){return x.H.useRef(O)},At.useState=function(O){return x.H.useState(O)},At.useSyncExternalStore=function(O,K,rt){return x.H.useSyncExternalStore(O,K,rt)},At.useTransition=function(){return x.H.useTransition()},At.version="19.2.3",At}var L_;function Sm(){return L_||(L_=1,xd.exports=Ib()),xd.exports}var ye=Sm(),Nd={exports:{}},vl={},Dd={exports:{}},Od={};var P_;function xb(){return P_||(P_=1,(function(r){function t(H,st){var ft=H.length;H.push(st);t:for(;0<ft;){var zt=ft-1>>>1,Kt=H[zt];if(0<l(Kt,st))H[zt]=st,H[ft]=Kt,ft=zt;else break t}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var st=H[0],ft=H.pop();if(ft!==st){H[0]=ft;t:for(var zt=0,Kt=H.length,O=Kt>>>1;zt<O;){var K=2*(zt+1)-1,rt=H[K],at=K+1,X=H[at];if(0>l(rt,ft))at<Kt&&0>l(X,rt)?(H[zt]=X,H[at]=ft,zt=at):(H[zt]=rt,H[K]=ft,zt=K);else if(at<Kt&&0>l(X,ft))H[zt]=X,H[at]=ft,zt=at;else break t}}return st}function l(H,st){var ft=H.sortIndex-st.sortIndex;return ft!==0?ft:H.id-st.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var _=[],y=[],T=1,w=null,V=3,F=!1,tt=!1,nt=!1,W=!1,mt=typeof setTimeout=="function"?setTimeout:null,Tt=typeof clearTimeout=="function"?clearTimeout:null,gt=typeof setImmediate<"u"?setImmediate:null;function Jt(H){for(var st=i(y);st!==null;){if(st.callback===null)a(y);else if(st.startTime<=H)a(y),st.sortIndex=st.expirationTime,t(_,st);else break;st=i(y)}}function ie(H){if(nt=!1,Jt(H),!tt)if(i(_)!==null)tt=!0,It||(It=!0,U());else{var st=i(y);st!==null&&be(ie,st.startTime-H)}}var It=!1,x=-1,S=5,C=-1;function M(){return W?!0:!(r.unstable_now()-C<S)}function N(){if(W=!1,It){var H=r.unstable_now();C=H;var st=!0;try{t:{tt=!1,nt&&(nt=!1,Tt(x),x=-1),F=!0;var ft=V;try{e:{for(Jt(H),w=i(_);w!==null&&!(w.expirationTime>H&&M());){var zt=w.callback;if(typeof zt=="function"){w.callback=null,V=w.priorityLevel;var Kt=zt(w.expirationTime<=H);if(H=r.unstable_now(),typeof Kt=="function"){w.callback=Kt,Jt(H),st=!0;break e}w===i(_)&&a(_),Jt(H)}else a(_);w=i(_)}if(w!==null)st=!0;else{var O=i(y);O!==null&&be(ie,O.startTime-H),st=!1}}break t}finally{w=null,V=ft,F=!1}st=void 0}}finally{st?U():It=!1}}}var U;if(typeof gt=="function")U=function(){gt(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,le=R.port2;R.port1.onmessage=N,U=function(){le.postMessage(null)}}else U=function(){mt(N,0)};function be(H,st){x=mt(function(){H(r.unstable_now())},st)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return V},r.unstable_next=function(H){switch(V){case 1:case 2:case 3:var st=3;break;default:st=V}var ft=V;V=st;try{return H()}finally{V=ft}},r.unstable_requestPaint=function(){W=!0},r.unstable_runWithPriority=function(H,st){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ft=V;V=H;try{return st()}finally{V=ft}},r.unstable_scheduleCallback=function(H,st,ft){var zt=r.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?zt+ft:zt):ft=zt,H){case 1:var Kt=-1;break;case 2:Kt=250;break;case 5:Kt=1073741823;break;case 4:Kt=1e4;break;default:Kt=5e3}return Kt=ft+Kt,H={id:T++,callback:st,priorityLevel:H,startTime:ft,expirationTime:Kt,sortIndex:-1},ft>zt?(H.sortIndex=ft,t(y,H),i(_)===null&&H===i(y)&&(nt?(Tt(x),x=-1):nt=!0,be(ie,ft-zt))):(H.sortIndex=Kt,t(_,H),tt||F||(tt=!0,It||(It=!0,U()))),H},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(H){var st=V;return function(){var ft=V;V=st;try{return H.apply(this,arguments)}finally{V=ft}}}})(Od)),Od}var z_;function Nb(){return z_||(z_=1,Dd.exports=xb()),Dd.exports}var Md={exports:{}},sn={};var j_;function Db(){if(j_)return sn;j_=1;var r=Sm();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,T){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:_,containerInfo:y,implementation:T}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,sn.createPortal=function(_,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,T)},sn.flushSync=function(_){var y=d.T,T=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=y,a.p=T,a.d.f()}},sn.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(_,y))},sn.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},sn.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var T=y.as,w=p(T,y.crossOrigin),V=typeof y.integrity=="string"?y.integrity:void 0,F=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?a.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:V,fetchPriority:F}):T==="script"&&a.d.X(_,{crossOrigin:w,integrity:V,fetchPriority:F,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},sn.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=p(y.as,y.crossOrigin);a.d.M(_,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(_)},sn.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,w=p(T,y.crossOrigin);a.d.L(_,T,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},sn.preloadModule=function(_,y){if(typeof _=="string")if(y){var T=p(y.as,y.crossOrigin);a.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(_)},sn.requestFormReset=function(_){a.d.r(_)},sn.unstable_batchedUpdates=function(_,y){return _(y)},sn.useFormState=function(_,y,T){return d.H.useFormState(_,y,T)},sn.useFormStatus=function(){return d.H.useHostTransitionStatus()},sn.version="19.2.3",sn}var B_;function Ob(){if(B_)return Md.exports;B_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Md.exports=Db(),Md.exports}var q_;function Mb(){if(q_)return vl;q_=1;var r=Nb(),t=Sm(),i=Ob();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===s){g=!0,s=h,o=f;break}if(E===o){g=!0,o=h,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,o=h;break}if(E===o){g=!0,o=f,s=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function T(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=T(e),n!==null)return n;e=e.sibling}return null}var w=Object.assign,V=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),tt=Symbol.for("react.portal"),nt=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),mt=Symbol.for("react.profiler"),Tt=Symbol.for("react.consumer"),gt=Symbol.for("react.context"),Jt=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),It=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function le(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nt:return"Fragment";case mt:return"Profiler";case W:return"StrictMode";case ie:return"Suspense";case It:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case tt:return"Portal";case gt:return e.displayName||"Context";case Tt:return(e._context.displayName||"Context")+".Consumer";case Jt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case x:return n=e.displayName||null,n!==null?n:le(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return le(e(n))}catch{}}return null}var be=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},zt=[],Kt=-1;function O(e){return{current:e}}function K(e){0>Kt||(e.current=zt[Kt],zt[Kt]=null,Kt--)}function rt(e,n){Kt++,zt[Kt]=e.current,e.current=n}var at=O(null),X=O(null),J=O(null),it=O(null);function ht(e,n){switch(rt(J,n),rt(X,e),rt(at,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?i_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=i_(n),e=s_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(at),rt(at,e)}function xt(){K(at),K(X),K(J)}function Ot(e){e.memoizedState!==null&&rt(it,e);var n=at.current,s=s_(n,e.type);n!==s&&(rt(X,e),rt(at,s))}function Gt(e){X.current===e&&(K(at),K(X)),it.current===e&&(K(it),ml._currentValue=ft)}var yt,Bt;function Yt(e){if(yt===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);yt=n&&n[1]||"",Bt=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+yt+e+Bt}var Ht=!1;function Xt(e,n){if(!e||Ht)return"";Ht=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var j=q}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(q){j=q}e.call(Y.prototype)}}else{try{throw Error()}catch(q){j=q}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var I=g.split(`
`),z=E.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===z.length)for(o=I.length-1,h=z.length-1;1<=o&&0<=h&&I[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==z[h]){var G=`
`+I[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{Ht=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Yt(s):""}function nn(e,n){switch(e.tag){case 26:case 27:case 5:return Yt(e.type);case 16:return Yt("Lazy");case 13:return e.child!==n&&n!==null?Yt("Suspense Fallback"):Yt("Suspense");case 19:return Yt("SuspenseList");case 0:case 15:return Xt(e.type,!1);case 11:return Xt(e.type.render,!1);case 1:return Xt(e.type,!0);case 31:return Yt("Activity");default:return""}}function pr(e){try{var n="",s=null;do n+=nn(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Mt=Object.prototype.hasOwnProperty,ue=r.unstable_scheduleCallback,Dn=r.unstable_cancelCallback,yr=r.unstable_shouldYield,na=r.unstable_requestPaint,qe=r.unstable_now,qi=r.unstable_getCurrentPriorityLevel,yo=r.unstable_ImmediatePriority,_o=r.unstable_UserBlockingPriority,_s=r.unstable_NormalPriority,Nh=r.unstable_LowPriority,Zl=r.unstable_IdlePriority,Jl=r.log,Wl=r.unstable_setDisableYieldValue,$n=null,Ke=null;function On(e){if(typeof Jl=="function"&&Wl(e),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode($n,e)}catch{}}var Ae=Math.clz32?Math.clz32:eu,tu=Math.log,ia=Math.LN2;function eu(e){return e>>>=0,e===0?32:31-(tu(e)/ia|0)|0}var hi=256,_r=262144,Ie=4194304;function fi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function di(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=fi(o):(g&=E,g!==0?h=fi(g):s||(s=E&~e,s!==0&&(h=fi(s))))):(E=o&~f,E!==0?h=fi(E):g!==0?h=fi(g):s||(s=o&~e,s!==0&&(h=fi(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Zn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Dh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nu(){var e=Ie;return Ie<<=1,(Ie&62914560)===0&&(Ie=4194304),e}function mi(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function vr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Oh(e,n,s,o,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,I=e.expirationTimes,z=e.hiddenUpdates;for(s=g&~s;0<s;){var G=31-Ae(s),Y=1<<G;E[G]=0,I[G]=-1;var j=z[G];if(j!==null)for(z[G]=null,G=0;G<j.length;G++){var q=j[G];q!==null&&(q.lane&=-536870913)}s&=~Y}o!==0&&Er(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function Er(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Ae(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function vo(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-Ae(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function Eo(e,n){var s=n&-n;return s=(s&42)!==0?1:Tr(s),(s&(e.suspendedLanes|n))!==0?0:s}function Tr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Hi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function iu(){var e=st.p;return e!==0?e:(e=window.event,e===void 0?32:C_(e.type))}function Jn(e,n){var s=st.p;try{return st.p=e,n()}finally{st.p=s}}var Wn=Math.random().toString(36).slice(2),xe="__reactFiber$"+Wn,He="__reactProps$"+Wn,gi="__reactContainer$"+Wn,sa="__reactEvents$"+Wn,Mh="__reactListeners$"+Wn,su="__reactHandles$"+Wn,ru="__reactResources$"+Wn,pi="__reactMarker$"+Wn;function ra(e){delete e[xe],delete e[He],delete e[sa],delete e[Mh],delete e[su]}function yi(e){var n=e[xe];if(n)return n;for(var s=e.parentNode;s;){if(n=s[gi]||s[xe]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=h_(e);e!==null;){if(s=e[xe])return s;e=h_(e)}return n}e=s,s=e.parentNode}return null}function Mn(e){if(e=e[xe]||e[gi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Tn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function _i(e){var n=e[ru];return n||(n=e[ru]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ne(e){e[pi]=!0}var To=new Set,bo={};function vi(e,n){Ei(e,n),Ei(e+"Capture",n)}function Ei(e,n){for(bo[e]=n,e=0;e<n.length;e++)To.add(n[e])}var Ao=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),So={},wo={};function au(e){return Mt.call(wo,e)?!0:Mt.call(So,e)?!1:Ao.test(e)?wo[e]=!0:(So[e]=!0,!1)}function aa(e,n,s){if(au(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function bn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function De(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function Ge(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vs(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ro(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function te(e){if(!e._valueTracker){var n=vs(e)?"checked":"value";e._valueTracker=Ro(e,n,""+e[n])}}function br(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=vs(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function Ti(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ar=/[\n"\\]/g;function fn(e){return e.replace(Ar,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function oa(e,n,s,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ge(n)):e.value!==""+Ge(n)&&(e.value=""+Ge(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Co(e,g,Ge(n)):s!=null?Co(e,g,Ge(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ge(E):e.removeAttribute("name")}function ou(e,n,s,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){te(e);return}s=s!=null?""+Ge(s):"",n=n!=null?""+Ge(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),te(e)}function Co(e,n,s){n==="number"&&Ti(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Es(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+Ge(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function lu(e,n,s){if(n!=null&&(n=""+Ge(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Ge(s):""}function Ts(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(be(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Ge(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),te(e)}function dn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var uu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Io(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||uu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function xo(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&Io(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Io(e,f,n[f])}function la(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ua(e){return bs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ti(){}var No=null;function Vn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var As=null,bi=null;function Sr(e){var n=Mn(e);if(n&&(e=n.stateNode)){var s=e[He]||null;t:switch(e=n.stateNode,n.type){case"input":if(oa(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+fn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[He]||null;if(!h)throw Error(a(90));oa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&br(o)}break t;case"textarea":lu(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&Es(e,!!s.multiple,n,!1)}}}var ca=!1;function Ss(e,n,s){if(ca)return e(n,s);ca=!0;try{var o=e(n);return o}finally{if(ca=!1,(As!==null||bi!==null)&&(ic(),As&&(n=As,e=bi,bi=As=null,Sr(n),e)))for(n=0;n<e.length;n++)Sr(e[n])}}function ei(e,n){var s=e.stateNode;if(s===null)return null;var o=s[He]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wr=!1;if(kn)try{var se={};Object.defineProperty(se,"passive",{get:function(){wr=!0}}),window.addEventListener("test",se,se),window.removeEventListener("test",se,se)}catch{wr=!1}var Ai=null,Do=null,Rr=null;function Oo(){if(Rr)return Rr;var e,n=Do,s=n.length,o,h="value"in Ai?Ai.value:Ai.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(o=1;o<=g&&n[s-o]===h[f-o];o++);return Rr=h.slice(e,1<o?1-o:void 0)}function Cr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Gi(){return!0}function ni(){return!1}function Ye(e){function n(s,o,h,f,g){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Gi:ni,this.isPropagationStopped=ni,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Gi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Gi)},persist:function(){},isPersistent:Gi}),n}var Fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Si=Ye(Fi),ws=w({},Fi,{view:0,detail:0}),Mo=Ye(ws),Rs,ha,wi,fa=w({},ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==wi&&(wi&&e.type==="mousemove"?(Rs=e.screenX-wi.screenX,ha=e.screenY-wi.screenY):ha=Rs=0,wi=e),Rs)},movementY:function(e){return"movementY"in e?e.movementY:ha}}),Vo=Ye(fa),Ir=w({},fa,{dataTransfer:0}),hu=Ye(Ir),fu=w({},ws,{relatedTarget:0}),xr=Ye(fu),ko=w({},Fi,{animationName:0,elapsedTime:0,pseudoElement:0}),du=Ye(ko),da=w({},Fi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mu=Ye(da),gu=w({},Fi,{data:0}),Ri=Ye(gu),pu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_u={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=_u[e])?!!n[e]:!1}function Cs(){return vu}var un=w({},ws,{key:function(e){if(e.key){var n=pu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Cr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cs,charCode:function(e){return e.type==="keypress"?Cr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Cr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Eu=Ye(un),Tu=w({},fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qi=Ye(Tu),u=w({},ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cs}),m=Ye(u),v=w({},Fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Ye(v),L=w({},fa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Ye(L),et=w({},Fi,{newState:0,oldState:0}),wt=Ye(et),Se=[9,13,27,32],$t=kn&&"CompositionEvent"in window,ge=null;kn&&"documentMode"in document&&(ge=document.documentMode);var Un=kn&&"TextEvent"in window&&!ge,Ci=kn&&(!$t||ge&&8<ge&&11>=ge),ii=" ",si=!1;function Nr(e,n){switch(e){case"keyup":return Se.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ma(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ga=!1;function $T(e,n){switch(e){case"compositionend":return ma(n);case"keypress":return n.which!==32?null:(si=!0,ii);case"textInput":return e=n.data,e===ii&&si?null:e;default:return null}}function ZT(e,n){if(ga)return e==="compositionend"||!$t&&Nr(e,n)?(e=Oo(),Rr=Do=Ai=null,ga=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ci&&n.locale!=="ko"?null:n.data;default:return null}}var JT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!JT[e.type]:n==="textarea"}function gg(e,n,s,o){As?bi?bi.push(o):bi=[o]:As=o,n=cc(n,"onChange"),0<n.length&&(s=new Si("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var Uo=null,Lo=null;function WT(e){Zy(e,0)}function bu(e){var n=Tn(e);if(br(n))return e}function pg(e,n){if(e==="change")return n}var yg=!1;if(kn){var Vh;if(kn){var kh="oninput"in document;if(!kh){var _g=document.createElement("div");_g.setAttribute("oninput","return;"),kh=typeof _g.oninput=="function"}Vh=kh}else Vh=!1;yg=Vh&&(!document.documentMode||9<document.documentMode)}function vg(){Uo&&(Uo.detachEvent("onpropertychange",Eg),Lo=Uo=null)}function Eg(e){if(e.propertyName==="value"&&bu(Lo)){var n=[];gg(n,Lo,e,Vn(e)),Ss(WT,n)}}function t1(e,n,s){e==="focusin"?(vg(),Uo=n,Lo=s,Uo.attachEvent("onpropertychange",Eg)):e==="focusout"&&vg()}function e1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bu(Lo)}function n1(e,n){if(e==="click")return bu(n)}function i1(e,n){if(e==="input"||e==="change")return bu(n)}function s1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var An=typeof Object.is=="function"?Object.is:s1;function Po(e,n){if(An(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!Mt.call(n,h)||!An(e[h],n[h]))return!1}return!0}function Tg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bg(e,n){var s=Tg(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Tg(s)}}function Ag(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Ag(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Sg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Ti(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=Ti(e.document)}return n}function Uh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var r1=kn&&"documentMode"in document&&11>=document.documentMode,pa=null,Lh=null,zo=null,Ph=!1;function wg(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ph||pa==null||pa!==Ti(o)||(o=pa,"selectionStart"in o&&Uh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),zo&&Po(zo,o)||(zo=o,o=cc(Lh,"onSelect"),0<o.length&&(n=new Si("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=pa)))}function Dr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ya={animationend:Dr("Animation","AnimationEnd"),animationiteration:Dr("Animation","AnimationIteration"),animationstart:Dr("Animation","AnimationStart"),transitionrun:Dr("Transition","TransitionRun"),transitionstart:Dr("Transition","TransitionStart"),transitioncancel:Dr("Transition","TransitionCancel"),transitionend:Dr("Transition","TransitionEnd")},zh={},Rg={};kn&&(Rg=document.createElement("div").style,"AnimationEvent"in window||(delete ya.animationend.animation,delete ya.animationiteration.animation,delete ya.animationstart.animation),"TransitionEvent"in window||delete ya.transitionend.transition);function Or(e){if(zh[e])return zh[e];if(!ya[e])return e;var n=ya[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Rg)return zh[e]=n[s];return e}var Cg=Or("animationend"),Ig=Or("animationiteration"),xg=Or("animationstart"),a1=Or("transitionrun"),o1=Or("transitionstart"),l1=Or("transitioncancel"),Ng=Or("transitionend"),Dg=new Map,jh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jh.push("scrollEnd");function ri(e,n){Dg.set(e,n),vi(n,[e])}var Au=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ln=[],_a=0,Bh=0;function Su(){for(var e=_a,n=Bh=_a=0;n<e;){var s=Ln[n];Ln[n++]=null;var o=Ln[n];Ln[n++]=null;var h=Ln[n];Ln[n++]=null;var f=Ln[n];if(Ln[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Og(s,h,f)}}function wu(e,n,s,o){Ln[_a++]=e,Ln[_a++]=n,Ln[_a++]=s,Ln[_a++]=o,Bh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function qh(e,n,s,o){return wu(e,n,s,o),Ru(e)}function Mr(e,n){return wu(e,null,null,n),Ru(e)}function Og(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-Ae(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function Ru(e){if(50<ol)throw ol=0,Jf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var va={};function u1(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(e,n,s,o){return new u1(e,n,s,o)}function Hh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ki(e,n){var s=e.alternate;return s===null?(s=Sn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Mg(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Cu(e,n,s,o,h,f){var g=0;if(o=e,typeof e=="function")Hh(e)&&(g=1);else if(typeof e=="string")g=mb(e,s,at.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=Sn(31,s,n,h),e.elementType=C,e.lanes=f,e;case nt:return Vr(s.children,h,f,n);case W:g=8,h|=24;break;case mt:return e=Sn(12,s,n,h|2),e.elementType=mt,e.lanes=f,e;case ie:return e=Sn(13,s,n,h),e.elementType=ie,e.lanes=f,e;case It:return e=Sn(19,s,n,h),e.elementType=It,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gt:g=10;break t;case Tt:g=9;break t;case Jt:g=11;break t;case x:g=14;break t;case S:g=16,o=null;break t}g=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=Sn(g,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Vr(e,n,s,o){return e=Sn(7,e,o,n),e.lanes=s,e}function Gh(e,n,s){return e=Sn(6,e,null,n),e.lanes=s,e}function Vg(e){var n=Sn(18,null,null,0);return n.stateNode=e,n}function Fh(e,n,s){return n=Sn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var kg=new WeakMap;function Pn(e,n){if(typeof e=="object"&&e!==null){var s=kg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:pr(n)},kg.set(e,n),n)}return{value:e,source:n,stack:pr(n)}}var Ea=[],Ta=0,Iu=null,jo=0,zn=[],jn=0,Is=null,Ii=1,xi="";function Yi(e,n){Ea[Ta++]=jo,Ea[Ta++]=Iu,Iu=e,jo=n}function Ug(e,n,s){zn[jn++]=Ii,zn[jn++]=xi,zn[jn++]=Is,Is=e;var o=Ii;e=xi;var h=32-Ae(o)-1;o&=~(1<<h),s+=1;var f=32-Ae(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Ii=1<<32-Ae(n)+h|s<<h|o,xi=f+e}else Ii=1<<f|s<<h|o,xi=e}function Qh(e){e.return!==null&&(Yi(e,1),Ug(e,1,0))}function Kh(e){for(;e===Iu;)Iu=Ea[--Ta],Ea[Ta]=null,jo=Ea[--Ta],Ea[Ta]=null;for(;e===Is;)Is=zn[--jn],zn[jn]=null,xi=zn[--jn],zn[jn]=null,Ii=zn[--jn],zn[jn]=null}function Lg(e,n){zn[jn++]=Ii,zn[jn++]=xi,zn[jn++]=Is,Ii=n.id,xi=n.overflow,Is=e}var Xe=null,fe=null,jt=!1,xs=null,Bn=!1,Yh=Error(a(519));function Ns(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bo(Pn(n,e)),Yh}function Pg(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[xe]=e,n[He]=o,s){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(s=0;s<ul.length;s++)Dt(ul[s],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),ou(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),Ts(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||e_(n.textContent,s)?(o.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),o.onScroll!=null&&Dt("scroll",n),o.onScrollEnd!=null&&Dt("scrollend",n),o.onClick!=null&&(n.onclick=ti),n=!0):n=!1,n||Ns(e,!0)}function zg(e){for(Xe=e.return;Xe;)switch(Xe.tag){case 5:case 31:case 13:Bn=!1;return;case 27:case 3:Bn=!0;return;default:Xe=Xe.return}}function ba(e){if(e!==Xe)return!1;if(!jt)return zg(e),jt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||dd(e.type,e.memoizedProps)),s=!s),s&&fe&&Ns(e),zg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));fe=c_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));fe=c_(e)}else n===27?(n=fe,Gs(e.type)?(e=_d,_d=null,fe=e):fe=n):fe=Xe?Hn(e.stateNode.nextSibling):null;return!0}function kr(){fe=Xe=null,jt=!1}function Xh(){var e=xs;return e!==null&&(yn===null?yn=e:yn.push.apply(yn,e),xs=null),e}function Bo(e){xs===null?xs=[e]:xs.push(e)}var $h=O(null),Ur=null,Xi=null;function Ds(e,n,s){rt($h,n._currentValue),n._currentValue=s}function $i(e){e._currentValue=$h.current,K($h)}function Zh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function Jh(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Zh(f.return,s,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Zh(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Aa(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;An(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===it.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(ml):e=[ml])}h=h.return}e!==null&&Jh(n,e,s,o),n.flags|=262144}function xu(e){for(e=e.firstContext;e!==null;){if(!An(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Lr(e){Ur=e,Xi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function $e(e){return jg(Ur,e)}function Nu(e,n){return Ur===null&&Lr(e),jg(e,n)}function jg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Xi===null){if(e===null)throw Error(a(308));Xi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Xi=Xi.next=n;return s}var c1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},h1=r.unstable_scheduleCallback,f1=r.unstable_NormalPriority,Oe={$$typeof:gt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wh(){return{controller:new c1,data:new Map,refCount:0}}function qo(e){e.refCount--,e.refCount===0&&h1(f1,function(){e.controller.abort()})}var Ho=null,tf=0,Sa=0,wa=null;function d1(e,n){if(Ho===null){var s=Ho=[];tf=0,Sa=sd(),wa={status:"pending",value:void 0,then:function(o){s.push(o)}}}return tf++,n.then(Bg,Bg),n}function Bg(){if(--tf===0&&Ho!==null){wa!==null&&(wa.status="fulfilled");var e=Ho;Ho=null,Sa=0,wa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function m1(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var qg=H.S;H.S=function(e,n){wy=qe(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&d1(e,n),qg!==null&&qg(e,n)};var Pr=O(null);function ef(){var e=Pr.current;return e!==null?e:ce.pooledCache}function Du(e,n){n===null?rt(Pr,Pr.current):rt(Pr,n.pool)}function Hg(){var e=ef();return e===null?null:{parent:Oe._currentValue,pool:e}}var Ra=Error(a(460)),nf=Error(a(474)),Ou=Error(a(542)),Mu={then:function(){}};function Gg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Fg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(ti,ti),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Kg(e),e;default:if(typeof n.status=="string")n.then(ti,ti);else{if(e=ce,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Kg(e),e}throw jr=n,Ra}}function zr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(jr=s,Ra):s}}var jr=null;function Qg(){if(jr===null)throw Error(a(459));var e=jr;return jr=null,e}function Kg(e){if(e===Ra||e===Ou)throw Error(a(483))}var Ca=null,Go=0;function Vu(e){var n=Go;return Go+=1,Ca===null&&(Ca=[]),Fg(Ca,e,n)}function Fo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function ku(e,n){throw n.$$typeof===V?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Yg(e){function n(k,D){if(e){var P=k.deletions;P===null?(k.deletions=[D],k.flags|=16):P.push(D)}}function s(k,D){if(!e)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function o(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=Ki(k,D),k.index=0,k.sibling=null,k}function f(k,D,P){return k.index=P,e?(P=k.alternate,P!==null?(P=P.index,P<D?(k.flags|=67108866,D):P):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function g(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,D,P,Q){return D===null||D.tag!==6?(D=Gh(P,k.mode,Q),D.return=k,D):(D=h(D,P),D.return=k,D)}function I(k,D,P,Q){var dt=P.type;return dt===nt?G(k,D,P.props.children,Q,P.key):D!==null&&(D.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===S&&zr(dt)===D.type)?(D=h(D,P.props),Fo(D,P),D.return=k,D):(D=Cu(P.type,P.key,P.props,null,k.mode,Q),Fo(D,P),D.return=k,D)}function z(k,D,P,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Fh(P,k.mode,Q),D.return=k,D):(D=h(D,P.children||[]),D.return=k,D)}function G(k,D,P,Q,dt){return D===null||D.tag!==7?(D=Vr(P,k.mode,Q,dt),D.return=k,D):(D=h(D,P),D.return=k,D)}function Y(k,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Gh(""+D,k.mode,P),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case F:return P=Cu(D.type,D.key,D.props,null,k.mode,P),Fo(P,D),P.return=k,P;case tt:return D=Fh(D,k.mode,P),D.return=k,D;case S:return D=zr(D),Y(k,D,P)}if(be(D)||U(D))return D=Vr(D,k.mode,P,null),D.return=k,D;if(typeof D.then=="function")return Y(k,Vu(D),P);if(D.$$typeof===gt)return Y(k,Nu(k,D),P);ku(k,D)}return null}function j(k,D,P,Q){var dt=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return dt!==null?null:E(k,D,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case F:return P.key===dt?I(k,D,P,Q):null;case tt:return P.key===dt?z(k,D,P,Q):null;case S:return P=zr(P),j(k,D,P,Q)}if(be(P)||U(P))return dt!==null?null:G(k,D,P,Q,null);if(typeof P.then=="function")return j(k,D,Vu(P),Q);if(P.$$typeof===gt)return j(k,D,Nu(k,P),Q);ku(k,P)}return null}function q(k,D,P,Q,dt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return k=k.get(P)||null,E(D,k,""+Q,dt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case F:return k=k.get(Q.key===null?P:Q.key)||null,I(D,k,Q,dt);case tt:return k=k.get(Q.key===null?P:Q.key)||null,z(D,k,Q,dt);case S:return Q=zr(Q),q(k,D,P,Q,dt)}if(be(Q)||U(Q))return k=k.get(P)||null,G(D,k,Q,dt,null);if(typeof Q.then=="function")return q(k,D,P,Vu(Q),dt);if(Q.$$typeof===gt)return q(k,D,P,Nu(D,Q),dt);ku(D,Q)}return null}function lt(k,D,P,Q){for(var dt=null,Ft=null,ut=D,Ct=D=0,kt=null;ut!==null&&Ct<P.length;Ct++){ut.index>Ct?(kt=ut,ut=null):kt=ut.sibling;var Qt=j(k,ut,P[Ct],Q);if(Qt===null){ut===null&&(ut=kt);break}e&&ut&&Qt.alternate===null&&n(k,ut),D=f(Qt,D,Ct),Ft===null?dt=Qt:Ft.sibling=Qt,Ft=Qt,ut=kt}if(Ct===P.length)return s(k,ut),jt&&Yi(k,Ct),dt;if(ut===null){for(;Ct<P.length;Ct++)ut=Y(k,P[Ct],Q),ut!==null&&(D=f(ut,D,Ct),Ft===null?dt=ut:Ft.sibling=ut,Ft=ut);return jt&&Yi(k,Ct),dt}for(ut=o(ut);Ct<P.length;Ct++)kt=q(ut,k,Ct,P[Ct],Q),kt!==null&&(e&&kt.alternate!==null&&ut.delete(kt.key===null?Ct:kt.key),D=f(kt,D,Ct),Ft===null?dt=kt:Ft.sibling=kt,Ft=kt);return e&&ut.forEach(function(Xs){return n(k,Xs)}),jt&&Yi(k,Ct),dt}function _t(k,D,P,Q){if(P==null)throw Error(a(151));for(var dt=null,Ft=null,ut=D,Ct=D=0,kt=null,Qt=P.next();ut!==null&&!Qt.done;Ct++,Qt=P.next()){ut.index>Ct?(kt=ut,ut=null):kt=ut.sibling;var Xs=j(k,ut,Qt.value,Q);if(Xs===null){ut===null&&(ut=kt);break}e&&ut&&Xs.alternate===null&&n(k,ut),D=f(Xs,D,Ct),Ft===null?dt=Xs:Ft.sibling=Xs,Ft=Xs,ut=kt}if(Qt.done)return s(k,ut),jt&&Yi(k,Ct),dt;if(ut===null){for(;!Qt.done;Ct++,Qt=P.next())Qt=Y(k,Qt.value,Q),Qt!==null&&(D=f(Qt,D,Ct),Ft===null?dt=Qt:Ft.sibling=Qt,Ft=Qt);return jt&&Yi(k,Ct),dt}for(ut=o(ut);!Qt.done;Ct++,Qt=P.next())Qt=q(ut,k,Ct,Qt.value,Q),Qt!==null&&(e&&Qt.alternate!==null&&ut.delete(Qt.key===null?Ct:Qt.key),D=f(Qt,D,Ct),Ft===null?dt=Qt:Ft.sibling=Qt,Ft=Qt);return e&&ut.forEach(function(wb){return n(k,wb)}),jt&&Yi(k,Ct),dt}function oe(k,D,P,Q){if(typeof P=="object"&&P!==null&&P.type===nt&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case F:t:{for(var dt=P.key;D!==null;){if(D.key===dt){if(dt=P.type,dt===nt){if(D.tag===7){s(k,D.sibling),Q=h(D,P.props.children),Q.return=k,k=Q;break t}}else if(D.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===S&&zr(dt)===D.type){s(k,D.sibling),Q=h(D,P.props),Fo(Q,P),Q.return=k,k=Q;break t}s(k,D);break}else n(k,D);D=D.sibling}P.type===nt?(Q=Vr(P.props.children,k.mode,Q,P.key),Q.return=k,k=Q):(Q=Cu(P.type,P.key,P.props,null,k.mode,Q),Fo(Q,P),Q.return=k,k=Q)}return g(k);case tt:t:{for(dt=P.key;D!==null;){if(D.key===dt)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){s(k,D.sibling),Q=h(D,P.children||[]),Q.return=k,k=Q;break t}else{s(k,D);break}else n(k,D);D=D.sibling}Q=Fh(P,k.mode,Q),Q.return=k,k=Q}return g(k);case S:return P=zr(P),oe(k,D,P,Q)}if(be(P))return lt(k,D,P,Q);if(U(P)){if(dt=U(P),typeof dt!="function")throw Error(a(150));return P=dt.call(P),_t(k,D,P,Q)}if(typeof P.then=="function")return oe(k,D,Vu(P),Q);if(P.$$typeof===gt)return oe(k,D,Nu(k,P),Q);ku(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(s(k,D.sibling),Q=h(D,P),Q.return=k,k=Q):(s(k,D),Q=Gh(P,k.mode,Q),Q.return=k,k=Q),g(k)):s(k,D)}return function(k,D,P,Q){try{Go=0;var dt=oe(k,D,P,Q);return Ca=null,dt}catch(ut){if(ut===Ra||ut===Ou)throw ut;var Ft=Sn(29,ut,null,k.mode);return Ft.lanes=Q,Ft.return=k,Ft}}}var Br=Yg(!0),Xg=Yg(!1),Os=!1;function sf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ms(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Vs(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Zt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Ru(e),Og(e,null,s),n}return wu(e,o,n,s),Ru(e)}function Qo(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,vo(e,s)}}function af(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var of=!1;function Ko(){if(of){var e=wa;if(e!==null)throw e}}function Yo(e,n,s,o){of=!1;var h=e.updateQueue;Os=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,z=I.next;I.next=null,g===null?f=z:g.next=z,g=I;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==g&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=I))}if(f!==null){var Y=h.baseState;g=0,G=z=I=null,E=f;do{var j=E.lane&-536870913,q=j!==E.lane;if(q?(Vt&j)===j:(o&j)===j){j!==0&&j===Sa&&(of=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var lt=e,_t=E;j=n;var oe=s;switch(_t.tag){case 1:if(lt=_t.payload,typeof lt=="function"){Y=lt.call(oe,Y,j);break t}Y=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=_t.payload,j=typeof lt=="function"?lt.call(oe,Y,j):lt,j==null)break t;Y=w({},Y,j);break t;case 2:Os=!0}}j=E.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=q,I=Y):G=G.next=q,g|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);G===null&&(I=Y),h.baseState=I,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),zs|=g,e.lanes=g,e.memoizedState=Y}}function $g(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Zg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)$g(s[e],n)}var Ia=O(null),Uu=O(0);function Jg(e,n){e=rs,rt(Uu,e),rt(Ia,n),rs=e|n.baseLanes}function lf(){rt(Uu,rs),rt(Ia,Ia.current)}function uf(){rs=Uu.current,K(Ia),K(Uu)}var wn=O(null),qn=null;function ks(e){var n=e.alternate;rt(we,we.current&1),rt(wn,e),qn===null&&(n===null||Ia.current!==null||n.memoizedState!==null)&&(qn=e)}function cf(e){rt(we,we.current),rt(wn,e),qn===null&&(qn=e)}function Wg(e){e.tag===22?(rt(we,we.current),rt(wn,e),qn===null&&(qn=e)):Us()}function Us(){rt(we,we.current),rt(wn,wn.current)}function Rn(e){K(wn),qn===e&&(qn=null),K(we)}var we=O(0);function Lu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||pd(s)||yd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Zi=0,Rt=null,re=null,Me=null,Pu=!1,xa=!1,qr=!1,zu=0,Xo=0,Na=null,g1=0;function Ee(){throw Error(a(321))}function hf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!An(e[s],n[s]))return!1;return!0}function ff(e,n,s,o,h,f){return Zi=f,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?Up:Cf,qr=!1,f=s(o,h),qr=!1,xa&&(f=ep(n,s,o,h)),tp(e),f}function tp(e){H.H=Jo;var n=re!==null&&re.next!==null;if(Zi=0,Me=re=Rt=null,Pu=!1,Xo=0,Na=null,n)throw Error(a(300));e===null||Ve||(e=e.dependencies,e!==null&&xu(e)&&(Ve=!0))}function ep(e,n,s,o){Rt=e;var h=0;do{if(xa&&(Na=null),Xo=0,xa=!1,25<=h)throw Error(a(301));if(h+=1,Me=re=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Lp,f=n(s,o)}while(xa);return f}function p1(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?$o(n):n,e=e.useState()[0],(re!==null?re.memoizedState:null)!==e&&(Rt.flags|=1024),n}function df(){var e=zu!==0;return zu=0,e}function mf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function gf(e){if(Pu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Pu=!1}Zi=0,Me=re=Rt=null,xa=!1,Xo=zu=0,Na=null}function cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?Rt.memoizedState=Me=e:Me=Me.next=e,Me}function Re(){if(re===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=re.next;var n=Me===null?Rt.memoizedState:Me.next;if(n!==null)Me=n,re=e;else{if(e===null)throw Rt.alternate===null?Error(a(467)):Error(a(310));re=e,e={memoizedState:re.memoizedState,baseState:re.baseState,baseQueue:re.baseQueue,queue:re.queue,next:null},Me===null?Rt.memoizedState=Me=e:Me=Me.next=e}return Me}function ju(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $o(e){var n=Xo;return Xo+=1,Na===null&&(Na=[]),e=Fg(Na,e,n),n=Rt,(Me===null?n.memoizedState:Me.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Up:Cf),e}function Bu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return $o(e);if(e.$$typeof===gt)return $e(e)}throw Error(a(438,String(e)))}function pf(e){var n=null,s=Rt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Rt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=ju(),Rt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=M;return n.index++,s}function Ji(e,n){return typeof n=="function"?n(e):n}function qu(e){var n=Re();return yf(n,re,e)}function yf(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,I=null,z=n,G=!1;do{var Y=z.lane&-536870913;if(Y!==z.lane?(Vt&Y)===Y:(Zi&Y)===Y){var j=z.revertLane;if(j===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Y===Sa&&(G=!0);else if((Zi&j)===j){z=z.next,j===Sa&&(G=!0);continue}else Y={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=Y,g=f):I=I.next=Y,Rt.lanes|=j,zs|=j;Y=z.action,qr&&s(f,Y),f=z.hasEagerState?z.eagerState:s(f,Y)}else j={lane:Y,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=j,g=f):I=I.next=j,Rt.lanes|=Y,zs|=Y;z=z.next}while(z!==null&&z!==n);if(I===null?g=f:I.next=E,!An(f,e.memoizedState)&&(Ve=!0,G&&(s=wa,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=I,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function _f(e){var n=Re(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);An(f,n.memoizedState)||(Ve=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function np(e,n,s){var o=Rt,h=Re(),f=jt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!An((re||h).memoizedState,s);if(g&&(h.memoizedState=s,Ve=!0),h=h.queue,Tf(rp.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Me!==null&&Me.memoizedState.tag&1){if(o.flags|=2048,Da(9,{destroy:void 0},sp.bind(null,o,h,s,n),null),ce===null)throw Error(a(349));f||(Zi&127)!==0||ip(o,n,s)}return s}function ip(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Rt.updateQueue,n===null?(n=ju(),Rt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function sp(e,n,s,o){n.value=s,n.getSnapshot=o,ap(n)&&op(e)}function rp(e,n,s){return s(function(){ap(n)&&op(e)})}function ap(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!An(e,s)}catch{return!0}}function op(e){var n=Mr(e,2);n!==null&&_n(n,e,2)}function vf(e){var n=cn();if(typeof e=="function"){var s=e;if(e=s(),qr){On(!0);try{s()}finally{On(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:e},n}function lp(e,n,s,o){return e.baseState=s,yf(e,re,typeof o=="function"?o:Ji)}function y1(e,n,s,o,h){if(Fu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};H.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,up(n,f)):(f.next=s.next,n.pending=s.next=f)}}function up(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=H.T,g={};H.T=g;try{var E=s(h,o),I=H.S;I!==null&&I(g,E),cp(e,n,E)}catch(z){Ef(e,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),H.T=f}}else try{f=s(h,o),cp(e,n,f)}catch(z){Ef(e,n,z)}}function cp(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){hp(e,n,o)},function(o){return Ef(e,n,o)}):hp(e,n,s)}function hp(e,n,s){n.status="fulfilled",n.value=s,fp(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,up(e,s)))}function Ef(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,fp(n),n=n.next;while(n!==o)}e.action=null}function fp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function dp(e,n){return n}function mp(e,n){if(jt){var s=ce.formState;if(s!==null){t:{var o=Rt;if(jt){if(fe){e:{for(var h=fe,f=Bn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Hn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){fe=Hn(h.nextSibling),o=h.data==="F!";break t}}Ns(o)}o=!1}o&&(n=s[0])}}return s=cn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dp,lastRenderedState:n},s.queue=o,s=Mp.bind(null,Rt,o),o.dispatch=s,o=vf(!1),f=Rf.bind(null,Rt,!1,o.queue),o=cn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=y1.bind(null,Rt,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function gp(e){var n=Re();return pp(n,re,e)}function pp(e,n,s){if(n=yf(e,n,dp)[0],e=qu(Ji)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=$o(n)}catch(g){throw g===Ra?Ou:g}else o=n;n=Re();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Rt.flags|=2048,Da(9,{destroy:void 0},_1.bind(null,h,s),null)),[o,f,e]}function _1(e,n){e.action=n}function yp(e){var n=Re(),s=re;if(s!==null)return pp(n,s,e);Re(),n=n.memoizedState,s=Re();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Da(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=Rt.updateQueue,n===null&&(n=ju(),Rt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function _p(){return Re().memoizedState}function Hu(e,n,s,o){var h=cn();Rt.flags|=e,h.memoizedState=Da(1|n,{destroy:void 0},s,o===void 0?null:o)}function Gu(e,n,s,o){var h=Re();o=o===void 0?null:o;var f=h.memoizedState.inst;re!==null&&o!==null&&hf(o,re.memoizedState.deps)?h.memoizedState=Da(n,f,s,o):(Rt.flags|=e,h.memoizedState=Da(1|n,f,s,o))}function vp(e,n){Hu(8390656,8,e,n)}function Tf(e,n){Gu(2048,8,e,n)}function v1(e){Rt.flags|=4;var n=Rt.updateQueue;if(n===null)n=ju(),Rt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function Ep(e){var n=Re().memoizedState;return v1({ref:n,nextImpl:e}),function(){if((Zt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Tp(e,n){return Gu(4,2,e,n)}function bp(e,n){return Gu(4,4,e,n)}function Ap(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Sp(e,n,s){s=s!=null?s.concat([e]):null,Gu(4,4,Ap.bind(null,n,e),s)}function bf(){}function wp(e,n){var s=Re();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&hf(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function Rp(e,n){var s=Re();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&hf(n,o[1]))return o[0];if(o=e(),qr){On(!0);try{e()}finally{On(!1)}}return s.memoizedState=[o,n],o}function Af(e,n,s){return s===void 0||(Zi&1073741824)!==0&&(Vt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Cy(),Rt.lanes|=e,zs|=e,s)}function Cp(e,n,s,o){return An(s,n)?s:Ia.current!==null?(e=Af(e,s,o),An(e,n)||(Ve=!0),e):(Zi&42)===0||(Zi&1073741824)!==0&&(Vt&261930)===0?(Ve=!0,e.memoizedState=s):(e=Cy(),Rt.lanes|=e,zs|=e,n)}function Ip(e,n,s,o,h){var f=st.p;st.p=f!==0&&8>f?f:8;var g=H.T,E={};H.T=E,Rf(e,!1,n,s);try{var I=h(),z=H.S;if(z!==null&&z(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var G=m1(I,o);Zo(e,n,G,xn(e))}else Zo(e,n,o,xn(e))}catch(Y){Zo(e,n,{then:function(){},status:"rejected",reason:Y},xn())}finally{st.p=f,g!==null&&E.types!==null&&(g.types=E.types),H.T=g}}function E1(){}function Sf(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=xp(e).queue;Ip(e,h,n,ft,s===null?E1:function(){return Np(e),s(o)})}function xp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:ft},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Np(e){var n=xp(e);n.next===null&&(n=e.alternate.memoizedState),Zo(e,n.next.queue,{},xn())}function wf(){return $e(ml)}function Dp(){return Re().memoizedState}function Op(){return Re().memoizedState}function T1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=xn();e=Ms(s);var o=Vs(n,e,s);o!==null&&(_n(o,n,s),Qo(o,n,s)),n={cache:Wh()},e.payload=n;return}n=n.return}}function b1(e,n,s){var o=xn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Fu(e)?Vp(n,s):(s=qh(e,n,s,o),s!==null&&(_n(s,e,o),kp(s,n,o)))}function Mp(e,n,s){var o=xn();Zo(e,n,s,o)}function Zo(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Fu(e))Vp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(h.hasEagerState=!0,h.eagerState=E,An(E,g))return wu(e,n,h,0),ce===null&&Su(),!1}catch{}if(s=qh(e,n,h,o),s!==null)return _n(s,e,o),kp(s,n,o),!0}return!1}function Rf(e,n,s,o){if(o={lane:2,revertLane:sd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Fu(e)){if(n)throw Error(a(479))}else n=qh(e,s,o,2),n!==null&&_n(n,e,2)}function Fu(e){var n=e.alternate;return e===Rt||n!==null&&n===Rt}function Vp(e,n){xa=Pu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function kp(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,vo(e,s)}}var Jo={readContext:$e,use:Bu,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useLayoutEffect:Ee,useInsertionEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useSyncExternalStore:Ee,useId:Ee,useHostTransitionStatus:Ee,useFormState:Ee,useActionState:Ee,useOptimistic:Ee,useMemoCache:Ee,useCacheRefresh:Ee};Jo.useEffectEvent=Ee;var Up={readContext:$e,use:Bu,useCallback:function(e,n){return cn().memoizedState=[e,n===void 0?null:n],e},useContext:$e,useEffect:vp,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Hu(4194308,4,Ap.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Hu(4194308,4,e,n)},useInsertionEffect:function(e,n){Hu(4,2,e,n)},useMemo:function(e,n){var s=cn();n=n===void 0?null:n;var o=e();if(qr){On(!0);try{e()}finally{On(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=cn();if(s!==void 0){var h=s(n);if(qr){On(!0);try{s(n)}finally{On(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=b1.bind(null,Rt,e),[o.memoizedState,e]},useRef:function(e){var n=cn();return e={current:e},n.memoizedState=e},useState:function(e){e=vf(e);var n=e.queue,s=Mp.bind(null,Rt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:bf,useDeferredValue:function(e,n){var s=cn();return Af(s,e,n)},useTransition:function(){var e=vf(!1);return e=Ip.bind(null,Rt,e.queue,!0,!1),cn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=Rt,h=cn();if(jt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),ce===null)throw Error(a(349));(Vt&127)!==0||ip(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,vp(rp.bind(null,o,f,e),[e]),o.flags|=2048,Da(9,{destroy:void 0},sp.bind(null,o,f,s,n),null),s},useId:function(){var e=cn(),n=ce.identifierPrefix;if(jt){var s=xi,o=Ii;s=(o&~(1<<32-Ae(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=zu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=g1++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:wf,useFormState:mp,useActionState:mp,useOptimistic:function(e){var n=cn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Rf.bind(null,Rt,!0,s),s.dispatch=n,[e,n]},useMemoCache:pf,useCacheRefresh:function(){return cn().memoizedState=T1.bind(null,Rt)},useEffectEvent:function(e){var n=cn(),s={impl:e};return n.memoizedState=s,function(){if((Zt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Cf={readContext:$e,use:Bu,useCallback:wp,useContext:$e,useEffect:Tf,useImperativeHandle:Sp,useInsertionEffect:Tp,useLayoutEffect:bp,useMemo:Rp,useReducer:qu,useRef:_p,useState:function(){return qu(Ji)},useDebugValue:bf,useDeferredValue:function(e,n){var s=Re();return Cp(s,re.memoizedState,e,n)},useTransition:function(){var e=qu(Ji)[0],n=Re().memoizedState;return[typeof e=="boolean"?e:$o(e),n]},useSyncExternalStore:np,useId:Dp,useHostTransitionStatus:wf,useFormState:gp,useActionState:gp,useOptimistic:function(e,n){var s=Re();return lp(s,re,e,n)},useMemoCache:pf,useCacheRefresh:Op};Cf.useEffectEvent=Ep;var Lp={readContext:$e,use:Bu,useCallback:wp,useContext:$e,useEffect:Tf,useImperativeHandle:Sp,useInsertionEffect:Tp,useLayoutEffect:bp,useMemo:Rp,useReducer:_f,useRef:_p,useState:function(){return _f(Ji)},useDebugValue:bf,useDeferredValue:function(e,n){var s=Re();return re===null?Af(s,e,n):Cp(s,re.memoizedState,e,n)},useTransition:function(){var e=_f(Ji)[0],n=Re().memoizedState;return[typeof e=="boolean"?e:$o(e),n]},useSyncExternalStore:np,useId:Dp,useHostTransitionStatus:wf,useFormState:yp,useActionState:yp,useOptimistic:function(e,n){var s=Re();return re!==null?lp(s,re,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:pf,useCacheRefresh:Op};Lp.useEffectEvent=Ep;function If(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:w({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var xf={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=xn(),h=Ms(o);h.payload=n,s!=null&&(h.callback=s),n=Vs(e,h,o),n!==null&&(_n(n,e,o),Qo(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=xn(),h=Ms(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Vs(e,h,o),n!==null&&(_n(n,e,o),Qo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=xn(),o=Ms(s);o.tag=2,n!=null&&(o.callback=n),n=Vs(e,o,s),n!==null&&(_n(n,e,s),Qo(n,e,s))}};function Pp(e,n,s,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Po(s,o)||!Po(h,f):!0}function zp(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&xf.enqueueReplaceState(n,n.state,null)}function Hr(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=w({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function jp(e){Au(e)}function Bp(e){console.error(e)}function qp(e){Au(e)}function Qu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Hp(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Nf(e,n,s){return s=Ms(s),s.tag=3,s.payload={element:null},s.callback=function(){Qu(e,n)},s}function Gp(e){return e=Ms(e),e.tag=3,e}function Fp(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Hp(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Hp(n,s,o),typeof h!="function"&&(js===null?js=new Set([this]):js.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function A1(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&Aa(n,s,h,!0),s=wn.current,s!==null){switch(s.tag){case 31:case 13:return qn===null?sc():s.alternate===null&&Te===0&&(Te=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Mu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),ed(e,o,h)),!1;case 22:return s.flags|=65536,o===Mu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),ed(e,o,h)),!1}throw Error(a(435,s.tag))}return ed(e,o,h),sc(),!1}if(jt)return n=wn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Yh&&(e=Error(a(422),{cause:o}),Bo(Pn(e,s)))):(o!==Yh&&(n=Error(a(423),{cause:o}),Bo(Pn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Pn(o,s),h=Nf(e.stateNode,o,h),af(e,h),Te!==4&&(Te=2)),!1;var f=Error(a(520),{cause:o});if(f=Pn(f,s),al===null?al=[f]:al.push(f),Te!==4&&(Te=2),n===null)return!0;o=Pn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Nf(s.stateNode,o,e),af(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(js===null||!js.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Gp(h),Fp(h,e,s,o),af(s,h),!1}s=s.return}while(s!==null);return!1}var Df=Error(a(461)),Ve=!1;function Ze(e,n,s,o){n.child=e===null?Xg(n,null,s,o):Br(n,e.child,s,o)}function Qp(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Lr(n),o=ff(e,n,s,g,f,h),E=df(),e!==null&&!Ve?(mf(e,n,h),Wi(e,n,h)):(jt&&E&&Qh(n),n.flags|=1,Ze(e,n,o,h),n.child)}function Kp(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!Hh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Yp(e,n,f,o,h)):(e=Cu(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!zf(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Po,s(g,o)&&e.ref===n.ref)return Wi(e,n,h)}return n.flags|=1,e=Ki(f,o),e.ref=n.ref,e.return=n,n.child=e}function Yp(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(Po(f,o)&&e.ref===n.ref)if(Ve=!1,n.pendingProps=o=f,zf(e,h))(e.flags&131072)!==0&&(Ve=!0);else return n.lanes=e.lanes,Wi(e,n,h)}return Of(e,n,s,o,h)}function Xp(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return $p(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Du(n,f!==null?f.cachePool:null),f!==null?Jg(n,f):lf(),Wg(n);else return o=n.lanes=536870912,$p(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Du(n,f.cachePool),Jg(n,f),Us(),n.memoizedState=null):(e!==null&&Du(n,null),lf(),Us());return Ze(e,n,h,s),n.child}function Wo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function $p(e,n,s,o,h){var f=ef();return f=f===null?null:{parent:Oe._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Du(n,null),lf(),Wg(n),e!==null&&Aa(e,n,o,!0),n.childLanes=h,null}function Ku(e,n){return n=Xu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Zp(e,n,s){return Br(n,e.child,null,s),e=Ku(n,n.pendingProps),e.flags|=2,Rn(n),n.memoizedState=null,e}function S1(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(jt){if(o.mode==="hidden")return e=Ku(n,o),n.lanes=536870912,Wo(null,e);if(cf(n),(e=fe)?(e=u_(e,Bn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Is!==null?{id:Ii,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},s=Vg(e),s.return=n,n.child=s,Xe=n,fe=null)):e=null,e===null)throw Ns(n);return n.lanes=536870912,null}return Ku(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(cf(n),h)if(n.flags&256)n.flags&=-257,n=Zp(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ve||Aa(e,n,s,!1),h=(s&e.childLanes)!==0,Ve||h){if(o=ce,o!==null&&(g=Eo(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,Mr(e,g),_n(o,e,g),Df;sc(),n=Zp(e,n,s)}else e=f.treeContext,fe=Hn(g.nextSibling),Xe=n,jt=!0,xs=null,Bn=!1,e!==null&&Lg(n,e),n=Ku(n,o),n.flags|=4096;return n}return e=Ki(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Yu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Of(e,n,s,o,h){return Lr(n),s=ff(e,n,s,o,void 0,h),o=df(),e!==null&&!Ve?(mf(e,n,h),Wi(e,n,h)):(jt&&o&&Qh(n),n.flags|=1,Ze(e,n,s,h),n.child)}function Jp(e,n,s,o,h,f){return Lr(n),n.updateQueue=null,s=ep(n,o,s,h),tp(e),o=df(),e!==null&&!Ve?(mf(e,n,f),Wi(e,n,f)):(jt&&o&&Qh(n),n.flags|=1,Ze(e,n,s,f),n.child)}function Wp(e,n,s,o,h){if(Lr(n),n.stateNode===null){var f=va,g=s.contextType;typeof g=="object"&&g!==null&&(f=$e(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=xf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},sf(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?$e(g):va,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(If(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&xf.enqueueReplaceState(f,f.state,null),Yo(n,o,f,h),Ko(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,I=Hr(s,E);f.props=I;var z=f.context,G=s.contextType;g=va,typeof G=="object"&&G!==null&&(g=$e(G));var Y=s.getDerivedStateFromProps;G=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&zp(n,f,o,g),Os=!1;var j=n.memoizedState;f.state=j,Yo(n,o,f,h),Ko(),z=n.memoizedState,E||j!==z||Os?(typeof Y=="function"&&(If(n,s,Y,o),z=n.memoizedState),(I=Os||Pp(n,s,I,o,j,z,g))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=g,o=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,rf(e,n),g=n.memoizedProps,G=Hr(s,g),f.props=G,Y=n.pendingProps,j=f.context,z=s.contextType,I=va,typeof z=="object"&&z!==null&&(I=$e(z)),E=s.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Y||j!==I)&&zp(n,f,o,I),Os=!1,j=n.memoizedState,f.state=j,Yo(n,o,f,h),Ko();var q=n.memoizedState;g!==Y||j!==q||Os||e!==null&&e.dependencies!==null&&xu(e.dependencies)?(typeof E=="function"&&(If(n,s,E,o),q=n.memoizedState),(G=Os||Pp(n,s,G,o,j,q,I)||e!==null&&e.dependencies!==null&&xu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=I,o=G):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Yu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Br(n,e.child,null,h),n.child=Br(n,null,s,h)):Ze(e,n,s,h),n.memoizedState=f.state,e=n.child):e=Wi(e,n,h),e}function ty(e,n,s,o){return kr(),n.flags|=256,Ze(e,n,s,o),n.child}var Mf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vf(e){return{baseLanes:e,cachePool:Hg()}}function kf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=In),e}function ey(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(we.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(jt){if(h?ks(n):Us(),(e=fe)?(e=u_(e,Bn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Is!==null?{id:Ii,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},s=Vg(e),s.return=n,n.child=s,Xe=n,fe=null)):e=null,e===null)throw Ns(n);return yd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Us(),h=n.mode,E=Xu({mode:"hidden",children:E},h),o=Vr(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Vf(s),o.childLanes=kf(e,g,s),n.memoizedState=Mf,Wo(null,o)):(ks(n),Uf(n,E))}var I=e.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(ks(n),n.flags&=-257,n=Lf(e,n,s)):n.memoizedState!==null?(Us(),n.child=e.child,n.flags|=128,n=null):(Us(),E=o.fallback,h=n.mode,o=Xu({mode:"visible",children:o.children},h),E=Vr(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Br(n,e.child,null,s),o=n.child,o.memoizedState=Vf(s),o.childLanes=kf(e,g,s),n.memoizedState=Mf,n=Wo(null,o));else if(ks(n),yd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,o=Error(a(419)),o.stack="",o.digest=g,Bo({value:o,source:null,stack:null}),n=Lf(e,n,s)}else if(Ve||Aa(e,n,s,!1),g=(s&e.childLanes)!==0,Ve||g){if(g=ce,g!==null&&(o=Eo(g,s),o!==0&&o!==I.retryLane))throw I.retryLane=o,Mr(e,o),_n(g,e,o),Df;pd(E)||sc(),n=Lf(e,n,s)}else pd(E)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,fe=Hn(E.nextSibling),Xe=n,jt=!0,xs=null,Bn=!1,e!==null&&Lg(n,e),n=Uf(n,o.children),n.flags|=4096);return n}return h?(Us(),E=o.fallback,h=n.mode,I=e.child,z=I.sibling,o=Ki(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,z!==null?E=Ki(z,E):(E=Vr(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Wo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Vf(s):(h=E.cachePool,h!==null?(I=Oe._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Hg(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=kf(e,g,s),n.memoizedState=Mf,Wo(e.child,o)):(ks(n),s=e.child,e=s.sibling,s=Ki(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function Uf(e,n){return n=Xu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Xu(e,n){return e=Sn(22,e,null,n),e.lanes=0,e}function Lf(e,n,s){return Br(n,e.child,null,s),e=Uf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ny(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Zh(e.return,n,s)}function Pf(e,n,s,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function iy(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=we.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,rt(we,g),Ze(e,n,o,s),o=jt?jo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ny(e,s,n);else if(e.tag===19)ny(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Lu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Pf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Lu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Pf(n,!0,s,null,f,o);break;case"together":Pf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Wi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),zs|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(Aa(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Ki(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Ki(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function zf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&xu(e)))}function w1(e,n,s){switch(n.tag){case 3:ht(n,n.stateNode.containerInfo),Ds(n,Oe,e.memoizedState.cache),kr();break;case 27:case 5:Ot(n);break;case 4:ht(n,n.stateNode.containerInfo);break;case 10:Ds(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,cf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(ks(n),n.flags|=128,null):(s&n.child.childLanes)!==0?ey(e,n,s):(ks(n),e=Wi(e,n,s),e!==null?e.sibling:null);ks(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(Aa(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return iy(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),rt(we,we.current),o)break;return null;case 22:return n.lanes=0,Xp(e,n,s,n.pendingProps);case 24:Ds(n,Oe,e.memoizedState.cache)}return Wi(e,n,s)}function sy(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ve=!0;else{if(!zf(e,s)&&(n.flags&128)===0)return Ve=!1,w1(e,n,s);Ve=(e.flags&131072)!==0}else Ve=!1,jt&&(n.flags&1048576)!==0&&Ug(n,jo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=zr(n.elementType),n.type=e,typeof e=="function")Hh(e)?(o=Hr(e,o),n.tag=1,n=Wp(null,n,e,o,s)):(n.tag=0,n=Of(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===Jt){n.tag=11,n=Qp(null,n,e,o,s);break t}else if(h===x){n.tag=14,n=Kp(null,n,e,o,s);break t}}throw n=le(e)||e,Error(a(306,n,""))}}return n;case 0:return Of(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Hr(o,n.pendingProps),Wp(e,n,o,h,s);case 3:t:{if(ht(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,rf(e,n),Yo(n,o,null,s);var g=n.memoizedState;if(o=g.cache,Ds(n,Oe,o),o!==f.cache&&Jh(n,[Oe],s,!0),Ko(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ty(e,n,o,s);break t}else if(o!==h){h=Pn(Error(a(424)),n),Bo(h),n=ty(e,n,o,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,fe=Hn(e.firstChild),Xe=n,jt=!0,xs=null,Bn=!0,s=Xg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(kr(),o===h){n=Wi(e,n,s);break t}Ze(e,n,o,s)}n=n.child}return n;case 26:return Yu(e,n),e===null?(s=g_(n.type,null,n.pendingProps,null))?n.memoizedState=s:jt||(s=n.type,e=n.pendingProps,o=hc(J.current).createElement(s),o[xe]=n,o[He]=e,Je(o,s,e),Ne(o),n.stateNode=o):n.memoizedState=g_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Ot(n),e===null&&jt&&(o=n.stateNode=f_(n.type,n.pendingProps,J.current),Xe=n,Bn=!0,h=fe,Gs(n.type)?(_d=h,fe=Hn(o.firstChild)):fe=h),Ze(e,n,n.pendingProps.children,s),Yu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&jt&&((h=o=fe)&&(o=eb(o,n.type,n.pendingProps,Bn),o!==null?(n.stateNode=o,Xe=n,fe=Hn(o.firstChild),Bn=!1,h=!0):h=!1),h||Ns(n)),Ot(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,dd(h,f)?o=null:g!==null&&dd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=ff(e,n,p1,null,null,s),ml._currentValue=h),Yu(e,n),Ze(e,n,o,s),n.child;case 6:return e===null&&jt&&((e=s=fe)&&(s=nb(s,n.pendingProps,Bn),s!==null?(n.stateNode=s,Xe=n,fe=null,e=!0):e=!1),e||Ns(n)),null;case 13:return ey(e,n,s);case 4:return ht(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Br(n,null,o,s):Ze(e,n,o,s),n.child;case 11:return Qp(e,n,n.type,n.pendingProps,s);case 7:return Ze(e,n,n.pendingProps,s),n.child;case 8:return Ze(e,n,n.pendingProps.children,s),n.child;case 12:return Ze(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Ds(n,n.type,o.value),Ze(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Lr(n),h=$e(h),o=o(h),n.flags|=1,Ze(e,n,o,s),n.child;case 14:return Kp(e,n,n.type,n.pendingProps,s);case 15:return Yp(e,n,n.type,n.pendingProps,s);case 19:return iy(e,n,s);case 31:return S1(e,n,s);case 22:return Xp(e,n,s,n.pendingProps);case 24:return Lr(n),o=$e(Oe),e===null?(h=ef(),h===null&&(h=ce,f=Wh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},sf(n),Ds(n,Oe,h)):((e.lanes&s)!==0&&(rf(e,n),Yo(n,null,null,s),Ko()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ds(n,Oe,o)):(o=f.cache,Ds(n,Oe,o),o!==h.cache&&Jh(n,[Oe],s,!0))),Ze(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function ts(e){e.flags|=4}function jf(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Dy())e.flags|=8192;else throw jr=Mu,nf}else e.flags&=-16777217}function ry(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!E_(n))if(Dy())e.flags|=8192;else throw jr=Mu,nf}function $u(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?nu():536870912,e.lanes|=n,ka|=n)}function tl(e,n){if(!jt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function de(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function R1(e,n,s){var o=n.pendingProps;switch(Kh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return de(n),null;case 1:return de(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),$i(Oe),xt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ba(n)?ts(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Xh())),de(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(ts(n),f!==null?(de(n),ry(n,f)):(de(n),jf(n,h,null,o,s))):f?f!==e.memoizedState?(ts(n),de(n),ry(n,f)):(de(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&ts(n),de(n),jf(n,h,e,o,s)),null;case 27:if(Gt(n),s=J.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ts(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return de(n),null}e=at.current,ba(n)?Pg(n):(e=f_(h,o,s),n.stateNode=e,ts(n))}return de(n),null;case 5:if(Gt(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ts(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return de(n),null}if(f=at.current,ba(n))Pg(n);else{var g=hc(J.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[xe]=n,f[He]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Je(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&ts(n)}}return de(n),jf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&ts(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=J.current,ba(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=Xe,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[xe]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||e_(e.nodeValue,s)),e||Ns(n,!0)}else e=hc(e).createTextNode(o),e[xe]=n,n.stateNode=e}return de(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=ba(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[xe]=n}else kr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;de(n),e=!1}else s=Xh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(Rn(n),n):(Rn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return de(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ba(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[xe]=n}else kr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;de(n),h=!1}else h=Xh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Rn(n),n):(Rn(n),null)}return Rn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),$u(n,n.updateQueue),de(n),null);case 4:return xt(),e===null&&ld(n.stateNode.containerInfo),de(n),null;case 10:return $i(n.type),de(n),null;case 19:if(K(we),o=n.memoizedState,o===null)return de(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)tl(o,!1);else{if(Te!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Lu(e),f!==null){for(n.flags|=128,tl(o,!1),e=f.updateQueue,n.updateQueue=e,$u(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Mg(s,e),s=s.sibling;return rt(we,we.current&1|2),jt&&Yi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&qe()>ec&&(n.flags|=128,h=!0,tl(o,!1),n.lanes=4194304)}else{if(!h)if(e=Lu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,$u(n,e),tl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!jt)return de(n),null}else 2*qe()-o.renderingStartTime>ec&&s!==536870912&&(n.flags|=128,h=!0,tl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=qe(),e.sibling=null,s=we.current,rt(we,h?s&1|2:s&1),jt&&Yi(n,o.treeForkCount),e):(de(n),null);case 22:case 23:return Rn(n),uf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(de(n),n.subtreeFlags&6&&(n.flags|=8192)):de(n),s=n.updateQueue,s!==null&&$u(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&K(Pr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),$i(Oe),de(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function C1(e,n){switch(Kh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return $i(Oe),xt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Gt(n),null;case 31:if(n.memoizedState!==null){if(Rn(n),n.alternate===null)throw Error(a(340));kr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Rn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));kr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(we),null;case 4:return xt(),null;case 10:return $i(n.type),null;case 22:case 23:return Rn(n),uf(),e!==null&&K(Pr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return $i(Oe),null;case 25:return null;default:return null}}function ay(e,n){switch(Kh(n),n.tag){case 3:$i(Oe),xt();break;case 26:case 27:case 5:Gt(n);break;case 4:xt();break;case 31:n.memoizedState!==null&&Rn(n);break;case 13:Rn(n);break;case 19:K(we);break;case 10:$i(n.type);break;case 22:case 23:Rn(n),uf(),e!==null&&K(Pr);break;case 24:$i(Oe)}}function el(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==h)}}catch(E){ne(n,n.return,E)}}function Ls(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var I=s,z=E;try{z()}catch(G){ne(h,I,G)}}}o=o.next}while(o!==f)}}catch(G){ne(n,n.return,G)}}function oy(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Zg(n,s)}catch(o){ne(e,e.return,o)}}}function ly(e,n,s){s.props=Hr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){ne(e,n,o)}}function nl(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){ne(e,n,h)}}function Ni(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){ne(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){ne(e,n,h)}else s.current=null}function uy(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){ne(e,e.return,h)}}function Bf(e,n,s){try{var o=e.stateNode;X1(o,e.type,s,n),o[He]=n}catch(h){ne(e,e.return,h)}}function cy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Gs(e.type)||e.tag===4}function qf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||cy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Gs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=ti));else if(o!==4&&(o===27&&Gs(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Hf(e,n,s),e=e.sibling;e!==null;)Hf(e,n,s),e=e.sibling}function Zu(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Gs(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Zu(e,n,s),e=e.sibling;e!==null;)Zu(e,n,s),e=e.sibling}function hy(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Je(n,o,s),n[xe]=e,n[He]=s}catch(f){ne(e,e.return,f)}}var es=!1,ke=!1,Gf=!1,fy=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function I1(e,n){if(e=e.containerInfo,hd=_c,e=Sg(e),Uh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,I=-1,z=0,G=0,Y=e,j=null;e:for(;;){for(var q;Y!==s||h!==0&&Y.nodeType!==3||(E=g+h),Y!==f||o!==0&&Y.nodeType!==3||(I=g+o),Y.nodeType===3&&(g+=Y.nodeValue.length),(q=Y.firstChild)!==null;)j=Y,Y=q;for(;;){if(Y===e)break e;if(j===s&&++z===h&&(E=g),j===f&&++G===o&&(I=g),(q=Y.nextSibling)!==null)break;Y=j,j=Y.parentNode}Y=q}s=E===-1||I===-1?null:{start:E,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(fd={focusedElem:e,selectionRange:s},_c=!1,Fe=n;Fe!==null;)if(n=Fe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Fe=e;else for(;Fe!==null;){switch(n=Fe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var lt=Hr(s.type,h);e=o.getSnapshotBeforeUpdate(lt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(_t){ne(s,s.return,_t)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)gd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":gd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Fe=e;break}Fe=n.return}}function dy(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:is(e,s),o&4&&el(5,s);break;case 1:if(is(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){ne(s,s.return,g)}else{var h=Hr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){ne(s,s.return,g)}}o&64&&oy(s),o&512&&nl(s,s.return);break;case 3:if(is(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Zg(e,n)}catch(g){ne(s,s.return,g)}}break;case 27:n===null&&o&4&&hy(s);case 26:case 5:is(e,s),n===null&&o&4&&uy(s),o&512&&nl(s,s.return);break;case 12:is(e,s);break;case 31:is(e,s),o&4&&py(e,s);break;case 13:is(e,s),o&4&&yy(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=L1.bind(null,s),ib(e,s))));break;case 22:if(o=s.memoizedState!==null||es,!o){n=n!==null&&n.memoizedState!==null||ke,h=es;var f=ke;es=o,(ke=n)&&!f?ss(e,s,(s.subtreeFlags&8772)!==0):is(e,s),es=h,ke=f}break;case 30:break;default:is(e,s)}}function my(e){var n=e.alternate;n!==null&&(e.alternate=null,my(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ra(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var pe=null,mn=!1;function ns(e,n,s){for(s=s.child;s!==null;)gy(e,n,s),s=s.sibling}function gy(e,n,s){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount($n,s)}catch{}switch(s.tag){case 26:ke||Ni(s,n),ns(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:ke||Ni(s,n);var o=pe,h=mn;Gs(s.type)&&(pe=s.stateNode,mn=!1),ns(e,n,s),hl(s.stateNode),pe=o,mn=h;break;case 5:ke||Ni(s,n);case 6:if(o=pe,h=mn,pe=null,ns(e,n,s),pe=o,mn=h,pe!==null)if(mn)try{(pe.nodeType===9?pe.body:pe.nodeName==="HTML"?pe.ownerDocument.body:pe).removeChild(s.stateNode)}catch(f){ne(s,n,f)}else try{pe.removeChild(s.stateNode)}catch(f){ne(s,n,f)}break;case 18:pe!==null&&(mn?(e=pe,o_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Ha(e)):o_(pe,s.stateNode));break;case 4:o=pe,h=mn,pe=s.stateNode.containerInfo,mn=!0,ns(e,n,s),pe=o,mn=h;break;case 0:case 11:case 14:case 15:Ls(2,s,n),ke||Ls(4,s,n),ns(e,n,s);break;case 1:ke||(Ni(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&ly(s,n,o)),ns(e,n,s);break;case 21:ns(e,n,s);break;case 22:ke=(o=ke)||s.memoizedState!==null,ns(e,n,s),ke=o;break;default:ns(e,n,s)}}function py(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ha(e)}catch(s){ne(n,n.return,s)}}}function yy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ha(e)}catch(s){ne(n,n.return,s)}}function x1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new fy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new fy),n;default:throw Error(a(435,e.tag))}}function Ju(e,n){var s=x1(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=P1.bind(null,e,o);o.then(h,h)}})}function gn(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Gs(E.type)){pe=E.stateNode,mn=!1;break t}break;case 5:pe=E.stateNode,mn=!1;break t;case 3:case 4:pe=E.stateNode.containerInfo,mn=!0;break t}E=E.return}if(pe===null)throw Error(a(160));gy(f,g,h),pe=null,mn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)_y(n,e),n=n.sibling}var ai=null;function _y(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:gn(n,e),pn(e),o&4&&(Ls(3,e,e.return),el(3,e),Ls(5,e,e.return));break;case 1:gn(n,e),pn(e),o&512&&(ke||s===null||Ni(s,s.return)),o&64&&es&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=ai;if(gn(n,e),pn(e),o&512&&(ke||s===null||Ni(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[pi]||f[xe]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Je(f,o,s),f[xe]=e,Ne(f),o=f;break t;case"link":var g=__("link","href",h).get(o+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),Je(f,o,s),h.head.appendChild(f);break;case"meta":if(g=__("meta","content",h).get(o+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=h.createElement(o),Je(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[xe]=e,Ne(f),o=f}e.stateNode=o}else v_(h,e.type,e.stateNode);else e.stateNode=y_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?v_(h,e.type,e.stateNode):y_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Bf(e,e.memoizedProps,s.memoizedProps)}break;case 27:gn(n,e),pn(e),o&512&&(ke||s===null||Ni(s,s.return)),s!==null&&o&4&&Bf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(gn(n,e),pn(e),o&512&&(ke||s===null||Ni(s,s.return)),e.flags&32){h=e.stateNode;try{dn(h,"")}catch(lt){ne(e,e.return,lt)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Bf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(Gf=!0);break;case 6:if(gn(n,e),pn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(lt){ne(e,e.return,lt)}}break;case 3:if(mc=null,h=ai,ai=fc(n.containerInfo),gn(n,e),ai=h,pn(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Ha(n.containerInfo)}catch(lt){ne(e,e.return,lt)}Gf&&(Gf=!1,vy(e));break;case 4:o=ai,ai=fc(e.stateNode.containerInfo),gn(n,e),pn(e),ai=o;break;case 12:gn(n,e),pn(e);break;case 31:gn(n,e),pn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ju(e,o)));break;case 13:gn(n,e),pn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(tc=qe()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ju(e,o)));break;case 22:h=e.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,z=es,G=ke;if(es=z||h,ke=G||I,gn(n,e),ke=G,es=z,pn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||I||es||ke||Gr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){I=s=n;try{if(f=I.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=I.stateNode;var Y=I.memoizedProps.style,j=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(lt){ne(I,I.return,lt)}}}else if(n.tag===6){if(s===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(lt){ne(I,I.return,lt)}}}else if(n.tag===18){if(s===null){I=n;try{var q=I.stateNode;h?l_(q,!0):l_(I.stateNode,!1)}catch(lt){ne(I,I.return,lt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Ju(e,s))));break;case 19:gn(n,e),pn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ju(e,o)));break;case 30:break;case 21:break;default:gn(n,e),pn(e)}}function pn(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(cy(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=qf(e);Zu(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(dn(g,""),s.flags&=-33);var E=qf(e);Zu(e,E,g);break;case 3:case 4:var I=s.stateNode.containerInfo,z=qf(e);Hf(e,z,I);break;default:throw Error(a(161))}}catch(G){ne(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function vy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;vy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function is(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)dy(e,n.alternate,n),n=n.sibling}function Gr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ls(4,n,n.return),Gr(n);break;case 1:Ni(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&ly(n,n.return,s),Gr(n);break;case 27:hl(n.stateNode);case 26:case 5:Ni(n,n.return),Gr(n);break;case 22:n.memoizedState===null&&Gr(n);break;case 30:Gr(n);break;default:Gr(n)}e=e.sibling}}function ss(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:ss(h,f,s),el(4,f);break;case 1:if(ss(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){ne(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)$g(I[h],E)}catch(z){ne(o,o.return,z)}}s&&g&64&&oy(f),nl(f,f.return);break;case 27:hy(f);case 26:case 5:ss(h,f,s),s&&o===null&&g&4&&uy(f),nl(f,f.return);break;case 12:ss(h,f,s);break;case 31:ss(h,f,s),s&&g&4&&py(h,f);break;case 13:ss(h,f,s),s&&g&4&&yy(h,f);break;case 22:f.memoizedState===null&&ss(h,f,s),nl(f,f.return);break;case 30:break;default:ss(h,f,s)}n=n.sibling}}function Ff(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&qo(s))}function Qf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&qo(e))}function oi(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ey(e,n,s,o),n=n.sibling}function Ey(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:oi(e,n,s,o),h&2048&&el(9,n);break;case 1:oi(e,n,s,o);break;case 3:oi(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&qo(e)));break;case 12:if(h&2048){oi(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){ne(n,n.return,I)}}else oi(e,n,s,o);break;case 31:oi(e,n,s,o);break;case 13:oi(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?oi(e,n,s,o):il(e,n):f._visibility&2?oi(e,n,s,o):(f._visibility|=2,Oa(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Ff(g,n);break;case 24:oi(e,n,s,o),h&2048&&Qf(n.alternate,n);break;default:oi(e,n,s,o)}}function Oa(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=s,I=o,z=g.flags;switch(g.tag){case 0:case 11:case 15:Oa(f,g,E,I,h),el(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?Oa(f,g,E,I,h):il(f,g):(G._visibility|=2,Oa(f,g,E,I,h)),h&&z&2048&&Ff(g.alternate,g);break;case 24:Oa(f,g,E,I,h),h&&z&2048&&Qf(g.alternate,g);break;default:Oa(f,g,E,I,h)}n=n.sibling}}function il(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:il(s,o),h&2048&&Ff(o.alternate,o);break;case 24:il(s,o),h&2048&&Qf(o.alternate,o);break;default:il(s,o)}n=n.sibling}}var sl=8192;function Ma(e,n,s){if(e.subtreeFlags&sl)for(e=e.child;e!==null;)Ty(e,n,s),e=e.sibling}function Ty(e,n,s){switch(e.tag){case 26:Ma(e,n,s),e.flags&sl&&e.memoizedState!==null&&gb(s,ai,e.memoizedState,e.memoizedProps);break;case 5:Ma(e,n,s);break;case 3:case 4:var o=ai;ai=fc(e.stateNode.containerInfo),Ma(e,n,s),ai=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=sl,sl=16777216,Ma(e,n,s),sl=o):Ma(e,n,s));break;default:Ma(e,n,s)}}function by(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function rl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Fe=o,Sy(o,e)}by(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ay(e),e=e.sibling}function Ay(e){switch(e.tag){case 0:case 11:case 15:rl(e),e.flags&2048&&Ls(9,e,e.return);break;case 3:rl(e);break;case 12:rl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Wu(e)):rl(e);break;default:rl(e)}}function Wu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Fe=o,Sy(o,e)}by(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ls(8,n,n.return),Wu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Wu(n));break;default:Wu(n)}e=e.sibling}}function Sy(e,n){for(;Fe!==null;){var s=Fe;switch(s.tag){case 0:case 11:case 15:Ls(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:qo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Fe=o;else t:for(s=e;Fe!==null;){o=Fe;var h=o.sibling,f=o.return;if(my(o),o===s){Fe=null;break t}if(h!==null){h.return=f,Fe=h;break t}Fe=f}}}var N1={getCacheForType:function(e){var n=$e(Oe),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return $e(Oe).controller.signal}},D1=typeof WeakMap=="function"?WeakMap:Map,Zt=0,ce=null,Nt=null,Vt=0,ee=0,Cn=null,Ps=!1,Va=!1,Kf=!1,rs=0,Te=0,zs=0,Fr=0,Yf=0,In=0,ka=0,al=null,yn=null,Xf=!1,tc=0,wy=0,ec=1/0,nc=null,js=null,ze=0,Bs=null,Ua=null,as=0,$f=0,Zf=null,Ry=null,ol=0,Jf=null;function xn(){return(Zt&2)!==0&&Vt!==0?Vt&-Vt:H.T!==null?sd():iu()}function Cy(){if(In===0)if((Vt&536870912)===0||jt){var e=_r;_r<<=1,(_r&3932160)===0&&(_r=262144),In=e}else In=536870912;return e=wn.current,e!==null&&(e.flags|=32),In}function _n(e,n,s){(e===ce&&(ee===2||ee===9)||e.cancelPendingCommit!==null)&&(La(e,0),qs(e,Vt,In,!1)),vr(e,s),((Zt&2)===0||e!==ce)&&(e===ce&&((Zt&2)===0&&(Fr|=s),Te===4&&qs(e,Vt,In,!1)),Di(e))}function Iy(e,n,s){if((Zt&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Zn(e,n),h=o?V1(e,n):td(e,n,!0),f=o;do{if(h===0){Va&&!o&&qs(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!O1(s)){h=td(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=al;var I=E.current.memoizedState.isDehydrated;if(I&&(La(E,g).flags|=256),g=td(E,g,!1),g!==2){if(Kf&&!I){E.errorRecoveryDisabledLanes|=f,Fr|=f,h=4;break t}f=yn,yn=h,f!==null&&(yn===null?yn=f:yn.push.apply(yn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){La(e,0),qs(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:qs(o,n,In,!Ps);break t;case 2:yn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=tc+300-qe(),10<h)){if(qs(o,n,In,!Ps),di(o,0,!0)!==0)break t;as=n,o.timeoutHandle=r_(xy.bind(null,o,s,yn,nc,Xf,n,In,Fr,ka,Ps,f,"Throttled",-0,0),h);break t}xy(o,s,yn,nc,Xf,n,In,Fr,ka,Ps,f,null,-0,0)}}break}while(!0);Di(e)}function xy(e,n,s,o,h,f,g,E,I,z,G,Y,j,q){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ti},Ty(n,f,Y);var lt=(f&62914560)===f?tc-qe():(f&4194048)===f?wy-qe():0;if(lt=pb(Y,lt),lt!==null){as=f,e.cancelPendingCommit=lt(Ly.bind(null,e,n,f,s,o,h,g,E,I,G,Y,null,j,q)),qs(e,f,g,!z);return}}Ly(e,n,f,s,o,h,g,E,I)}function O1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!An(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function qs(e,n,s,o){n&=~Yf,n&=~Fr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-Ae(h),g=1<<f;o[f]=-1,h&=~g}s!==0&&Er(e,s,n)}function ic(){return(Zt&6)===0?(ll(0),!1):!0}function Wf(){if(Nt!==null){if(ee===0)var e=Nt.return;else e=Nt,Xi=Ur=null,gf(e),Ca=null,Go=0,e=Nt;for(;e!==null;)ay(e.alternate,e),e=e.return;Nt=null}}function La(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,J1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),as=0,Wf(),ce=e,Nt=s=Ki(e.current,null),Vt=n,ee=0,Cn=null,Ps=!1,Va=Zn(e,n),Kf=!1,ka=In=Yf=Fr=zs=Te=0,yn=al=null,Xf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-Ae(o),f=1<<h;n|=e[h],o&=~f}return rs=n,Su(),s}function Ny(e,n){Rt=null,H.H=Jo,n===Ra||n===Ou?(n=Qg(),ee=3):n===nf?(n=Qg(),ee=4):ee=n===Df?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Cn=n,Nt===null&&(Te=1,Qu(e,Pn(n,e.current)))}function Dy(){var e=wn.current;return e===null?!0:(Vt&4194048)===Vt?qn===null:(Vt&62914560)===Vt||(Vt&536870912)!==0?e===qn:!1}function Oy(){var e=H.H;return H.H=Jo,e===null?Jo:e}function My(){var e=H.A;return H.A=N1,e}function sc(){Te=4,Ps||(Vt&4194048)!==Vt&&wn.current!==null||(Va=!0),(zs&134217727)===0&&(Fr&134217727)===0||ce===null||qs(ce,Vt,In,!1)}function td(e,n,s){var o=Zt;Zt|=2;var h=Oy(),f=My();(ce!==e||Vt!==n)&&(nc=null,La(e,n)),n=!1;var g=Te;t:do try{if(ee!==0&&Nt!==null){var E=Nt,I=Cn;switch(ee){case 8:Wf(),g=6;break t;case 3:case 2:case 9:case 6:wn.current===null&&(n=!0);var z=ee;if(ee=0,Cn=null,Pa(e,E,I,z),s&&Va){g=0;break t}break;default:z=ee,ee=0,Cn=null,Pa(e,E,I,z)}}M1(),g=Te;break}catch(G){Ny(e,G)}while(!0);return n&&e.shellSuspendCounter++,Xi=Ur=null,Zt=o,H.H=h,H.A=f,Nt===null&&(ce=null,Vt=0,Su()),g}function M1(){for(;Nt!==null;)Vy(Nt)}function V1(e,n){var s=Zt;Zt|=2;var o=Oy(),h=My();ce!==e||Vt!==n?(nc=null,ec=qe()+500,La(e,n)):Va=Zn(e,n);t:do try{if(ee!==0&&Nt!==null){n=Nt;var f=Cn;e:switch(ee){case 1:ee=0,Cn=null,Pa(e,n,f,1);break;case 2:case 9:if(Gg(f)){ee=0,Cn=null,ky(n);break}n=function(){ee!==2&&ee!==9||ce!==e||(ee=7),Di(e)},f.then(n,n);break t;case 3:ee=7;break t;case 4:ee=5;break t;case 7:Gg(f)?(ee=0,Cn=null,ky(n)):(ee=0,Cn=null,Pa(e,n,f,7));break;case 5:var g=null;switch(Nt.tag){case 26:g=Nt.memoizedState;case 5:case 27:var E=Nt;if(g?E_(g):E.stateNode.complete){ee=0,Cn=null;var I=E.sibling;if(I!==null)Nt=I;else{var z=E.return;z!==null?(Nt=z,rc(z)):Nt=null}break e}}ee=0,Cn=null,Pa(e,n,f,5);break;case 6:ee=0,Cn=null,Pa(e,n,f,6);break;case 8:Wf(),Te=6;break t;default:throw Error(a(462))}}k1();break}catch(G){Ny(e,G)}while(!0);return Xi=Ur=null,H.H=o,H.A=h,Zt=s,Nt!==null?0:(ce=null,Vt=0,Su(),Te)}function k1(){for(;Nt!==null&&!yr();)Vy(Nt)}function Vy(e){var n=sy(e.alternate,e,rs);e.memoizedProps=e.pendingProps,n===null?rc(e):Nt=n}function ky(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Jp(s,n,n.pendingProps,n.type,void 0,Vt);break;case 11:n=Jp(s,n,n.pendingProps,n.type.render,n.ref,Vt);break;case 5:gf(n);default:ay(s,n),n=Nt=Mg(n,rs),n=sy(s,n,rs)}e.memoizedProps=e.pendingProps,n===null?rc(e):Nt=n}function Pa(e,n,s,o){Xi=Ur=null,gf(n),Ca=null,Go=0;var h=n.return;try{if(A1(e,h,n,s,Vt)){Te=1,Qu(e,Pn(s,e.current)),Nt=null;return}}catch(f){if(h!==null)throw Nt=h,f;Te=1,Qu(e,Pn(s,e.current)),Nt=null;return}n.flags&32768?(jt||o===1?e=!0:Va||(Vt&536870912)!==0?e=!1:(Ps=e=!0,(o===2||o===9||o===3||o===6)&&(o=wn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Uy(n,e)):rc(n)}function rc(e){var n=e;do{if((n.flags&32768)!==0){Uy(n,Ps);return}e=n.return;var s=R1(n.alternate,n,rs);if(s!==null){Nt=s;return}if(n=n.sibling,n!==null){Nt=n;return}Nt=n=e}while(n!==null);Te===0&&(Te=5)}function Uy(e,n){do{var s=C1(e.alternate,e);if(s!==null){s.flags&=32767,Nt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Nt=e;return}Nt=e=s}while(e!==null);Te=6,Nt=null}function Ly(e,n,s,o,h,f,g,E,I){e.cancelPendingCommit=null;do ac();while(ze!==0);if((Zt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Bh,Oh(e,s,f,g,E,I),e===ce&&(Nt=ce=null,Vt=0),Ua=n,Bs=e,as=s,$f=f,Zf=h,Ry=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,z1(_s,function(){return qy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=st.p,st.p=2,g=Zt,Zt|=4;try{I1(e,n,s)}finally{Zt=g,st.p=h,H.T=o}}ze=1,Py(),zy(),jy()}}function Py(){if(ze===1){ze=0;var e=Bs,n=Ua,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=H.T,H.T=null;var o=st.p;st.p=2;var h=Zt;Zt|=4;try{_y(n,e);var f=fd,g=Sg(e.containerInfo),E=f.focusedElem,I=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Ag(E.ownerDocument.documentElement,E)){if(I!==null&&Uh(E)){var z=I.start,G=I.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var Y=E.ownerDocument||document,j=Y&&Y.defaultView||window;if(j.getSelection){var q=j.getSelection(),lt=E.textContent.length,_t=Math.min(I.start,lt),oe=I.end===void 0?_t:Math.min(I.end,lt);!q.extend&&_t>oe&&(g=oe,oe=_t,_t=g);var k=bg(E,_t),D=bg(E,oe);if(k&&D&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var P=Y.createRange();P.setStart(k.node,k.offset),q.removeAllRanges(),_t>oe?(q.addRange(P),q.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),q.addRange(P))}}}}for(Y=[],q=E;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}_c=!!hd,fd=hd=null}finally{Zt=h,st.p=o,H.T=s}}e.current=n,ze=2}}function zy(){if(ze===2){ze=0;var e=Bs,n=Ua,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=H.T,H.T=null;var o=st.p;st.p=2;var h=Zt;Zt|=4;try{dy(e,n.alternate,n)}finally{Zt=h,st.p=o,H.T=s}}ze=3}}function jy(){if(ze===4||ze===3){ze=0,na();var e=Bs,n=Ua,s=as,o=Ry;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ze=5:(ze=0,Ua=Bs=null,By(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(js=null),Hi(s),n=n.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot($n,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,h=st.p,st.p=2,H.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{H.T=n,st.p=h}}(as&3)!==0&&ac(),Di(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===Jf?ol++:(ol=0,Jf=e):ol=0,ll(0)}}function By(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,qo(n)))}function ac(){return Py(),zy(),jy(),qy()}function qy(){if(ze!==5)return!1;var e=Bs,n=$f;$f=0;var s=Hi(as),o=H.T,h=st.p;try{st.p=32>s?32:s,H.T=null,s=Zf,Zf=null;var f=Bs,g=as;if(ze=0,Ua=Bs=null,as=0,(Zt&6)!==0)throw Error(a(331));var E=Zt;if(Zt|=4,Ay(f.current),Ey(f,f.current,g,s),Zt=E,ll(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot($n,f)}catch{}return!0}finally{st.p=h,H.T=o,By(e,n)}}function Hy(e,n,s){n=Pn(s,n),n=Nf(e.stateNode,n,2),e=Vs(e,n,2),e!==null&&(vr(e,2),Di(e))}function ne(e,n,s){if(e.tag===3)Hy(e,e,s);else for(;n!==null;){if(n.tag===3){Hy(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(js===null||!js.has(o))){e=Pn(s,e),s=Gp(2),o=Vs(n,s,2),o!==null&&(Fp(s,o,n,e),vr(o,2),Di(o));break}}n=n.return}}function ed(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new D1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Kf=!0,h.add(s),e=U1.bind(null,e,n,s),n.then(e,e))}function U1(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,ce===e&&(Vt&s)===s&&(Te===4||Te===3&&(Vt&62914560)===Vt&&300>qe()-tc?(Zt&2)===0&&La(e,0):Yf|=s,ka===Vt&&(ka=0)),Di(e)}function Gy(e,n){n===0&&(n=nu()),e=Mr(e,n),e!==null&&(vr(e,n),Di(e))}function L1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Gy(e,s)}function P1(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Gy(e,s)}function z1(e,n){return ue(e,n)}var oc=null,za=null,nd=!1,lc=!1,id=!1,Hs=0;function Di(e){e!==za&&e.next===null&&(za===null?oc=za=e:za=za.next=e),lc=!0,nd||(nd=!0,B1())}function ll(e,n){if(!id&&lc){id=!0;do for(var s=!1,o=oc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-Ae(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Yy(o,f))}else f=Vt,f=di(o,o===ce?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Zn(o,f)||(s=!0,Yy(o,f));o=o.next}while(s);id=!1}}function j1(){Fy()}function Fy(){lc=nd=!1;var e=0;Hs!==0&&Z1()&&(e=Hs);for(var n=qe(),s=null,o=oc;o!==null;){var h=o.next,f=Qy(o,n);f===0?(o.next=null,s===null?oc=h:s.next=h,h===null&&(za=s)):(s=o,(e!==0||(f&3)!==0)&&(lc=!0)),o=h}ze!==0&&ze!==5||ll(e),Hs!==0&&(Hs=0)}function Qy(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-Ae(f),E=1<<g,I=h[g];I===-1?((E&s)===0||(E&o)!==0)&&(h[g]=Dh(E,n)):I<=n&&(e.expiredLanes|=E),f&=~E}if(n=ce,s=Vt,s=di(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(ee===2||ee===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Dn(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Zn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&Dn(o),Hi(s)){case 2:case 8:s=_o;break;case 32:s=_s;break;case 268435456:s=Zl;break;default:s=_s}return o=Ky.bind(null,e),s=ue(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&Dn(o),e.callbackPriority=2,e.callbackNode=null,2}function Ky(e,n){if(ze!==0&&ze!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(ac()&&e.callbackNode!==s)return null;var o=Vt;return o=di(e,e===ce?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Iy(e,o,n),Qy(e,qe()),e.callbackNode!=null&&e.callbackNode===s?Ky.bind(null,e):null)}function Yy(e,n){if(ac())return null;Iy(e,n,!0)}function B1(){W1(function(){(Zt&6)!==0?ue(yo,j1):Fy()})}function sd(){if(Hs===0){var e=Sa;e===0&&(e=hi,hi<<=1,(hi&261888)===0&&(hi=256)),Hs=e}return Hs}function Xy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ua(""+e)}function $y(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function q1(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=Xy((h[He]||null).action),g=o.submitter;g&&(n=(n=g[He]||null)?Xy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new Si("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Hs!==0){var I=g?$y(h,g):new FormData(h);Sf(s,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=g?$y(h,g):new FormData(h),Sf(s,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var rd=0;rd<jh.length;rd++){var ad=jh[rd],H1=ad.toLowerCase(),G1=ad[0].toUpperCase()+ad.slice(1);ri(H1,"on"+G1)}ri(Cg,"onAnimationEnd"),ri(Ig,"onAnimationIteration"),ri(xg,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(a1,"onTransitionRun"),ri(o1,"onTransitionStart"),ri(l1,"onTransitionCancel"),ri(Ng,"onTransitionEnd"),Ei("onMouseEnter",["mouseout","mouseover"]),Ei("onMouseLeave",["mouseout","mouseover"]),Ei("onPointerEnter",["pointerout","pointerover"]),Ei("onPointerLeave",["pointerout","pointerover"]),vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),F1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ul));function Zy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],I=E.instance,z=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){Au(G)}h.currentTarget=null,f=I}else for(g=0;g<o.length;g++){if(E=o[g],I=E.instance,z=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){Au(G)}h.currentTarget=null,f=I}}}}function Dt(e,n){var s=n[sa];s===void 0&&(s=n[sa]=new Set);var o=e+"__bubble";s.has(o)||(Jy(n,e,2,!1),s.add(o))}function od(e,n,s){var o=0;n&&(o|=4),Jy(s,e,o,n)}var uc="_reactListening"+Math.random().toString(36).slice(2);function ld(e){if(!e[uc]){e[uc]=!0,To.forEach(function(s){s!=="selectionchange"&&(F1.has(s)||od(s,!1,e),od(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[uc]||(n[uc]=!0,od("selectionchange",!1,n))}}function Jy(e,n,s,o){switch(C_(n)){case 2:var h=vb;break;case 8:h=Eb;break;default:h=Ad}s=h.bind(null,n,s,e),h=void 0,!wr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function ud(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var I=g.tag;if((I===3||I===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=yi(E),g===null)return;if(I=g.tag,I===5||I===6||I===26||I===27){o=f=g;continue t}E=E.parentNode}}o=o.return}Ss(function(){var z=f,G=Vn(s),Y=[];t:{var j=Dg.get(e);if(j!==void 0){var q=Si,lt=e;switch(e){case"keypress":if(Cr(s)===0)break t;case"keydown":case"keyup":q=Eu;break;case"focusin":lt="focus",q=xr;break;case"focusout":lt="blur",q=xr;break;case"beforeblur":case"afterblur":q=xr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Vo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=hu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Cg:case Ig:case xg:q=du;break;case Ng:q=b;break;case"scroll":case"scrollend":q=Mo;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=mu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Qi;break;case"toggle":case"beforetoggle":q=wt}var _t=(n&4)!==0,oe=!_t&&(e==="scroll"||e==="scrollend"),k=_t?j!==null?j+"Capture":null:j;_t=[];for(var D=z,P;D!==null;){var Q=D;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||k===null||(Q=ei(D,k),Q!=null&&_t.push(cl(D,Q,P))),oe)break;D=D.return}0<_t.length&&(j=new q(j,lt,null,s,G),Y.push({event:j,listeners:_t}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&s!==No&&(lt=s.relatedTarget||s.fromElement)&&(yi(lt)||lt[gi]))break t;if((q||j)&&(j=G.window===G?G:(j=G.ownerDocument)?j.defaultView||j.parentWindow:window,q?(lt=s.relatedTarget||s.toElement,q=z,lt=lt?yi(lt):null,lt!==null&&(oe=c(lt),_t=lt.tag,lt!==oe||_t!==5&&_t!==27&&_t!==6)&&(lt=null)):(q=null,lt=z),q!==lt)){if(_t=Vo,Q="onMouseLeave",k="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(_t=Qi,Q="onPointerLeave",k="onPointerEnter",D="pointer"),oe=q==null?j:Tn(q),P=lt==null?j:Tn(lt),j=new _t(Q,D+"leave",q,s,G),j.target=oe,j.relatedTarget=P,Q=null,yi(G)===z&&(_t=new _t(k,D+"enter",lt,s,G),_t.target=P,_t.relatedTarget=oe,Q=_t),oe=Q,q&&lt)e:{for(_t=Q1,k=q,D=lt,P=0,Q=k;Q;Q=_t(Q))P++;Q=0;for(var dt=D;dt;dt=_t(dt))Q++;for(;0<P-Q;)k=_t(k),P--;for(;0<Q-P;)D=_t(D),Q--;for(;P--;){if(k===D||D!==null&&k===D.alternate){_t=k;break e}k=_t(k),D=_t(D)}_t=null}else _t=null;q!==null&&Wy(Y,j,q,_t,!1),lt!==null&&oe!==null&&Wy(Y,oe,lt,_t,!0)}}t:{if(j=z?Tn(z):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var Ft=pg;else if(mg(j))if(yg)Ft=i1;else{Ft=e1;var ut=t1}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&la(z.elementType)&&(Ft=pg):Ft=n1;if(Ft&&(Ft=Ft(e,z))){gg(Y,Ft,s,G);break t}ut&&ut(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Co(j,"number",j.value)}switch(ut=z?Tn(z):window,e){case"focusin":(mg(ut)||ut.contentEditable==="true")&&(pa=ut,Lh=z,zo=null);break;case"focusout":zo=Lh=pa=null;break;case"mousedown":Ph=!0;break;case"contextmenu":case"mouseup":case"dragend":Ph=!1,wg(Y,s,G);break;case"selectionchange":if(r1)break;case"keydown":case"keyup":wg(Y,s,G)}var Ct;if($t)t:{switch(e){case"compositionstart":var kt="onCompositionStart";break t;case"compositionend":kt="onCompositionEnd";break t;case"compositionupdate":kt="onCompositionUpdate";break t}kt=void 0}else ga?Nr(e,s)&&(kt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(kt="onCompositionStart");kt&&(Ci&&s.locale!=="ko"&&(ga||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&ga&&(Ct=Oo()):(Ai=G,Do="value"in Ai?Ai.value:Ai.textContent,ga=!0)),ut=cc(z,kt),0<ut.length&&(kt=new Ri(kt,e,null,s,G),Y.push({event:kt,listeners:ut}),Ct?kt.data=Ct:(Ct=ma(s),Ct!==null&&(kt.data=Ct)))),(Ct=Un?$T(e,s):ZT(e,s))&&(kt=cc(z,"onBeforeInput"),0<kt.length&&(ut=new Ri("onBeforeInput","beforeinput",null,s,G),Y.push({event:ut,listeners:kt}),ut.data=Ct)),q1(Y,e,z,s,G)}Zy(Y,n)})}function cl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function cc(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ei(e,s),h!=null&&o.unshift(cl(e,h,f)),h=ei(e,n),h!=null&&o.push(cl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function Q1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Wy(e,n,s,o,h){for(var f=n._reactName,g=[];s!==null&&s!==o;){var E=s,I=E.alternate,z=E.stateNode;if(E=E.tag,I!==null&&I===o)break;E!==5&&E!==26&&E!==27||z===null||(I=z,h?(z=ei(s,f),z!=null&&g.unshift(cl(s,z,I))):h||(z=ei(s,f),z!=null&&g.push(cl(s,z,I)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var K1=/\r\n?/g,Y1=/\u0000|\uFFFD/g;function t_(e){return(typeof e=="string"?e:""+e).replace(K1,`
`).replace(Y1,"")}function e_(e,n){return n=t_(n),t_(e)===n}function ae(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||dn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&dn(e,""+o);break;case"className":bn(e,"class",o);break;case"tabIndex":bn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":bn(e,s,o);break;case"style":xo(e,o,f);break;case"data":if(n!=="object"){bn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ua(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&ae(e,n,"name",h.name,h,null),ae(e,n,"formEncType",h.formEncType,h,null),ae(e,n,"formMethod",h.formMethod,h,null),ae(e,n,"formTarget",h.formTarget,h,null)):(ae(e,n,"encType",h.encType,h,null),ae(e,n,"method",h.method,h,null),ae(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ua(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=ti);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=ua(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Dt("beforetoggle",e),Dt("toggle",e),aa(e,"popover",o);break;case"xlinkActuate":De(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":De(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":De(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":De(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":De(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":De(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":De(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":De(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":De(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":aa(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=cu.get(s)||s,aa(e,s,o))}}function cd(e,n,s,o,h,f){switch(s){case"style":xo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?dn(e,o):(typeof o=="number"||typeof o=="bigint")&&dn(e,""+o);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bo.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[He]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):aa(e,s,o)}}}function Je(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",e),Dt("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ae(e,n,f,g,s,null)}}h&&ae(e,n,"srcSet",s.srcSet,s,null),o&&ae(e,n,"src",s.src,s,null);return;case"input":Dt("invalid",e);var E=f=g=h=null,I=null,z=null;for(o in s)if(s.hasOwnProperty(o)){var G=s[o];if(G!=null)switch(o){case"name":h=G;break;case"type":g=G;break;case"checked":I=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:ae(e,n,o,G,s,null)}}ou(e,f,E,I,z,g,h,!1);return;case"select":Dt("invalid",e),o=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:ae(e,n,h,E,s,null)}n=f,s=g,e.multiple=!!o,n!=null?Es(e,!!o,n,!1):s!=null&&Es(e,!!o,s,!0);return;case"textarea":Dt("invalid",e),f=h=o=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:ae(e,n,g,E,s,null)}Ts(e,o,h,f);return;case"option":for(I in s)s.hasOwnProperty(I)&&(o=s[I],o!=null)&&(I==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":ae(e,n,I,o,s,null));return;case"dialog":Dt("beforetoggle",e),Dt("toggle",e),Dt("cancel",e),Dt("close",e);break;case"iframe":case"object":Dt("load",e);break;case"video":case"audio":for(o=0;o<ul.length;o++)Dt(ul[o],e);break;case"image":Dt("error",e),Dt("load",e);break;case"details":Dt("toggle",e);break;case"embed":case"source":case"link":Dt("error",e),Dt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(o=s[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ae(e,n,z,o,s,null)}return;default:if(la(n)){for(G in s)s.hasOwnProperty(G)&&(o=s[G],o!==void 0&&cd(e,n,G,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&ae(e,n,E,o,s,null))}function X1(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,I=null,z=null,G=null;for(q in s){var Y=s[q];if(s.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":I=Y;default:o.hasOwnProperty(q)||ae(e,n,q,null,o,Y)}}for(var j in o){var q=o[j];if(Y=s[j],o.hasOwnProperty(j)&&(q!=null||Y!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":G=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==Y&&ae(e,n,j,q,o,Y)}}oa(e,g,E,I,z,G,f,h);return;case"select":q=g=E=j=null;for(f in s)if(I=s[f],s.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":q=I;default:o.hasOwnProperty(f)||ae(e,n,f,null,o,I)}for(h in o)if(f=o[h],I=s[h],o.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==I&&ae(e,n,h,f,o,I)}n=E,s=g,o=q,j!=null?Es(e,!!s,j,!1):!!o!=!!s&&(n!=null?Es(e,!!s,n,!0):Es(e,!!s,s?[]:"",!1));return;case"textarea":q=j=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ae(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=s[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&ae(e,n,g,h,o,f)}lu(e,j,q);return;case"option":for(var lt in s)j=s[lt],s.hasOwnProperty(lt)&&j!=null&&!o.hasOwnProperty(lt)&&(lt==="selected"?e.selected=!1:ae(e,n,lt,null,o,j));for(I in o)j=o[I],q=s[I],o.hasOwnProperty(I)&&j!==q&&(j!=null||q!=null)&&(I==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":ae(e,n,I,j,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in s)j=s[_t],s.hasOwnProperty(_t)&&j!=null&&!o.hasOwnProperty(_t)&&ae(e,n,_t,null,o,j);for(z in o)if(j=o[z],q=s[z],o.hasOwnProperty(z)&&j!==q&&(j!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:ae(e,n,z,j,o,q)}return;default:if(la(n)){for(var oe in s)j=s[oe],s.hasOwnProperty(oe)&&j!==void 0&&!o.hasOwnProperty(oe)&&cd(e,n,oe,void 0,o,j);for(G in o)j=o[G],q=s[G],!o.hasOwnProperty(G)||j===q||j===void 0&&q===void 0||cd(e,n,G,j,o,q);return}}for(var k in s)j=s[k],s.hasOwnProperty(k)&&j!=null&&!o.hasOwnProperty(k)&&ae(e,n,k,null,o,j);for(Y in o)j=o[Y],q=s[Y],!o.hasOwnProperty(Y)||j===q||j==null&&q==null||ae(e,n,Y,j,o,q)}function n_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&n_(g)){for(g=0,E=h.responseEnd,o+=1;o<s.length;o++){var I=s[o],z=I.startTime;if(z>E)break;var G=I.transferSize,Y=I.initiatorType;G&&n_(Y)&&(I=I.responseEnd,g+=G*(I<E?1:(E-z)/(I-z)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var hd=null,fd=null;function hc(e){return e.nodeType===9?e:e.ownerDocument}function i_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function s_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function dd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var md=null;function Z1(){var e=window.event;return e&&e.type==="popstate"?e===md?!1:(md=e,!0):(md=null,!1)}var r_=typeof setTimeout=="function"?setTimeout:void 0,J1=typeof clearTimeout=="function"?clearTimeout:void 0,a_=typeof Promise=="function"?Promise:void 0,W1=typeof queueMicrotask=="function"?queueMicrotask:typeof a_<"u"?function(e){return a_.resolve(null).then(e).catch(tb)}:r_;function tb(e){setTimeout(function(){throw e})}function Gs(e){return e==="head"}function o_(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),Ha(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")hl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,hl(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[pi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&hl(e.ownerDocument.body);s=h}while(s);Ha(n)}function l_(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function gd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":gd(s),ra(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function eb(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[pi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Hn(e.nextSibling),e===null)break}return null}function nb(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Hn(e.nextSibling),e===null))return null;return e}function u_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Hn(e.nextSibling),e===null))return null;return e}function pd(e){return e.data==="$?"||e.data==="$~"}function yd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function ib(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Hn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var _d=null;function c_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Hn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function h_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function f_(e,n,s){switch(n=hc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function hl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ra(e)}var Gn=new Map,d_=new Set;function fc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var os=st.d;st.d={f:sb,r:rb,D:ab,C:ob,L:lb,m:ub,X:hb,S:cb,M:fb};function sb(){var e=os.f(),n=ic();return e||n}function rb(e){var n=Mn(e);n!==null&&n.tag===5&&n.type==="form"?Np(n):os.r(e)}var ja=typeof document>"u"?null:document;function m_(e,n,s){var o=ja;if(o&&typeof n=="string"&&n){var h=fn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),d_.has(h)||(d_.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Je(n,"link",e),Ne(n),o.head.appendChild(n)))}}function ab(e){os.D(e),m_("dns-prefetch",e,null)}function ob(e,n){os.C(e,n),m_("preconnect",e,n)}function lb(e,n,s){os.L(e,n,s);var o=ja;if(o&&e&&n){var h='link[rel="preload"][as="'+fn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+fn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+fn(s.imageSizes)+'"]')):h+='[href="'+fn(e)+'"]';var f=h;switch(n){case"style":f=Ba(e);break;case"script":f=qa(e)}Gn.has(f)||(e=w({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Gn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(fl(f))||n==="script"&&o.querySelector(dl(f))||(n=o.createElement("link"),Je(n,"link",e),Ne(n),o.head.appendChild(n)))}}function ub(e,n){os.m(e,n);var s=ja;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+fn(o)+'"][href="'+fn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=qa(e)}if(!Gn.has(f)&&(e=w({rel:"modulepreload",href:e},n),Gn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(dl(f)))return}o=s.createElement("link"),Je(o,"link",e),Ne(o),s.head.appendChild(o)}}}function cb(e,n,s){os.S(e,n,s);var o=ja;if(o&&e){var h=_i(o).hoistableStyles,f=Ba(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(fl(f)))E.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Gn.get(f))&&vd(e,s);var I=g=o.createElement("link");Ne(I),Je(I,"link",e),I._p=new Promise(function(z,G){I.onload=z,I.onerror=G}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,dc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function hb(e,n){os.X(e,n);var s=ja;if(s&&e){var o=_i(s).hoistableScripts,h=qa(e),f=o.get(h);f||(f=s.querySelector(dl(h)),f||(e=w({src:e,async:!0},n),(n=Gn.get(h))&&Ed(e,n),f=s.createElement("script"),Ne(f),Je(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function fb(e,n){os.M(e,n);var s=ja;if(s&&e){var o=_i(s).hoistableScripts,h=qa(e),f=o.get(h);f||(f=s.querySelector(dl(h)),f||(e=w({src:e,async:!0,type:"module"},n),(n=Gn.get(h))&&Ed(e,n),f=s.createElement("script"),Ne(f),Je(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function g_(e,n,s,o){var h=(h=J.current)?fc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ba(s.href),s=_i(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Ba(s.href);var f=_i(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(fl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Gn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Gn.set(e,s),f||db(h,e,s,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=qa(s),s=_i(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ba(e){return'href="'+fn(e)+'"'}function fl(e){return'link[rel="stylesheet"]['+e+"]"}function p_(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function db(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Je(n,"link",s),Ne(n),e.head.appendChild(n))}function qa(e){return'[src="'+fn(e)+'"]'}function dl(e){return"script[async]"+e}function y_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+fn(s.href)+'"]');if(o)return n.instance=o,Ne(o),o;var h=w({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ne(o),Je(o,"style",h),dc(o,s.precedence,e),n.instance=o;case"stylesheet":h=Ba(s.href);var f=e.querySelector(fl(h));if(f)return n.state.loading|=4,n.instance=f,Ne(f),f;o=p_(s),(h=Gn.get(h))&&vd(o,h),f=(e.ownerDocument||e).createElement("link"),Ne(f);var g=f;return g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),Je(f,"link",o),n.state.loading|=4,dc(f,s.precedence,e),n.instance=f;case"script":return f=qa(s.src),(h=e.querySelector(dl(f)))?(n.instance=h,Ne(h),h):(o=s,(h=Gn.get(f))&&(o=w({},s),Ed(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ne(h),Je(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,dc(o,s.precedence,e));return n.instance}function dc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function vd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Ed(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var mc=null;function __(e,n,s){if(mc===null){var o=new Map,h=mc=new Map;h.set(s,o)}else h=mc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[pi]||f[xe]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function v_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function mb(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function E_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function gb(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Ba(o.href),f=n.querySelector(fl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=gc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Ne(f);return}f=n.ownerDocument||n,o=p_(o),(h=Gn.get(h))&&vd(o,h),f=f.createElement("link"),Ne(f);var g=f;g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),Je(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=gc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Td=0;function pb(e,n){return e.stylesheets&&e.count===0&&yc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&yc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Td===0&&(Td=62500*$1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&yc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Td?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function gc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)yc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var pc=null;function yc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,pc=new Map,n.forEach(yb,e),pc=null,gc.call(e))}function yb(e,n){if(!(n.state.loading&4)){var s=pc.get(e);if(s)var o=s.get(null);else{s=new Map,pc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,h),s.set(g,h),this.count++,o=gc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var ml={$$typeof:gt,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function _b(e,n,s,o,h,f,g,E,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mi(0),this.hiddenUpdates=mi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function T_(e,n,s,o,h,f,g,E,I,z,G,Y){return e=new _b(e,n,s,g,I,z,G,Y,E),n=1,f===!0&&(n|=24),f=Sn(3,null,null,n),e.current=f,f.stateNode=e,n=Wh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},sf(f),e}function b_(e){return e?(e=va,e):va}function A_(e,n,s,o,h,f){h=b_(h),o.context===null?o.context=h:o.pendingContext=h,o=Ms(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Vs(e,o,n),s!==null&&(_n(s,e,n),Qo(s,e,n))}function S_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function bd(e,n){S_(e,n),(e=e.alternate)&&S_(e,n)}function w_(e){if(e.tag===13||e.tag===31){var n=Mr(e,67108864);n!==null&&_n(n,e,67108864),bd(e,67108864)}}function R_(e){if(e.tag===13||e.tag===31){var n=xn();n=Tr(n);var s=Mr(e,n);s!==null&&_n(s,e,n),bd(e,n)}}var _c=!0;function vb(e,n,s,o){var h=H.T;H.T=null;var f=st.p;try{st.p=2,Ad(e,n,s,o)}finally{st.p=f,H.T=h}}function Eb(e,n,s,o){var h=H.T;H.T=null;var f=st.p;try{st.p=8,Ad(e,n,s,o)}finally{st.p=f,H.T=h}}function Ad(e,n,s,o){if(_c){var h=Sd(o);if(h===null)ud(e,n,o,vc,s),I_(e,o);else if(bb(h,e,n,s,o))o.stopPropagation();else if(I_(e,o),n&4&&-1<Tb.indexOf(e)){for(;h!==null;){var f=Mn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=fi(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var I=1<<31-Ae(g);E.entanglements[1]|=I,g&=~I}Di(f),(Zt&6)===0&&(ec=qe()+500,ll(0))}}break;case 31:case 13:E=Mr(f,2),E!==null&&_n(E,f,2),ic(),bd(f,2)}if(f=Sd(o),f===null&&ud(e,n,o,vc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else ud(e,n,o,null,s)}}function Sd(e){return e=Vn(e),wd(e)}var vc=null;function wd(e){if(vc=null,e=yi(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return vc=e,null}function C_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qi()){case yo:return 2;case _o:return 8;case _s:case Nh:return 32;case Zl:return 268435456;default:return 32}default:return 32}}var Rd=!1,Fs=null,Qs=null,Ks=null,gl=new Map,pl=new Map,Ys=[],Tb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function I_(e,n){switch(e){case"focusin":case"focusout":Fs=null;break;case"dragenter":case"dragleave":Qs=null;break;case"mouseover":case"mouseout":Ks=null;break;case"pointerover":case"pointerout":gl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":pl.delete(n.pointerId)}}function yl(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Mn(n),n!==null&&w_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function bb(e,n,s,o,h){switch(n){case"focusin":return Fs=yl(Fs,e,n,s,o,h),!0;case"dragenter":return Qs=yl(Qs,e,n,s,o,h),!0;case"mouseover":return Ks=yl(Ks,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return gl.set(f,yl(gl.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,pl.set(f,yl(pl.get(f)||null,e,n,s,o,h)),!0}return!1}function x_(e){var n=yi(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Jn(e.priority,function(){R_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,Jn(e.priority,function(){R_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ec(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Sd(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);No=o,s.target.dispatchEvent(o),No=null}else return n=Mn(s),n!==null&&w_(n),e.blockedOn=s,!1;n.shift()}return!0}function N_(e,n,s){Ec(e)&&s.delete(n)}function Ab(){Rd=!1,Fs!==null&&Ec(Fs)&&(Fs=null),Qs!==null&&Ec(Qs)&&(Qs=null),Ks!==null&&Ec(Ks)&&(Ks=null),gl.forEach(N_),pl.forEach(N_)}function Tc(e,n){e.blockedOn===n&&(e.blockedOn=null,Rd||(Rd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ab)))}var bc=null;function D_(e){bc!==e&&(bc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){bc===e&&(bc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(wd(o||s)===null)continue;break}var f=Mn(s);f!==null&&(e.splice(n,3),n-=3,Sf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function Ha(e){function n(I){return Tc(I,e)}Fs!==null&&Tc(Fs,e),Qs!==null&&Tc(Qs,e),Ks!==null&&Tc(Ks,e),gl.forEach(n),pl.forEach(n);for(var s=0;s<Ys.length;s++){var o=Ys[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Ys.length&&(s=Ys[0],s.blockedOn===null);)x_(s),s.blockedOn===null&&Ys.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],g=h[He]||null;if(typeof f=="function")g||D_(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[He]||null)E=g.formAction;else if(wd(h)!==null)continue}else E=g.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),D_(s)}}}function O_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Cd(e){this._internalRoot=e}Ac.prototype.render=Cd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=xn();A_(s,o,e,n,null,null)},Ac.prototype.unmount=Cd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;A_(e.current,2,null,e,null,null),ic(),n[gi]=null}};function Ac(e){this._internalRoot=e}Ac.prototype.unstable_scheduleHydration=function(e){if(e){var n=iu();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Ys.length&&n!==0&&n<Ys[s].priority;s++);Ys.splice(s,0,e),s===0&&x_(e)}};var M_=t.version;if(M_!=="19.2.3")throw Error(a(527,M_,"19.2.3"));st.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var Sb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sc.isDisabled&&Sc.supportsFiber)try{$n=Sc.inject(Sb),Ke=Sc}catch{}}return vl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=jp,f=Bp,g=qp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=T_(e,1,!1,null,null,s,o,null,h,f,g,O_),e[gi]=n.current,ld(e),new Cd(n)},vl.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=jp,g=Bp,E=qp,I=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(I=s.formState)),n=T_(e,1,!0,n,s??null,o,h,I,f,g,E,O_),n.context=b_(null),s=n.current,o=xn(),o=Tr(o),h=Ms(o),h.callback=null,Vs(s,h,o),s=o,n.current.lanes=s,vr(n,s),Di(n),e[gi]=n.current,ld(e),new Ac(n)},vl.version="19.2.3",vl}var H_;function Vb(){if(H_)return Nd.exports;H_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Nd.exports=Mb(),Nd.exports}var kb=Vb();const Ub=()=>{};var G_={};const Tv=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},Lb=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(_>>10)),t[a++]=String.fromCharCode(56320+(_&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},bv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,_=l+2<r.length,y=_?r[l+2]:0,T=c>>2,w=(c&3)<<4|p>>4;let V=(p&15)<<2|y>>6,F=y&63;_||(F=64,d||(V=64)),a.push(i[T],i[w],i[V],i[F])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(Tv(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):Lb(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const y=l<r.length?i[r.charAt(l)]:64;++l;const w=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||y==null||w==null)throw new Pb;const V=c<<2|p>>4;if(a.push(V),y!==64){const F=p<<4&240|y>>2;if(a.push(F),w!==64){const tt=y<<6&192|w;a.push(tt)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Pb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zb=function(r){const t=Tv(r);return bv.encodeByteArray(t,!0)},qc=function(r){return zb(r).replace(/\./g,"")},Av=function(r){try{return bv.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function jb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Bb=()=>jb().__FIREBASE_DEFAULTS__,qb=()=>{if(typeof process>"u"||typeof G_>"u")return;const r=G_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Hb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&Av(r[1]);return t&&JSON.parse(t)},uh=()=>{try{return Ub()||Bb()||qb()||Hb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Sv=r=>uh()?.emulatorHosts?.[r],Gb=r=>{const t=Sv(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},wv=()=>uh()?.config,Rv=r=>uh()?.[`_${r}`];class Fb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function uo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Cv(r){return(await fetch(r,{credentials:"include"})).ok}function Qb(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[qc(JSON.stringify(i)),qc(JSON.stringify(d)),""].join(".")}const Sl={};function Kb(){const r={prod:[],emulator:[]};for(const t of Object.keys(Sl))Sl[t]?r.emulator.push(t):r.prod.push(t);return r}function Yb(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let F_=!1;function Iv(r,t){if(typeof window>"u"||typeof document>"u"||!uo(window.location.host)||Sl[r]===t||Sl[r]||F_)return;Sl[r]=t;function i(V){return`__firebase__banner__${V}`}const a="__firebase__banner",c=Kb().prod.length>0;function d(){const V=document.getElementById(a);V&&V.remove()}function p(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function _(V,F){V.setAttribute("width","24"),V.setAttribute("id",F),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function y(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{F_=!0,d()},V}function T(V,F){V.setAttribute("id",F),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function w(){const V=Yb(a),F=i("text"),tt=document.getElementById(F)||document.createElement("span"),nt=i("learnmore"),W=document.getElementById(nt)||document.createElement("a"),mt=i("preprendIcon"),Tt=document.getElementById(mt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const gt=V.element;p(gt),T(W,nt);const Jt=y();_(Tt,mt),gt.append(Tt,tt,W,Jt),document.body.appendChild(gt)}c?(tt.innerText="Preview backend disconnected.",Tt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Tt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,tt.innerText="Preview backend running in this workspace."),tt.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Xb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function $b(){const r=uh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Zb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Jb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Wb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tA(){const r=ln();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function eA(){return!$b()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nA(){try{return typeof indexedDB=="object"}catch{return!1}}function iA(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const sA="FirebaseError";class ys extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=sA,Object.setPrototypeOf(this,ys.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pl.prototype.create)}}class Pl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?rA(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new ys(l,p,a)}}function rA(r,t){return r.replace(aA,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const aA=/\{\$([^}]+)}/g;function oA(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function or(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(Q_(c)&&Q_(d)){if(!or(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function Q_(r){return r!==null&&typeof r=="object"}function zl(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function lA(r,t){const i=new uA(r,t);return i.subscribe.bind(i)}class uA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");cA(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Vd),l.error===void 0&&(l.error=Vd),l.complete===void 0&&(l.complete=Vd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cA(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Vd(){}function hn(r){return r&&r._delegate?r._delegate:r}class Xr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Qr="[DEFAULT]";class hA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new Fb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(dA(t))try{this.getOrInitializeService({instanceIdentifier:Qr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Qr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Qr){return this.instances.has(t)}getOptions(t=Qr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:fA(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Qr){return this.component?this.component.multipleInstances?t:Qr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fA(r){return r===Qr?void 0:r}function dA(r){return r.instantiationMode==="EAGER"}class mA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new hA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Ut;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ut||(Ut={}));const gA={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},pA=Ut.INFO,yA={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},_A=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=yA[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class wm{constructor(t){this.name=t,this._logLevel=pA,this._logHandler=_A,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ut))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?gA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...t),this._logHandler(this,Ut.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...t),this._logHandler(this,Ut.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...t),this._logHandler(this,Ut.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...t),this._logHandler(this,Ut.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...t),this._logHandler(this,Ut.ERROR,...t)}}const vA=(r,t)=>t.some(i=>r instanceof i);let K_,Y_;function EA(){return K_||(K_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TA(){return Y_||(Y_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xv=new WeakMap,Xd=new WeakMap,Nv=new WeakMap,kd=new WeakMap,Rm=new WeakMap;function bA(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(nr(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&xv.set(i,r)}).catch(()=>{}),Rm.set(t,r),t}function AA(r){if(Xd.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Xd.set(r,t)}let $d={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Xd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||Nv.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return nr(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function SA(r){$d=r($d)}function wA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Ud(this),t,...i);return Nv.set(a,t.sort?t.sort():[t]),nr(a)}:TA().includes(r)?function(...t){return r.apply(Ud(this),t),nr(xv.get(this))}:function(...t){return nr(r.apply(Ud(this),t))}}function RA(r){return typeof r=="function"?wA(r):(r instanceof IDBTransaction&&AA(r),vA(r,EA())?new Proxy(r,$d):r)}function nr(r){if(r instanceof IDBRequest)return bA(r);if(kd.has(r))return kd.get(r);const t=RA(r);return t!==r&&(kd.set(r,t),Rm.set(t,r)),t}const Ud=r=>Rm.get(r);function CA(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),p=nr(d);return a&&d.addEventListener("upgradeneeded",_=>{a(nr(d.result),_.oldVersion,_.newVersion,nr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const IA=["get","getKey","getAll","getAllKeys","count"],xA=["put","add","delete","clear"],Ld=new Map;function X_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Ld.get(t))return Ld.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=xA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||IA.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return a&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&_.done]))[0]};return Ld.set(t,c),c}SA(r=>({...r,get:(t,i,a)=>X_(t,i)||r.get(t,i,a),has:(t,i)=>!!X_(t,i)||r.has(t,i)}));class NA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(DA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function DA(r){return r.getComponent()?.type==="VERSION"}const Zd="@firebase/app",$_="0.14.6";const hs=new wm("@firebase/app"),OA="@firebase/app-compat",MA="@firebase/analytics-compat",VA="@firebase/analytics",kA="@firebase/app-check-compat",UA="@firebase/app-check",LA="@firebase/auth",PA="@firebase/auth-compat",zA="@firebase/database",jA="@firebase/data-connect",BA="@firebase/database-compat",qA="@firebase/functions",HA="@firebase/functions-compat",GA="@firebase/installations",FA="@firebase/installations-compat",QA="@firebase/messaging",KA="@firebase/messaging-compat",YA="@firebase/performance",XA="@firebase/performance-compat",$A="@firebase/remote-config",ZA="@firebase/remote-config-compat",JA="@firebase/storage",WA="@firebase/storage-compat",tS="@firebase/firestore",eS="@firebase/ai",nS="@firebase/firestore-compat",iS="firebase",sS="12.6.0";const Jd="[DEFAULT]",rS={[Zd]:"fire-core",[OA]:"fire-core-compat",[VA]:"fire-analytics",[MA]:"fire-analytics-compat",[UA]:"fire-app-check",[kA]:"fire-app-check-compat",[LA]:"fire-auth",[PA]:"fire-auth-compat",[zA]:"fire-rtdb",[jA]:"fire-data-connect",[BA]:"fire-rtdb-compat",[qA]:"fire-fn",[HA]:"fire-fn-compat",[GA]:"fire-iid",[FA]:"fire-iid-compat",[QA]:"fire-fcm",[KA]:"fire-fcm-compat",[YA]:"fire-perf",[XA]:"fire-perf-compat",[$A]:"fire-rc",[ZA]:"fire-rc-compat",[JA]:"fire-gcs",[WA]:"fire-gcs-compat",[tS]:"fire-fst",[nS]:"fire-fst-compat",[eS]:"fire-vertex","fire-js":"fire-js",[iS]:"fire-js-all"};const Hc=new Map,aS=new Map,Wd=new Map;function Z_(r,t){try{r.container.addComponent(t)}catch(i){hs.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function eo(r){const t=r.name;if(Wd.has(t))return hs.debug(`There were multiple attempts to register component ${t}.`),!1;Wd.set(t,r);for(const i of Hc.values())Z_(i,r);for(const i of aS.values())Z_(i,r);return!0}function Cm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Yn(r){return r==null?!1:r.settings!==void 0}const oS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ir=new Pl("app","Firebase",oS);class lS{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Xr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ir.create("app-deleted",{appName:this._name})}}const co=sS;function Dv(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:Jd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw ir.create("bad-app-name",{appName:String(l)});if(i||(i=wv()),!i)throw ir.create("no-options");const c=Hc.get(l);if(c){if(or(i,c.options)&&or(a,c.config))return c;throw ir.create("duplicate-app",{appName:l})}const d=new mA(l);for(const _ of Wd.values())d.addComponent(_);const p=new lS(i,a,d);return Hc.set(l,p),p}function Ov(r=Jd){const t=Hc.get(r);if(!t&&r===Jd&&wv())return Dv();if(!t)throw ir.create("no-app",{appName:r});return t}function sr(r,t,i){let a=rS[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),hs.warn(d.join(" "));return}eo(new Xr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const uS="firebase-heartbeat-database",cS=1,Nl="firebase-heartbeat-store";let Pd=null;function Mv(){return Pd||(Pd=CA(uS,cS,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Nl)}catch(i){console.warn(i)}}}}).catch(r=>{throw ir.create("idb-open",{originalErrorMessage:r.message})})),Pd}async function hS(r){try{const i=(await Mv()).transaction(Nl),a=await i.objectStore(Nl).get(Vv(r));return await i.done,a}catch(t){if(t instanceof ys)hs.warn(t.message);else{const i=ir.create("idb-get",{originalErrorMessage:t?.message});hs.warn(i.message)}}}async function J_(r,t){try{const a=(await Mv()).transaction(Nl,"readwrite");await a.objectStore(Nl).put(t,Vv(r)),await a.done}catch(i){if(i instanceof ys)hs.warn(i.message);else{const a=ir.create("idb-set",{originalErrorMessage:i?.message});hs.warn(a.message)}}}function Vv(r){return`${r.name}!${r.options.appId}`}const fS=1024,dS=30;class mS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new pS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=W_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>dS){const l=yS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){hs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=W_(),{heartbeatsToSend:i,unsentEntries:a}=gS(this._heartbeatsCache.heartbeats),l=qc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return hs.warn(t),""}}}function W_(){return new Date().toISOString().substring(0,10)}function gS(r,t=fS){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),t0(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),t0(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class pS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nA()?iA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await hS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return J_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return J_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function t0(r){return qc(JSON.stringify({version:2,heartbeats:r})).length}function yS(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function _S(r){eo(new Xr("platform-logger",t=>new NA(t),"PRIVATE")),eo(new Xr("heartbeat",t=>new mS(t),"PRIVATE")),sr(Zd,$_,r),sr(Zd,$_,"esm2020"),sr("fire-js","")}_S("");var vS="firebase",ES="12.7.0";sr(vS,ES,"app");function kv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const TS=kv,Uv=new Pl("auth","Firebase",kv());const Gc=new wm("@firebase/auth");function bS(r,...t){Gc.logLevel<=Ut.WARN&&Gc.warn(`Auth (${co}): ${r}`,...t)}function Dc(r,...t){Gc.logLevel<=Ut.ERROR&&Gc.error(`Auth (${co}): ${r}`,...t)}function fs(r,...t){throw Im(r,...t)}function Vi(r,...t){return Im(r,...t)}function Lv(r,t,i){const a={...TS(),[t]:i};return new Pl("auth","Firebase",a).create(t,{appName:r.name})}function cs(r){return Lv(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Im(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return Uv.create(r,...t)}function Et(r,t,...i){if(!r)throw Im(t,...i)}function ls(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Dc(t),new Error(t)}function ds(r,t){r||ls(t)}function tm(){return typeof self<"u"&&self.location?.href||""}function AS(){return e0()==="http:"||e0()==="https:"}function e0(){return typeof self<"u"&&self.location?.protocol||null}function SS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AS()||Jb()||"connection"in navigator)?navigator.onLine:!0}function wS(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class jl{constructor(t,i){this.shortDelay=t,this.longDelay=i,ds(i>t,"Short delay should be less than long delay!"),this.isMobile=Xb()||Wb()}get(){return SS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function xm(r,t){ds(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class Pv{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ls("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ls("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ls("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const RS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const CS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],IS=new jl(3e4,6e4);function Bl(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function ho(r,t,i,a,l={}){return zv(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=zl({key:r.config.apiKey,...d}).slice(1),_=await r._getAdditionalHeaders();_["Content-Type"]="application/json",r.languageCode&&(_["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:_,...c};return Zb()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&uo(r.emulatorConfig.host)&&(y.credentials="include"),Pv.fetch()(await jv(r,r.config.apiHost,i,p),y)})}async function zv(r,t,i){r._canInitEmulator=!1;const a={...RS,...t};try{const l=new xS(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw wc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw wc(r,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw wc(r,"email-already-in-use",d);if(_==="USER_DISABLED")throw wc(r,"user-disabled",d);const T=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Lv(r,T,y);fs(r,T)}}catch(l){if(l instanceof ys)throw l;fs(r,"network-request-failed",{message:String(l)})}}async function Nm(r,t,i,a,l={}){const c=await ho(r,t,i,a,l);return"mfaPendingCredential"in c&&fs(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function jv(r,t,i,a){const l=`${t}${i}?${a}`,c=r,d=c.config.emulator?xm(r.config,l):`${r.config.apiScheme}://${l}`;return CS.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class xS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Vi(this.auth,"network-request-failed")),IS.get())})}}function wc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Vi(r,t,a);return l.customData._tokenResponse=i,l}async function NS(r,t){return ho(r,"POST","/v1/accounts:delete",t)}async function Fc(r,t){return ho(r,"POST","/v1/accounts:lookup",t)}function wl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function DS(r,t=!1){const i=hn(r),a=await i.getIdToken(t),l=Dm(a);Et(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:wl(zd(l.auth_time)),issuedAtTime:wl(zd(l.iat)),expirationTime:wl(zd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function zd(r){return Number(r)*1e3}function Dm(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Dc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Av(i);return l?JSON.parse(l):(Dc("Failed to decode base64 JWT payload"),null)}catch(l){return Dc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function n0(r){const t=Dm(r);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Dl(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof ys&&OS(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function OS({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class MS{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class em{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=wl(this.lastLoginAt),this.creationTime=wl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Qc(r){const t=r.auth,i=await r.getIdToken(),a=await Dl(r,Fc(t,{idToken:i}));Et(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?Bv(l.providerUserInfo):[],d=kS(r.providerData,c),p=r.isAnonymous,_=!(r.email&&l.passwordHash)&&!d?.length,y=p?_:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new em(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(r,T)}async function VS(r){const t=hn(r);await Qc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function kS(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function Bv(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function US(r,t){const i=await zv(r,{},async()=>{const a=zl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await jv(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:a};return r.emulatorConfig&&uo(r.emulatorConfig.host)&&(_.credentials="include"),Pv.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function LS(r,t){return ho(r,"POST","/v2/accounts:revokeToken",Bl(r,t))}class $a{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):n0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const i=n0(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await US(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new $a;return a&&(Et(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(Et(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(Et(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new $a,this.toJSON())}_performRefresh(){return ls("not implemented")}}function $s(r,t){Et(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class li{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new MS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new em(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Dl(this,this.stsTokenManager.getToken(this.auth,t));return Et(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return DS(this,t)}reload(){return VS(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new li({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Qc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yn(this.auth.app))return Promise.reject(cs(this.auth));const t=await this.getIdToken();return await Dl(this,NS(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,T=i.lastLoginAt??void 0,{uid:w,emailVerified:V,isAnonymous:F,providerData:tt,stsTokenManager:nt}=i;Et(w&&nt,t,"internal-error");const W=$a.fromJSON(this.name,nt);Et(typeof w=="string",t,"internal-error"),$s(a,t.name),$s(l,t.name),Et(typeof V=="boolean",t,"internal-error"),Et(typeof F=="boolean",t,"internal-error"),$s(c,t.name),$s(d,t.name),$s(p,t.name),$s(_,t.name),$s(y,t.name),$s(T,t.name);const mt=new li({uid:w,auth:t,email:l,emailVerified:V,displayName:a,isAnonymous:F,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:W,createdAt:y,lastLoginAt:T});return tt&&Array.isArray(tt)&&(mt.providerData=tt.map(Tt=>({...Tt}))),_&&(mt._redirectEventId=_),mt}static async _fromIdTokenResponse(t,i,a=!1){const l=new $a;l.updateFromServerResponse(i);const c=new li({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Qc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];Et(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Bv(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new $a;p.updateFromIdToken(a);const _=new li({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new em(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const i0=new Map;function us(r){ds(r instanceof Function,"Expected a class definition");let t=i0.get(r);return t?(ds(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,i0.set(r,t),t)}class qv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}qv.type="NONE";const s0=qv;function Oc(r,t,i){return`firebase:${r}:${t}:${i}`}class Za{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Oc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Oc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Fc(this.auth,{idToken:t}).catch(()=>{});return i?li._fromGetAccountInfoResponse(this.auth,i,t):null}return li._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Za(us(s0),t,a);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||us(s0);const d=Oc(a,t.config.apiKey,t.name);let p=null;for(const y of i)try{const T=await y._get(d);if(T){let w;if(typeof T=="string"){const V=await Fc(t,{idToken:T}).catch(()=>{});if(!V)break;w=await li._fromGetAccountInfoResponse(t,V,T)}else w=li._fromJSON(t,T);y!==c&&(p=w),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new Za(c,t,a):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Za(c,t,a))}}function r0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Qv(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Hv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Yv(t))return"Blackberry";if(Xv(t))return"Webos";if(Gv(t))return"Safari";if((t.includes("chrome/")||Fv(t))&&!t.includes("edge/"))return"Chrome";if(Kv(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function Hv(r=ln()){return/firefox\//i.test(r)}function Gv(r=ln()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Fv(r=ln()){return/crios\//i.test(r)}function Qv(r=ln()){return/iemobile/i.test(r)}function Kv(r=ln()){return/android/i.test(r)}function Yv(r=ln()){return/blackberry/i.test(r)}function Xv(r=ln()){return/webos/i.test(r)}function Om(r=ln()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function PS(r=ln()){return Om(r)&&!!window.navigator?.standalone}function zS(){return tA()&&document.documentMode===10}function $v(r=ln()){return Om(r)||Kv(r)||Xv(r)||Yv(r)||/windows phone/i.test(r)||Qv(r)}function Zv(r,t=[]){let i;switch(r){case"Browser":i=r0(ln());break;case"Worker":i=`${r0(ln())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${co}/${a}`}class jS{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const _=t(c);d(_)}catch(_){p(_)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function BS(r,t={}){return ho(r,"GET","/v2/passwordPolicy",Bl(r,t))}const qS=6;class HS{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??qS,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class GS{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new a0(this),this.idTokenSubscription=new a0(this),this.beforeStateQueue=new jS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Uv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=us(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Za.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Fc(this,{idToken:t}),a=await li._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Yn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Qc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=wS()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Yn(this.app))return Promise.reject(cs(this));const i=t?hn(t):null;return i&&Et(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Yn(this.app)?Promise.reject(cs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Yn(this.app)?Promise.reject(cs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(us(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await BS(this),i=new HS(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Pl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await LS(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&us(t)||this._popupRedirectResolver;Et(i,this,"argument-error"),this.redirectPersistenceManager=await Za.create(this,[us(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,a,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Zv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&bS(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ql(r){return hn(r)}class a0{constructor(t){this.auth=t,this.observer=null,this.addObserver=lA(i=>this.observer=i)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Mm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function FS(r){Mm=r}function QS(r){return Mm.loadJS(r)}function KS(){return Mm.gapiScript}function YS(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function XS(r,t){const i=Cm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(or(c,t??{}))return l;fs(l,"already-initialized")}return i.initialize({options:t})}function $S(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(us);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function ZS(r,t,i){const a=ql(r);Et(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=Jv(t),{host:d,port:p}=JS(t),_=p===null?"":`:${p}`,y={url:`${c}//${d}${_}/`},T=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Et(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Et(or(y,a.config.emulator)&&or(T,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=T,a.settings.appVerificationDisabledForTesting=!0,uo(d)?(Cv(`${c}//${d}${_}`),Iv("Auth",!0)):WS()}function Jv(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function JS(r){const t=Jv(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:o0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:o0(d)}}}function o0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function WS(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Wv{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return ls("not implemented")}_getIdTokenResponse(t){return ls("not implemented")}_linkToIdToken(t,i){return ls("not implemented")}_getReauthenticationResolver(t){return ls("not implemented")}}async function Ja(r,t){return Nm(r,"POST","/v1/accounts:signInWithIdp",Bl(r,t))}const tw="http://localhost";class $r extends Wv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new $r(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):fs("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new $r(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ja(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Ja(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ja(t,i)}buildRequest(){const t={requestUri:tw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=zl(i)}return t}}class tE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Hl extends tE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Zs extends Hl{constructor(){super("facebook.com")}static credential(t){return $r._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Zs.credentialFromTaggedObject(t)}static credentialFromError(t){return Zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Zs.credential(t.oauthAccessToken)}catch{return null}}}Zs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zs.PROVIDER_ID="facebook.com";class Js extends Hl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return $r._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Js.credentialFromTaggedObject(t)}static credentialFromError(t){return Js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Js.credential(i,a)}catch{return null}}}Js.GOOGLE_SIGN_IN_METHOD="google.com";Js.PROVIDER_ID="google.com";class Ws extends Hl{constructor(){super("github.com")}static credential(t){return $r._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ws.credentialFromTaggedObject(t)}static credentialFromError(t){return Ws.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ws.credential(t.oauthAccessToken)}catch{return null}}}Ws.GITHUB_SIGN_IN_METHOD="github.com";Ws.PROVIDER_ID="github.com";class tr extends Hl{constructor(){super("twitter.com")}static credential(t,i){return $r._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return tr.credentialFromTaggedObject(t)}static credentialFromError(t){return tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return tr.credential(i,a)}catch{return null}}}tr.TWITTER_SIGN_IN_METHOD="twitter.com";tr.PROVIDER_ID="twitter.com";async function ew(r,t){return Nm(r,"POST","/v1/accounts:signUp",Bl(r,t))}class ms{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await li._fromIdTokenResponse(t,a,l),d=l0(a);return new ms({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=l0(a);return new ms({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function l0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function nw(r){if(Yn(r.app))return Promise.reject(cs(r));const t=ql(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new ms({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await ew(t,{returnSecureToken:!0}),a=await ms._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class Kc extends ys{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Kc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Kc(t,i,a,l)}}function eE(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Kc._fromErrorAndOperation(r,c,t,a):c})}async function iw(r,t,i=!1){const a=await Dl(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return ms._forOperation(r,"link",a)}async function sw(r,t,i=!1){const{auth:a}=r;if(Yn(a.app))return Promise.reject(cs(a));const l="reauthenticate";try{const c=await Dl(r,eE(a,l,t,r),i);Et(c.idToken,a,"internal-error");const d=Dm(c.idToken);Et(d,a,"internal-error");const{sub:p}=d;return Et(r.uid===p,a,"user-mismatch"),ms._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&fs(a,"user-mismatch"),c}}async function rw(r,t,i=!1){if(Yn(r.app))return Promise.reject(cs(r));const a="signIn",l=await eE(r,a,t),c=await ms._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}async function aw(r,t){return Nm(r,"POST","/v1/accounts:signInWithCustomToken",Bl(r,t))}async function ow(r,t){if(Yn(r.app))return Promise.reject(cs(r));const i=ql(r),a=await aw(i,{token:t,returnSecureToken:!0}),l=await ms._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function lw(r,t,i,a){return hn(r).onIdTokenChanged(t,i,a)}function uw(r,t,i){return hn(r).beforeAuthStateChanged(t,i)}function cw(r,t,i,a){return hn(r).onAuthStateChanged(t,i,a)}const Yc="__sak";class nE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Yc,"1"),this.storage.removeItem(Yc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const hw=1e3,fw=10;class iE extends nE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$v(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);zS()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,fw):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},hw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}iE.type="LOCAL";const dw=iE;class sE extends nE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}sE.type="SESSION";const rE=sE;function mw(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class ch{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new ch(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),_=await mw(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ch.receivers=[];function Vm(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class gw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const y=Vm("",20);l.port1.start();const T=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(w){const V=w;if(V.data.eventId===y)switch(V.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(V.data.response);break;default:clearTimeout(T),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function ki(){return window}function pw(r){ki().location.href=r}function aE(){return typeof ki().WorkerGlobalScope<"u"&&typeof ki().importScripts=="function"}async function yw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _w(){return navigator?.serviceWorker?.controller||null}function vw(){return aE()?self:null}const oE="firebaseLocalStorageDb",Ew=1,Xc="firebaseLocalStorage",lE="fbase_key";class Gl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function hh(r,t){return r.transaction([Xc],t?"readwrite":"readonly").objectStore(Xc)}function Tw(){const r=indexedDB.deleteDatabase(oE);return new Gl(r).toPromise()}function nm(){const r=indexedDB.open(oE,Ew);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Xc,{keyPath:lE})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Xc)?t(a):(a.close(),await Tw(),t(await nm()))})})}async function u0(r,t,i){const a=hh(r,!0).put({[lE]:t,value:i});return new Gl(a).toPromise()}async function bw(r,t){const i=hh(r,!1).get(t),a=await new Gl(i).toPromise();return a===void 0?null:a.value}function c0(r,t){const i=hh(r,!0).delete(t);return new Gl(i).toPromise()}const Aw=800,Sw=3;class uE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await nm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>Sw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return aE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ch._getInstance(vw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await yw(),!this.activeServiceWorker)return;this.sender=new gw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||_w()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await nm();return await u0(t,Yc,"1"),await c0(t,Yc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>u0(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>bw(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>c0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=hh(l,!1).getAll();return new Gl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Aw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uE.type="LOCAL";const ww=uE;new jl(3e4,6e4);function Rw(r,t){return t?us(t):(Et(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class km extends Wv{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ja(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ja(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ja(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Cw(r){return rw(r.auth,new km(r),r.bypassAuthState)}function Iw(r){const{auth:t,user:i}=r;return Et(i,t,"internal-error"),sw(i,new km(r),r.bypassAuthState)}async function xw(r){const{auth:t,user:i}=r;return Et(i,t,"internal-error"),iw(i,new km(r),r.bypassAuthState)}class cE{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Cw;case"linkViaPopup":case"linkViaRedirect":return xw;case"reauthViaPopup":case"reauthViaRedirect":return Iw;default:fs(this.auth,"internal-error")}}resolve(t){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Nw=new jl(2e3,1e4);class Xa extends cE{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Xa.currentPopupAction&&Xa.currentPopupAction.cancel(),Xa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){ds(this.filter.length===1,"Popup operations only handle one event");const t=Vm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Nw.get())};t()}}Xa.currentPopupAction=null;const Dw="pendingRedirect",Mc=new Map;class Ow extends cE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Mc.get(this.auth._key());if(!t){try{const a=await Mw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Mc.set(this.auth._key(),t)}return this.bypassAuthState||Mc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Mw(r,t){const i=Uw(t),a=kw(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function Vw(r,t){Mc.set(r._key(),t)}function kw(r){return us(r._redirectPersistence)}function Uw(r){return Oc(Dw,r.config.apiKey,r.name)}async function Lw(r,t,i=!1){if(Yn(r.app))return Promise.reject(cs(r));const a=ql(r),l=Rw(a,t),d=await new Ow(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const Pw=600*1e3;class zw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!jw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!hE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Vi(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Pw&&this.cachedEventUids.clear(),this.cachedEventUids.has(h0(t))}saveEventToCache(t){this.cachedEventUids.add(h0(t)),this.lastProcessedEventTime=Date.now()}}function h0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function hE({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function jw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hE(r);default:return!1}}async function Bw(r,t={}){return ho(r,"GET","/v1/projects",t)}const qw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Hw=/^https?/;async function Gw(r){if(r.config.emulator)return;const{authorizedDomains:t}=await Bw(r);for(const i of t)try{if(Fw(i))return}catch{}fs(r,"unauthorized-domain")}function Fw(r){const t=tm(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Hw.test(i))return!1;if(qw.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const Qw=new jl(3e4,6e4);function f0(){const r=ki().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function Kw(r){return new Promise((t,i)=>{function a(){f0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{f0(),i(Vi(r,"network-request-failed"))},timeout:Qw.get()})}if(ki().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(ki().gapi?.load)a();else{const l=YS("iframefcb");return ki()[l]=()=>{gapi.load?a():i(Vi(r,"network-request-failed"))},QS(`${KS()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Vc=null,t})}let Vc=null;function Yw(r){return Vc=Vc||Kw(r),Vc}const Xw=new jl(5e3,15e3),$w="__/auth/iframe",Zw="emulator/auth/iframe",Jw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ww=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function t2(r){const t=r.config;Et(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?xm(t,Zw):`https://${r.config.authDomain}/${$w}`,a={apiKey:t.apiKey,appName:r.name,v:co},l=Ww.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${zl(a).slice(1)}`}async function e2(r){const t=await Yw(r),i=ki().gapi;return Et(i,r,"internal-error"),t.open({where:document.body,url:t2(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Jw,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Vi(r,"network-request-failed"),p=ki().setTimeout(()=>{c(d)},Xw.get());function _(){ki().clearTimeout(p),l(a)}a.ping(_).then(_,()=>{c(d)})}))}const n2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},i2=500,s2=600,r2="_blank",a2="http://localhost";class d0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function o2(r,t,i,a=i2,l=s2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const _={...n2,width:a.toString(),height:l.toString(),top:c,left:d},y=ln().toLowerCase();i&&(p=Fv(y)?r2:i),Hv(y)&&(t=t||a2,_.scrollbars="yes");const T=Object.entries(_).reduce((V,[F,tt])=>`${V}${F}=${tt},`,"");if(PS(y)&&p!=="_self")return l2(t||"",p),new d0(null);const w=window.open(t||"",p,T);Et(w,r,"popup-blocked");try{w.focus()}catch{}return new d0(w)}function l2(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const u2="__/auth/handler",c2="emulator/auth/handler",h2=encodeURIComponent("fac");async function m0(r,t,i,a,l,c){Et(r.config.authDomain,r,"auth-domain-config-required"),Et(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:co,eventId:l};if(t instanceof tE){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",oA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,w]of Object.entries({}))d[T]=w}if(t instanceof Hl){const T=t.getScopes().filter(w=>w!=="");T.length>0&&(d.scopes=T.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const _=await r._getAppCheckToken(),y=_?`#${h2}=${encodeURIComponent(_)}`:"";return`${f2(r)}?${zl(p).slice(1)}${y}`}function f2({config:r}){return r.emulator?xm(r,c2):`https://${r.authDomain}/${u2}`}const jd="webStorageSupport";class d2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rE,this._completeRedirectFn=Lw,this._overrideRedirectResult=Vw}async _openPopup(t,i,a,l){ds(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await m0(t,i,a,tm(),l);return o2(t,c,Vm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await m0(t,i,a,tm(),l);return pw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(ds(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await e2(t),a=new zw(t);return i.register("authEvent",l=>(Et(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(jd,{type:jd},l=>{const c=l?.[0]?.[jd];c!==void 0&&i(!!c),fs(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Gw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return $v()||Gv()||Om()}}const m2=d2;var g0="@firebase/auth",p0="1.12.0";class g2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function p2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function y2(r){eo(new Xr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;Et(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Zv(r)},y=new GS(a,l,c,_);return $S(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),eo(new Xr("auth-internal",t=>{const i=ql(t.getProvider("auth").getImmediate());return(a=>new g2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),sr(g0,p0,p2(r)),sr(g0,p0,"esm2020")}const _2=300,v2=Rv("authIdTokenMaxAge")||_2;let y0=null;const E2=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>v2)return;const l=i?.token;y0!==l&&(y0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function T2(r=Ov()){const t=Cm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=XS(r,{popupRedirectResolver:m2,persistence:[ww,dw,rE]}),a=Rv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=E2(c.toString());uw(i,d,()=>d(i.currentUser)),lw(i,p=>d(p))}}const l=Sv("auth");return l&&ZS(i,`http://${l}`),i}function b2(){return document.getElementsByTagName("head")?.[0]??document}FS({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=Vi("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",b2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});y2("Browser");var _0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var rr,fE;(function(){var r;function t(x,S){function C(){}C.prototype=S.prototype,x.F=S.prototype,x.prototype=new C,x.prototype.constructor=x,x.D=function(M,N,U){for(var R=Array(arguments.length-2),le=2;le<arguments.length;le++)R[le-2]=arguments[le];return S.prototype[N].apply(M,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(x,S,C){C||(C=0);const M=Array(16);if(typeof S=="string")for(var N=0;N<16;++N)M[N]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(N=0;N<16;++N)M[N]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=x.g[0],C=x.g[1],N=x.g[2];let U=x.g[3],R;R=S+(U^C&(N^U))+M[0]+3614090360&4294967295,S=C+(R<<7&4294967295|R>>>25),R=U+(N^S&(C^N))+M[1]+3905402710&4294967295,U=S+(R<<12&4294967295|R>>>20),R=N+(C^U&(S^C))+M[2]+606105819&4294967295,N=U+(R<<17&4294967295|R>>>15),R=C+(S^N&(U^S))+M[3]+3250441966&4294967295,C=N+(R<<22&4294967295|R>>>10),R=S+(U^C&(N^U))+M[4]+4118548399&4294967295,S=C+(R<<7&4294967295|R>>>25),R=U+(N^S&(C^N))+M[5]+1200080426&4294967295,U=S+(R<<12&4294967295|R>>>20),R=N+(C^U&(S^C))+M[6]+2821735955&4294967295,N=U+(R<<17&4294967295|R>>>15),R=C+(S^N&(U^S))+M[7]+4249261313&4294967295,C=N+(R<<22&4294967295|R>>>10),R=S+(U^C&(N^U))+M[8]+1770035416&4294967295,S=C+(R<<7&4294967295|R>>>25),R=U+(N^S&(C^N))+M[9]+2336552879&4294967295,U=S+(R<<12&4294967295|R>>>20),R=N+(C^U&(S^C))+M[10]+4294925233&4294967295,N=U+(R<<17&4294967295|R>>>15),R=C+(S^N&(U^S))+M[11]+2304563134&4294967295,C=N+(R<<22&4294967295|R>>>10),R=S+(U^C&(N^U))+M[12]+1804603682&4294967295,S=C+(R<<7&4294967295|R>>>25),R=U+(N^S&(C^N))+M[13]+4254626195&4294967295,U=S+(R<<12&4294967295|R>>>20),R=N+(C^U&(S^C))+M[14]+2792965006&4294967295,N=U+(R<<17&4294967295|R>>>15),R=C+(S^N&(U^S))+M[15]+1236535329&4294967295,C=N+(R<<22&4294967295|R>>>10),R=S+(N^U&(C^N))+M[1]+4129170786&4294967295,S=C+(R<<5&4294967295|R>>>27),R=U+(C^N&(S^C))+M[6]+3225465664&4294967295,U=S+(R<<9&4294967295|R>>>23),R=N+(S^C&(U^S))+M[11]+643717713&4294967295,N=U+(R<<14&4294967295|R>>>18),R=C+(U^S&(N^U))+M[0]+3921069994&4294967295,C=N+(R<<20&4294967295|R>>>12),R=S+(N^U&(C^N))+M[5]+3593408605&4294967295,S=C+(R<<5&4294967295|R>>>27),R=U+(C^N&(S^C))+M[10]+38016083&4294967295,U=S+(R<<9&4294967295|R>>>23),R=N+(S^C&(U^S))+M[15]+3634488961&4294967295,N=U+(R<<14&4294967295|R>>>18),R=C+(U^S&(N^U))+M[4]+3889429448&4294967295,C=N+(R<<20&4294967295|R>>>12),R=S+(N^U&(C^N))+M[9]+568446438&4294967295,S=C+(R<<5&4294967295|R>>>27),R=U+(C^N&(S^C))+M[14]+3275163606&4294967295,U=S+(R<<9&4294967295|R>>>23),R=N+(S^C&(U^S))+M[3]+4107603335&4294967295,N=U+(R<<14&4294967295|R>>>18),R=C+(U^S&(N^U))+M[8]+1163531501&4294967295,C=N+(R<<20&4294967295|R>>>12),R=S+(N^U&(C^N))+M[13]+2850285829&4294967295,S=C+(R<<5&4294967295|R>>>27),R=U+(C^N&(S^C))+M[2]+4243563512&4294967295,U=S+(R<<9&4294967295|R>>>23),R=N+(S^C&(U^S))+M[7]+1735328473&4294967295,N=U+(R<<14&4294967295|R>>>18),R=C+(U^S&(N^U))+M[12]+2368359562&4294967295,C=N+(R<<20&4294967295|R>>>12),R=S+(C^N^U)+M[5]+4294588738&4294967295,S=C+(R<<4&4294967295|R>>>28),R=U+(S^C^N)+M[8]+2272392833&4294967295,U=S+(R<<11&4294967295|R>>>21),R=N+(U^S^C)+M[11]+1839030562&4294967295,N=U+(R<<16&4294967295|R>>>16),R=C+(N^U^S)+M[14]+4259657740&4294967295,C=N+(R<<23&4294967295|R>>>9),R=S+(C^N^U)+M[1]+2763975236&4294967295,S=C+(R<<4&4294967295|R>>>28),R=U+(S^C^N)+M[4]+1272893353&4294967295,U=S+(R<<11&4294967295|R>>>21),R=N+(U^S^C)+M[7]+4139469664&4294967295,N=U+(R<<16&4294967295|R>>>16),R=C+(N^U^S)+M[10]+3200236656&4294967295,C=N+(R<<23&4294967295|R>>>9),R=S+(C^N^U)+M[13]+681279174&4294967295,S=C+(R<<4&4294967295|R>>>28),R=U+(S^C^N)+M[0]+3936430074&4294967295,U=S+(R<<11&4294967295|R>>>21),R=N+(U^S^C)+M[3]+3572445317&4294967295,N=U+(R<<16&4294967295|R>>>16),R=C+(N^U^S)+M[6]+76029189&4294967295,C=N+(R<<23&4294967295|R>>>9),R=S+(C^N^U)+M[9]+3654602809&4294967295,S=C+(R<<4&4294967295|R>>>28),R=U+(S^C^N)+M[12]+3873151461&4294967295,U=S+(R<<11&4294967295|R>>>21),R=N+(U^S^C)+M[15]+530742520&4294967295,N=U+(R<<16&4294967295|R>>>16),R=C+(N^U^S)+M[2]+3299628645&4294967295,C=N+(R<<23&4294967295|R>>>9),R=S+(N^(C|~U))+M[0]+4096336452&4294967295,S=C+(R<<6&4294967295|R>>>26),R=U+(C^(S|~N))+M[7]+1126891415&4294967295,U=S+(R<<10&4294967295|R>>>22),R=N+(S^(U|~C))+M[14]+2878612391&4294967295,N=U+(R<<15&4294967295|R>>>17),R=C+(U^(N|~S))+M[5]+4237533241&4294967295,C=N+(R<<21&4294967295|R>>>11),R=S+(N^(C|~U))+M[12]+1700485571&4294967295,S=C+(R<<6&4294967295|R>>>26),R=U+(C^(S|~N))+M[3]+2399980690&4294967295,U=S+(R<<10&4294967295|R>>>22),R=N+(S^(U|~C))+M[10]+4293915773&4294967295,N=U+(R<<15&4294967295|R>>>17),R=C+(U^(N|~S))+M[1]+2240044497&4294967295,C=N+(R<<21&4294967295|R>>>11),R=S+(N^(C|~U))+M[8]+1873313359&4294967295,S=C+(R<<6&4294967295|R>>>26),R=U+(C^(S|~N))+M[15]+4264355552&4294967295,U=S+(R<<10&4294967295|R>>>22),R=N+(S^(U|~C))+M[6]+2734768916&4294967295,N=U+(R<<15&4294967295|R>>>17),R=C+(U^(N|~S))+M[13]+1309151649&4294967295,C=N+(R<<21&4294967295|R>>>11),R=S+(N^(C|~U))+M[4]+4149444226&4294967295,S=C+(R<<6&4294967295|R>>>26),R=U+(C^(S|~N))+M[11]+3174756917&4294967295,U=S+(R<<10&4294967295|R>>>22),R=N+(S^(U|~C))+M[2]+718787259&4294967295,N=U+(R<<15&4294967295|R>>>17),R=C+(U^(N|~S))+M[9]+3951481745&4294967295,x.g[0]=x.g[0]+S&4294967295,x.g[1]=x.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,x.g[2]=x.g[2]+N&4294967295,x.g[3]=x.g[3]+U&4294967295}a.prototype.v=function(x,S){S===void 0&&(S=x.length);const C=S-this.blockSize,M=this.C;let N=this.h,U=0;for(;U<S;){if(N==0)for(;U<=C;)l(this,x,U),U+=this.blockSize;if(typeof x=="string"){for(;U<S;)if(M[N++]=x.charCodeAt(U++),N==this.blockSize){l(this,M),N=0;break}}else for(;U<S;)if(M[N++]=x[U++],N==this.blockSize){l(this,M),N=0;break}}this.h=N,this.o+=S},a.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var S=1;S<x.length-8;++S)x[S]=0;S=this.o*8;for(var C=x.length-8;C<x.length;++C)x[C]=S&255,S/=256;for(this.v(x),x=Array(16),S=0,C=0;C<4;++C)for(let M=0;M<32;M+=8)x[S++]=this.g[C]>>>M&255;return x};function c(x,S){var C=p;return Object.prototype.hasOwnProperty.call(C,x)?C[x]:C[x]=S(x)}function d(x,S){this.h=S;const C=[];let M=!0;for(let N=x.length-1;N>=0;N--){const U=x[N]|0;M&&U==S||(C[N]=U,M=!1)}this.g=C}var p={};function _(x){return-128<=x&&x<128?c(x,function(S){return new d([S|0],S<0?-1:0)}):new d([x|0],x<0?-1:0)}function y(x){if(isNaN(x)||!isFinite(x))return w;if(x<0)return W(y(-x));const S=[];let C=1;for(let M=0;x>=C;M++)S[M]=x/C|0,C*=4294967296;return new d(S,0)}function T(x,S){if(x.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(x.charAt(0)=="-")return W(T(x.substring(1),S));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(S,8));let M=w;for(let U=0;U<x.length;U+=8){var N=Math.min(8,x.length-U);const R=parseInt(x.substring(U,U+N),S);N<8?(N=y(Math.pow(S,N)),M=M.j(N).add(y(R))):(M=M.j(C),M=M.add(y(R)))}return M}var w=_(0),V=_(1),F=_(16777216);r=d.prototype,r.m=function(){if(nt(this))return-W(this).m();let x=0,S=1;for(let C=0;C<this.g.length;C++){const M=this.i(C);x+=(M>=0?M:4294967296+M)*S,S*=4294967296}return x},r.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(tt(this))return"0";if(nt(this))return"-"+W(this).toString(x);const S=y(Math.pow(x,6));var C=this;let M="";for(;;){const N=Jt(C,S).g;C=mt(C,N.j(S));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(x);if(C=N,tt(C))return U+M;for(;U.length<6;)U="0"+U;M=U+M}},r.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function tt(x){if(x.h!=0)return!1;for(let S=0;S<x.g.length;S++)if(x.g[S]!=0)return!1;return!0}function nt(x){return x.h==-1}r.l=function(x){return x=mt(this,x),nt(x)?-1:tt(x)?0:1};function W(x){const S=x.g.length,C=[];for(let M=0;M<S;M++)C[M]=~x.g[M];return new d(C,~x.h).add(V)}r.abs=function(){return nt(this)?W(this):this},r.add=function(x){const S=Math.max(this.g.length,x.g.length),C=[];let M=0;for(let N=0;N<=S;N++){let U=M+(this.i(N)&65535)+(x.i(N)&65535),R=(U>>>16)+(this.i(N)>>>16)+(x.i(N)>>>16);M=R>>>16,U&=65535,R&=65535,C[N]=R<<16|U}return new d(C,C[C.length-1]&-2147483648?-1:0)};function mt(x,S){return x.add(W(S))}r.j=function(x){if(tt(this)||tt(x))return w;if(nt(this))return nt(x)?W(this).j(W(x)):W(W(this).j(x));if(nt(x))return W(this.j(W(x)));if(this.l(F)<0&&x.l(F)<0)return y(this.m()*x.m());const S=this.g.length+x.g.length,C=[];for(var M=0;M<2*S;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(let N=0;N<x.g.length;N++){const U=this.i(M)>>>16,R=this.i(M)&65535,le=x.i(N)>>>16,be=x.i(N)&65535;C[2*M+2*N]+=R*be,Tt(C,2*M+2*N),C[2*M+2*N+1]+=U*be,Tt(C,2*M+2*N+1),C[2*M+2*N+1]+=R*le,Tt(C,2*M+2*N+1),C[2*M+2*N+2]+=U*le,Tt(C,2*M+2*N+2)}for(x=0;x<S;x++)C[x]=C[2*x+1]<<16|C[2*x];for(x=S;x<2*S;x++)C[x]=0;return new d(C,0)};function Tt(x,S){for(;(x[S]&65535)!=x[S];)x[S+1]+=x[S]>>>16,x[S]&=65535,S++}function gt(x,S){this.g=x,this.h=S}function Jt(x,S){if(tt(S))throw Error("division by zero");if(tt(x))return new gt(w,w);if(nt(x))return S=Jt(W(x),S),new gt(W(S.g),W(S.h));if(nt(S))return S=Jt(x,W(S)),new gt(W(S.g),S.h);if(x.g.length>30){if(nt(x)||nt(S))throw Error("slowDivide_ only works with positive integers.");for(var C=V,M=S;M.l(x)<=0;)C=ie(C),M=ie(M);var N=It(C,1),U=It(M,1);for(M=It(M,2),C=It(C,2);!tt(M);){var R=U.add(M);R.l(x)<=0&&(N=N.add(C),U=R),M=It(M,1),C=It(C,1)}return S=mt(x,N.j(S)),new gt(N,S)}for(N=w;x.l(S)>=0;){for(C=Math.max(1,Math.floor(x.m()/S.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),U=y(C),R=U.j(S);nt(R)||R.l(x)>0;)C-=M,U=y(C),R=U.j(S);tt(U)&&(U=V),N=N.add(U),x=mt(x,R)}return new gt(N,x)}r.B=function(x){return Jt(this,x).h},r.and=function(x){const S=Math.max(this.g.length,x.g.length),C=[];for(let M=0;M<S;M++)C[M]=this.i(M)&x.i(M);return new d(C,this.h&x.h)},r.or=function(x){const S=Math.max(this.g.length,x.g.length),C=[];for(let M=0;M<S;M++)C[M]=this.i(M)|x.i(M);return new d(C,this.h|x.h)},r.xor=function(x){const S=Math.max(this.g.length,x.g.length),C=[];for(let M=0;M<S;M++)C[M]=this.i(M)^x.i(M);return new d(C,this.h^x.h)};function ie(x){const S=x.g.length+1,C=[];for(let M=0;M<S;M++)C[M]=x.i(M)<<1|x.i(M-1)>>>31;return new d(C,x.h)}function It(x,S){const C=S>>5;S%=32;const M=x.g.length-C,N=[];for(let U=0;U<M;U++)N[U]=S>0?x.i(U+C)>>>S|x.i(U+C+1)<<32-S:x.i(U+C);return new d(N,x.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,fE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=T,rr=d}).apply(typeof _0<"u"?_0:typeof self<"u"?self:typeof window<"u"?window:{});var Rc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var dE,El,mE,kc,im,gE,pE,yE;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rc=="object"&&Rc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var L=u[b];if(!(L in v))break t;v=v[L]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function T(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function w(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(b,L,B){for(var et=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)et[wt-2]=arguments[wt];return m.prototype[L].apply(b,et)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function tt(u,m){for(let b=1;b<arguments.length;b++){const L=arguments[b];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let et=0;et<B;et++)u[v+et]=L[et]}else u.push(L)}}class nt{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function mt(){var u=x;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Tt{constructor(){this.h=this.g=null}add(m,v){const b=gt.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var gt=new nt(()=>new Jt,u=>u.reset());class Jt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,It=!1,x=new Tt,S=()=>{const u=Promise.resolve(void 0);ie=()=>{u.then(C)}};function C(){for(var u;u=mt();){try{u.h.call(u.g)}catch(v){W(v)}var m=gt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}It=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function le(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(le,N),le.prototype.init=function(u,m){const v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&le.Z.h.call(this)},le.prototype.h=function(){le.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var be="closure_listenable_"+(Math.random()*1e6|0),H=0;function st(u,m,v,b,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=L,this.key=++H,this.da=this.fa=!1}function ft(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function zt(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function Kt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rt(u,m){let v,b;for(let L=1;L<arguments.length;L++){b=arguments[L];for(v in b)u[v]=b[v];for(let B=0;B<K.length;B++)v=K[B],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function at(u){this.src=u,this.g={},this.h=0}at.prototype.add=function(u,m,v,b,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const et=J(u,m,b,L);return et>-1?(m=u[et],v||(m.fa=!1)):(m=new st(m,this.src,B,!!b,L),m.fa=v,u.push(m)),m};function X(u,m){const v=m.type;if(v in u.g){var b=u.g[v],L=Array.prototype.indexOf.call(b,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(b,L,1),B&&(ft(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function J(u,m,v,b){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==b)return L}return-1}var it="closure_lm_"+(Math.random()*1e6|0),ht={};function xt(u,m,v,b,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)xt(u,m[B],v,b,L);return null}return v=pr(v),u&&u[be]?u.J(m,v,p(b)?!!b.capture:!1,L):Ot(u,m,v,!1,b,L)}function Ot(u,m,v,b,L,B){if(!m)throw Error("Invalid event type");const et=p(L)?!!L.capture:!!L;let wt=Xt(u);if(wt||(u[it]=wt=new at(u)),v=wt.add(m,v,b,et,B),v.proxy)return v;if(b=Gt(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)U||(L=et),L===void 0&&(L=!1),u.addEventListener(m.toString(),b,L);else if(u.attachEvent)u.attachEvent(Yt(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Gt(){function u(v){return m.call(u.src,u.listener,v)}const m=Ht;return u}function yt(u,m,v,b,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)yt(u,m[B],v,b,L);else b=p(b)?!!b.capture:!!b,v=pr(v),u&&u[be]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=J(m,v,b,L),v>-1&&(ft(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=Xt(u))&&(m=u.g[m.toString()],u=-1,m&&(u=J(m,v,b,L)),(v=u>-1?m[u]:null)&&Bt(v))}function Bt(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[be])X(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(Yt(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=Xt(m))?(X(v,u),v.h==0&&(v.src=null,m[it]=null)):ft(u)}}}function Yt(u){return u in ht?ht[u]:ht[u]="on"+u}function Ht(u,m){if(u.da)u=!0;else{m=new le(m,this);const v=u.listener,b=u.ha||u.src;u.fa&&Bt(u),u=v.call(b,m)}return u}function Xt(u){return u=u[it],u instanceof at?u:null}var nn="__closure_events_fn_"+(Math.random()*1e9>>>0);function pr(u){return typeof u=="function"?u:(u[nn]||(u[nn]=function(m){return u.handleEvent(m)}),u[nn])}function Mt(){M.call(this),this.i=new at(this),this.M=this,this.G=null}w(Mt,M),Mt.prototype[be]=!0,Mt.prototype.removeEventListener=function(u,m,v,b){yt(this,u,m,v,b)};function ue(u,m){var v,b=u.G;if(b)for(v=[];b;b=b.G)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(b,u),rt(m,L)}L=!0;let B,et;if(v)for(et=v.length-1;et>=0;et--)B=m.g=v[et],L=Dn(B,b,!0,m)&&L;if(B=m.g=u,L=Dn(B,b,!0,m)&&L,L=Dn(B,b,!1,m)&&L,v)for(et=0;et<v.length;et++)B=m.g=v[et],L=Dn(B,b,!1,m)&&L}Mt.prototype.N=function(){if(Mt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let b=0;b<v.length;b++)ft(v[b]);delete u.g[m],u.h--}}this.G=null},Mt.prototype.J=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},Mt.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function Dn(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const et=m[B];if(et&&!et.da&&et.capture==v){const wt=et.listener,Se=et.ha||et.src;et.fa&&X(u.i,et),L=wt.call(Se,b)!==!1&&L}}return L&&!b.defaultPrevented}function yr(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function na(u){u.g=yr(()=>{u.g=null,u.i&&(u.i=!1,na(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class qe extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:na(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qi(u){M.call(this),this.h=u,this.g={}}w(qi,M);var yo=[];function _o(u){zt(u.g,function(m,v){this.g.hasOwnProperty(v)&&Bt(m)},u),u.g={}}qi.prototype.N=function(){qi.Z.N.call(this),_o(this)},qi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _s=d.JSON.stringify,Nh=d.JSON.parse,Zl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Jl(){}function Wl(){}var $n={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ke(){N.call(this,"d")}w(Ke,N);function On(){N.call(this,"c")}w(On,N);var Ae={},tu=null;function ia(){return tu=tu||new Mt}Ae.Ia="serverreachability";function eu(u){N.call(this,Ae.Ia,u)}w(eu,N);function hi(u){const m=ia();ue(m,new eu(m))}Ae.STAT_EVENT="statevent";function _r(u,m){N.call(this,Ae.STAT_EVENT,u),this.stat=m}w(_r,N);function Ie(u){const m=ia();ue(m,new _r(m,u))}Ae.Ja="timingevent";function fi(u,m){N.call(this,Ae.Ja,u),this.size=m}w(fi,N);function di(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Zn(){this.g=!0}Zn.prototype.ua=function(){this.g=!1};function Dh(u,m,v,b,L,B){u.info(function(){if(u.g)if(B){var et="",wt=B.split("&");for(let $t=0;$t<wt.length;$t++){var Se=wt[$t].split("=");if(Se.length>1){const ge=Se[0];Se=Se[1];const Un=ge.split("_");et=Un.length>=2&&Un[1]=="type"?et+(ge+"="+Se+"&"):et+(ge+"=redacted&")}}}else et=null;else et=B;return"XMLHTTP REQ ("+b+") [attempt "+L+"]: "+m+`
`+v+`
`+et})}function nu(u,m,v,b,L,B,et){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+et})}function mi(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Oh(u,v)+(b?" "+b:"")})}function vr(u,m){u.info(function(){return"TIMEOUT: "+m})}Zn.prototype.info=function(){};function Oh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var L=b[0];if(L!="noop"&&L!="stop"&&L!="close")for(let et=1;et<b.length;et++)b[et]=""}}}}return _s(B)}catch{return m}}var Er={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},vo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Eo;function Tr(){}w(Tr,Jl),Tr.prototype.g=function(){return new XMLHttpRequest},Eo=new Tr;function Hi(u){return encodeURIComponent(String(u))}function iu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Jn(u,m,v,b){this.j=u,this.i=m,this.l=v,this.S=b||1,this.V=new qi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Wn}function Wn(){this.i=null,this.g="",this.h=!1}var xe={},He={};function gi(u,m,v){u.M=1,u.A=br(De(m)),u.u=v,u.R=!0,sa(u,null)}function sa(u,m){u.F=Date.now(),pi(u),u.B=De(u.A);var v=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),la(v.i,"t",b),u.C=0,v=u.j.L,u.h=new Wn,u.g=_u(u.j,v?m:null,!u.u),u.P>0&&(u.O=new qe(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,b=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(yo[0]=L.toString()),L=yo);for(let B=0;B<L.length;B++){const et=xt(v,L[B],b||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),hi(),Dh(u.i,u.v,u.B,u.l,u.S,u.u)}Jn.prototype.ba=function(u){u=u.target;const m=this.O;m&&ni(u)==3?m.j():this.Y(u)},Jn.prototype.Y=function(u){try{if(u==this.g)t:{const wt=ni(this.g),Se=this.g.ya(),$t=this.g.ca();if(!(wt<3)&&(wt!=3||this.g&&(this.h.h||this.g.la()||Ye(this.g)))){this.K||wt!=4||Se==7||(Se==8||$t<=0?hi(3):hi(2)),yi(this);var m=this.g.ca();this.X=m;var v=Mh(this);if(this.o=m==200,nu(this.i,this.v,this.B,this.l,this.S,wt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var b,L=this.g;if((b=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(b)){var B=b;break e}}B=null}if(u=B)mi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,_i(this,u);else{this.o=!1,this.m=3,Ie(12),Tn(this),Mn(this);break t}}if(this.R){u=!0;let ge;for(;!this.K&&this.C<v.length;)if(ge=ru(this,v),ge==He){wt==4&&(this.m=4,Ie(14),u=!1),mi(this.i,this.l,null,"[Incomplete Response]");break}else if(ge==xe){this.m=4,Ie(15),mi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else mi(this.i,this.l,ge,null),_i(this,ge);if(su(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||v.length!=0||this.h.h||(this.m=1,Ie(16),u=!1),this.o=this.o&&u,!u)mi(this.i,this.l,v,"[Invalid Chunked Response]"),Tn(this),Mn(this);else if(v.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),ko(et),et.P=!0,Ie(11))}}else mi(this.i,this.l,v,null),_i(this,v);wt==4&&Tn(this),this.o&&!this.K&&(wt==4?mu(this.j,this):(this.o=!1,pi(this)))}else Fi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ie(12)):(this.m=0,Ie(13)),Tn(this),Mn(this)}}}catch{}};function Mh(u){if(!su(u))return u.g.la();const m=Ye(u.g);if(m==="")return"";let v="";const b=m.length,L=ni(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Tn(u),Mn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<b;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==b-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function su(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function ru(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?He:(v=Number(m.substring(v,b)),isNaN(v)?xe:(b+=1,b+v>m.length?He:(m=m.slice(b,b+v),u.C=b+v,m)))}Jn.prototype.cancel=function(){this.K=!0,Tn(this)};function pi(u){u.T=Date.now()+u.H,ra(u,u.H)}function ra(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=di(y(u.aa,u),m)}function yi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Jn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(vr(this.i,this.B),this.M!=2&&(hi(),Ie(17)),Tn(this),this.m=2,Mn(this)):ra(this,this.T-u)};function Mn(u){u.j.I==0||u.K||mu(u.j,u)}function Tn(u){yi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,_o(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function _i(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Ei(v.h,u))){if(!u.L&&Ei(v.h,u)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var L=b;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)da(v),Rs(v);else break t;xr(v),Ie(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=di(y(v.Va,v),6e3));vi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ri(v,11)}else if((u.L||v.g==u)&&da(v),!R(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let $t=L[m];const ge=$t[0];if(!(ge<=v.K))if(v.K=ge,$t=$t[1],v.I==2)if($t[0]=="c"){v.M=$t[1],v.ba=$t[2];const Un=$t[3];Un!=null&&(v.ka=Un,v.j.info("VER="+v.ka));const Ci=$t[4];Ci!=null&&(v.za=Ci,v.j.info("SVER="+v.za));const ii=$t[5];ii!=null&&typeof ii=="number"&&ii>0&&(b=1.5*ii,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const si=u.g;if(si){const Nr=si.g?si.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Nr){var B=b.h;B.g||Nr.indexOf("spdy")==-1&&Nr.indexOf("quic")==-1&&Nr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Ao(B,B.h),B.h=null))}if(b.G){const ma=si.g?si.g.getResponseHeader("X-HTTP-Session-Id"):null;ma&&(b.wa=ma,te(b.J,b.G,ma))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var et=u;if(b.na=yu(b,b.L?b.ba:null,b.W),et.L){So(b.h,et);var wt=et,Se=b.O;Se&&(wt.H=Se),wt.D&&(yi(wt),pi(wt)),b.g=et}else fu(b);v.i.length>0&&wi(v)}else $t[0]!="stop"&&$t[0]!="close"||Ri(v,7);else v.I==3&&($t[0]=="stop"||$t[0]=="close"?$t[0]=="stop"?Ri(v,7):Mo(v):$t[0]!="noop"&&v.l&&v.l.qa($t),v.A=0)}}hi(4)}catch{}}var Ne=class{constructor(u,m){this.g=u,this.map=m}};function To(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function bo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function vi(u){return u.h?1:u.g?u.g.size:0}function Ei(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ao(u,m){u.g?u.g.add(m):u.h=m}function So(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}To.prototype.cancel=function(){if(this.i=wo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function wo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return F(u.i)}var au=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function aa(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const b=u[v].indexOf("=");let L,B=null;b>=0?(L=u[v].substring(0,b),B=u[v].substring(b+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function bn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof bn?(this.l=u.l,Ge(this,u.j),this.o=u.o,this.g=u.g,vs(this,u.u),this.h=u.h,Ro(this,cu(u.i)),this.m=u.m):u&&(m=String(u).match(au))?(this.l=!1,Ge(this,m[1]||"",!0),this.o=Ti(m[2]||""),this.g=Ti(m[3]||"",!0),vs(this,m[4]),this.h=Ti(m[5]||"",!0),Ro(this,m[6]||"",!0),this.m=Ti(m[7]||"")):(this.l=!1,this.i=new Ts(null,this.l))}bn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Ar(m,oa,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ar(m,oa,!0),"@"),u.push(Hi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Ar(v,v.charAt(0)=="/"?Co:ou,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Ar(v,lu)),u.join("")},bn.prototype.resolve=function(u){const m=De(this);let v=!!u.j;v?Ge(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var b=u.h;if(v)vs(m,u.u);else if(v=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var L=m.h.lastIndexOf("/");L!=-1&&(b=m.h.slice(0,L+1)+b)}if(L=b,L==".."||L==".")b="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){b=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let et=0;et<L.length;){const wt=L[et++];wt=="."?b&&et==L.length&&B.push(""):wt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),b&&et==L.length&&B.push("")):(B.push(wt),b=!0)}b=B.join("/")}else b=L}return v?m.h=b:v=u.i.toString()!=="",v?Ro(m,cu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function De(u){return new bn(u)}function Ge(u,m,v){u.j=v?Ti(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function vs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Ro(u,m,v){m instanceof Ts?(u.i=m,ua(u.i,u.l)):(v||(m=Ar(m,Es)),u.i=new Ts(m,u.l))}function te(u,m,v){u.i.set(m,v)}function br(u){return te(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ti(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ar(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,fn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function fn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var oa=/[#\/\?@]/g,ou=/[#\?:]/g,Co=/[#\?]/g,Es=/[#\?@]/g,lu=/#/g;function Ts(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function dn(u){u.g||(u.g=new Map,u.h=0,u.i&&aa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=Ts.prototype,r.add=function(u,m){dn(this),this.i=null,u=bs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function uu(u,m){dn(u),m=bs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Io(u,m){return dn(u),m=bs(u,m),u.g.has(m)}r.forEach=function(u,m){dn(this),this.g.forEach(function(v,b){v.forEach(function(L){u.call(m,L,b,this)},this)},this)};function xo(u,m){dn(u);let v=[];if(typeof m=="string")Io(u,m)&&(v=v.concat(u.g.get(bs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return dn(this),this.i=null,u=bs(this,u),Io(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=xo(this,u),u.length>0?String(u[0]):m):m};function la(u,m,v){uu(u,m),v.length>0&&(u.i=null,u.g.set(bs(u,m),F(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const L=Hi(v);v=xo(this,v);for(let B=0;B<v.length;B++){let et=L;v[B]!==""&&(et+="="+Hi(v[B])),u.push(et)}}return this.i=u.join("&")};function cu(u){const m=new Ts;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function bs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ua(u,m){m&&!u.j&&(dn(u),u.i=null,u.g.forEach(function(v,b){const L=b.toLowerCase();b!=L&&(uu(this,b),la(this,L,v))},u)),u.j=m}function ti(u,m){const v=new Zn;if(d.Image){const b=new Image;b.onload=T(Vn,v,"TestLoadImage: loaded",!0,m,b),b.onerror=T(Vn,v,"TestLoadImage: error",!1,m,b),b.onabort=T(Vn,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=T(Vn,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function No(u,m){const v=new Zn,b=new AbortController,L=setTimeout(()=>{b.abort(),Vn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(B=>{clearTimeout(L),B.ok?Vn(v,"TestPingServer: ok",!0,m):Vn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Vn(v,"TestPingServer: error",!1,m)})}function Vn(u,m,v,b,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),b(v)}catch{}}function As(){this.g=new Zl}function bi(u){this.i=u.Sb||null,this.h=u.ab||!1}w(bi,Jl),bi.prototype.g=function(){return new Sr(this.i,this.h)};function Sr(u,m){Mt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Sr,Mt),r=Sr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ei(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ss(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ei(this)),this.g&&(this.readyState=3,ei(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ca(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ca(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ss(this):ei(this),this.readyState==3&&ca(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Ss(this))},r.Na=function(u){this.g&&(this.response=u,Ss(this))},r.ga=function(){this.g&&Ss(this)};function Ss(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ei(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ei(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Sr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function kn(u){let m="";return zt(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function wr(u,m,v){t:{for(b in v){var b=!1;break t}b=!0}b||(v=kn(v),typeof u=="string"?v!=null&&Hi(v):te(u,m,v))}function se(u){Mt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(se,Mt);var Ai=/^https?$/i,Do=["POST","PUT"];r=se.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Eo.g(),this.g.onreadystatechange=V(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Rr(this,B);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var L in b)v.set(L,b[L]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const B of b.keys())v.set(B,b.get(B));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Do,m,void 0)>=0)||b||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,et]of v)this.g.setRequestHeader(B,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Rr(this,B)}};function Rr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Oo(u),Gi(u)}function Oo(u){u.A||(u.A=!0,ue(u,"complete"),ue(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,ue(this,"complete"),ue(this,"abort"),Gi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gi(this,!0)),se.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Cr(this):this.Xa())},r.Xa=function(){Cr(this)};function Cr(u){if(u.h&&typeof c<"u"){if(u.v&&ni(u)==4)setTimeout(u.Ca.bind(u),0);else if(ue(u,"readystatechange"),ni(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var b;if(b=B===0){let et=String(u.D).match(au)[1]||null;!et&&d.self&&d.self.location&&(et=d.self.location.protocol.slice(0,-1)),b=!Ai.test(et?et.toLowerCase():"")}v=b}if(v)ue(u,"complete"),ue(u,"success");else{u.o=6;try{var L=ni(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Oo(u)}}finally{Gi(u)}}}}function Gi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||ue(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ni(u){return u.g?u.g.readyState:0}r.ca=function(){try{return ni(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Nh(m)}};function Ye(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Fi(u){const m={};u=(u.g&&ni(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(R(u[b]))continue;var v=iu(u[b]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}Kt(m,function(b){return b.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Si(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function ws(u){this.za=0,this.i=[],this.j=new Zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Si("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Si("baseRetryDelayMs",5e3,u),this.Za=Si("retryDelaySeedMs",1e4,u),this.Ta=Si("forwardChannelMaxRetries",2,u),this.va=Si("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new To(u&&u.concurrentRequestLimit),this.Ba=new As,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ws.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,b){Ie(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=yu(this,null,this.W),wi(this)};function Mo(u){if(ha(u),u.I==3){var m=u.V++,v=De(u.J);if(te(v,"SID",u.M),te(v,"RID",m),te(v,"TYPE","terminate"),Ir(u,v),m=new Jn(u,u.j,m),m.M=2,m.A=br(De(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=_u(m.j,null),m.g.ea(m.A)),m.F=Date.now(),pi(m)}pu(u)}function Rs(u){u.g&&(ko(u),u.g.cancel(),u.g=null)}function ha(u){Rs(u),u.v&&(d.clearTimeout(u.v),u.v=null),da(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function wi(u){if(!bo(u.h)&&!u.m){u.m=!0;var m=u.Ea;ie||S(),It||(ie(),It=!0),x.add(m,u),u.D=0}}function fa(u,m){return vi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=di(y(u.Ea,u,m),gu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Jn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),rt(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=hu(this,L,m),v=De(this.J),te(v,"RID",u),te(v,"CVER",22),this.G&&te(v,"X-HTTP-Session-Id",this.G),Ir(this,v),B&&(this.R?m="headers="+Hi(kn(B))+"&"+m:this.u&&wr(v,this.u,B)),Ao(this.h,L),this.Ra&&te(v,"TYPE","init"),this.S?(te(v,"$req",m),te(v,"SID","null"),L.U=!0,gi(L,v,null)):gi(L,v,m),this.I=2}}else this.I==3&&(u?Vo(this,u):this.i.length==0||bo(this.h)||Vo(this))};function Vo(u,m){var v;m?v=m.l:v=u.V++;const b=De(u.J);te(b,"SID",u.M),te(b,"RID",v),te(b,"AID",u.K),Ir(u,b),u.u&&u.o&&wr(b,u.u,u.o),v=new Jn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=hu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ao(u.h,v),gi(v,b,m)}function Ir(u,m){u.H&&zt(u.H,function(v,b){te(m,b,v)}),u.l&&zt({},function(v,b){te(m,b,v)})}function hu(u,m,v){v=Math.min(u.i.length,v);const b=u.l?y(u.l.Ka,u.l,u):null;t:{var L=u.i;let wt=-1;for(;;){const Se=["count="+v];wt==-1?v>0?(wt=L[0].g,Se.push("ofs="+wt)):wt=0:Se.push("ofs="+wt);let $t=!0;for(let ge=0;ge<v;ge++){var B=L[ge].g;const Un=L[ge].map;if(B-=wt,B<0)wt=Math.max(0,L[ge].g-100),$t=!1;else try{B="req"+B+"_"||"";try{var et=Un instanceof Map?Un:Object.entries(Un);for(const[Ci,ii]of et){let si=ii;p(ii)&&(si=_s(ii)),Se.push(B+Ci+"="+encodeURIComponent(si))}}catch(Ci){throw Se.push(B+"type="+encodeURIComponent("_badmap")),Ci}}catch{b&&b(Un)}}if($t){et=Se.join("&");break t}}et=void 0}return u=u.i.splice(0,v),m.G=u,et}function fu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ie||S(),It||(ie(),It=!0),x.add(m,u),u.A=0}}function xr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=di(y(u.Da,u),gu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,du(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=di(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ie(10),Rs(this),du(this))};function ko(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function du(u){u.g=new Jn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=De(u.na);te(m,"RID","rpc"),te(m,"SID",u.M),te(m,"AID",u.K),te(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&te(m,"TO",u.ia),te(m,"TYPE","xmlhttp"),Ir(u,m),u.u&&u.o&&wr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=br(De(m)),v.u=null,v.R=!0,sa(v,u)}r.Va=function(){this.C!=null&&(this.C=null,Rs(this),xr(this),Ie(19))};function da(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function mu(u,m){var v=null;if(u.g==m){da(u),ko(u),u.g=null;var b=2}else if(Ei(u.h,m))v=m.G,So(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;b=ia(),ue(b,new fi(b,v)),wi(u)}else fu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(b==1&&fa(u,m)||b==2&&xr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:Ri(u,5);break;case 4:Ri(u,10);break;case 3:Ri(u,6);break;default:Ri(u,2)}}}function gu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ri(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),b=u.Ua;const L=!b;b=new bn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ge(b,"https"),br(b),L?ti(b.toString(),v):No(b.toString(),v)}else Ie(2);u.I=0,u.l&&u.l.pa(m),pu(u),ha(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ie(2)):(this.j.info("Failed to ping google.com"),Ie(1))};function pu(u){if(u.I=0,u.ja=[],u.l){const m=wo(u.h);(m.length!=0||u.i.length!=0)&&(tt(u.ja,m),tt(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function yu(u,m,v){var b=v instanceof bn?De(v):new bn(v);if(b.g!="")m&&(b.g=m+"."+b.g),vs(b,b.u);else{var L=d.location;b=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new bn(null);b&&Ge(B,b),m&&(B.g=m),L&&vs(B,L),v&&(B.h=v),b=B}return v=u.G,m=u.wa,v&&m&&te(b,v,m),te(b,"VER",u.ka),Ir(u,b),b}function _u(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new se(new bi({ab:v})):new se(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function vu(){}r=vu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Cs(){}Cs.prototype.g=function(u,m){return new un(u,m)};function un(u,m){Mt.call(this),this.g=new ws(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Qi(this)}w(un,Mt),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){Mo(this.g)},un.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=_s(u),u=v);m.i.push(new Ne(m.Ya++,u)),m.I==3&&wi(m)},un.prototype.N=function(){this.g.l=null,delete this.j,Mo(this.g),delete this.g,un.Z.N.call(this)};function Eu(u){Ke.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(Eu,Ke);function Tu(){On.call(this),this.status=1}w(Tu,On);function Qi(u){this.g=u}w(Qi,vu),Qi.prototype.ra=function(){ue(this.g,"a")},Qi.prototype.qa=function(u){ue(this.g,new Eu(u))},Qi.prototype.pa=function(u){ue(this.g,new Tu)},Qi.prototype.oa=function(){ue(this.g,"b")},Cs.prototype.createWebChannel=Cs.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,yE=function(){return new Cs},pE=function(){return ia()},gE=Ae,im={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Er.NO_ERROR=0,Er.TIMEOUT=8,Er.HTTP_ERROR=6,kc=Er,vo.COMPLETE="complete",mE=vo,Wl.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",Mt.prototype.listen=Mt.prototype.J,El=Wl,se.prototype.listenOnce=se.prototype.K,se.prototype.getLastError=se.prototype.Ha,se.prototype.getLastErrorCode=se.prototype.ya,se.prototype.getStatus=se.prototype.ca,se.prototype.getResponseJson=se.prototype.La,se.prototype.getResponseText=se.prototype.la,se.prototype.send=se.prototype.ea,se.prototype.setWithCredentials=se.prototype.Fa,dE=se}).apply(typeof Rc<"u"?Rc:typeof self<"u"?self:typeof window<"u"?window:{});const v0="@firebase/firestore",E0="4.9.3";let an=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");let fo="12.7.0";const Zr=new wm("@firebase/firestore");function Ga(){return Zr.logLevel}function ot(r,...t){if(Zr.logLevel<=Ut.DEBUG){const i=t.map(Um);Zr.debug(`Firestore (${fo}): ${r}`,...i)}}function gs(r,...t){if(Zr.logLevel<=Ut.ERROR){const i=t.map(Um);Zr.error(`Firestore (${fo}): ${r}`,...i)}}function no(r,...t){if(Zr.logLevel<=Ut.WARN){const i=t.map(Um);Zr.warn(`Firestore (${fo}): ${r}`,...i)}}function Um(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function vt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,_E(r,a,i)}function _E(r,t,i){let a=`FIRESTORE (${fo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw gs(a),new Error(a)}function Wt(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||_E(t,l,a)}function St(r,t){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends ys{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ar{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class vE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class A2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(an.UNAUTHENTICATED)))}shutdown(){}}class S2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class w2{constructor(t){this.t=t,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Wt(this.o===void 0,42304);let a=this.i;const l=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new ar;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ar,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ar)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Wt(typeof a.accessToken=="string",31837,{l:a}),new vE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Wt(t===null||typeof t=="string",2055,{h:t}),new an(t)}}class R2{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=an.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class C2{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new R2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(an.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class T0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class I2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Wt(this.o===void 0,3512);const a=c=>{c.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new T0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Wt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new T0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function x2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Lm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=x2(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Lt(r,t){return r<t?-1:r>t?1:0}function sm(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=t.charAt(a);if(l!==c)return Bd(l)===Bd(c)?Lt(l,c):Bd(l)?1:-1}return Lt(r.length,t.length)}const N2=55296,D2=57343;function Bd(r){const t=r.charCodeAt(0);return t>=N2&&t<=D2}function io(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}const b0="__name__";class Mi{constructor(t,i,a){i===void 0?i=0:i>t.length&&vt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&vt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Mi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Mi?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Mi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Lt(t.length,i.length)}static compareSegments(t,i){const a=Mi.isNumericId(t),l=Mi.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Mi.extractNumericId(t).compare(Mi.extractNumericId(i)):sm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return rr.fromString(t.substring(4,t.length-2))}}class _e extends Mi{construct(t,i,a){return new _e(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ct(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new _e(i)}static emptyPath(){return new _e([])}}const O2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Mi{construct(t,i,a){return new tn(t,i,a)}static isValidIdentifier(t){return O2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===b0}static keyField(){return new tn([b0])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ct(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new ct(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ct(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=_,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new ct(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new tn(i)}static emptyPath(){return new tn([])}}class pt{constructor(t){this.path=t}static fromPath(t){return new pt(_e.fromString(t))}static fromName(t){return new pt(_e.fromString(t).popFirst(5))}static empty(){return new pt(_e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&_e.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return _e.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pt(new _e(t.slice()))}}function M2(r,t,i){if(!i)throw new ct(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function V2(r,t,i,a){if(t===!0&&a===!0)throw new ct(Z.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function A0(r){if(!pt.isDocumentKey(r))throw new ct(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function EE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Pm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":vt(12329,{type:typeof r})}function ui(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ct(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Pm(r);throw new ct(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Le(r,t){const i={typeString:r};return t&&(i.value=t),i}function Fl(r,t){if(!EE(r))throw new ct(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ct(Z.INVALID_ARGUMENT,i);return!0}const S0=-62135596800,w0=1e6;class me{static now(){return me.fromMillis(Date.now())}static fromDate(t){return me.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*w0);return new me(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ct(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ct(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<S0)throw new ct(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/w0}_compareTo(t){return this.seconds===t.seconds?Lt(this.nanoseconds,t.nanoseconds):Lt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:me._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Fl(t,me._jsonSchema))return new me(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-S0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}me._jsonSchemaVersion="firestore/timestamp/1.0",me._jsonSchema={type:Le("string",me._jsonSchemaVersion),seconds:Le("number"),nanoseconds:Le("number")};class bt{static fromTimestamp(t){return new bt(t)}static min(){return new bt(new me(0,0))}static max(){return new bt(new me(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ol=-1;function k2(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=bt.fromTimestamp(a===1e9?new me(i+1,0):new me(i,a));return new lr(l,pt.empty(),t)}function U2(r){return new lr(r.readTime,r.key,Ol)}class lr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new lr(bt.min(),pt.empty(),Ol)}static max(){return new lr(bt.max(),pt.empty(),Ol)}}function L2(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=pt.comparator(r.documentKey,t.documentKey),i!==0?i:Lt(r.largestBatchId,t.largestBatchId))}const P2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class z2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function mo(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==P2)throw r;ot("LocalStore","Unexpectedly lost primary lease")}class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new $(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):$.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):$.reject(i)}static resolve(t){return new $(((i,a)=>{i(t)}))}static reject(t){return new $(((i,a)=>{a(t)}))}static waitFor(t){return new $(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(_=>a(_)))})),d=!0,c===l&&i()}))}static or(t){let i=$.resolve(!1);for(const a of t)i=i.next((l=>l?$.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new $(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((T=>{d[y]=T,++p,p===c&&a(d)}),(T=>l(T)))}}))}static doWhile(t,i){return new $(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function j2(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function go(r){return r.name==="IndexedDbTransactionError"}class fh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}fh.ce=-1;const zm=-1;function dh(r){return r==null}function $c(r){return r===0&&1/r==-1/0}function B2(r){return typeof r=="number"&&Number.isInteger(r)&&!$c(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const TE="";function q2(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=R0(t)),t=H2(r.get(i),t);return R0(t)}function H2(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case TE:i+="";break;default:i+=c}}return i}function R0(r){return r+TE+""}function C0(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function mr(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function bE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class ve{constructor(t,i){this.comparator=t,this.root=i||We.EMPTY}insert(t,i){return new ve(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,We.BLACK,null,null))}remove(t){return new ve(this.comparator,this.root.remove(t,this.comparator).copy(null,null,We.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Cc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Cc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Cc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Cc(this.root,t,this.comparator,!0)}}class Cc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class We{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??We.RED,this.left=l??We.EMPTY,this.right=c??We.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new We(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return We.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return We.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,We.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,We.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw vt(27949);return t+(this.isRed()?0:1)}}We.EMPTY=null,We.RED=!0,We.BLACK=!1;We.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new We(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Be{constructor(t){this.comparator=t,this.data=new ve(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new I0(this.data.getIterator())}getIteratorFrom(t){return new I0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Be)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Be(this.comparator);return i.data=t,i}}class I0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Nn{constructor(t){this.fields=t,t.sort(tn.comparator)}static empty(){return new Nn([])}unionWith(t){let i=new Be(tn.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Nn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return io(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class AE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class en{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new AE("Invalid base64 string: "+c):c}})(t);return new en(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new en(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Lt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}en.EMPTY_BYTE_STRING=new en("");const G2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ur(r){if(Wt(!!r,39018),typeof r=="string"){let t=0;const i=G2.exec(r);if(Wt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Ce(r.seconds),nanos:Ce(r.nanos)}}function Ce(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function cr(r){return typeof r=="string"?en.fromBase64String(r):en.fromUint8Array(r)}const SE="server_timestamp",wE="__type__",RE="__previous_value__",CE="__local_write_time__";function jm(r){return(r?.mapValue?.fields||{})[wE]?.stringValue===SE}function mh(r){const t=r.mapValue.fields[RE];return jm(t)?mh(t):t}function Ml(r){const t=ur(r.mapValue.fields[CE].timestampValue);return new me(t.seconds,t.nanos)}class F2{constructor(t,i,a,l,c,d,p,_,y,T){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=T}}const Zc="(default)";class Vl{constructor(t,i){this.projectId=t,this.database=i||Zc}static empty(){return new Vl("","")}get isDefaultDatabase(){return this.database===Zc}isEqual(t){return t instanceof Vl&&t.projectId===this.projectId&&t.database===this.database}}const IE="__type__",Q2="__max__",Ic={mapValue:{}},xE="__vector__",Jc="value";function hr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?jm(r)?4:Y2(r)?9007199254740991:K2(r)?10:11:vt(28295,{value:r})}function ji(r,t){if(r===t)return!0;const i=hr(r);if(i!==hr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Ml(r).isEqual(Ml(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=ur(l.timestampValue),p=ur(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return cr(l.bytesValue).isEqual(cr(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return Ce(l.geoPointValue.latitude)===Ce(c.geoPointValue.latitude)&&Ce(l.geoPointValue.longitude)===Ce(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Ce(l.integerValue)===Ce(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Ce(l.doubleValue),p=Ce(c.doubleValue);return d===p?$c(d)===$c(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return io(r.arrayValue.values||[],t.arrayValue.values||[],ji);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(C0(d)!==C0(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!ji(d[_],p[_])))return!1;return!0})(r,t);default:return vt(52216,{left:r})}}function kl(r,t){return(r.values||[]).find((i=>ji(i,t)))!==void 0}function so(r,t){if(r===t)return 0;const i=hr(r),a=hr(t);if(i!==a)return Lt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Lt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=Ce(c.integerValue||c.doubleValue),_=Ce(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(r,t);case 3:return x0(r.timestampValue,t.timestampValue);case 4:return x0(Ml(r),Ml(t));case 5:return sm(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=cr(c),_=cr(d);return p.compareTo(_)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let y=0;y<p.length&&y<_.length;y++){const T=Lt(p[y],_[y]);if(T!==0)return T}return Lt(p.length,_.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Lt(Ce(c.latitude),Ce(d.latitude));return p!==0?p:Lt(Ce(c.longitude),Ce(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return N0(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},y=p[Jc]?.arrayValue,T=_[Jc]?.arrayValue,w=Lt(y?.values?.length||0,T?.values?.length||0);return w!==0?w:N0(y,T)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Ic.mapValue&&d===Ic.mapValue)return 0;if(c===Ic.mapValue)return 1;if(d===Ic.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),y=d.fields||{},T=Object.keys(y);_.sort(),T.sort();for(let w=0;w<_.length&&w<T.length;++w){const V=sm(_[w],T[w]);if(V!==0)return V;const F=so(p[_[w]],y[T[w]]);if(F!==0)return F}return Lt(_.length,T.length)})(r.mapValue,t.mapValue);default:throw vt(23264,{he:i})}}function x0(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Lt(r,t);const i=ur(r),a=ur(t),l=Lt(i.seconds,a.seconds);return l!==0?l:Lt(i.nanos,a.nanos)}function N0(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=so(i[l],a[l]);if(c)return c}return Lt(i.length,a.length)}function ro(r){return rm(r)}function rm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=ur(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return cr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return pt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=rm(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${rm(i.fields[d])}`;return l+"}"})(r.mapValue):vt(61005,{value:r})}function Uc(r){switch(hr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=mh(r);return t?16+Uc(t):16;case 5:return 2*r.stringValue.length;case 6:return cr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Uc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return mr(a.fields,((c,d)=>{l+=c.length+Uc(d)})),l})(r.mapValue);default:throw vt(13486,{value:r})}}function am(r){return!!r&&"integerValue"in r}function Bm(r){return!!r&&"arrayValue"in r}function D0(r){return!!r&&"nullValue"in r}function O0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Lc(r){return!!r&&"mapValue"in r}function K2(r){return(r?.mapValue?.fields||{})[IE]?.stringValue===xE}function Rl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return mr(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Rl(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Rl(r.arrayValue.values[i]);return t}return{...r}}function Y2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Q2}class En{constructor(t){this.value=t}static empty(){return new En({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Lc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Rl(i)}setAll(t){let i=tn.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Rl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Lc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return ji(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Lc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){mr(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new En(Rl(this.value))}}function NE(r){const t=[];return mr(r.fields,((i,a)=>{const l=new tn([i]);if(Lc(a)){const c=NE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Nn(t)}class on{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new on(t,0,bt.min(),bt.min(),bt.min(),En.empty(),0)}static newFoundDocument(t,i,a,l){return new on(t,1,i,bt.min(),a,l,0)}static newNoDocument(t,i){return new on(t,2,i,bt.min(),bt.min(),En.empty(),0)}static newUnknownDocument(t,i){return new on(t,3,i,bt.min(),bt.min(),En.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof on&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wc{constructor(t,i){this.position=t,this.inclusive=i}}function M0(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=pt.comparator(pt.fromName(d.referenceValue),i.key):a=so(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function V0(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!ji(r.position[i],t.position[i]))return!1;return!0}class th{constructor(t,i="asc"){this.field=t,this.dir=i}}function X2(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class DE{}class je extends DE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new Z2(t,i,a):i==="array-contains"?new tR(t,a):i==="in"?new eR(t,a):i==="not-in"?new nR(t,a):i==="array-contains-any"?new iR(t,a):new je(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new J2(t,a):new W2(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(so(i,this.value)):i!==null&&hr(this.value)===hr(i)&&this.matchesComparison(so(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bi extends DE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Bi(t,i)}matches(t){return OE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function OE(r){return r.op==="and"}function ME(r){return $2(r)&&OE(r)}function $2(r){for(const t of r.filters)if(t instanceof Bi)return!1;return!0}function om(r){if(r instanceof je)return r.field.canonicalString()+r.op.toString()+ro(r.value);if(ME(r))return r.filters.map((t=>om(t))).join(",");{const t=r.filters.map((i=>om(i))).join(",");return`${r.op}(${t})`}}function VE(r,t){return r instanceof je?(function(a,l){return l instanceof je&&a.op===l.op&&a.field.isEqual(l.field)&&ji(a.value,l.value)})(r,t):r instanceof Bi?(function(a,l){return l instanceof Bi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&VE(d,l.filters[p])),!0):!1})(r,t):void vt(19439)}function kE(r){return r instanceof je?(function(i){return`${i.field.canonicalString()} ${i.op} ${ro(i.value)}`})(r):r instanceof Bi?(function(i){return i.op.toString()+" {"+i.getFilters().map(kE).join(" ,")+"}"})(r):"Filter"}class Z2 extends je{constructor(t,i,a){super(t,i,a),this.key=pt.fromName(a.referenceValue)}matches(t){const i=pt.comparator(t.key,this.key);return this.matchesComparison(i)}}class J2 extends je{constructor(t,i){super(t,"in",i),this.keys=UE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class W2 extends je{constructor(t,i){super(t,"not-in",i),this.keys=UE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function UE(r,t){return(t.arrayValue?.values||[]).map((i=>pt.fromName(i.referenceValue)))}class tR extends je{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Bm(i)&&kl(i.arrayValue,this.value)}}class eR extends je{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&kl(this.value.arrayValue,i)}}class nR extends je{constructor(t,i){super(t,"not-in",i)}matches(t){if(kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!kl(this.value.arrayValue,i)}}class iR extends je{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Bm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>kl(this.value.arrayValue,a)))}}class sR{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function k0(r,t=null,i=[],a=[],l=null,c=null,d=null){return new sR(r,t,i,a,l,c,d)}function qm(r){const t=St(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>om(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),dh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>ro(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>ro(a))).join(",")),t.Te=i}return t.Te}function Hm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!X2(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!VE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!V0(r.startAt,t.startAt)&&V0(r.endAt,t.endAt)}function lm(r){return pt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class gh{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function rR(r,t,i,a,l,c,d,p){return new gh(r,t,i,a,l,c,d,p)}function ph(r){return new gh(r)}function U0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function aR(r){return r.collectionGroup!==null}function Cl(r){const t=St(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Be(tn.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new th(c,a))})),i.has(tn.keyField().canonicalString())||t.Ie.push(new th(tn.keyField(),a))}return t.Ie}function Ui(r){const t=St(r);return t.Ee||(t.Ee=oR(t,Cl(r))),t.Ee}function oR(r,t){if(r.limitType==="F")return k0(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new th(l.field,c)}));const i=r.endAt?new Wc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Wc(r.startAt.position,r.startAt.inclusive):null;return k0(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function um(r,t,i){return new gh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function yh(r,t){return Hm(Ui(r),Ui(t))&&r.limitType===t.limitType}function LE(r){return`${qm(Ui(r))}|lt:${r.limitType}`}function Fa(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>kE(l))).join(", ")}]`),dh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>ro(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>ro(l))).join(",")),`Target(${a})`})(Ui(r))}; limitType=${r.limitType})`}function _h(r,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):pt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,l){for(const c of Cl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,_){const y=M0(d,p,_);return d.inclusive?y<=0:y<0})(a.startAt,Cl(a),l)||a.endAt&&!(function(d,p,_){const y=M0(d,p,_);return d.inclusive?y>=0:y>0})(a.endAt,Cl(a),l))})(r,t)}function lR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function PE(r){return(t,i)=>{let a=!1;for(const l of Cl(r)){const c=uR(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function uR(r,t,i){const a=r.field.isKeyField()?pt.comparator(t.key,i.key):(function(c,d,p){const _=d.data.field(c),y=p.data.field(c);return _!==null&&y!==null?so(_,y):vt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return vt(19790,{direction:r.dir})}}class ta{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){mr(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return bE(this.inner)}size(){return this.innerSize}}const cR=new ve(pt.comparator);function ps(){return cR}const zE=new ve(pt.comparator);function Tl(...r){let t=zE;for(const i of r)t=t.insert(i.key,i);return t}function jE(r){let t=zE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Kr(){return Il()}function BE(){return Il()}function Il(){return new ta((r=>r.toString()),((r,t)=>r.isEqual(t)))}const hR=new ve(pt.comparator),fR=new Be(pt.comparator);function Pt(...r){let t=fR;for(const i of r)t=t.add(i);return t}const dR=new Be(Lt);function mR(){return dR}function Gm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$c(t)?"-0":t}}function qE(r){return{integerValue:""+r}}function gR(r,t){return B2(t)?qE(t):Gm(r,t)}class vh{constructor(){this._=void 0}}function pR(r,t,i){return r instanceof eh?(function(l,c){const d={fields:{[wE]:{stringValue:SE},[CE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&jm(c)&&(c=mh(c)),c&&(d.fields[RE]=c),{mapValue:d}})(i,t):r instanceof ao?GE(r,t):r instanceof Ul?FE(r,t):(function(l,c){const d=HE(l,c),p=L0(d)+L0(l.Ae);return am(d)&&am(l.Ae)?qE(p):Gm(l.serializer,p)})(r,t)}function yR(r,t,i){return r instanceof ao?GE(r,t):r instanceof Ul?FE(r,t):i}function HE(r,t){return r instanceof nh?(function(a){return am(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class eh extends vh{}class ao extends vh{constructor(t){super(),this.elements=t}}function GE(r,t){const i=QE(t);for(const a of r.elements)i.some((l=>ji(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Ul extends vh{constructor(t){super(),this.elements=t}}function FE(r,t){let i=QE(t);for(const a of r.elements)i=i.filter((l=>!ji(l,a)));return{arrayValue:{values:i}}}class nh extends vh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function L0(r){return Ce(r.integerValue||r.doubleValue)}function QE(r){return Bm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class _R{constructor(t,i){this.field=t,this.transform=i}}function vR(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof ao&&l instanceof ao||a instanceof Ul&&l instanceof Ul?io(a.elements,l.elements,ji):a instanceof nh&&l instanceof nh?ji(a.Ae,l.Ae):a instanceof eh&&l instanceof eh})(r.transform,t.transform)}class ER{constructor(t,i){this.version=t,this.transformResults=i}}class ci{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new ci}static exists(t){return new ci(void 0,t)}static updateTime(t){return new ci(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Pc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Eh{}function KE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Fm(r.key,ci.none()):new Ql(r.key,r.data,ci.none());{const i=r.data,a=En.empty();let l=new Be(tn.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new gr(r.key,a,new Nn(l.toArray()),ci.none())}}function TR(r,t,i){r instanceof Ql?(function(l,c,d){const p=l.value.clone(),_=z0(l.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof gr?(function(l,c,d){if(!Pc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=z0(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(YE(l)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function xl(r,t,i,a){return r instanceof Ql?(function(c,d,p,_){if(!Pc(c.precondition,d))return p;const y=c.value.clone(),T=j0(c.fieldTransforms,_,d);return y.setAll(T),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,t,i,a):r instanceof gr?(function(c,d,p,_){if(!Pc(c.precondition,d))return p;const y=j0(c.fieldTransforms,_,d),T=d.data;return T.setAll(YE(c)),T.setAll(y),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(r,t,i,a):(function(c,d,p){return Pc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function bR(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=HE(a.transform,l||null);c!=null&&(i===null&&(i=En.empty()),i.set(a.field,c))}return i||null}function P0(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&io(a,l,((c,d)=>vR(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Ql extends Eh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class gr extends Eh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function YE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function z0(r,t,i){const a=new Map;Wt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,yR(d,p,i[l]))}return a}function j0(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,pR(c,d,t))}return a}class Fm extends Eh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AR extends Eh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class SR{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&TR(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=xl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=xl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=BE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const _=KE(d,p);_!==null&&a.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(bt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Pt())}isEqual(t){return this.batchId===t.batchId&&io(this.mutations,t.mutations,((i,a)=>P0(i,a)))&&io(this.baseMutations,t.baseMutations,((i,a)=>P0(i,a)))}}class Qm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Wt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return hR})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Qm(t,i,a,l)}}class wR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class RR{constructor(t,i){this.count=t,this.unchangedNames=i}}var Ue,qt;function CR(r){switch(r){case Z.OK:return vt(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return vt(15467,{code:r})}}function XE(r){if(r===void 0)return gs("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Ue.OK:return Z.OK;case Ue.CANCELLED:return Z.CANCELLED;case Ue.UNKNOWN:return Z.UNKNOWN;case Ue.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Ue.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Ue.INTERNAL:return Z.INTERNAL;case Ue.UNAVAILABLE:return Z.UNAVAILABLE;case Ue.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Ue.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Ue.NOT_FOUND:return Z.NOT_FOUND;case Ue.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Ue.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Ue.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Ue.ABORTED:return Z.ABORTED;case Ue.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Ue.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Ue.DATA_LOSS:return Z.DATA_LOSS;default:return vt(39323,{code:r})}}(qt=Ue||(Ue={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";function IR(){return new TextEncoder}const xR=new rr([4294967295,4294967295],0);function B0(r){const t=IR().encode(r),i=new fE;return i.update(t),new Uint8Array(i.digest())}function q0(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new rr([i,a],0),new rr([l,c],0)]}class Km{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new bl(`Invalid padding: ${i}`);if(a<0)throw new bl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new bl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new bl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=rr.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(rr.fromNumber(a)));return l.compare(xR)===1&&(l=new rr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=B0(t),[a,l]=q0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Km(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=B0(t),[a,l]=q0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Th{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Kl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Th(bt.min(),l,new ve(Lt),ps(),Pt())}}class Kl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Kl(a,i,Pt(),Pt(),Pt())}}class zc{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class $E{constructor(t,i){this.targetId=t,this.Ce=i}}class ZE{constructor(t,i,a=en.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class H0{constructor(){this.ve=0,this.Fe=G0(),this.Me=en.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Pt(),i=Pt(),a=Pt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:vt(38017,{changeType:c})}})),new Kl(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=G0()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Wt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class NR{constructor(t){this.Ge=t,this.ze=new Map,this.je=ps(),this.Je=xc(),this.He=xc(),this.Ye=new ve(Lt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:vt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(lm(c))if(a===0){const d=new pt(c.path);this.et(i,d,on.newNoDocument(d,bt.min()))}else Wt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),_=p?this.ct(p,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=cr(a).toUint8Array()}catch(_){if(_ instanceof AE)return no("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new Km(d,l,c)}catch(_){return no(_ instanceof bl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&lm(p.target)){const _=new pt(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,on.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Pt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Th(t,i,this.Ye,this.je,a);return this.je=ps(),this.Je=xc(),this.He=xc(),this.Ye=new ve(Lt),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new H0,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Be(Lt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Be(Lt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||ot("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new H0),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function xc(){return new ve(pt.comparator)}function G0(){return new ve(pt.comparator)}const DR={asc:"ASCENDING",desc:"DESCENDING"},OR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MR={and:"AND",or:"OR"};class VR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function cm(r,t){return r.useProto3Json||dh(t)?t:{value:t}}function ih(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function JE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function kR(r,t){return ih(r,t.toTimestamp())}function Li(r){return Wt(!!r,49232),bt.fromTimestamp((function(i){const a=ur(i);return new me(a.seconds,a.nanos)})(r))}function Ym(r,t){return hm(r,t).canonicalString()}function hm(r,t){const i=(function(l){return new _e(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function WE(r){const t=_e.fromString(r);return Wt(sT(t),10190,{key:t.toString()}),t}function fm(r,t){return Ym(r.databaseId,t.path)}function qd(r,t){const i=WE(t);if(i.get(1)!==r.databaseId.projectId)throw new ct(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ct(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new pt(eT(i))}function tT(r,t){return Ym(r.databaseId,t)}function UR(r){const t=WE(r);return t.length===4?_e.emptyPath():eT(t)}function dm(r){return new _e(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function eT(r){return Wt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function F0(r,t,i){return{name:fm(r,t),fields:i.value.mapValue.fields}}function LR(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:vt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,T){return y.useProto3Json?(Wt(T===void 0||typeof T=="string",58123),en.fromBase64String(T||"")):(Wt(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),en.fromUint8Array(T||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const T=y.code===void 0?Z.UNKNOWN:XE(y.code);return new ct(T,y.message||"")})(d);i=new ZE(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=qd(r,a.document.name),c=Li(a.document.updateTime),d=a.document.createTime?Li(a.document.createTime):bt.min(),p=new En({mapValue:{fields:a.document.fields}}),_=on.newFoundDocument(l,c,d,p),y=a.targetIds||[],T=a.removedTargetIds||[];i=new zc(y,T,_.key,_)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=qd(r,a.document),c=a.readTime?Li(a.readTime):bt.min(),d=on.newNoDocument(l,c),p=a.removedTargetIds||[];i=new zc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=qd(r,a.document),c=a.removedTargetIds||[];i=new zc([],c,l,null)}else{if(!("filter"in t))return vt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new RR(l,c),p=a.targetId;i=new $E(p,d)}}return i}function PR(r,t){let i;if(t instanceof Ql)i={update:F0(r,t.key,t.value)};else if(t instanceof Fm)i={delete:fm(r,t.key)};else if(t instanceof gr)i={update:F0(r,t.key,t.data),updateMask:KR(t.fieldMask)};else{if(!(t instanceof AR))return vt(16599,{Vt:t.type});i={verify:fm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof eh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof ao)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ul)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof nh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw vt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:kR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:vt(27497)})(r,t.precondition)),i}function zR(r,t){return r&&r.length>0?(Wt(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Li(l.updateTime):Li(c);return d.isEqual(bt.min())&&(d=Li(c)),new ER(d,l.transformResults||[])})(i,t)))):[]}function jR(r,t){return{documents:[tT(r,t.path)]}}function BR(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=tT(r,l);const c=(function(y){if(y.length!==0)return iT(Bi.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((T=>(function(V){return{field:Qa(V.field),direction:GR(V.dir)}})(T)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=cm(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function qR(r){let t=UR(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Wt(a===1,65062);const T=i.from[0];T.allDescendants?l=T.collectionId:t=t.child(T.collectionId)}let c=[];i.where&&(c=(function(w){const V=nT(w);return V instanceof Bi&&ME(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((V=>(function(tt){return new th(Ka(tt.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(tt.direction))})(V)))})(i.orderBy));let p=null;i.limit&&(p=(function(w){let V;return V=typeof w=="object"?w.value:w,dh(V)?null:V})(i.limit));let _=null;i.startAt&&(_=(function(w){const V=!!w.before,F=w.values||[];return new Wc(F,V)})(i.startAt));let y=null;return i.endAt&&(y=(function(w){const V=!w.before,F=w.values||[];return new Wc(F,V)})(i.endAt)),rR(t,l,d,c,p,"F",_,y)}function HR(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function nT(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ka(i.unaryFilter.field);return je.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Ka(i.unaryFilter.field);return je.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ka(i.unaryFilter.field);return je.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ka(i.unaryFilter.field);return je.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return je.create(Ka(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Bi.create(i.compositeFilter.filters.map((a=>nT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return vt(1026)}})(i.compositeFilter.op))})(r):vt(30097,{filter:r})}function GR(r){return DR[r]}function FR(r){return OR[r]}function QR(r){return MR[r]}function Qa(r){return{fieldPath:r.canonicalString()}}function Ka(r){return tn.fromServerFormat(r.fieldPath)}function iT(r){return r instanceof je?(function(i){if(i.op==="=="){if(O0(i.value))return{unaryFilter:{field:Qa(i.field),op:"IS_NAN"}};if(D0(i.value))return{unaryFilter:{field:Qa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(O0(i.value))return{unaryFilter:{field:Qa(i.field),op:"IS_NOT_NAN"}};if(D0(i.value))return{unaryFilter:{field:Qa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qa(i.field),op:FR(i.op),value:i.value}}})(r):r instanceof Bi?(function(i){const a=i.getFilters().map((l=>iT(l)));return a.length===1?a[0]:{compositeFilter:{op:QR(i.op),filters:a}}})(r):vt(54877,{filter:r})}function KR(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function sT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class er{constructor(t,i,a,l,c=bt.min(),d=bt.min(),p=en.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(t){return new er(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class YR{constructor(t){this.yt=t}}function XR(r){const t=qR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?um(t,t.limit,"L"):t}class $R{constructor(){this.Cn=new ZR}addToCollectionParentIndex(t,i){return this.Cn.add(i),$.resolve()}getCollectionParents(t,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return $.resolve()}deleteFieldIndex(t,i){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,i){return $.resolve()}getDocumentsMatchingTarget(t,i){return $.resolve(null)}getIndexType(t,i){return $.resolve(0)}getFieldIndexes(t,i){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,i){return $.resolve(lr.min())}getMinOffsetFromCollectionGroup(t,i){return $.resolve(lr.min())}updateCollectionGroup(t,i,a){return $.resolve()}updateIndexEntries(t,i){return $.resolve()}}class ZR{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Be(_e.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Be(_e.comparator)).toArray()}}const Q0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rT=41943040;class vn{static withCacheSize(t){return new vn(t,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(rT,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);class oo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new oo(0)}static cr(){return new oo(-1)}}const K0="LruGarbageCollector",JR=1048576;function Y0([r,t],[i,a]){const l=Lt(r,i);return l===0?Lt(t,a):l}class WR{constructor(t){this.Ir=t,this.buffer=new Be(Y0),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Y0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class tC{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ot(K0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){go(i)?ot(K0,"Ignoring IndexedDB error during garbage collection: ",i):await mo(i)}await this.Vr(3e5)}))}}class eC{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return $.resolve(fh.ce);const a=new WR(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(Q0)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Q0):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,p,_,y;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),l=this.params.maximumSequenceNumbersToCollect):l=w,d=Date.now(),this.nthSequenceNumber(t,l)))).next((w=>(a=w,p=Date.now(),this.removeTargets(t,a,i)))).next((w=>(c=w,_=Date.now(),this.removeOrphanedDocuments(t,a)))).next((w=>(y=Date.now(),Ga()<=Ut.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${w} documents in `+(y-_)+`ms
Total Duration: ${y-T}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:w}))))}}function nC(r,t){return new eC(r,t)}class iC{constructor(){this.changes=new ta((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,on.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class sC{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class rC{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&xl(a.mutation,l,Nn.empty(),me.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Pt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Pt()){const l=Kr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=Tl();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Kr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Pt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=ps();const d=Il(),p=(function(){return Il()})();return i.forEach(((_,y)=>{const T=a.get(y.key);l.has(y.key)&&(T===void 0||T.mutation instanceof gr)?c=c.insert(y.key,y):T!==void 0?(d.set(y.key,T.mutation.getFieldMask()),xl(T.mutation,y,T.mutation.getFieldMask(),me.now())):d.set(y.key,Nn.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,T)=>d.set(y,T))),i.forEach(((y,T)=>p.set(y,new sC(T,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=Il();let l=new ve(((d,p)=>d-p)),c=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let T=a.get(_)||Nn.empty();T=p.applyToLocalView(y,T),a.set(_,T);const w=(l.get(p.batchId)||Pt()).add(_);l=l.insert(p.batchId,w)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,T=_.value,w=BE();T.forEach((V=>{if(!c.has(V)){const F=KE(i.get(V),a.get(V));F!==null&&w.set(V,F),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,w))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return pt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):aR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):$.resolve(Kr());let p=Ol,_=c;return d.next((y=>$.forEach(y,((T,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),c.get(T)?$.resolve():this.remoteDocumentCache.getEntry(t,T).next((V=>{_=_.insert(T,V)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,Pt()))).next((T=>({batchId:p,changes:jE(T)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new pt(i)).next((a=>{let l=Tl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=Tl();return this.indexManager.getCollectionParents(t,c).next((p=>$.forEach(p,(_=>{const y=(function(w,V){return new gh(V,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,l).next((T=>{T.forEach(((w,V)=>{d=d.insert(w,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((_,y)=>{const T=y.getKey();d.get(T)===null&&(d=d.insert(T,on.newInvalidDocument(T)))}));let p=Tl();return d.forEach(((_,y)=>{const T=c.get(_);T!==void 0&&xl(T.mutation,y,Nn.empty(),me.now()),_h(i,y)&&(p=p.insert(_,y))})),p}))}}class aC{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Li(l.createTime)}})(i)),$.resolve()}getNamedQuery(t,i){return $.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:XR(l.bundledQuery),readTime:Li(l.readTime)}})(i)),$.resolve()}}class oC{constructor(){this.overlays=new ve(pt.comparator),this.qr=new Map}getOverlay(t,i){return $.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Kr();return $.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),$.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),$.resolve()}getOverlaysForCollection(t,i,a){const l=Kr(),c=i.length+1,d=new pt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>a&&l.set(_.getKey(),_)}return $.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new ve(((y,T)=>y-T));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let T=c.get(y.largestBatchId);T===null&&(T=Kr(),c=c.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const p=Kr(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,T)=>p.set(y,T))),!(p.size()>=l)););return $.resolve(p)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new wR(i,a));let c=this.qr.get(i);c===void 0&&(c=Pt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class lC{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,$.resolve()}}class Xm{constructor(){this.Qr=new Be(Qe.$r),this.Ur=new Be(Qe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Qe(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Qe(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new pt(new _e([])),a=new Qe(i,t),l=new Qe(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new pt(new _e([])),a=new Qe(i,t),l=new Qe(i,t+1);let c=Pt();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Qe(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Qe{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return pt.comparator(t.key,i.key)||Lt(t.Yr,i.Yr)}static Kr(t,i){return Lt(t.Yr,i.Yr)||pt.comparator(t.key,i.key)}}class uC{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Be(Qe.$r)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new SR(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Qe(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return $.resolve(d)}lookupMutationBatch(t,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?zm:this.tr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Qe(i,0),l=new Qe(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Be(Lt);return i.forEach((l=>{const c=new Qe(l,0),d=new Qe(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),$.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;pt.isDocumentKey(c)||(c=c.child(""));const d=new Qe(new pt(c),0);let p=new Be(Lt);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(p=p.add(_.Yr)),!0)}),d),$.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Wt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return $.forEach(i.mutations,(l=>{const c=new Qe(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Qe(i,0),l=this.Zr.firstAfterOrEqual(a);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class cC{constructor(t){this.ri=t,this.docs=(function(){return new ve(pt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():on.newInvalidDocument(i))}getEntries(t,i){let a=ps();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():on.newInvalidDocument(l))})),$.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=ps();const d=i.path,p=new pt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:T}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||L2(U2(T),a)<=0||(l.has(T.key)||_h(i,T))&&(c=c.insert(T.key,T.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(t,i,a,l){vt(9500)}ii(t,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new hC(this)}getSize(t){return $.resolve(this.size)}}class hC extends iC{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),$.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class fC{constructor(t){this.persistence=t,this.si=new ta((i=>qm(i)),Hm),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.oi=0,this._i=new Xm,this.targetCount=0,this.ai=oo.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),$.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new oo(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(t,i){return this.Pr(i),$.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return $.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),$.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return $.resolve(a)}containsKey(t,i){return $.resolve(this._i.containsKey(i))}}class aT{constructor(t,i){this.ui={},this.overlays={},this.ci=new fh(0),this.li=!1,this.li=!0,this.hi=new lC,this.referenceDelegate=t(this),this.Pi=new fC(this),this.indexManager=new $R,this.remoteDocumentCache=(function(l){return new cC(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new YR(i),this.Ii=new aC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new oC,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new uC(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){ot("MemoryPersistence","Starting transaction:",t);const l=new dC(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return $.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class dC extends z2{constructor(t){super(),this.currentSequenceNumber=t}}class $m{constructor(t){this.persistence=t,this.Ri=new Xm,this.Vi=null}static mi(t){return new $m(t)}get fi(){if(this.Vi)return this.Vi;throw vt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),$.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),$.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(a=>{const l=pt.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,bt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class sh{constructor(t,i){this.persistence=t,this.pi=new ta((a=>q2(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=nC(this,i)}static mi(t,i){return new sh(t,i)}Ei(){}di(t){return $.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return $.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?$.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,c.removeEntry(d,bt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),$.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Uc(t.data.value)),i}br(t,i,a){return $.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return $.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Zm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=Pt(),l=Pt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Zm(t,i.fromCache,a,l)}}class mC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class gC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return eA()?8:j2(ln())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new mC;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(Ga()<=Ut.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",Fa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(Ga()<=Ut.DEBUG&&ot("QueryEngine","Query:",Fa(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Ga()<=Ut.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",Fa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ui(i))):$.resolve())}ys(t,i){if(U0(i))return $.resolve(null);let a=Ui(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=um(i,null,"F"),a=Ui(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Pt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((_=>{const y=this.Ds(i,p);return this.Cs(i,y,d,_.readTime)?this.ys(t,um(i,null,"F")):this.vs(t,y,i,_)}))))})))))}ws(t,i,a,l){return U0(i)||l.isEqual(bt.min())?$.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?$.resolve(null):(Ga()<=Ut.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Fa(i)),this.vs(t,d,i,k2(l,Ol)).next((p=>p)))}))}Ds(t,i){let a=new Be(PE(t));return i.forEach(((l,c)=>{_h(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return Ga()<=Ut.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",Fa(i)),this.ps.getDocumentsMatchingQuery(t,i,lr.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Jm="LocalStore",pC=3e8;class yC{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new ve(Lt),this.xs=new ta((c=>qm(c)),Hm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new rC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function _C(r,t,i,a){return new yC(r,t,i,a)}async function oT(r,t){const i=St(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let _=Pt();for(const y of l){d.push(y.batchId);for(const T of y.mutations)_=_.add(T.key)}for(const y of c){p.push(y.batchId);for(const T of y.mutations)_=_.add(T.key)}return i.localDocuments.getDocuments(a,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function vC(r,t){const i=St(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,T){const w=y.batch,V=w.keys();let F=$.resolve();return V.forEach((tt=>{F=F.next((()=>T.getEntry(_,tt))).next((nt=>{const W=y.docVersions.get(tt);Wt(W!==null,48541),nt.version.compareTo(W)<0&&(w.applyToRemoteDocument(nt,y),nt.isValidDocument()&&(nt.setReadTime(y.commitVersion),T.addEntry(nt)))}))})),F.next((()=>p.mutationQueue.removeMutationBatch(_,w)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let _=Pt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function lT(r){const t=St(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function EC(r,t){const i=St(r),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((T,w)=>{const V=l.get(w);if(!V)return;p.push(i.Pi.removeMatchingKeys(c,T.removedDocuments,w).next((()=>i.Pi.addMatchingKeys(c,T.addedDocuments,w))));let F=V.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(w)!==null?F=F.withResumeToken(en.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):T.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(T.resumeToken,a)),l=l.insert(w,F),(function(nt,W,mt){return nt.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=pC?!0:mt.addedDocuments.size+mt.modifiedDocuments.size+mt.removedDocuments.size>0})(V,F,T)&&p.push(i.Pi.updateTargetData(c,F))}));let _=ps(),y=Pt();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,T))})),p.push(TC(c,d,t.documentUpdates).next((T=>{_=T.ks,y=T.qs}))),!a.isEqual(bt.min())){const T=i.Pi.getLastRemoteSnapshotVersion(c).next((w=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(T)}return $.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.Ms=l,c)))}function TC(r,t,i){let a=Pt(),l=Pt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=ps();return i.forEach(((p,_)=>{const y=c.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(bt.min())?(t.removeEntry(p,_.readTime),d=d.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(p,_)):ot(Jm,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:l}}))}function bC(r,t){const i=St(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=zm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function AC(r,t){const i=St(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,$.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new er(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function mm(r,t,i){const a=St(r),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!go(d))throw d;ot(Jm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function X0(r,t,i){const a=St(r);let l=bt.min(),c=Pt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,T){const w=St(_),V=w.xs.get(T);return V!==void 0?$.resolve(w.Ms.get(V)):w.Pi.getTargetData(y,T)})(a,d,Ui(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:bt.min(),i?c:Pt()))).next((p=>(SC(a,lR(t),p),{documents:p,Qs:c})))))}function SC(r,t,i){let a=r.Os.get(t)||bt.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class $0{constructor(){this.activeTargetIds=mR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class wC{constructor(){this.Mo=new $0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new $0,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class RC{Oo(t){}shutdown(){}}const Z0="ConnectivityMonitor";class J0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ot(Z0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ot(Z0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Nc=null;function gm(){return Nc===null?Nc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Nc++,"0x"+Nc.toString(16)}const Hd="RestConnection",CC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class IC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Zc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=gm(),p=this.zo(t,i.toUriEncodedString());ot(Hd,`Sending RPC '${t}' ${d}:`,p,a);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,c);const{host:y}=new URL(p),T=uo(y);return this.Jo(t,p,_,a,T).then((w=>(ot(Hd,`Received RPC '${t}' ${d}: `,w),w)),(w=>{throw no(Hd,`RPC '${t}' ${d} failed with error: `,w,"url: ",p,"request:",a),w}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+fo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=CC[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class xC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const rn="WebChannelConnection";class NC extends IC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=gm();return new Promise(((p,_)=>{const y=new dE;y.setWithCredentials(!0),y.listenOnce(mE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case kc.NO_ERROR:const w=y.getResponseJson();ot(rn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(w)),p(w);break;case kc.TIMEOUT:ot(rn,`RPC '${t}' ${d} timed out`),_(new ct(Z.DEADLINE_EXCEEDED,"Request time out"));break;case kc.HTTP_ERROR:const V=y.getStatus();if(ot(rn,`RPC '${t}' ${d} failed with status:`,V,"response text:",y.getResponseText()),V>0){let F=y.getResponseJson();Array.isArray(F)&&(F=F[0]);const tt=F?.error;if(tt&&tt.status&&tt.message){const nt=(function(mt){const Tt=mt.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(Tt)>=0?Tt:Z.UNKNOWN})(tt.status);_(new ct(nt,tt.message))}else _(new ct(Z.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new ct(Z.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ot(rn,`RPC '${t}' ${d} completed.`)}}));const T=JSON.stringify(l);ot(rn,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",T,a,15)}))}T_(t,i,a){const l=gm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=yE(),p=pE(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const T=c.join("");ot(rn,`Creating RPC '${t}' stream ${l}: ${T}`,_);const w=d.createWebChannel(T,_);this.I_(w);let V=!1,F=!1;const tt=new xC({Yo:W=>{F?ot(rn,`Not sending because RPC '${t}' stream ${l} is closed:`,W):(V||(ot(rn,`Opening RPC '${t}' stream ${l} transport.`),w.open(),V=!0),ot(rn,`RPC '${t}' stream ${l} sending:`,W),w.send(W))},Zo:()=>w.close()}),nt=(W,mt,Tt)=>{W.listen(mt,(gt=>{try{Tt(gt)}catch(Jt){setTimeout((()=>{throw Jt}),0)}}))};return nt(w,El.EventType.OPEN,(()=>{F||(ot(rn,`RPC '${t}' stream ${l} transport opened.`),tt.o_())})),nt(w,El.EventType.CLOSE,(()=>{F||(F=!0,ot(rn,`RPC '${t}' stream ${l} transport closed`),tt.a_(),this.E_(w))})),nt(w,El.EventType.ERROR,(W=>{F||(F=!0,no(rn,`RPC '${t}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),tt.a_(new ct(Z.UNAVAILABLE,"The operation could not be completed")))})),nt(w,El.EventType.MESSAGE,(W=>{if(!F){const mt=W.data[0];Wt(!!mt,16349);const Tt=mt,gt=Tt?.error||Tt[0]?.error;if(gt){ot(rn,`RPC '${t}' stream ${l} received error:`,gt);const Jt=gt.status;let ie=(function(S){const C=Ue[S];if(C!==void 0)return XE(C)})(Jt),It=gt.message;ie===void 0&&(ie=Z.INTERNAL,It="Unknown error status: "+Jt+" with message "+gt.message),F=!0,tt.a_(new ct(ie,It)),w.close()}else ot(rn,`RPC '${t}' stream ${l} received:`,mt),tt.u_(mt)}})),nt(p,gE.STAT_EVENT,(W=>{W.stat===im.PROXY?ot(rn,`RPC '${t}' stream ${l} detected buffering proxy`):W.stat===im.NOPROXY&&ot(rn,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{tt.__()}),0),tt}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Gd(){return typeof document<"u"?document:null}function bh(r){return new VR(r,!0)}class uT{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&ot("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const W0="PersistentStream";class cT{constructor(t,i,a,l,c,d,p,_){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new uT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(gs(i.toString()),gs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new ct(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ot(W0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(ot(W0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class DC extends cT{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=LR(this.serializer,t),a=(function(c){if(!("targetChange"in c))return bt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?bt.min():d.readTime?Li(d.readTime):bt.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=dm(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=lm(_)?{documents:jR(c,_)}:{query:BR(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=JE(c,d.resumeToken);const y=cm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(bt.min())>0){p.readTime=ih(c,d.snapshotVersion.toTimestamp());const y=cm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const a=HR(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=dm(this.serializer),i.removeTarget=t,this.q_(i)}}class OC extends cT{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Wt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Wt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Wt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=zR(t.writeResults,t.commitTime),a=Li(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=dm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>PR(this.serializer,a)))};this.q_(i)}}class MC{}class VC extends MC{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ct(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,hm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ct(Z.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,hm(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ct(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class kC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(gs(i),this.aa=!1):ot("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Jr="RemoteStore";class UC{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{ea(this)&&(ot(Jr,"Restarting streams for network reachability change."),await(async function(_){const y=St(_);y.Ea.add(4),await Yl(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Ah(y)})(this))}))})),this.Ra=new kC(a,l)}}async function Ah(r){if(ea(r))for(const t of r.da)await t(!0)}async function Yl(r){for(const t of r.da)await t(!1)}function hT(r,t){const i=St(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),ng(i)?eg(i):po(i).O_()&&tg(i,t))}function Wm(r,t){const i=St(r),a=po(i);i.Ia.delete(t),a.O_()&&fT(i,t),i.Ia.size===0&&(a.O_()?a.L_():ea(i)&&i.Ra.set("Unknown"))}function tg(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(bt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}po(r).Y_(t)}function fT(r,t){r.Va.Ue(t),po(r).Z_(t)}function eg(r){r.Va=new NR({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),po(r).start(),r.Ra.ua()}function ng(r){return ea(r)&&!po(r).x_()&&r.Ia.size>0}function ea(r){return St(r).Ea.size===0}function dT(r){r.Va=void 0}async function LC(r){r.Ra.set("Online")}async function PC(r){r.Ia.forEach(((t,i)=>{tg(r,t)}))}async function zC(r,t){dT(r),ng(r)?(r.Ra.ha(t),eg(r)):r.Ra.set("Unknown")}async function jC(r,t,i){if(r.Ra.set("Online"),t instanceof ZE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(r,t)}catch(a){ot(Jr,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await rh(r,a)}else if(t instanceof zc?r.Va.Ze(t):t instanceof $E?r.Va.st(t):r.Va.tt(t),!i.isEqual(bt.min()))try{const a=await lT(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const T=c.Ia.get(y);T&&c.Ia.set(y,T.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,y)=>{const T=c.Ia.get(_);if(!T)return;c.Ia.set(_,T.withResumeToken(en.EMPTY_BYTE_STRING,T.snapshotVersion)),fT(c,_);const w=new er(T.target,_,y,T.sequenceNumber);tg(c,w)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){ot(Jr,"Failed to raise snapshot:",a),await rh(r,a)}}async function rh(r,t,i){if(!go(t))throw t;r.Ea.add(1),await Yl(r),r.Ra.set("Offline"),i||(i=()=>lT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ot(Jr,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Ah(r)}))}function mT(r,t){return t().catch((i=>rh(r,i,t)))}async function Sh(r){const t=St(r),i=fr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:zm;for(;BC(t);)try{const l=await bC(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,qC(t,l)}catch(l){await rh(t,l)}gT(t)&&pT(t)}function BC(r){return ea(r)&&r.Ta.length<10}function qC(r,t){r.Ta.push(t);const i=fr(r);i.O_()&&i.X_&&i.ea(t.mutations)}function gT(r){return ea(r)&&!fr(r).x_()&&r.Ta.length>0}function pT(r){fr(r).start()}async function HC(r){fr(r).ra()}async function GC(r){const t=fr(r);for(const i of r.Ta)t.ea(i.mutations)}async function FC(r,t,i){const a=r.Ta.shift(),l=Qm.from(a,t,i);await mT(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Sh(r)}async function QC(r,t){t&&fr(r).X_&&await(async function(a,l){if((function(d){return CR(d)&&d!==Z.ABORTED})(l.code)){const c=a.Ta.shift();fr(a).B_(),await mT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Sh(a)}})(r,t),gT(r)&&pT(r)}async function tv(r,t){const i=St(r);i.asyncQueue.verifyOperationInProgress(),ot(Jr,"RemoteStore received new credentials");const a=ea(i);i.Ea.add(3),await Yl(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Ah(i)}async function KC(r,t){const i=St(r);t?(i.Ea.delete(2),await Ah(i)):t||(i.Ea.add(2),await Yl(i),i.Ra.set("Unknown"))}function po(r){return r.ma||(r.ma=(function(i,a,l){const c=St(i);return c.sa(),new DC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:LC.bind(null,r),t_:PC.bind(null,r),r_:zC.bind(null,r),H_:jC.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),ng(r)?eg(r):r.Ra.set("Unknown")):(await r.ma.stop(),dT(r))}))),r.ma}function fr(r){return r.fa||(r.fa=(function(i,a,l){const c=St(i);return c.sa(),new OC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:HC.bind(null,r),r_:QC.bind(null,r),ta:GC.bind(null,r),na:FC.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Sh(r)):(await r.fa.stop(),r.Ta.length>0&&(ot(Jr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class ig{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new ig(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sg(r,t){if(gs("AsyncQueue",`${t}: ${r}`),go(r))return new ct(Z.UNAVAILABLE,`${t}: ${r}`);throw r}class Wa{static emptySet(t){return new Wa(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||pt.comparator(i.key,a.key):(i,a)=>pt.comparator(i.key,a.key),this.keyedMap=Tl(),this.sortedSet=new ve(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Wa)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Wa;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class ev{constructor(){this.ga=new ve(pt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):vt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class lo{constructor(t,i,a,l,c,d,p,_,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new lo(t,i,Wa.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&yh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class YC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class XC{constructor(){this.queries=nv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=St(i),c=l.queries;l.queries=nv(),c.forEach(((d,p)=>{for(const _ of p.Sa)_.onError(a)}))})(this,new ct(Z.ABORTED,"Firestore shutting down"))}}function nv(){return new ta((r=>LE(r)),yh)}async function yT(r,t){const i=St(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new YC,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=sg(d,`Initialization of query '${Fa(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&rg(i)}async function _T(r,t){const i=St(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function $C(r,t){const i=St(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(a=!0);d.wa=l}}a&&rg(i)}function ZC(r,t,i){const a=St(r),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function rg(r){r.Ca.forEach((t=>{t.next()}))}var pm,iv;(iv=pm||(pm={})).Ma="default",iv.Cache="cache";class vT{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new lo(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=lo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==pm.Cache}}class ET{constructor(t){this.key=t}}class TT{constructor(t){this.key=t}}class JC{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pt(),this.mutatedKeys=Pt(),this.eu=PE(t),this.tu=new Wa(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new ev,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((T,w)=>{const V=l.get(T),F=_h(this.query,w)?w:null,tt=!!V&&this.mutatedKeys.has(V.key),nt=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let W=!1;V&&F?V.data.isEqual(F.data)?tt!==nt&&(a.track({type:3,doc:F}),W=!0):this.su(V,F)||(a.track({type:2,doc:F}),W=!0,(_&&this.eu(F,_)>0||y&&this.eu(F,y)<0)&&(p=!0)):!V&&F?(a.track({type:0,doc:F}),W=!0):V&&!F&&(a.track({type:1,doc:V}),W=!0,(_||y)&&(p=!0)),W&&(F?(d=d.add(F),c=nt?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),a.track({type:1,doc:T})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((T,w)=>(function(F,tt){const nt=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Rt:W})}};return nt(F)-nt(tt)})(T.type,w.type)||this.eu(T.doc,w.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new lo(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ev,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Pt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new TT(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new ET(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Pt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return lo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ag="SyncEngine";class WC{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class tI{constructor(t){this.key=t,this.hu=!1}}class eI{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ta((p=>LE(p)),yh),this.Iu=new Map,this.Eu=new Set,this.du=new ve(pt.comparator),this.Au=new Map,this.Ru=new Xm,this.Vu={},this.mu=new Map,this.fu=oo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function nI(r,t,i=!0){const a=CT(r);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await bT(a,t,i,!0),l}async function iI(r,t){const i=CT(r);await bT(i,t,!0,!1)}async function bT(r,t,i,a){const l=await AC(r.localStore,Ui(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await sI(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&hT(r.remoteStore,l),p}async function sI(r,t,i,a,l){r.pu=(w,V,F)=>(async function(nt,W,mt,Tt){let gt=W.view.ru(mt);gt.Cs&&(gt=await X0(nt.localStore,W.query,!1).then((({documents:x})=>W.view.ru(x,gt))));const Jt=Tt&&Tt.targetChanges.get(W.targetId),ie=Tt&&Tt.targetMismatches.get(W.targetId)!=null,It=W.view.applyChanges(gt,nt.isPrimaryClient,Jt,ie);return rv(nt,W.targetId,It.au),It.snapshot})(r,w,V,F);const c=await X0(r.localStore,t,!0),d=new JC(t,c.Qs),p=d.ru(c.documents),_=Kl.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),y=d.applyChanges(p,r.isPrimaryClient,_);rv(r,i,y.au);const T=new WC(t,i,d);return r.Tu.set(t,T),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),y.snapshot}async function rI(r,t,i){const a=St(r),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!yh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await mm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Wm(a.remoteStore,l.targetId),ym(a,l.targetId)})).catch(mo)):(ym(a,l.targetId),await mm(a.localStore,l.targetId,!0))}async function aI(r,t){const i=St(r),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Wm(i.remoteStore,a.targetId))}async function oI(r,t,i){const a=mI(r);try{const l=await(function(d,p){const _=St(d),y=me.now(),T=p.reduce(((F,tt)=>F.add(tt.key)),Pt());let w,V;return _.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let tt=ps(),nt=Pt();return _.Ns.getEntries(F,T).next((W=>{tt=W,tt.forEach(((mt,Tt)=>{Tt.isValidDocument()||(nt=nt.add(mt))}))})).next((()=>_.localDocuments.getOverlayedDocuments(F,tt))).next((W=>{w=W;const mt=[];for(const Tt of p){const gt=bR(Tt,w.get(Tt.key).overlayedDocument);gt!=null&&mt.push(new gr(Tt.key,gt,NE(gt.value.mapValue),ci.exists(!0)))}return _.mutationQueue.addMutationBatch(F,y,mt,p)})).next((W=>{V=W;const mt=W.applyToLocalDocumentSet(w,nt);return _.documentOverlayCache.saveOverlays(F,W.batchId,mt)}))})).then((()=>({batchId:V.batchId,changes:jE(w)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new ve(Lt)),y=y.insert(p,_),d.Vu[d.currentUser.toKey()]=y})(a,l.batchId,i),await Xl(a,l.changes),await Sh(a.remoteStore)}catch(l){const c=sg(l,"Failed to persist write");i.reject(c)}}async function AT(r,t){const i=St(r);try{const a=await EC(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Wt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Wt(d.hu,14607):l.removedDocuments.size>0&&(Wt(d.hu,42227),d.hu=!1))})),await Xl(i,a,t)}catch(a){await mo(a)}}function sv(r,t,i){const a=St(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const _=St(d);_.onlineState=p;let y=!1;_.queries.forEach(((T,w)=>{for(const V of w.Sa)V.va(p)&&(y=!0)})),y&&rg(_)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function lI(r,t,i){const a=St(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new ve(pt.comparator);d=d.insert(c,on.newNoDocument(c,bt.min()));const p=Pt().add(c),_=new Th(bt.min(),new Map,new ve(Lt),d,p);await AT(a,_),a.du=a.du.remove(c),a.Au.delete(t),og(a)}else await mm(a.localStore,t,!1).then((()=>ym(a,t,i))).catch(mo)}async function uI(r,t){const i=St(r),a=t.batch.batchId;try{const l=await vC(i.localStore,t);wT(i,a,null),ST(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Xl(i,l)}catch(l){await mo(l)}}async function cI(r,t,i){const a=St(r);try{const l=await(function(d,p){const _=St(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return _.mutationQueue.lookupMutationBatch(y,p).next((w=>(Wt(w!==null,37113),T=w.keys(),_.mutationQueue.removeMutationBatch(y,w)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,T,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>_.localDocuments.getDocuments(y,T)))}))})(a.localStore,t);wT(a,t,i),ST(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Xl(a,l)}catch(l){await mo(l)}}function ST(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function wT(r,t,i){const a=St(r);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function ym(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||RT(r,a)}))}function RT(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(Wm(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),og(r))}function rv(r,t,i){for(const a of i)a instanceof ET?(r.Ru.addReference(a.key,t),hI(r,a)):a instanceof TT?(ot(ag,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||RT(r,a.key)):vt(19791,{wu:a})}function hI(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(ot(ag,"New document in limbo: "+i),r.Eu.add(a),og(r))}function og(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new pt(_e.fromString(t)),a=r.fu.next();r.Au.set(a,new tI(i)),r.du=r.du.insert(i,a),hT(r.remoteStore,new er(Ui(ph(i.path)),a,"TargetPurposeLimboResolution",fh.ce))}}async function Xl(r,t,i){const a=St(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,_)=>{d.push(a.pu(_,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const T=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,T?"current":"not-current")}if(y){l.push(y);const T=Zm.As(_.targetId,y);c.push(T)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(_,y){const T=St(_);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>$.forEach(y,(V=>$.forEach(V.Es,(F=>T.persistence.referenceDelegate.addReference(w,V.targetId,F))).next((()=>$.forEach(V.ds,(F=>T.persistence.referenceDelegate.removeReference(w,V.targetId,F)))))))))}catch(w){if(!go(w))throw w;ot(Jm,"Failed to update sequence numbers: "+w)}for(const w of y){const V=w.targetId;if(!w.fromCache){const F=T.Ms.get(V),tt=F.snapshotVersion,nt=F.withLastLimboFreeSnapshotVersion(tt);T.Ms=T.Ms.insert(V,nt)}}})(a.localStore,c))}async function fI(r,t){const i=St(r);if(!i.currentUser.isEqual(t)){ot(ag,"User change. New user:",t.toKey());const a=await oT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new ct(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Xl(i,a.Ls)}}function dI(r,t){const i=St(r),a=i.Au.get(t);if(a&&a.hu)return Pt().add(a.key);{let l=Pt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function CT(r){const t=St(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=AT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=dI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=lI.bind(null,t),t.Pu.H_=$C.bind(null,t.eventManager),t.Pu.yu=ZC.bind(null,t.eventManager),t}function mI(r){const t=St(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=uI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=cI.bind(null,t),t}class ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=bh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return _C(this.persistence,new gC,t.initialUser,this.serializer)}Cu(t){return new aT($m.mi,this.serializer)}Du(t){return new wC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ah.provider={build:()=>new ah};class gI extends ah{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Wt(this.persistence.referenceDelegate instanceof sh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new tC(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new aT((a=>sh.mi(a,i)),this.serializer)}}class _m{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>sv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=fI.bind(null,this.syncEngine),await KC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new XC})()}createDatastore(t){const i=bh(t.databaseInfo.databaseId),a=(function(c){return new NC(c)})(t.databaseInfo);return(function(c,d,p,_){return new VC(c,d,p,_)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new UC(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>sv(this.syncEngine,i,0)),(function(){return J0.v()?new J0:new RC})())}createSyncEngine(t,i){return(function(l,c,d,p,_,y,T){const w=new eI(l,c,d,p,_,y);return T&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=St(i);ot(Jr,"RemoteStore shutting down."),a.Ea.add(5),await Yl(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}_m.provider={build:()=>new _m};class IT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):gs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const dr="FirestoreClient";class pI{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=an.UNAUTHENTICATED,this.clientId=Lm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ot(dr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ot(dr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=sg(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Fd(r,t){r.asyncQueue.verifyOperationInProgress(),ot(dr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await oT(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function av(r,t){r.asyncQueue.verifyOperationInProgress();const i=await yI(r);ot(dr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>tv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>tv(t.remoteStore,l))),r._onlineComponents=t}async function yI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ot(dr,"Using user provided OfflineComponentProvider");try{await Fd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;no("Error using user provided cache. Falling back to memory cache: "+i),await Fd(r,new ah)}}else ot(dr,"Using default OfflineComponentProvider"),await Fd(r,new gI(void 0));return r._offlineComponents}async function xT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ot(dr,"Using user provided OnlineComponentProvider"),await av(r,r._uninitializedComponentsProvider._online)):(ot(dr,"Using default OnlineComponentProvider"),await av(r,new _m))),r._onlineComponents}function _I(r){return xT(r).then((t=>t.syncEngine))}async function vm(r){const t=await xT(r),i=t.eventManager;return i.onListen=nI.bind(null,t.syncEngine),i.onUnlisten=rI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=iI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=aI.bind(null,t.syncEngine),i}function vI(r,t,i={}){const a=new ar;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,_,y){const T=new IT({next:V=>{T.Nu(),d.enqueueAndForget((()=>_T(c,w)));const F=V.docs.has(p);!F&&V.fromCache?y.reject(new ct(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&V.fromCache&&_&&_.source==="server"?y.reject(new ct(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(V)},error:V=>y.reject(V)}),w=new vT(ph(p.path),T,{includeMetadataChanges:!0,qa:!0});return yT(c,w)})(await vm(r),r.asyncQueue,t,i,a))),a.promise}function NT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const ov=new Map;const DT="firestore.googleapis.com",lv=!0;class uv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=DT,this.ssl=lv}else this.host=t.host,this.ssl=t.ssl??lv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=rT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<JR)throw new ct(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}V2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class lg{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new A2;switch(a.type){case"firstParty":return new C2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ct(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=ov.get(i);a&&(ot("ComponentProvider","Removing Datastore"),ov.delete(i),a.terminate())})(this),Promise.resolve()}}function EI(r,t,i,a={}){r=ui(r,lg);const l=uo(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;l&&(Cv(`https://${p}`),Iv("Firestore",!0)),c.host!==DT&&c.host!==p&&no("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:l,emulatorOptions:a};if(!or(_,d)&&(r._setSettings(_),a.mockUserToken)){let y,T;if(typeof a.mockUserToken=="string")y=a.mockUserToken,T=an.MOCK_USER;else{y=Qb(a.mockUserToken,r._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new ct(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new an(w)}r._authCredentials=new S2(new vE(y,T))}}class wh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new wh(this.firestore,t,this._query)}}class Pe{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ll(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Pe(this.firestore,t,this._key)}toJSON(){return{type:Pe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Fl(i,Pe._jsonSchema))return new Pe(t,a||null,new pt(_e.fromString(i.referencePath)))}}Pe._jsonSchemaVersion="firestore/documentReference/1.0",Pe._jsonSchema={type:Le("string",Pe._jsonSchemaVersion),referencePath:Le("string")};class Ll extends wh{constructor(t,i,a){super(t,i,ph(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Pe(this.firestore,null,new pt(t))}withConverter(t){return new Ll(this.firestore,t,this._path)}}function Fn(r,t,...i){if(r=hn(r),arguments.length===1&&(t=Lm.newId()),M2("doc","path",t),r instanceof lg){const a=_e.fromString(t,...i);return A0(a),new Pe(r,null,new pt(a))}{if(!(r instanceof Pe||r instanceof Ll))throw new ct(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(_e.fromString(t,...i));return A0(a),new Pe(r.firestore,r instanceof Ll?r.converter:null,new pt(a))}}const cv="AsyncQueue";class hv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new uT(this,"async_queue_retry"),this._c=()=>{const a=Gd();a&&ot(cv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Gd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Gd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ar;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!go(t))throw t;ot(cv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,gs("INTERNAL UNHANDLED ERROR: ",fv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=ig.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&vt(47125,{Pc:fv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function fv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function dv(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class Wr extends lg{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new hv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new hv(t),this._firestoreClient=void 0,await t}}}function TI(r,t){const i=typeof r=="object"?r:Ov(),a=typeof r=="string"?r:Zc,l=Cm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=Gb("firestore");c&&EI(l,...c)}return l}function ug(r){if(r._terminated)throw new ct(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||bI(r),r._firestoreClient}function bI(r){const t=r._freezeSettings(),i=(function(l,c,d,p){return new F2(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,NT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new pI(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class Xn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Xn(en.fromBase64String(t))}catch(i){throw new ct(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Xn(en.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Fl(t,Xn._jsonSchema))return Xn.fromBase64String(t.bytes)}}Xn._jsonSchemaVersion="firestore/bytes/1.0",Xn._jsonSchema={type:Le("string",Xn._jsonSchemaVersion),bytes:Le("string")};class Rh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ct(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Ch{constructor(t){this._methodName=t}}class Pi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ct(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ct(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Lt(this._lat,t._lat)||Lt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Pi._jsonSchemaVersion}}static fromJSON(t){if(Fl(t,Pi._jsonSchema))return new Pi(t.latitude,t.longitude)}}Pi._jsonSchemaVersion="firestore/geoPoint/1.0",Pi._jsonSchema={type:Le("string",Pi._jsonSchemaVersion),latitude:Le("number"),longitude:Le("number")};class zi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:zi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Fl(t,zi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new zi(t.vectorValues);throw new ct(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}zi._jsonSchemaVersion="firestore/vectorValue/1.0",zi._jsonSchema={type:Le("string",zi._jsonSchemaVersion),vectorValues:Le("object")};const AI=/^__.*__$/;class SI{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new gr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Ql(t,this.data,i,this.fieldTransforms)}}class OT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new gr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function MT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{Ac:r})}}class Ih{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Ih({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return oh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(MT(this.Ac)&&AI.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class wI{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||bh(t)}Cc(t,i,a,l=!1){return new Ih({Ac:t,methodName:i,Dc:a,path:tn.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function VT(r){const t=r._freezeSettings(),i=bh(r._databaseId);return new wI(r._databaseId,!!t.ignoreUndefinedProperties,i)}function RI(r,t,i,a,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,l);hg("Data must be an object, but it was:",d,a);const p=kT(a,d);let _,y;if(c.merge)_=new Nn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const w of c.mergeFields){const V=Em(t,w,i);if(!d.contains(V))throw new ct(Z.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);LT(T,V)||T.push(V)}_=new Nn(T),y=d.fieldTransforms.filter((w=>_.covers(w.field)))}else _=null,y=d.fieldTransforms;return new SI(new En(p),_,y)}class xh extends Ch{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof xh}}function CI(r,t,i){return new Ih({Ac:3,Dc:t.settings.Dc,methodName:r._methodName,fc:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class cg extends Ch{constructor(t,i){super(t),this.vc=i}_toFieldTransform(t){const i=CI(this,t,!0),a=this.vc.map((c=>$l(c,i))),l=new ao(a);return new _R(t.path,l)}isEqual(t){return t instanceof cg&&or(this.vc,t.vc)}}function II(r,t,i,a){const l=r.Cc(1,t,i);hg("Data must be an object, but it was:",l,a);const c=[],d=En.empty();mr(a,((_,y)=>{const T=fg(t,_,i);y=hn(y);const w=l.yc(T);if(y instanceof xh)c.push(T);else{const V=$l(y,w);V!=null&&(c.push(T),d.set(T,V))}}));const p=new Nn(c);return new OT(d,p,l.fieldTransforms)}function xI(r,t,i,a,l,c){const d=r.Cc(1,t,i),p=[Em(t,a,i)],_=[l];if(c.length%2!=0)throw new ct(Z.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<c.length;V+=2)p.push(Em(t,c[V])),_.push(c[V+1]);const y=[],T=En.empty();for(let V=p.length-1;V>=0;--V)if(!LT(y,p[V])){const F=p[V];let tt=_[V];tt=hn(tt);const nt=d.yc(F);if(tt instanceof xh)y.push(F);else{const W=$l(tt,nt);W!=null&&(y.push(F),T.set(F,W))}}const w=new Nn(y);return new OT(T,w,d.fieldTransforms)}function $l(r,t){if(UT(r=hn(r)))return hg("Unsupported field value:",t,r),kT(r,t);if(r instanceof Ch)return(function(a,l){if(!MT(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let _=$l(p,l.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,l){if((a=hn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return gR(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=me.fromDate(a);return{timestampValue:ih(l.serializer,c)}}if(a instanceof me){const c=new me(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:ih(l.serializer,c)}}if(a instanceof Pi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Xn)return{bytesValue:JE(l.serializer,a._byteString)};if(a instanceof Pe){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Ym(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof zi)return(function(d,p){return{mapValue:{fields:{[IE]:{stringValue:xE},[Jc]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return Gm(p.serializer,y)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${Pm(a)}`)})(r,t)}function kT(r,t){const i={};return bE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):mr(r,((a,l)=>{const c=$l(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function UT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof me||r instanceof Pi||r instanceof Xn||r instanceof Pe||r instanceof Ch||r instanceof zi)}function hg(r,t,i){if(!UT(i)||!EE(i)){const a=Pm(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function Em(r,t,i){if((t=hn(t))instanceof Rh)return t._internalPath;if(typeof t=="string")return fg(r,t);throw oh("Field path arguments must be of type string or ",r,!1,void 0,i)}const NI=new RegExp("[~\\*/\\[\\]]");function fg(r,t,i){if(t.search(NI)>=0)throw oh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Rh(...t.split("."))._internalPath}catch{throw oh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function oh(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${l}`),_+=")"),new ct(Z.INVALID_ARGUMENT,p+r+_)}function LT(r,t){return r.some((i=>i.isEqual(t)))}class PT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Pe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new DI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(zT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class DI extends PT{data(){return super.data()}}function zT(r,t){return typeof t=="string"?fg(r,t):t instanceof Rh?t._internalPath:t._delegate._internalPath}function OI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ct(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class MI{convertValue(t,i="none"){switch(hr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ce(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(cr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw vt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return mr(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Jc].arrayValue?.values?.map((a=>Ce(a.doubleValue)));return new zi(i)}convertGeoPoint(t){return new Pi(Ce(t.latitude),Ce(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=mh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Ml(t));default:return null}}convertTimestamp(t){const i=ur(t);return new me(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=_e.fromString(t);Wt(sT(a),9688,{name:t});const l=new Vl(a.get(1),a.get(3)),c=new pt(a.popFirst(5));return l.isEqual(i)||gs(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function VI(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class Al{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Yr extends PT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new jc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(zT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Yr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Yr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Yr._jsonSchema={type:Le("string",Yr._jsonSchemaVersion),bundleSource:Le("string","DocumentSnapshot"),bundleName:Le("string"),bundle:Le("string")};class jc extends Yr{data(t={}){return super.data(t)}}class to{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Al(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new jc(this._firestore,this._userDataWriter,a.key,a,new Al(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ct(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const _=new jc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Al(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new jc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Al(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,T=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),T=d.indexOf(p.doc.key)),{type:kI(p.type),doc:_,oldIndex:y,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=to._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Lm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function kI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:r})}}function UI(r){r=ui(r,Pe);const t=ui(r.firestore,Wr);return vI(ug(t),r._key).then((i=>BT(t,r,i)))}to._jsonSchemaVersion="firestore/querySnapshot/1.0",to._jsonSchema={type:Le("string",to._jsonSchemaVersion),bundleSource:Le("string","QuerySnapshot"),bundleName:Le("string"),bundle:Le("string")};class jT extends MI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Xn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Pe(this.firestore,null,i)}}function LI(r,t,i){r=ui(r,Pe);const a=ui(r.firestore,Wr),l=VI(r.converter,t);return dg(a,[RI(VT(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,ci.none())])}function Oi(r,t,i,...a){r=ui(r,Pe);const l=ui(r.firestore,Wr),c=VT(l);let d;return d=typeof(t=hn(t))=="string"||t instanceof Rh?xI(c,"updateDoc",r._key,t,i,a):II(c,"updateDoc",r._key,t),dg(l,[d.toMutation(r._key,ci.exists(!0))])}function PI(r){return dg(ui(r.firestore,Wr),[new Fm(r._key,ci.none())])}function zI(r,...t){r=hn(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||dv(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(dv(t[a])){const _=t[a];t[a]=_.next?.bind(_),t[a+1]=_.error?.bind(_),t[a+2]=_.complete?.bind(_)}let c,d,p;if(r instanceof Pe)d=ui(r.firestore,Wr),p=ph(r._key.path),c={next:_=>{t[a]&&t[a](BT(d,r,_))},error:t[a+1],complete:t[a+2]};else{const _=ui(r,wh);d=ui(_.firestore,Wr),p=_._query;const y=new jT(d);c={next:T=>{t[a]&&t[a](new to(d,y,_,T))},error:t[a+1],complete:t[a+2]},OI(r._query)}return(function(y,T,w,V){const F=new IT(V),tt=new vT(T,F,w);return y.asyncQueue.enqueueAndForget((async()=>yT(await vm(y),tt))),()=>{F.Nu(),y.asyncQueue.enqueueAndForget((async()=>_T(await vm(y),tt)))}})(ug(d),p,l,c)}function dg(r,t){return(function(a,l){const c=new ar;return a.asyncQueue.enqueueAndForget((async()=>oI(await _I(a),l,c))),c.promise})(ug(r),t)}function BT(r,t,i){const a=i.docs.get(t._key),l=new jT(r);return new Yr(r,l,t._key,a,new Al(i.hasPendingWrites,i.fromCache),t.converter)}function mv(...r){return new cg("arrayUnion",r)}(function(t,i=!0){(function(l){fo=l})(co),eo(new Xr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new Wr(new w2(a.getProvider("auth-internal")),new I2(d,a.getProvider("app-check-internal")),(function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ct(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vl(y.options.projectId,T)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),sr(v0,E0,t),sr(v0,E0,"esm2020")})();const jI=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),BI=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),gv=r=>{const t=BI(r);return t.charAt(0).toUpperCase()+t.slice(1)},qT=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),qI=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var HI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const GI=ye.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},_)=>ye.createElement("svg",{ref:_,...HI,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:qT("lucide",l),...!c&&!qI(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,T])=>ye.createElement(y,T)),...Array.isArray(c)?c:[c]]));const he=(r,t)=>{const i=ye.forwardRef(({className:a,...l},c)=>ye.createElement(GI,{ref:c,iconNode:t,className:qT(`lucide-${jI(gv(r))}`,`lucide-${r}`,a),...l}));return i.displayName=gv(r),i};const FI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],QI=he("arrow-right",FI);const KI=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Tm=he("book-open",KI);const YI=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ya=he("circle-check-big",YI);const XI=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],$I=he("clock",XI);const ZI=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],JI=he("cpu",ZI);const WI=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],tx=he("crown",WI);const ex=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],nx=he("database",ex);const ix=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Qd=he("disc",ix);const sx=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M16 18v-6",key:"15y0np"}]],rx=he("file-chart-column-increasing",sx);const ax=[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]],Bc=he("ghost",ax);const ox=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],HT=he("history",ox);const lx=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],ux=he("house",lx);const cx=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],bm=he("layers",cx);const hx=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],GT=he("loader-circle",hx);const fx=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],dx=he("lock",fx);const mx=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Am=he("log-out",mx);const gx=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],px=he("power",gx);const yx=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],FT=he("repeat",yx);const _x=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],vx=he("rotate-ccw",_x);const Ex=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],QT=he("server",Ex);const Tx=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],bx=he("smartphone",Tx);const Ax=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Sx=he("trash-2",Ax);const wx=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],pv=he("trophy",wx);const Rx=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],KT=he("user",Rx);const Cx=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],Ix=he("wifi",Cx);const xx=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],YT=he("x",xx);const Nx=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Dx=he("zap",Nx),Ox={apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:97363172311f11c86aa637"},XT=Dv(Ox),Kd=T2(XT),Qn=TI(XT),Kn=typeof __app_id<"u"?__app_id:"neon-draft",lh={CACHE_1:{id:"CACHE_1",name:"Data Cache v1",val:1,icon:Qd,color:"text-slate-400",border:"border-slate-500",desc:"1 TB."},CACHE_2:{id:"CACHE_2",name:"Data Cache v2",val:2,icon:Qd,color:"text-orange-400",border:"border-orange-500",desc:"2 TB."},CACHE_3:{id:"CACHE_3",name:"Data Cache v3",val:3,icon:Qd,color:"text-yellow-400",border:"border-yellow-500",desc:"3 TB."},EXPLOIT:{id:"EXPLOIT",name:"Zero-Day Exploit",val:0,icon:Dx,color:"text-yellow-200",border:"border-yellow-600",desc:"Next Cache x3."},GPU:{id:"GPU",name:"GPU Cluster",val:0,icon:JI,color:"text-purple-400",border:"border-purple-500",desc:"Pair = 5 TB."},MAINFRAME:{id:"MAINFRAME",name:"Mainframe Core",val:0,icon:QT,color:"text-green-400",border:"border-green-500",desc:"Set of 3 = 10 TB."},KEY:{id:"KEY",name:"Encryption Key",val:0,icon:dx,color:"text-blue-400",border:"border-blue-500",desc:"1/3/6/10/15 TB."},BOTNET:{id:"BOTNET",name:"Botnet Node",val:0,icon:Ix,color:"text-red-500",border:"border-red-600",desc:"Most = 6. 2nd = 3."},PROXY:{id:"PROXY",name:"Proxy Server",val:0,icon:FT,color:"text-cyan-200",border:"border-cyan-400",desc:"Swap for 2 cards."},BACKDOOR:{id:"BACKDOOR",name:"Backdoor Access",val:0,icon:Bc,color:"text-pink-400",border:"border-pink-500",desc:"End Game: +6/-6 TB."}},Mx=[...Array(14).fill("GPU"),...Array(14).fill("MAINFRAME"),...Array(14).fill("KEY"),...Array(26).fill("BOTNET"),...Array(10).fill("CACHE_2"),...Array(5).fill("CACHE_3"),...Array(5).fill("CACHE_1"),...Array(6).fill("EXPLOIT"),...Array(4).fill("PROXY"),...Array(10).fill("BACKDOOR")],Vx=r=>{let t=r.length,i;for(;t!==0;)i=Math.floor(Math.random()*t),t--,[r[t],r[i]]=[r[i],r[t]];return r},Yd=()=>A.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:[A.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-slate-900 via-purple-950 to-black"}),A.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-cyan-500/5 mix-blend-overlay"}),A.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:"linear-gradient(rgba(18, 16, 99, 0.1) 1px, transparent 1px), linear-gradient(90deg, rgba(18, 16, 99, 0.1) 1px, transparent 1px)",backgroundSize:"40px 40px"}})]}),yv=()=>A.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-60 mt-auto pb-2 pt-2 relative z-10",children:[A.jsx(bm,{size:12,className:"text-cyan-400"}),A.jsx("span",{className:"text-[10px] font-black tracking-widest text-cyan-400 uppercase drop-shadow-[0_0_5px_rgba(34,211,238,0.8)]",children:"NEON DRAFT"})]}),_v=({onConfirmLeave:r,onConfirmLobby:t,onCancel:i,isHost:a,inGame:l})=>A.jsx("div",{className:"fixed inset-0 bg-black/90 z-[200] flex items-center justify-center p-4 animate-in fade-in",children:A.jsxs("div",{className:"bg-slate-900 rounded-xl border border-slate-700 p-6 max-w-sm w-full text-center shadow-2xl",children:[A.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Disconnect from Grid?"}),A.jsx("p",{className:"text-slate-400 mb-6 text-sm",children:a?"WARNING: As Admin, leaving will shut down the server for all runners.":l?"Leaving now will corrupt the data stream for everyone.":"Closing secure connection."}),A.jsxs("div",{className:"flex flex-col gap-3",children:[A.jsx("button",{onClick:i,className:"bg-slate-700 hover:bg-slate-600 text-white py-3 rounded font-bold transition-colors",children:"Stay Connected"}),l&&a&&A.jsxs("button",{onClick:t,className:"py-3 rounded font-bold transition-colors flex items-center justify-center gap-2 bg-cyan-600 hover:bg-cyan-500 text-white",children:[A.jsx(ux,{size:18})," Reset to Lobby"]}),A.jsxs("button",{onClick:r,className:"bg-pink-600 hover:bg-pink-500 text-white py-3 rounded font-bold transition-colors flex items-center justify-center gap-2",children:[A.jsx(Am,{size:18})," ",a?"Shut Down Server":"Jack Out"]})]})]})}),kx=({players:r,round:t,onNext:i,isHost:a})=>A.jsx("div",{className:"fixed inset-0 bg-black/95 z-[150] flex items-center justify-center p-4 animate-in fade-in",children:A.jsxs("div",{className:"bg-slate-900 border border-cyan-500/30 rounded-2xl w-full max-w-3xl flex flex-col shadow-2xl overflow-hidden max-h-[90vh]",children:[A.jsxs("div",{className:"p-6 border-b border-slate-800 bg-slate-950/50 flex justify-between items-center",children:[A.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2 tracking-wider",children:[A.jsx(rx,{className:"text-cyan-400"}),"ROUND ",t," SUMMARY"]}),A.jsx("div",{className:"text-sm text-slate-500 font-mono",children:"CALCULATING METRICS..."})]}),A.jsxs("div",{className:"p-6 overflow-y-auto space-y-4",children:[A.jsxs("div",{className:"grid grid-cols-12 gap-4 text-xs font-bold text-slate-500 uppercase tracking-widest border-b border-slate-800 pb-2",children:[A.jsx("div",{className:"col-span-3",children:"Runner"}),A.jsx("div",{className:"col-span-5",children:"Data Acquired (Ordered)"}),A.jsxs("div",{className:"col-span-2 text-right",children:["R",t," TB"]}),A.jsx("div",{className:"col-span-2 text-right",children:"Total TB"})]}),r.sort((l,c)=>c.score-l.score).map(l=>{const c=l.history.find(_=>_.round===t),d=c?c.cards:[],p=c?c.score:0;return A.jsxs("div",{className:"grid grid-cols-12 gap-4 items-center bg-slate-800/30 p-3 rounded-lg border border-slate-700/50",children:[A.jsxs("div",{className:"col-span-3 font-bold text-white truncate flex items-center gap-2",children:[A.jsx(KT,{size:14,className:"text-slate-400"}),l.name]}),A.jsxs("div",{className:"col-span-5 flex flex-wrap gap-1",children:[d.map((_,y)=>{const T=lh[_],w=T.icon;return A.jsx("div",{className:`w-6 h-6 flex items-center justify-center rounded bg-slate-900 border ${T.border} ${T.color}`,title:T.name,children:A.jsx(w,{size:12})},y)}),d.length===0&&A.jsx("span",{className:"text-slate-600 text-xs italic",children:"No Data"})]}),A.jsxs("div",{className:"col-span-2 text-right font-mono text-cyan-300 font-bold",children:["+",p]}),A.jsx("div",{className:"col-span-2 text-right font-mono text-white font-bold text-lg",children:l.score})]},l.id)})]}),A.jsx("div",{className:"p-6 border-t border-slate-800 bg-slate-950/50 flex justify-end",children:a?A.jsxs("button",{onClick:i,className:"bg-cyan-600 hover:bg-cyan-500 text-white px-8 py-3 rounded-xl font-bold flex items-center gap-2 transition-all shadow-lg shadow-cyan-900/20",children:[t>=3?"Initialize Final Scoring":"Start Next Round"," ",A.jsx(QI,{size:18})]}):A.jsxs("div",{className:"text-slate-400 italic animate-pulse flex items-center gap-2",children:[A.jsx(GT,{size:16,className:"animate-spin"})," Waiting for Host to proceed..."]})})]})}),Ux=({logs:r,onClose:t})=>A.jsx("div",{className:"fixed inset-0 bg-black/90 z-[60] flex items-center justify-center p-0 md:p-4",children:A.jsxs("div",{className:"bg-slate-900 w-full md:max-w-md h-full md:h-[70vh] rounded-none md:rounded-xl flex flex-col border-none md:border border-slate-700 shadow-2xl",children:[A.jsxs("div",{className:"p-4 border-b border-slate-700 flex justify-between items-center bg-slate-800",children:[A.jsxs("h3",{className:"text-white font-bold text-lg flex items-center gap-2",children:[A.jsx(HT,{size:18,className:"text-cyan-400"})," System Logs"]}),A.jsx("button",{onClick:t,className:"p-2 bg-slate-700 rounded-full hover:bg-slate-600",children:A.jsx(YT,{className:"text-slate-400"})})]}),A.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[...r].reverse().map((i,a)=>A.jsxs("div",{className:`text-xs md:text-sm p-3 rounded border-l-2 ${i.type==="danger"?"bg-red-900/20 border-red-500 text-red-200":i.type==="success"?"bg-green-900/20 border-green-500 text-green-200":"bg-slate-700/50 border-slate-500 text-slate-300"}`,children:[A.jsxs("span",{className:"opacity-50 mr-2 font-mono",children:["[",new Date(parseInt(i.id)).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}),"]"]}),i.text]},a))})]})}),vv=({onClose:r})=>A.jsx("div",{className:"fixed inset-0 bg-black/95 z-[100] flex items-center justify-center p-0 md:p-4 animate-in fade-in",children:A.jsxs("div",{className:"bg-slate-900 md:rounded-2xl w-full max-w-4xl h-full md:h-auto md:max-h-[90vh] overflow-hidden border-none md:border border-cyan-500/30 flex flex-col",children:[A.jsxs("div",{className:"p-6 border-b border-slate-800 flex justify-between items-center bg-slate-950",children:[A.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2 tracking-wider",children:[A.jsx(Tm,{className:"text-cyan-400"})," Data Runner's Manual"]}),A.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-800 rounded-full text-slate-400",children:A.jsx(YT,{})})]}),A.jsx("div",{className:"p-6 overflow-y-auto text-slate-300 space-y-6",children:A.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[A.jsxs("div",{className:"bg-cyan-900/10 p-4 rounded-lg border border-cyan-500/20",children:[A.jsx("h3",{className:"text-xl font-bold text-cyan-400 mb-2",children:"The Draft"}),A.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-sm",children:[A.jsxs("li",{children:[A.jsx("strong",{children:"Select:"})," Pick 1 card to keep (or 2 if using Proxy)."]}),A.jsxs("li",{children:[A.jsx("strong",{children:"Reveal:"})," Add to your Rig."]}),A.jsxs("li",{children:[A.jsx("strong",{children:"Pass:"})," Hand remaining cards to the left."]}),A.jsx("li",{children:"3 Rounds total. Highest TB (Score) wins."})]})]}),A.jsxs("div",{className:"bg-purple-900/10 p-4 rounded-lg border border-purple-500/20",children:[A.jsx("h3",{className:"text-xl font-bold text-purple-400 mb-2",children:"Scoring Protocols"}),A.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-sm",children:[A.jsxs("li",{children:[A.jsx("strong",{children:"GPU:"})," Pair (2 cards) = 5 pts."]}),A.jsxs("li",{children:[A.jsx("strong",{children:"Mainframe:"})," Set (3 cards) = 10 pts."]}),A.jsxs("li",{children:[A.jsx("strong",{children:"Key:"})," 1/3/6/10/15 pts for 1/2/3/4/5+ cards."]}),A.jsxs("li",{children:[A.jsx("strong",{children:"Exploit:"})," Triples the ",A.jsx("em",{children:"very next"})," Cache card played. Unused Exploits = 0 pts."]}),A.jsxs("li",{children:[A.jsx("strong",{children:"Botnet:"})," Round End. Most = 6 pts. 2nd Most = 3 pts."]}),A.jsxs("li",{children:[A.jsx("strong",{children:"Backdoor:"})," Game End. Most = 6 pts. Fewest = -6 pts."]}),A.jsxs("li",{children:[A.jsx("strong",{children:"Proxy:"})," Use on turn to swap for 2 cards."]})]})]})]})})]})}),Lx=({type:r,message:t,subtext:i,icon:a})=>A.jsx("div",{className:"fixed inset-0 z-[160] flex items-center justify-center pointer-events-none",children:A.jsxs("div",{className:`
      flex flex-col items-center justify-center p-8 md:p-12 rounded-3xl border-4 shadow-[0_0_50px_rgba(0,0,0,0.8)] 
      transform transition-all animate-in fade-in zoom-in slide-in-from-bottom-10 duration-300 backdrop-blur-md
      ${r==="success"?"bg-cyan-900/90 border-cyan-500 text-cyan-100":""}
      ${r==="info"?"bg-purple-900/90 border-purple-500 text-purple-100":""}
    `,children:[a&&A.jsx("div",{className:"mb-4 p-4 bg-black/30 rounded-full border-2 border-white/20",children:A.jsx(a,{size:64,className:"animate-bounce"})}),A.jsx("h2",{className:"text-3xl md:text-5xl font-black uppercase tracking-widest text-center drop-shadow-lg mb-2",children:t}),i&&A.jsx("p",{className:"text-lg md:text-xl font-bold opacity-90 tracking-wide text-center",children:i})]})}),Ev=({typeId:r,onClick:t,selected:i,small:a,disabled:l})=>{const c=lh[r];if(!c)return null;const d=c.icon;return A.jsxs("div",{onClick:l?void 0:t,className:`
        relative bg-slate-900 rounded-lg border-2 transition-all flex flex-col items-center justify-between
        ${c.border}
        ${i?"ring-4 ring-cyan-400 -translate-y-4 shadow-[0_0_20px_rgba(34,211,238,0.5)] z-20":l?"opacity-50 cursor-not-allowed":"hover:-translate-y-1 hover:shadow-lg"}
        ${t&&!l?"cursor-pointer":""}
        ${a?"w-16 h-24 p-1":"w-24 h-36 md:w-32 md:h-48 p-2"}
      `,children:[A.jsxs("div",{className:"w-full flex justify-between items-start",children:[A.jsx("span",{className:`font-black ${a?"text-[10px]":"text-sm"} ${c.color}`,children:c.val>0?c.val:""}),A.jsx("div",{className:`${a?"w-3 h-3":"w-6 h-6"} rounded-full border ${c.border} bg-slate-800 flex items-center justify-center`,children:A.jsx(d,{size:a?8:14,className:c.color})})]}),A.jsxs("div",{className:"flex flex-col items-center gap-1",children:[A.jsx(d,{size:a?20:40,className:`${c.color} drop-shadow-md`}),!a&&A.jsx("span",{className:`text-[10px] uppercase font-bold text-center leading-tight ${c.color}`,children:c.name})]}),!a&&A.jsx("div",{className:"w-full bg-black/40 rounded p-1 text-[8px] text-slate-400 text-center leading-tight",children:c.desc}),i&&A.jsx("div",{className:"absolute inset-0 bg-cyan-500/20 rounded-lg flex items-center justify-center",children:A.jsx(Ya,{className:"text-cyan-400 w-8 h-8 md:w-12 md:h-12 drop-shadow-lg"})})]})};function Px(){const[r,t]=ye.useState(null),[i,a]=ye.useState("menu"),[l,c]=ye.useState(""),[d,p]=ye.useState(""),[_,y]=ye.useState(""),[T,w]=ye.useState(null),[V,F]=ye.useState(!1),[tt,nt]=ye.useState(""),[W,mt]=ye.useState(!1),[Tt,gt]=ye.useState(!1),[Jt,ie]=ye.useState(!1),[It,x]=ye.useState(null),[S,C]=ye.useState([]),[M,N]=ye.useState(!1);ye.useEffect(()=>{(async()=>typeof __initial_auth_token<"u"&&__initial_auth_token?await ow(Kd,__initial_auth_token):await nw(Kd))();const J=cw(Kd,t);return()=>J()},[]),ye.useEffect(()=>{const X=localStorage.getItem("neondraft_roomId");X&&p(X)},[]),ye.useEffect(()=>{if(!d||!r)return;const X=zI(Fn(Qn,"artifacts",Kn,"public","data","rooms",d),J=>{if(J.exists()){const it=J.data();if(!it.players||!Array.isArray(it.players)||!it.players.some(ht=>ht.id===r.uid)){p(""),a("menu"),localStorage.removeItem("neondraft_roomId"),nt("Connection Terminated (Kicked).");return}w(it),it.status==="lobby"?a("lobby"):a("game"),it.feedbackTrigger&&it.feedbackTrigger.id!==T?.feedbackTrigger?.id&&(x(it.feedbackTrigger),setTimeout(()=>x(null),3e3))}else p(""),a("menu"),localStorage.removeItem("neondraft_roomId"),nt("Server shut down by Admin.")});return()=>X()},[d,r,T?.feedbackTrigger?.id]);const U=async()=>{if(!l.trim())return nt("Codename required.");F(!0);const X=Math.random().toString(36).substring(2,7).toUpperCase(),J={roomId:X,hostId:r.uid,status:"lobby",players:[{id:r.uid,name:l,hand:[],keptCards:[],score:0,ready:!0,selection:[],history:[],backdoorCount:0}],logs:[],round:1,turnState:"IDLE",feedbackTrigger:null,winner:null};try{await LI(Fn(Qn,"artifacts",Kn,"public","data","rooms",X),J),localStorage.setItem("neondraft_roomId",X),p(X),a("lobby")}catch{nt("Network error.")}F(!1)},R=async()=>{if(!_||!l)return nt("Code and Name required.");F(!0);try{const X=Fn(Qn,"artifacts",Kn,"public","data","rooms",_),J=await UI(X);if(!J.exists())throw new Error("Room not found.");const it=J.data();if(it.status!=="lobby")throw new Error("Draft in progress.");if(it.players.length>=6)throw new Error("Server full.");it.players.find(ht=>ht.id===r.uid)||await Oi(X,{players:mv({id:r.uid,name:l,hand:[],keptCards:[],score:0,ready:!0,selection:[],history:[],backdoorCount:0})}),localStorage.setItem("neondraft_roomId",_),p(_)}catch(X){nt(X.message)}F(!1)},le=async()=>{if(!d)return;const X=Fn(Qn,"artifacts",Kn,"public","data","rooms",d);if(T.hostId===r.uid)await PI(X);else{const J=T.players.filter(it=>it.id!==r.uid);await Oi(X,{players:J})}localStorage.removeItem("neondraft_roomId"),p(""),a("menu"),gt(!1)},be=async X=>{if(T.hostId!==r.uid)return;const J=T.players.filter(it=>it.id!==X);await Oi(Fn(Qn,"artifacts",Kn,"public","data","rooms",d),{players:J})},H=async()=>{if(!T)return;const X=T.players.map(J=>J.id===r.uid?{...J,ready:!J.ready}:J);await Oi(Fn(Qn,"artifacts",Kn,"public","data","rooms",d),{players:X})},st=async()=>{if(T.players.length<2)return nt("Need 2+ Runners.");let X=Vx([...Mx]);const J=T.players.length===2?10:T.players.length===3?9:T.players.length===4?8:7,it=T.players.map(ht=>{const xt=[];for(let Ot=0;Ot<J;Ot++)xt.push(X.pop());return{...ht,hand:xt,keptCards:[],score:0,backdoorCount:0,history:[],selection:[],ready:!1}});await Oi(Fn(Qn,"artifacts",Kn,"public","data","rooms",d),{status:"playing",players:it,deck:X,round:1,turnState:"SELECTING",logs:[{id:Date.now().toString(),text:"Draft Initialized. Round 1.",type:"neutral"}]})},ft=X=>{const J=M?2:1;C(it=>it.includes(X)?it.filter(ht=>ht!==X):it.length>=J?J===1?[X]:[...it.slice(1),X]:[...it,X])},zt=async()=>{if(S.length===0||M&&S.length!==2)return;const X=T.players.map(it=>it.id===r.uid?{...it,selection:S,usingProxy:M}:it);X.every(it=>it.selection.length>0)?await O(X):await Oi(Fn(Qn,"artifacts",Kn,"public","data","rooms",d),{players:X}),C([]),N(!1)},Kt=X=>{let J=0,it=0,ht=0,xt=0,Ot=0,Gt=0;X.forEach(Xt=>{if(Xt==="EXPLOIT")it++;else if(Xt.startsWith("CACHE")){const nn=lh[Xt].val;it>0?(J+=nn*3,it--):J+=nn}Xt==="GPU"&&ht++,Xt==="MAINFRAME"&&xt++,Xt==="KEY"&&Ot++,Xt==="BOTNET"&&Gt++});const yt=Math.floor(ht/2)*5,Bt=Math.floor(xt/3)*10,Ht=[0,1,3,6,10,15][Math.min(Ot,5)];return{total:J+yt+Bt+Ht,botnetCount:Gt}},O=async X=>{const J=[];let it="SELECTING",ht=[...X];ht=ht.map(Ot=>{const Gt=Ot.selection.map(Yt=>Ot.hand[Yt]);let yt=Ot.hand.filter((Yt,Ht)=>!Ot.selection.includes(Ht)),Bt=[...Ot.keptCards];if(Ot.usingProxy){const Yt=Bt.indexOf("PROXY");Yt>-1?(Bt.splice(Yt,1),yt.push("PROXY"),Bt.push(...Gt)):(Bt.push(Gt[0]),Gt.length>1&&yt.push(Gt[1]))}else Bt.push(...Gt);return{...Ot,hand:yt,keptCards:Bt,selection:[],usingProxy:!1}}),J.push({id:Date.now().toString(),text:"Data transfer complete. Hands rotating...",type:"neutral"});const xt=ht.map((Ot,Gt)=>ht[(Gt+1)%ht.length].hand);if(ht.forEach((Ot,Gt)=>Ot.hand=xt[Gt]),ht[0].hand.length===0){J.push({id:Date.now()+1,text:`Round ${T.round} Complete. Showing Summary.`,type:"success"});const Ot=ht.map(Mt=>Kt(Mt.keptCards)),Gt=Ot.map(Mt=>Mt.botnetCount),yt=[...new Set(Gt)].filter(Mt=>Mt>0).sort((Mt,ue)=>ue-Mt),Bt=yt[0]||0,Yt=yt[1]||0,Ht=ht.filter((Mt,ue)=>Ot[ue].botnetCount===Bt&&Bt>0),Xt=ht.filter((Mt,ue)=>Ot[ue].botnetCount===Yt&&Yt>0),nn=Math.floor(6/(Ht.length||1)),pr=Math.floor(3/(Xt.length||1));ht.forEach((Mt,ue)=>{const Dn=Ot[ue];let yr=0;Dn.botnetCount===Bt&&Bt>0?yr=nn:Dn.botnetCount===Yt&&Yt>0&&Ht.length===1&&(yr=pr);const na=Mt.keptCards.filter(qi=>qi==="BACKDOOR").length;Mt.backdoorCount+=na;const qe=Dn.total+yr;Mt.history.push({round:T.round,cards:[...Mt.keptCards],score:qe}),Mt.score+=qe}),it="ROUND_SUMMARY"}await Oi(Fn(Qn,"artifacts",Kn,"public","data","rooms",d),{players:ht,turnState:it,logs:mv(...J)})},K=async()=>{if(T.hostId===r.uid)if(T.round>=3){const X=[...T.players],J=X.map(Ht=>Ht.backdoorCount),it=Math.max(...J),ht=Math.min(...J),xt=X.filter(Ht=>Ht.backdoorCount===it),Ot=X.filter(Ht=>Ht.backdoorCount===ht),Gt=Math.floor(6/xt.length),yt=X.length>2?Math.floor(-6/Ot.length):0;X.forEach(Ht=>{let Xt=0;Ht.backdoorCount===it?Xt=Gt:Ht.backdoorCount===ht&&(Xt=yt),Ht.score+=Xt,Ht.backdoorScore=Xt,Ht.ready=!1});const Yt=[...X].sort((Ht,Xt)=>Xt.score-Ht.score)[0].name;await Oi(Fn(Qn,"artifacts",Kn,"public","data","rooms",d),{players:X,status:"finished",turnState:"GAME_OVER",winner:Yt,feedbackTrigger:{id:Date.now(),type:"success",message:"SYSTEM HACKED",subtext:`${Yt} Dominates the Grid`}})}else{const X=T.round+1;let J=[...T.deck];const it=T.players.length===2?10:T.players.length===3?9:T.players.length===4?8:7,ht=T.players.map(xt=>{const Ot=[];for(let Gt=0;Gt<it;Gt++)J.length>0&&Ot.push(J.pop());return{...xt,hand:Ot,keptCards:[]}});await Oi(Fn(Qn,"artifacts",Kn,"public","data","rooms",d),{players:ht,deck:J,round:X,turnState:"SELECTING",feedbackTrigger:{id:Date.now(),type:"info",message:`ROUND ${X}`,subtext:"New Data Available"}})}},rt=async()=>{const X=T.players.map(J=>({...J,hand:[],keptCards:[],score:0,backdoorCount:0,selection:[],history:[],ready:!0}));await Oi(Fn(Qn,"artifacts",Kn,"public","data","rooms",d),{status:"lobby",players:X,logs:[],round:1,winner:null,feedbackTrigger:null})},at=T?.players.find(X=>X.id===r?.uid);if(!r)return A.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center text-cyan-500 animate-pulse",children:"Initializing Interface..."});if(i==="menu")return A.jsxs("div",{className:"min-h-screen bg-slate-950 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden font-sans",children:[A.jsx(Yd,{}),W&&A.jsx(vv,{onClose:()=>mt(!1)}),A.jsxs("div",{className:"z-10 text-center mb-10 animate-in fade-in zoom-in duration-700",children:[A.jsx(bm,{size:64,className:"text-cyan-400 mx-auto mb-4 animate-bounce drop-shadow-[0_0_15px_rgba(34,211,238,0.5)]"}),A.jsx("h1",{className:"text-5xl md:text-7xl font-black text-transparent bg-clip-text bg-gradient-to-br from-cyan-400 via-blue-500 to-purple-600 font-serif tracking-widest drop-shadow-md",children:"NEON DRAFT"}),A.jsx("p",{className:"text-white-400/60 tracking-[0.3em] uppercase mt-2",children:"Build Your Rig. Rule the Net."})]}),A.jsxs("div",{className:"bg-slate-900/80 backdrop-blur border border-cyan-500/30 p-8 rounded-2xl w-full max-w-md shadow-2xl z-10 animate-in slide-in-from-bottom-10 duration-700 delay-100",children:[tt&&A.jsx("div",{className:"bg-red-900/50 text-red-200 p-2 mb-4 rounded text-center text-sm border border-red-800",children:tt}),A.jsx("input",{className:"w-full bg-black/50 border border-slate-600 p-3 rounded mb-4 text-white placeholder-slate-500 focus:border-cyan-500 outline-none transition-colors font-mono",placeholder:"Hacker Alias",value:l,onChange:X=>c(X.target.value)}),A.jsxs("button",{onClick:U,disabled:V,className:"w-full bg-gradient-to-r from-cyan-700 to-blue-600 hover:from-cyan-600 hover:to-blue-500 p-4 rounded font-bold mb-4 flex items-center justify-center gap-2 border border-cyan-500/30 shadow-[0_0_15px_rgba(34,211,238,0.2)] transition-all",children:[A.jsx(QT,{size:20})," New Server"]}),A.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-4",children:[A.jsx("input",{className:"w-full sm:flex-1 bg-black/50 border border-slate-600 p-3 rounded text-white placeholder-slate-500 uppercase font-mono tracking-wider focus:border-cyan-500 outline-none",placeholder:"IP ADDR",value:_,onChange:X=>y(X.target.value.toUpperCase())}),A.jsx("button",{onClick:R,disabled:V,className:"w-full sm:w-auto bg-slate-800 hover:bg-slate-700 border border-slate-600 px-6 py-3 rounded font-bold transition-colors",children:"Connect"})]}),A.jsxs("button",{onClick:()=>mt(!0),className:"w-full text-sm text-slate-400 hover:text-white flex items-center justify-center gap-2 py-2",children:[A.jsx(Tm,{size:16})," Data Manual"]})]}),A.jsxs("div",{className:"absolute bottom-4 text-slate-600 text-xs text-center",children:["Inspired by Sushi Go. A tribute game.",A.jsx("br",{}),"Developed by ",A.jsx("strong",{children:"RAWFID K SHUVO"}),". Visit"," ",A.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-500 underline hover:text-cyan-600",children:"GAMEHUB"})," ","for more games."]})]});if(i==="lobby"&&T){const X=T.hostId===r.uid;return A.jsxs("div",{className:"min-h-screen bg-slate-950 text-white flex flex-col items-center justify-center p-6 relative",children:[A.jsx(Yd,{}),Tt&&A.jsx(_v,{onConfirmLeave:le,onCancel:()=>gt(!1),isHost:X,inGame:!1}),A.jsxs("div",{className:"z-10 w-full max-w-lg bg-slate-900/90 backdrop-blur p-8 rounded-2xl border border-cyan-900/50 shadow-2xl mb-4",children:[A.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-slate-700 pb-4",children:[A.jsxs("h2",{className:"text-2xl font-serif text-cyan-400",children:["Node: ",A.jsx("span",{className:"text-white font-mono",children:d})]}),A.jsx("button",{onClick:()=>gt(!0),className:"p-2 bg-red-900/30 hover:bg-red-900/50 rounded text-red-300",children:A.jsx(Am,{size:16})})]}),A.jsxs("div",{className:"bg-black/20 rounded-xl p-4 mb-8 border border-slate-800",children:[A.jsx("h3",{className:"text-slate-500 text-xs uppercase tracking-wider mb-4 flex justify-between",children:A.jsxs("span",{children:["Runners (",T.players.length,")"]})}),A.jsxs("div",{className:"space-y-2",children:[T.players.map(J=>A.jsxs("div",{className:"flex items-center justify-between bg-slate-800/50 p-3 rounded border border-slate-700/50",children:[A.jsxs("span",{className:`font-bold flex items-center gap-2 ${J.id===r.uid?"text-cyan-400":"text-slate-300"}`,children:[A.jsx(KT,{size:14})," ",J.name," ",J.id===T.hostId&&A.jsx(tx,{size:14,className:"text-yellow-500"})]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsxs("span",{className:"text-green-500 text-xs flex items-center gap-1",children:[A.jsx(Ya,{size:12})," Online"]}),X&&J.id!==r.uid&&A.jsx("button",{onClick:()=>be(J.id),className:"text-slate-500 hover:text-red-500 hover:bg-red-900/20 p-1 rounded transition-colors",children:A.jsx(Sx,{size:14})})]})]},J.id)),T.players.length<2&&A.jsx("div",{className:"text-center text-slate-500 italic text-sm py-2",children:"Waiting for connection..."})]})]}),X?A.jsx("button",{onClick:st,disabled:T.players.length<2,className:`w-full py-4 rounded-xl font-bold text-lg shadow-lg transition-all flex items-center justify-center gap-2 ${T.players.length>=2?"bg-cyan-700 hover:bg-cyan-600 text-white shadow-cyan-900/20":"bg-slate-800 cursor-not-allowed text-slate-500"}`,children:T.players.length<2?"Waiting for Runners...":"Initialize Draft"}):A.jsx("div",{className:"text-center text-cyan-400/60 animate-pulse font-serif italic",children:"Waiting for Admin..."})]}),A.jsx(yv,{})]})}if(i==="game"&&T){const X=T.turnState==="SELECTING",J=T.turnState==="ROUND_SUMMARY",it=at?.selection.length>0,ht=X&&it,xt=T.players.filter(yt=>yt.id!==r.uid),Ot=at.keptCards.includes("PROXY"),Gt=T.players.every(yt=>yt.ready);return A.jsxs("div",{className:"min-h-screen bg-slate-950 text-white flex flex-col relative overflow-hidden font-sans",children:[A.jsx(Yd,{}),It&&A.jsx(Lx,{type:It.type,message:It.message,subtext:It.subtext,icon:It.type==="success"?pv:bm}),W&&A.jsx(vv,{onClose:()=>mt(!1)}),Jt&&A.jsx(Ux,{logs:T.logs,onClose:()=>ie(!1)}),Tt&&A.jsx(_v,{onConfirmLeave:le,onCancel:()=>gt(!1),isHost:T.hostId===r.uid,onConfirmLobby:()=>{rt(),gt(!1)},inGame:!0}),J&&A.jsx(kx,{players:T.players,round:T.round,isHost:T.hostId===r.uid,onNext:K}),A.jsxs("div",{className:"h-14 bg-slate-900/80 border-b border-slate-800 flex items-center justify-between px-4 z-50 backdrop-blur-md sticky top-0",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("span",{className:"font-serif text-cyan-500 font-bold tracking-wider hidden md:block",children:"NEON DRAFT"}),A.jsxs("span",{className:"text-xs text-slate-500 bg-black/50 px-2 py-1 rounded",children:["R",T.round]})]}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("button",{onClick:()=>mt(!0),className:"p-2 hover:bg-slate-800 rounded text-slate-400",children:A.jsx(Tm,{size:18})}),A.jsx("button",{onClick:()=>ie(!0),className:"p-2 hover:bg-slate-800 rounded text-slate-400",children:A.jsx(HT,{size:18})}),A.jsx("button",{onClick:()=>gt(!0),className:"p-2 hover:bg-red-900/50 rounded text-red-400",children:A.jsx(Am,{size:18})})]})]}),A.jsxs("div",{className:"flex-1 p-4 flex flex-col items-center relative z-10 max-w-7xl mx-auto w-full gap-4",children:[A.jsx("div",{className:"w-full flex gap-2 overflow-x-auto pb-2 justify-start md:justify-center",children:xt.map(yt=>A.jsxs("div",{className:"bg-slate-900/80 p-2 rounded-lg border border-slate-700 min-w-[140px] flex flex-col gap-1",children:[A.jsxs("div",{className:"flex justify-between items-center text-xs text-slate-400",children:[A.jsx("span",{className:"font-bold text-slate-300 truncate max-w-[80px]",children:yt.name}),A.jsxs("div",{className:"flex items-center gap-0.5",children:[A.jsx(pv,{size:10,className:"text-yellow-500"})," ",yt.score]})]}),A.jsx("div",{className:"flex gap-0.5 justify-center bg-black/30 p-1 rounded",children:yt.hand.map((Bt,Yt)=>A.jsx("div",{className:"w-1.5 h-3 bg-slate-600 rounded-sm"},Yt))}),yt.selection.length>0?A.jsxs("div",{className:"text-[10px] text-green-400 text-center font-bold flex items-center justify-center gap-1",children:[A.jsx(Ya,{size:10})," Ready"]}):A.jsx("div",{className:"text-[10px] text-slate-500 text-center animate-pulse",children:"Thinking..."}),A.jsxs("div",{className:"flex flex-wrap gap-1 mt-1 justify-center",children:[yt.keptCards.map((Bt,Yt)=>{const Ht=lh[Bt],Xt=Ht?.icon||nx;return A.jsx("div",{className:`w-6 h-6 rounded-md border border-slate-600 flex items-center justify-center ${Ht?.color?Ht.color.replace("text","bg").replace("400","900"):"bg-slate-800"} bg-opacity-30`,children:A.jsx(Xt,{size:12,className:Ht?.color})},Yt)}),yt.backdoorCount>0&&A.jsxs("div",{className:"w-6 h-6 rounded-md border border-pink-500 bg-pink-900/30 flex items-center justify-center relative",children:[A.jsx(Bc,{size:12,className:"text-pink-400"}),A.jsx("span",{className:"text-[8px] absolute -top-1 -right-1 bg-black text-white px-0.5 rounded-full border border-pink-500",children:yt.backdoorCount})]})]})]},yt.id))}),A.jsxs("div",{className:"flex-1 w-full bg-slate-900/50 rounded-2xl border-2 border-dashed border-slate-800 p-4 flex flex-col items-center min-h-[200px]",children:[A.jsxs("div",{className:"text-xs text-slate-500 uppercase tracking-widest mb-2 w-full text-center border-b border-slate-800 pb-2 flex justify-between px-4",children:[A.jsx("span",{children:"My Rig"}),A.jsxs("span",{className:"text-yellow-400 font-bold",children:[at.score," TB"]}),A.jsxs("span",{className:"text-pink-400 flex items-center gap-1",children:[A.jsx(Bc,{size:10})," ",at.backdoorCount]})]}),A.jsxs("div",{className:"flex flex-wrap gap-2 justify-center content-start h-full overflow-y-auto w-full",children:[at.keptCards.length===0&&A.jsx("div",{className:"text-slate-600 italic mt-10",children:"System Empty. Acquire Data."}),at.keptCards.map((yt,Bt)=>A.jsx(Ev,{typeId:yt,small:!0},Bt))]})]}),A.jsx("div",{className:`w-full max-w-4xl bg-slate-900/95 p-4 rounded-t-3xl border-t border-cyan-500/30 backdrop-blur-md mt-auto shadow-[0_-10px_40px_rgba(0,0,0,0.5)] z-20 transition-all ${ht?"translate-y-4 opacity-90":""}`,children:T.status==="finished"?A.jsxs("div",{className:"text-center py-6 w-full flex flex-col items-center",children:[A.jsxs("h3",{className:"text-4xl font-black text-cyan-400 mb-2",children:[T.winner," Wins!"]}),A.jsx("p",{className:"text-slate-400 mb-6",children:"Mission Debriefing"}),A.jsx("div",{className:"w-full overflow-x-auto mb-6",children:A.jsxs("table",{className:"w-full text-left border-collapse",children:[A.jsx("thead",{children:A.jsxs("tr",{className:"text-xs text-slate-500 uppercase border-b border-slate-700",children:[A.jsx("th",{className:"p-3",children:"Runner"}),A.jsx("th",{className:"p-3 text-center",children:"R1"}),A.jsx("th",{className:"p-3 text-center",children:"R2"}),A.jsx("th",{className:"p-3 text-center",children:"R3"}),A.jsx("th",{className:"p-3 text-center text-pink-400",children:"Backdoor"}),A.jsx("th",{className:"p-3 text-right text-cyan-400",children:"Total"})]})}),A.jsx("tbody",{className:"text-sm",children:T.players.sort((yt,Bt)=>Bt.score-yt.score).map(yt=>{const Bt=yt.history.find(nn=>nn.round===1)?.score||0,Yt=yt.history.find(nn=>nn.round===2)?.score||0,Ht=yt.history.find(nn=>nn.round===3)?.score||0,Xt=yt.backdoorScore||0;return A.jsxs("tr",{className:"border-b border-slate-800 hover:bg-slate-800/30",children:[A.jsxs("td",{className:"p-3 font-bold flex items-center gap-2",children:[yt.name,yt.backdoorCount>0&&A.jsxs("span",{className:"text-[10px] text-pink-500 bg-pink-900/20 px-1 rounded flex items-center gap-0.5",children:[A.jsx(Bc,{size:8})," ",yt.backdoorCount]})]}),A.jsx("td",{className:"p-3 text-center text-slate-400",children:Bt}),A.jsx("td",{className:"p-3 text-center text-slate-400",children:Yt}),A.jsx("td",{className:"p-3 text-center text-slate-400",children:Ht}),A.jsxs("td",{className:`p-3 text-center font-bold ${Xt>0?"text-green-400":Xt<0?"text-red-400":"text-slate-600"}`,children:[Xt>0?"+":"",Xt]}),A.jsx("td",{className:"p-3 text-right font-black text-cyan-400 text-lg",children:yt.score})]},yt.id)})})]})}),A.jsxs("div",{className:"w-full max-w-md bg-slate-800/50 rounded-xl p-4 mb-6 border border-slate-700",children:[A.jsx("h4",{className:"text-slate-400 text-xs uppercase tracking-widest mb-3 border-b border-slate-700 pb-2",children:"System Check"}),A.jsx("div",{className:"grid grid-cols-2 gap-2 mb-4",children:T.players.map(yt=>A.jsxs("div",{className:`flex items-center justify-between p-2 rounded text-sm ${yt.ready?"bg-green-900/20 border border-green-500/30 text-green-300":"bg-slate-900 border border-slate-700 text-slate-500"}`,children:[A.jsx("span",{className:"truncate",children:yt.name}),yt.ready?A.jsx(Ya,{size:14}):A.jsx($I,{size:14,className:"animate-pulse"})]},yt.id))}),at.ready?A.jsxs("div",{className:"text-center text-green-400 text-sm font-bold flex items-center justify-center gap-2 py-2 bg-green-900/10 rounded",children:[A.jsx(Ya,{size:16})," YOU ARE READY"]}):A.jsx("button",{onClick:H,className:"w-full py-3 bg-cyan-600 hover:bg-cyan-500 rounded font-bold text-white shadow-lg animate-pulse",children:"MARK READY"})]}),T.hostId===r.uid&&A.jsxs("div",{className:"flex gap-4 justify-center w-full",children:[A.jsxs("button",{onClick:st,disabled:!Gt,className:`px-6 py-3 rounded-xl font-bold flex items-center gap-2 transition-all ${Gt?"bg-cyan-600 hover:bg-cyan-500 text-white shadow-cyan-900/50 shadow-lg":"bg-slate-800 text-slate-500 cursor-not-allowed opacity-50"}`,children:[A.jsx(vx,{size:18})," Restart"]}),A.jsxs("button",{onClick:rt,disabled:!Gt,className:`px-6 py-3 rounded-xl font-bold flex items-center gap-2 transition-all ${Gt?"bg-slate-700 hover:bg-slate-600 text-white":"bg-slate-800 text-slate-500 cursor-not-allowed opacity-50"}`,children:[A.jsx(px,{size:18})," Lobby"]})]}),T.hostId===r.uid&&!Gt&&A.jsx("div",{className:"text-xs text-slate-500 mt-2 italic",children:"Waiting for all runners to mark ready..."})]}):A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"flex justify-between items-center mb-4",children:[A.jsxs("h3",{className:"font-bold text-white flex items-center gap-2",children:[A.jsx(bx,{size:18,className:"text-cyan-400"})," Incoming Stream (",at.hand.length,")"]}),Ot&&!ht&&at.hand.length>=2&&A.jsxs("button",{onClick:()=>{N(!M),C([])},className:`text-xs px-3 py-1 rounded-full border transition-colors flex items-center gap-1 ${M?"bg-cyan-900/50 border-cyan-400 text-cyan-300":"bg-slate-800 border-slate-600 text-slate-400 hover:border-cyan-500"}`,children:[M?A.jsx(Ya,{size:12}):A.jsx(FT,{size:12}),"Use Proxy Protocol ",M?"(Pick 2)":""]}),ht&&A.jsxs("div",{className:"flex items-center gap-2 text-cyan-400 text-sm font-bold animate-pulse",children:[A.jsx(GT,{size:16,className:"animate-spin"}),"Synchronizing..."]})]}),A.jsx("div",{className:"flex gap-2 md:gap-4 overflow-x-auto pb-4 pt-4 px-2 justify-start md:justify-center min-h-[160px] md:min-h-[220px]",children:at.hand.map((yt,Bt)=>A.jsx("div",{className:`transition-all duration-300 ${ht?"grayscale opacity-50 pointer-events-none scale-90":""}`,children:A.jsx(Ev,{typeId:yt,onClick:()=>ft(Bt),selected:S.includes(Bt)})},Bt))}),A.jsx("button",{onClick:zt,disabled:S.length===0||ht,className:`w-full py-4 rounded-xl font-bold text-lg shadow-lg transition-all mt-2
                        ${ht?"bg-slate-800 text-cyan-400/50 cursor-wait border border-slate-700":S.length>0?"bg-cyan-600 hover:bg-cyan-500 text-white shadow-cyan-900/50":"bg-slate-800 text-slate-500 cursor-not-allowed"}`,children:ht?"Waiting for other runners...":M&&S.length<2?"Select 2nd Fragment...":"ACQUIRE DATA"})]})})]}),A.jsx(yv,{})]})}return null}kb.createRoot(document.getElementById("root")).render(A.jsx(ye.StrictMode,{children:A.jsx(Px,{})}));
